javascript:/*%21%20jQuery%20v1.7.2%20jquery.com%20%7C%20jquery.org/license%20*/%0D%0A%28function%28a%2Cb%29%7Bfunction%20cy%28a%29%7Breturn%20f.isWindow%28a%29%3Fa%3Aa.nodeType%3D%3D%3D9%3Fa.defaultView%7C%7Ca.parentWindow%3A%211%7Dfunction%20cu%28a%29%7Bif%28%21cj%5Ba%5D%29%7Bvar%20b%3Dc.body%2Cd%3Df%28%22%3C%22+a+%22%3E%22%29.appendTo%28b%29%2Ce%3Dd.css%28%22display%22%29%3Bd.remove%28%29%3Bif%28e%3D%3D%3D%22none%22%7C%7Ce%3D%3D%3D%22%22%29%7Bck%7C%7C%28ck%3Dc.createElement%28%22iframe%22%29%2Cck.frameBorder%3Dck.width%3Dck.height%3D0%29%2Cb.appendChild%28ck%29%3Bif%28%21cl%7C%7C%21ck.createElement%29cl%3D%28ck.contentWindow%7C%7Cck.contentDocument%29.document%2Ccl.write%28%28f.support.boxModel%3F%22%3C%21doctype%20html%3E%22%3A%22%22%29+%22%3Chtml%3E%3Cbody%3E%22%29%2Ccl.close%28%29%3Bd%3Dcl.createElement%28a%29%2Ccl.body.appendChild%28d%29%2Ce%3Df.css%28d%2C%22display%22%29%2Cb.removeChild%28ck%29%7Dcj%5Ba%5D%3De%7Dreturn%20cj%5Ba%5D%7Dfunction%20ct%28a%2Cb%29%7Bvar%20c%3D%7B%7D%3Bf.each%28cp.concat.apply%28%5B%5D%2Ccp.slice%280%2Cb%29%29%2Cfunction%28%29%7Bc%5Bthis%5D%3Da%7D%29%3Breturn%20c%7Dfunction%20cs%28%29%7Bcq%3Db%7Dfunction%20cr%28%29%7BsetTimeout%28cs%2C0%29%3Breturn%20cq%3Df.now%28%29%7Dfunction%20ci%28%29%7Btry%7Breturn%20new%20a.ActiveXObject%28%22Microsoft.XMLHTTP%22%29%7Dcatch%28b%29%7B%7D%7Dfunction%20ch%28%29%7Btry%7Breturn%20new%20a.XMLHttpRequest%7Dcatch%28b%29%7B%7D%7Dfunction%20cb%28a%2Cc%29%7Ba.dataFilter%26%26%28c%3Da.dataFilter%28c%2Ca.dataType%29%29%3Bvar%20d%3Da.dataTypes%2Ce%3D%7B%7D%2Cg%2Ch%2Ci%3Dd.length%2Cj%2Ck%3Dd%5B0%5D%2Cl%2Cm%2Cn%2Co%2Cp%3Bfor%28g%3D1%3Bg%3Ci%3Bg++%29%7Bif%28g%3D%3D%3D1%29for%28h%20in%20a.converters%29typeof%20h%3D%3D%22string%22%26%26%28e%5Bh.toLowerCase%28%29%5D%3Da.converters%5Bh%5D%29%3Bl%3Dk%2Ck%3Dd%5Bg%5D%3Bif%28k%3D%3D%3D%22*%22%29k%3Dl%3Belse%20if%28l%21%3D%3D%22*%22%26%26l%21%3D%3Dk%29%7Bm%3Dl+%22%20%22+k%2Cn%3De%5Bm%5D%7C%7Ce%5B%22*%20%22+k%5D%3Bif%28%21n%29%7Bp%3Db%3Bfor%28o%20in%20e%29%7Bj%3Do.split%28%22%20%22%29%3Bif%28j%5B0%5D%3D%3D%3Dl%7C%7Cj%5B0%5D%3D%3D%3D%22*%22%29%7Bp%3De%5Bj%5B1%5D+%22%20%22+k%5D%3Bif%28p%29%7Bo%3De%5Bo%5D%2Co%3D%3D%3D%210%3Fn%3Dp%3Ap%3D%3D%3D%210%26%26%28n%3Do%29%3Bbreak%7D%7D%7D%7D%21n%26%26%21p%26%26f.error%28%22No%20conversion%20from%20%22+m.replace%28%22%20%22%2C%22%20to%20%22%29%29%2Cn%21%3D%3D%210%26%26%28c%3Dn%3Fn%28c%29%3Ap%28o%28c%29%29%29%7D%7Dreturn%20c%7Dfunction%20ca%28a%2Cc%2Cd%29%7Bvar%20e%3Da.contents%2Cf%3Da.dataTypes%2Cg%3Da.responseFields%2Ch%2Ci%2Cj%2Ck%3Bfor%28i%20in%20g%29i%20in%20d%26%26%28c%5Bg%5Bi%5D%5D%3Dd%5Bi%5D%29%3Bwhile%28f%5B0%5D%3D%3D%3D%22*%22%29f.shift%28%29%2Ch%3D%3D%3Db%26%26%28h%3Da.mimeType%7C%7Cc.getResponseHeader%28%22content-type%22%29%29%3Bif%28h%29for%28i%20in%20e%29if%28e%5Bi%5D%26%26e%5Bi%5D.test%28h%29%29%7Bf.unshift%28i%29%3Bbreak%7Dif%28f%5B0%5Din%20d%29j%3Df%5B0%5D%3Belse%7Bfor%28i%20in%20d%29%7Bif%28%21f%5B0%5D%7C%7Ca.converters%5Bi+%22%20%22+f%5B0%5D%5D%29%7Bj%3Di%3Bbreak%7Dk%7C%7C%28k%3Di%29%7Dj%3Dj%7C%7Ck%7Dif%28j%29%7Bj%21%3D%3Df%5B0%5D%26%26f.unshift%28j%29%3Breturn%20d%5Bj%5D%7D%7Dfunction%20b_%28a%2Cb%2Cc%2Cd%29%7Bif%28f.isArray%28b%29%29f.each%28b%2Cfunction%28b%2Ce%29%7Bc%7C%7CbD.test%28a%29%3Fd%28a%2Ce%29%3Ab_%28a+%22%5B%22+%28typeof%20e%3D%3D%22object%22%3Fb%3A%22%22%29+%22%5D%22%2Ce%2Cc%2Cd%29%7D%29%3Belse%20if%28%21c%26%26f.type%28b%29%3D%3D%3D%22object%22%29for%28var%20e%20in%20b%29b_%28a+%22%5B%22+e+%22%5D%22%2Cb%5Be%5D%2Cc%2Cd%29%3Belse%20d%28a%2Cb%29%7Dfunction%20b%24%28a%2Cc%29%7Bvar%20d%2Ce%2Cg%3Df.ajaxSettings.flatOptions%7C%7C%7B%7D%3Bfor%28d%20in%20c%29c%5Bd%5D%21%3D%3Db%26%26%28%28g%5Bd%5D%3Fa%3Ae%7C%7C%28e%3D%7B%7D%29%29%5Bd%5D%3Dc%5Bd%5D%29%3Be%26%26f.extend%28%210%2Ca%2Ce%29%7Dfunction%20bZ%28a%2Cc%2Cd%2Ce%2Cf%2Cg%29%7Bf%3Df%7C%7Cc.dataTypes%5B0%5D%2Cg%3Dg%7C%7C%7B%7D%2Cg%5Bf%5D%3D%210%3Bvar%20h%3Da%5Bf%5D%2Ci%3D0%2Cj%3Dh%3Fh.length%3A0%2Ck%3Da%3D%3D%3DbS%2Cl%3Bfor%28%3Bi%3Cj%26%26%28k%7C%7C%21l%29%3Bi++%29l%3Dh%5Bi%5D%28c%2Cd%2Ce%29%2Ctypeof%20l%3D%3D%22string%22%26%26%28%21k%7C%7Cg%5Bl%5D%3Fl%3Db%3A%28c.dataTypes.unshift%28l%29%2Cl%3DbZ%28a%2Cc%2Cd%2Ce%2Cl%2Cg%29%29%29%3B%28k%7C%7C%21l%29%26%26%21g%5B%22*%22%5D%26%26%28l%3DbZ%28a%2Cc%2Cd%2Ce%2C%22*%22%2Cg%29%29%3Breturn%20l%7Dfunction%20bY%28a%29%7Breturn%20function%28b%2Cc%29%7Btypeof%20b%21%3D%22string%22%26%26%28c%3Db%2Cb%3D%22*%22%29%3Bif%28f.isFunction%28c%29%29%7Bvar%20d%3Db.toLowerCase%28%29.split%28bO%29%2Ce%3D0%2Cg%3Dd.length%2Ch%2Ci%2Cj%3Bfor%28%3Be%3Cg%3Be++%29h%3Dd%5Be%5D%2Cj%3D/%5E%5C+/.test%28h%29%2Cj%26%26%28h%3Dh.substr%281%29%7C%7C%22*%22%29%2Ci%3Da%5Bh%5D%3Da%5Bh%5D%7C%7C%5B%5D%2Ci%5Bj%3F%22unshift%22%3A%22push%22%5D%28c%29%7D%7D%7Dfunction%20bB%28a%2Cb%2Cc%29%7Bvar%20d%3Db%3D%3D%3D%22width%22%3Fa.offsetWidth%3Aa.offsetHeight%2Ce%3Db%3D%3D%3D%22width%22%3F1%3A0%2Cg%3D4%3Bif%28d%3E0%29%7Bif%28c%21%3D%3D%22border%22%29for%28%3Be%3Cg%3Be+%3D2%29c%7C%7C%28d-%3DparseFloat%28f.css%28a%2C%22padding%22+bx%5Be%5D%29%29%7C%7C0%29%2Cc%3D%3D%3D%22margin%22%3Fd+%3DparseFloat%28f.css%28a%2Cc+bx%5Be%5D%29%29%7C%7C0%3Ad-%3DparseFloat%28f.css%28a%2C%22border%22+bx%5Be%5D+%22Width%22%29%29%7C%7C0%3Breturn%20d+%22px%22%7Dd%3Dby%28a%2Cb%29%3Bif%28d%3C0%7C%7Cd%3D%3Dnull%29d%3Da.style%5Bb%5D%3Bif%28bt.test%28d%29%29return%20d%3Bd%3DparseFloat%28d%29%7C%7C0%3Bif%28c%29for%28%3Be%3Cg%3Be+%3D2%29d+%3DparseFloat%28f.css%28a%2C%22padding%22+bx%5Be%5D%29%29%7C%7C0%2Cc%21%3D%3D%22padding%22%26%26%28d+%3DparseFloat%28f.css%28a%2C%22border%22+bx%5Be%5D+%22Width%22%29%29%7C%7C0%29%2Cc%3D%3D%3D%22margin%22%26%26%28d+%3DparseFloat%28f.css%28a%2Cc+bx%5Be%5D%29%29%7C%7C0%29%3Breturn%20d+%22px%22%7Dfunction%20bo%28a%29%7Bvar%20b%3Dc.createElement%28%22div%22%29%3Bbh.appendChild%28b%29%2Cb.innerHTML%3Da.outerHTML%3Breturn%20b.firstChild%7Dfunction%20bn%28a%29%7Bvar%20b%3D%28a.nodeName%7C%7C%22%22%29.toLowerCase%28%29%3Bb%3D%3D%3D%22input%22%3Fbm%28a%29%3Ab%21%3D%3D%22script%22%26%26typeof%20a.getElementsByTagName%21%3D%22undefined%22%26%26f.grep%28a.getElementsByTagName%28%22input%22%29%2Cbm%29%7Dfunction%20bm%28a%29%7Bif%28a.type%3D%3D%3D%22checkbox%22%7C%7Ca.type%3D%3D%3D%22radio%22%29a.defaultChecked%3Da.checked%7Dfunction%20bl%28a%29%7Breturn%20typeof%20a.getElementsByTagName%21%3D%22undefined%22%3Fa.getElementsByTagName%28%22*%22%29%3Atypeof%20a.querySelectorAll%21%3D%22undefined%22%3Fa.querySelectorAll%28%22*%22%29%3A%5B%5D%7Dfunction%20bk%28a%2Cb%29%7Bvar%20c%3Bb.nodeType%3D%3D%3D1%26%26%28b.clearAttributes%26%26b.clearAttributes%28%29%2Cb.mergeAttributes%26%26b.mergeAttributes%28a%29%2Cc%3Db.nodeName.toLowerCase%28%29%2Cc%3D%3D%3D%22object%22%3Fb.outerHTML%3Da.outerHTML%3Ac%21%3D%3D%22input%22%7C%7Ca.type%21%3D%3D%22checkbox%22%26%26a.type%21%3D%3D%22radio%22%3Fc%3D%3D%3D%22option%22%3Fb.selected%3Da.defaultSelected%3Ac%3D%3D%3D%22input%22%7C%7Cc%3D%3D%3D%22textarea%22%3Fb.defaultValue%3Da.defaultValue%3Ac%3D%3D%3D%22script%22%26%26b.text%21%3D%3Da.text%26%26%28b.text%3Da.text%29%3A%28a.checked%26%26%28b.defaultChecked%3Db.checked%3Da.checked%29%2Cb.value%21%3D%3Da.value%26%26%28b.value%3Da.value%29%29%2Cb.removeAttribute%28f.expando%29%2Cb.removeAttribute%28%22_submit_attached%22%29%2Cb.removeAttribute%28%22_change_attached%22%29%29%7Dfunction%20bj%28a%2Cb%29%7Bif%28b.nodeType%3D%3D%3D1%26%26%21%21f.hasData%28a%29%29%7Bvar%20c%2Cd%2Ce%2Cg%3Df._data%28a%29%2Ch%3Df._data%28b%2Cg%29%2Ci%3Dg.events%3Bif%28i%29%7Bdelete%20h.handle%2Ch.events%3D%7B%7D%3Bfor%28c%20in%20i%29for%28d%3D0%2Ce%3Di%5Bc%5D.length%3Bd%3Ce%3Bd++%29f.event.add%28b%2Cc%2Ci%5Bc%5D%5Bd%5D%29%7Dh.data%26%26%28h.data%3Df.extend%28%7B%7D%2Ch.data%29%29%7D%7Dfunction%20bi%28a%2Cb%29%7Breturn%20f.nodeName%28a%2C%22table%22%29%3Fa.getElementsByTagName%28%22tbody%22%29%5B0%5D%7C%7Ca.appendChild%28a.ownerDocument.createElement%28%22tbody%22%29%29%3Aa%7Dfunction%20U%28a%29%7Bvar%20b%3DV.split%28%22%7C%22%29%2Cc%3Da.createDocumentFragment%28%29%3Bif%28c.createElement%29while%28b.length%29c.createElement%28b.pop%28%29%29%3Breturn%20c%7Dfunction%20T%28a%2Cb%2Cc%29%7Bb%3Db%7C%7C0%3Bif%28f.isFunction%28b%29%29return%20f.grep%28a%2Cfunction%28a%2Cd%29%7Bvar%20e%3D%21%21b.call%28a%2Cd%2Ca%29%3Breturn%20e%3D%3D%3Dc%7D%29%3Bif%28b.nodeType%29return%20f.grep%28a%2Cfunction%28a%2Cd%29%7Breturn%20a%3D%3D%3Db%3D%3D%3Dc%7D%29%3Bif%28typeof%20b%3D%3D%22string%22%29%7Bvar%20d%3Df.grep%28a%2Cfunction%28a%29%7Breturn%20a.nodeType%3D%3D%3D1%7D%29%3Bif%28O.test%28b%29%29return%20f.filter%28b%2Cd%2C%21c%29%3Bb%3Df.filter%28b%2Cd%29%7Dreturn%20f.grep%28a%2Cfunction%28a%2Cd%29%7Breturn%20f.inArray%28a%2Cb%29%3E%3D0%3D%3D%3Dc%7D%29%7Dfunction%20S%28a%29%7Breturn%21a%7C%7C%21a.parentNode%7C%7Ca.parentNode.nodeType%3D%3D%3D11%7Dfunction%20K%28%29%7Breturn%210%7Dfunction%20J%28%29%7Breturn%211%7Dfunction%20n%28a%2Cb%2Cc%29%7Bvar%20d%3Db+%22defer%22%2Ce%3Db+%22queue%22%2Cg%3Db+%22mark%22%2Ch%3Df._data%28a%2Cd%29%3Bh%26%26%28c%3D%3D%3D%22queue%22%7C%7C%21f._data%28a%2Ce%29%29%26%26%28c%3D%3D%3D%22mark%22%7C%7C%21f._data%28a%2Cg%29%29%26%26setTimeout%28function%28%29%7B%21f._data%28a%2Ce%29%26%26%21f._data%28a%2Cg%29%26%26%28f.removeData%28a%2Cd%2C%210%29%2Ch.fire%28%29%29%7D%2C0%29%7Dfunction%20m%28a%29%7Bfor%28var%20b%20in%20a%29%7Bif%28b%3D%3D%3D%22data%22%26%26f.isEmptyObject%28a%5Bb%5D%29%29continue%3Bif%28b%21%3D%3D%22toJSON%22%29return%211%7Dreturn%210%7Dfunction%20l%28a%2Cc%2Cd%29%7Bif%28d%3D%3D%3Db%26%26a.nodeType%3D%3D%3D1%29%7Bvar%20e%3D%22data-%22+c.replace%28k%2C%22-%241%22%29.toLowerCase%28%29%3Bd%3Da.getAttribute%28e%29%3Bif%28typeof%20d%3D%3D%22string%22%29%7Btry%7Bd%3Dd%3D%3D%3D%22true%22%3F%210%3Ad%3D%3D%3D%22false%22%3F%211%3Ad%3D%3D%3D%22null%22%3Fnull%3Af.isNumeric%28d%29%3F+d%3Aj.test%28d%29%3Ff.parseJSON%28d%29%3Ad%7Dcatch%28g%29%7B%7Df.data%28a%2Cc%2Cd%29%7Delse%20d%3Db%7Dreturn%20d%7Dfunction%20h%28a%29%7Bvar%20b%3Dg%5Ba%5D%3D%7B%7D%2Cc%2Cd%3Ba%3Da.split%28/%5Cs+/%29%3Bfor%28c%3D0%2Cd%3Da.length%3Bc%3Cd%3Bc++%29b%5Ba%5Bc%5D%5D%3D%210%3Breturn%20b%7Dvar%20c%3Da.document%2Cd%3Da.navigator%2Ce%3Da.location%2Cf%3Dfunction%28%29%7Bfunction%20J%28%29%7Bif%28%21e.isReady%29%7Btry%7Bc.documentElement.doScroll%28%22left%22%29%7Dcatch%28a%29%7BsetTimeout%28J%2C1%29%3Breturn%7De.ready%28%29%7D%7Dvar%20e%3Dfunction%28a%2Cb%29%7Breturn%20new%20e.fn.init%28a%2Cb%2Ch%29%7D%2Cf%3Da.jQuery%2Cg%3Da.%24%2Ch%2Ci%3D/%5E%28%3F%3A%5B%5E%23%3C%5D*%28%3C%5B%5Cw%5CW%5D+%3E%29%5B%5E%3E%5D*%24%7C%23%28%5B%5Cw%5C-%5D*%29%24%29/%2Cj%3D/%5CS/%2Ck%3D/%5E%5Cs+/%2Cl%3D/%5Cs+%24/%2Cm%3D/%5E%3C%28%5Cw+%29%5Cs*%5C/%3F%3E%28%3F%3A%3C%5C/%5C1%3E%29%3F%24/%2Cn%3D/%5E%5B%5C%5D%2C%3A%7B%7D%5Cs%5D*%24/%2Co%3D/%5C%5C%28%3F%3A%5B%22%5C%5C%5C/bfnrt%5D%7Cu%5B0-9a-fA-F%5D%7B4%7D%29/g%2Cp%3D/%22%5B%5E%22%5C%5C%5Cn%5Cr%5D*%22%7Ctrue%7Cfalse%7Cnull%7C-%3F%5Cd+%28%3F%3A%5C.%5Cd*%29%3F%28%3F%3A%5BeE%5D%5B+%5C-%5D%3F%5Cd+%29%3F/g%2Cq%3D/%28%3F%3A%5E%7C%3A%7C%2C%29%28%3F%3A%5Cs*%5C%5B%29+/g%2Cr%3D/%28webkit%29%5B%20%5C/%5D%28%5B%5Cw.%5D+%29/%2Cs%3D/%28opera%29%28%3F%3A.*version%29%3F%5B%20%5C/%5D%28%5B%5Cw.%5D+%29/%2Ct%3D/%28msie%29%20%28%5B%5Cw.%5D+%29/%2Cu%3D/%28mozilla%29%28%3F%3A.*%3F%20rv%3A%28%5B%5Cw.%5D+%29%29%3F/%2Cv%3D/-%28%5Ba-z%5D%7C%5B0-9%5D%29/ig%2Cw%3D/%5E-ms-/%2Cx%3Dfunction%28a%2Cb%29%7Breturn%28b+%22%22%29.toUpperCase%28%29%7D%2Cy%3Dd.userAgent%2Cz%2CA%2CB%2CC%3DObject.prototype.toString%2CD%3DObject.prototype.hasOwnProperty%2CE%3DArray.prototype.push%2CF%3DArray.prototype.slice%2CG%3DString.prototype.trim%2CH%3DArray.prototype.indexOf%2CI%3D%7B%7D%3Be.fn%3De.prototype%3D%7Bconstructor%3Ae%2Cinit%3Afunction%28a%2Cd%2Cf%29%7Bvar%20g%2Ch%2Cj%2Ck%3Bif%28%21a%29return%20this%3Bif%28a.nodeType%29%7Bthis.context%3Dthis%5B0%5D%3Da%2Cthis.length%3D1%3Breturn%20this%7Dif%28a%3D%3D%3D%22body%22%26%26%21d%26%26c.body%29%7Bthis.context%3Dc%2Cthis%5B0%5D%3Dc.body%2Cthis.selector%3Da%2Cthis.length%3D1%3Breturn%20this%7Dif%28typeof%20a%3D%3D%22string%22%29%7Ba.charAt%280%29%21%3D%3D%22%3C%22%7C%7Ca.charAt%28a.length-1%29%21%3D%3D%22%3E%22%7C%7Ca.length%3C3%3Fg%3Di.exec%28a%29%3Ag%3D%5Bnull%2Ca%2Cnull%5D%3Bif%28g%26%26%28g%5B1%5D%7C%7C%21d%29%29%7Bif%28g%5B1%5D%29%7Bd%3Dd%20instanceof%20e%3Fd%5B0%5D%3Ad%2Ck%3Dd%3Fd.ownerDocument%7C%7Cd%3Ac%2Cj%3Dm.exec%28a%29%2Cj%3Fe.isPlainObject%28d%29%3F%28a%3D%5Bc.createElement%28j%5B1%5D%29%5D%2Ce.fn.attr.call%28a%2Cd%2C%210%29%29%3Aa%3D%5Bk.createElement%28j%5B1%5D%29%5D%3A%28j%3De.buildFragment%28%5Bg%5B1%5D%5D%2C%5Bk%5D%29%2Ca%3D%28j.cacheable%3Fe.clone%28j.fragment%29%3Aj.fragment%29.childNodes%29%3Breturn%20e.merge%28this%2Ca%29%7Dh%3Dc.getElementById%28g%5B2%5D%29%3Bif%28h%26%26h.parentNode%29%7Bif%28h.id%21%3D%3Dg%5B2%5D%29return%20f.find%28a%29%3Bthis.length%3D1%2Cthis%5B0%5D%3Dh%7Dthis.context%3Dc%2Cthis.selector%3Da%3Breturn%20this%7Dreturn%21d%7C%7Cd.jquery%3F%28d%7C%7Cf%29.find%28a%29%3Athis.constructor%28d%29.find%28a%29%7Dif%28e.isFunction%28a%29%29return%20f.ready%28a%29%3Ba.selector%21%3D%3Db%26%26%28this.selector%3Da.selector%2Cthis.context%3Da.context%29%3Breturn%20e.makeArray%28a%2Cthis%29%7D%2Cselector%3A%22%22%2Cjquery%3A%221.7.2%22%2Clength%3A0%2Csize%3Afunction%28%29%7Breturn%20this.length%7D%2CtoArray%3Afunction%28%29%7Breturn%20F.call%28this%2C0%29%7D%2Cget%3Afunction%28a%29%7Breturn%20a%3D%3Dnull%3Fthis.toArray%28%29%3Aa%3C0%3Fthis%5Bthis.length+a%5D%3Athis%5Ba%5D%7D%2CpushStack%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Dthis.constructor%28%29%3Be.isArray%28a%29%3FE.apply%28d%2Ca%29%3Ae.merge%28d%2Ca%29%2Cd.prevObject%3Dthis%2Cd.context%3Dthis.context%2Cb%3D%3D%3D%22find%22%3Fd.selector%3Dthis.selector+%28this.selector%3F%22%20%22%3A%22%22%29+c%3Ab%26%26%28d.selector%3Dthis.selector+%22.%22+b+%22%28%22+c+%22%29%22%29%3Breturn%20d%7D%2Ceach%3Afunction%28a%2Cb%29%7Breturn%20e.each%28this%2Ca%2Cb%29%7D%2Cready%3Afunction%28a%29%7Be.bindReady%28%29%2CA.add%28a%29%3Breturn%20this%7D%2Ceq%3Afunction%28a%29%7Ba%3D+a%3Breturn%20a%3D%3D%3D-1%3Fthis.slice%28a%29%3Athis.slice%28a%2Ca+1%29%7D%2Cfirst%3Afunction%28%29%7Breturn%20this.eq%280%29%7D%2Clast%3Afunction%28%29%7Breturn%20this.eq%28-1%29%7D%2Cslice%3Afunction%28%29%7Breturn%20this.pushStack%28F.apply%28this%2Carguments%29%2C%22slice%22%2CF.call%28arguments%29.join%28%22%2C%22%29%29%7D%2Cmap%3Afunction%28a%29%7Breturn%20this.pushStack%28e.map%28this%2Cfunction%28b%2Cc%29%7Breturn%20a.call%28b%2Cc%2Cb%29%7D%29%29%7D%2Cend%3Afunction%28%29%7Breturn%20this.prevObject%7C%7Cthis.constructor%28null%29%7D%2Cpush%3AE%2Csort%3A%5B%5D.sort%2Csplice%3A%5B%5D.splice%7D%2Ce.fn.init.prototype%3De.fn%2Ce.extend%3De.fn.extend%3Dfunction%28%29%7Bvar%20a%2Cc%2Cd%2Cf%2Cg%2Ch%2Ci%3Darguments%5B0%5D%7C%7C%7B%7D%2Cj%3D1%2Ck%3Darguments.length%2Cl%3D%211%3Btypeof%20i%3D%3D%22boolean%22%26%26%28l%3Di%2Ci%3Darguments%5B1%5D%7C%7C%7B%7D%2Cj%3D2%29%2Ctypeof%20i%21%3D%22object%22%26%26%21e.isFunction%28i%29%26%26%28i%3D%7B%7D%29%2Ck%3D%3D%3Dj%26%26%28i%3Dthis%2C--j%29%3Bfor%28%3Bj%3Ck%3Bj++%29if%28%28a%3Darguments%5Bj%5D%29%21%3Dnull%29for%28c%20in%20a%29%7Bd%3Di%5Bc%5D%2Cf%3Da%5Bc%5D%3Bif%28i%3D%3D%3Df%29continue%3Bl%26%26f%26%26%28e.isPlainObject%28f%29%7C%7C%28g%3De.isArray%28f%29%29%29%3F%28g%3F%28g%3D%211%2Ch%3Dd%26%26e.isArray%28d%29%3Fd%3A%5B%5D%29%3Ah%3Dd%26%26e.isPlainObject%28d%29%3Fd%3A%7B%7D%2Ci%5Bc%5D%3De.extend%28l%2Ch%2Cf%29%29%3Af%21%3D%3Db%26%26%28i%5Bc%5D%3Df%29%7Dreturn%20i%7D%2Ce.extend%28%7BnoConflict%3Afunction%28b%29%7Ba.%24%3D%3D%3De%26%26%28a.%24%3Dg%29%2Cb%26%26a.jQuery%3D%3D%3De%26%26%28a.jQuery%3Df%29%3Breturn%20e%7D%2CisReady%3A%211%2CreadyWait%3A1%2CholdReady%3Afunction%28a%29%7Ba%3Fe.readyWait++%3Ae.ready%28%210%29%7D%2Cready%3Afunction%28a%29%7Bif%28a%3D%3D%3D%210%26%26%21--e.readyWait%7C%7Ca%21%3D%3D%210%26%26%21e.isReady%29%7Bif%28%21c.body%29return%20setTimeout%28e.ready%2C1%29%3Be.isReady%3D%210%3Bif%28a%21%3D%3D%210%26%26--e.readyWait%3E0%29return%3BA.fireWith%28c%2C%5Be%5D%29%2Ce.fn.trigger%26%26e%28c%29.trigger%28%22ready%22%29.off%28%22ready%22%29%7D%7D%2CbindReady%3Afunction%28%29%7Bif%28%21A%29%7BA%3De.Callbacks%28%22once%20memory%22%29%3Bif%28c.readyState%3D%3D%3D%22complete%22%29return%20setTimeout%28e.ready%2C1%29%3Bif%28c.addEventListener%29c.addEventListener%28%22DOMContentLoaded%22%2CB%2C%211%29%2Ca.addEventListener%28%22load%22%2Ce.ready%2C%211%29%3Belse%20if%28c.attachEvent%29%7Bc.attachEvent%28%22onreadystatechange%22%2CB%29%2Ca.attachEvent%28%22onload%22%2Ce.ready%29%3Bvar%20b%3D%211%3Btry%7Bb%3Da.frameElement%3D%3Dnull%7Dcatch%28d%29%7B%7Dc.documentElement.doScroll%26%26b%26%26J%28%29%7D%7D%7D%2CisFunction%3Afunction%28a%29%7Breturn%20e.type%28a%29%3D%3D%3D%22function%22%7D%2CisArray%3AArray.isArray%7C%7Cfunction%28a%29%7Breturn%20e.type%28a%29%3D%3D%3D%22array%22%7D%2CisWindow%3Afunction%28a%29%7Breturn%20a%21%3Dnull%26%26a%3D%3Da.window%7D%2CisNumeric%3Afunction%28a%29%7Breturn%21isNaN%28parseFloat%28a%29%29%26%26isFinite%28a%29%7D%2Ctype%3Afunction%28a%29%7Breturn%20a%3D%3Dnull%3FString%28a%29%3AI%5BC.call%28a%29%5D%7C%7C%22object%22%7D%2CisPlainObject%3Afunction%28a%29%7Bif%28%21a%7C%7Ce.type%28a%29%21%3D%3D%22object%22%7C%7Ca.nodeType%7C%7Ce.isWindow%28a%29%29return%211%3Btry%7Bif%28a.constructor%26%26%21D.call%28a%2C%22constructor%22%29%26%26%21D.call%28a.constructor.prototype%2C%22isPrototypeOf%22%29%29return%211%7Dcatch%28c%29%7Breturn%211%7Dvar%20d%3Bfor%28d%20in%20a%29%3Breturn%20d%3D%3D%3Db%7C%7CD.call%28a%2Cd%29%7D%2CisEmptyObject%3Afunction%28a%29%7Bfor%28var%20b%20in%20a%29return%211%3Breturn%210%7D%2Cerror%3Afunction%28a%29%7Bthrow%20new%20Error%28a%29%7D%2CparseJSON%3Afunction%28b%29%7Bif%28typeof%20b%21%3D%22string%22%7C%7C%21b%29return%20null%3Bb%3De.trim%28b%29%3Bif%28a.JSON%26%26a.JSON.parse%29return%20a.JSON.parse%28b%29%3Bif%28n.test%28b.replace%28o%2C%22@%22%29.replace%28p%2C%22%5D%22%29.replace%28q%2C%22%22%29%29%29return%28new%20Function%28%22return%20%22+b%29%29%28%29%3Be.error%28%22Invalid%20JSON%3A%20%22+b%29%7D%2CparseXML%3Afunction%28c%29%7Bif%28typeof%20c%21%3D%22string%22%7C%7C%21c%29return%20null%3Bvar%20d%2Cf%3Btry%7Ba.DOMParser%3F%28f%3Dnew%20DOMParser%2Cd%3Df.parseFromString%28c%2C%22text/xml%22%29%29%3A%28d%3Dnew%20ActiveXObject%28%22Microsoft.XMLDOM%22%29%2Cd.async%3D%22false%22%2Cd.loadXML%28c%29%29%7Dcatch%28g%29%7Bd%3Db%7D%28%21d%7C%7C%21d.documentElement%7C%7Cd.getElementsByTagName%28%22parsererror%22%29.length%29%26%26e.error%28%22Invalid%20XML%3A%20%22+c%29%3Breturn%20d%7D%2Cnoop%3Afunction%28%29%7B%7D%2CglobalEval%3Afunction%28b%29%7Bb%26%26j.test%28b%29%26%26%28a.execScript%7C%7Cfunction%28b%29%7Ba.eval.call%28a%2Cb%29%7D%29%28b%29%7D%2CcamelCase%3Afunction%28a%29%7Breturn%20a.replace%28w%2C%22ms-%22%29.replace%28v%2Cx%29%7D%2CnodeName%3Afunction%28a%2Cb%29%7Breturn%20a.nodeName%26%26a.nodeName.toUpperCase%28%29%3D%3D%3Db.toUpperCase%28%29%7D%2Ceach%3Afunction%28a%2Cc%2Cd%29%7Bvar%20f%2Cg%3D0%2Ch%3Da.length%2Ci%3Dh%3D%3D%3Db%7C%7Ce.isFunction%28a%29%3Bif%28d%29%7Bif%28i%29%7Bfor%28f%20in%20a%29if%28c.apply%28a%5Bf%5D%2Cd%29%3D%3D%3D%211%29break%7Delse%20for%28%3Bg%3Ch%3B%29if%28c.apply%28a%5Bg++%5D%2Cd%29%3D%3D%3D%211%29break%7Delse%20if%28i%29%7Bfor%28f%20in%20a%29if%28c.call%28a%5Bf%5D%2Cf%2Ca%5Bf%5D%29%3D%3D%3D%211%29break%7Delse%20for%28%3Bg%3Ch%3B%29if%28c.call%28a%5Bg%5D%2Cg%2Ca%5Bg++%5D%29%3D%3D%3D%211%29break%3Breturn%20a%7D%2Ctrim%3AG%3Ffunction%28a%29%7Breturn%20a%3D%3Dnull%3F%22%22%3AG.call%28a%29%7D%3Afunction%28a%29%7Breturn%20a%3D%3Dnull%3F%22%22%3A%28a+%22%22%29.replace%28k%2C%22%22%29.replace%28l%2C%22%22%29%7D%2CmakeArray%3Afunction%28a%2Cb%29%7Bvar%20c%3Db%7C%7C%5B%5D%3Bif%28a%21%3Dnull%29%7Bvar%20d%3De.type%28a%29%3Ba.length%3D%3Dnull%7C%7Cd%3D%3D%3D%22string%22%7C%7Cd%3D%3D%3D%22function%22%7C%7Cd%3D%3D%3D%22regexp%22%7C%7Ce.isWindow%28a%29%3FE.call%28c%2Ca%29%3Ae.merge%28c%2Ca%29%7Dreturn%20c%7D%2CinArray%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Bif%28b%29%7Bif%28H%29return%20H.call%28b%2Ca%2Cc%29%3Bd%3Db.length%2Cc%3Dc%3Fc%3C0%3FMath.max%280%2Cd+c%29%3Ac%3A0%3Bfor%28%3Bc%3Cd%3Bc++%29if%28c%20in%20b%26%26b%5Bc%5D%3D%3D%3Da%29return%20c%7Dreturn-1%7D%2Cmerge%3Afunction%28a%2Cc%29%7Bvar%20d%3Da.length%2Ce%3D0%3Bif%28typeof%20c.length%3D%3D%22number%22%29for%28var%20f%3Dc.length%3Be%3Cf%3Be++%29a%5Bd++%5D%3Dc%5Be%5D%3Belse%20while%28c%5Be%5D%21%3D%3Db%29a%5Bd++%5D%3Dc%5Be++%5D%3Ba.length%3Dd%3Breturn%20a%7D%2Cgrep%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3D%5B%5D%2Ce%3Bc%3D%21%21c%3Bfor%28var%20f%3D0%2Cg%3Da.length%3Bf%3Cg%3Bf++%29e%3D%21%21b%28a%5Bf%5D%2Cf%29%2Cc%21%3D%3De%26%26d.push%28a%5Bf%5D%29%3Breturn%20d%7D%2Cmap%3Afunction%28a%2Cc%2Cd%29%7Bvar%20f%2Cg%2Ch%3D%5B%5D%2Ci%3D0%2Cj%3Da.length%2Ck%3Da%20instanceof%20e%7C%7Cj%21%3D%3Db%26%26typeof%20j%3D%3D%22number%22%26%26%28j%3E0%26%26a%5B0%5D%26%26a%5Bj-1%5D%7C%7Cj%3D%3D%3D0%7C%7Ce.isArray%28a%29%29%3Bif%28k%29for%28%3Bi%3Cj%3Bi++%29f%3Dc%28a%5Bi%5D%2Ci%2Cd%29%2Cf%21%3Dnull%26%26%28h%5Bh.length%5D%3Df%29%3Belse%20for%28g%20in%20a%29f%3Dc%28a%5Bg%5D%2Cg%2Cd%29%2Cf%21%3Dnull%26%26%28h%5Bh.length%5D%3Df%29%3Breturn%20h.concat.apply%28%5B%5D%2Ch%29%7D%2Cguid%3A1%2Cproxy%3Afunction%28a%2Cc%29%7Bif%28typeof%20c%3D%3D%22string%22%29%7Bvar%20d%3Da%5Bc%5D%3Bc%3Da%2Ca%3Dd%7Dif%28%21e.isFunction%28a%29%29return%20b%3Bvar%20f%3DF.call%28arguments%2C2%29%2Cg%3Dfunction%28%29%7Breturn%20a.apply%28c%2Cf.concat%28F.call%28arguments%29%29%29%7D%3Bg.guid%3Da.guid%3Da.guid%7C%7Cg.guid%7C%7Ce.guid++%3Breturn%20g%7D%2Caccess%3Afunction%28a%2Cc%2Cd%2Cf%2Cg%2Ch%2Ci%29%7Bvar%20j%2Ck%3Dd%3D%3Dnull%2Cl%3D0%2Cm%3Da.length%3Bif%28d%26%26typeof%20d%3D%3D%22object%22%29%7Bfor%28l%20in%20d%29e.access%28a%2Cc%2Cl%2Cd%5Bl%5D%2C1%2Ch%2Cf%29%3Bg%3D1%7Delse%20if%28f%21%3D%3Db%29%7Bj%3Di%3D%3D%3Db%26%26e.isFunction%28f%29%2Ck%26%26%28j%3F%28j%3Dc%2Cc%3Dfunction%28a%2Cb%2Cc%29%7Breturn%20j.call%28e%28a%29%2Cc%29%7D%29%3A%28c.call%28a%2Cf%29%2Cc%3Dnull%29%29%3Bif%28c%29for%28%3Bl%3Cm%3Bl++%29c%28a%5Bl%5D%2Cd%2Cj%3Ff.call%28a%5Bl%5D%2Cl%2Cc%28a%5Bl%5D%2Cd%29%29%3Af%2Ci%29%3Bg%3D1%7Dreturn%20g%3Fa%3Ak%3Fc.call%28a%29%3Am%3Fc%28a%5B0%5D%2Cd%29%3Ah%7D%2Cnow%3Afunction%28%29%7Breturn%28new%20Date%29.getTime%28%29%7D%2CuaMatch%3Afunction%28a%29%7Ba%3Da.toLowerCase%28%29%3Bvar%20b%3Dr.exec%28a%29%7C%7Cs.exec%28a%29%7C%7Ct.exec%28a%29%7C%7Ca.indexOf%28%22compatible%22%29%3C0%26%26u.exec%28a%29%7C%7C%5B%5D%3Breturn%7Bbrowser%3Ab%5B1%5D%7C%7C%22%22%2Cversion%3Ab%5B2%5D%7C%7C%220%22%7D%7D%2Csub%3Afunction%28%29%7Bfunction%20a%28b%2Cc%29%7Breturn%20new%20a.fn.init%28b%2Cc%29%7De.extend%28%210%2Ca%2Cthis%29%2Ca.superclass%3Dthis%2Ca.fn%3Da.prototype%3Dthis%28%29%2Ca.fn.constructor%3Da%2Ca.sub%3Dthis.sub%2Ca.fn.init%3Dfunction%28d%2Cf%29%7Bf%26%26f%20instanceof%20e%26%26%21%28f%20instanceof%20a%29%26%26%28f%3Da%28f%29%29%3Breturn%20e.fn.init.call%28this%2Cd%2Cf%2Cb%29%7D%2Ca.fn.init.prototype%3Da.fn%3Bvar%20b%3Da%28c%29%3Breturn%20a%7D%2Cbrowser%3A%7B%7D%7D%29%2Ce.each%28%22Boolean%20Number%20String%20Function%20Array%20Date%20RegExp%20Object%22.split%28%22%20%22%29%2Cfunction%28a%2Cb%29%7BI%5B%22%5Bobject%20%22+b+%22%5D%22%5D%3Db.toLowerCase%28%29%7D%29%2Cz%3De.uaMatch%28y%29%2Cz.browser%26%26%28e.browser%5Bz.browser%5D%3D%210%2Ce.browser.version%3Dz.version%29%2Ce.browser.webkit%26%26%28e.browser.safari%3D%210%29%2Cj.test%28%22%20%22%29%26%26%28k%3D/%5E%5B%5Cs%5CxA0%5D+/%2Cl%3D/%5B%5Cs%5CxA0%5D+%24/%29%2Ch%3De%28c%29%2Cc.addEventListener%3FB%3Dfunction%28%29%7Bc.removeEventListener%28%22DOMContentLoaded%22%2CB%2C%211%29%2Ce.ready%28%29%7D%3Ac.attachEvent%26%26%28B%3Dfunction%28%29%7Bc.readyState%3D%3D%3D%22complete%22%26%26%28c.detachEvent%28%22onreadystatechange%22%2CB%29%2Ce.ready%28%29%29%7D%29%3Breturn%20e%7D%28%29%2Cg%3D%7B%7D%3Bf.Callbacks%3Dfunction%28a%29%7Ba%3Da%3Fg%5Ba%5D%7C%7Ch%28a%29%3A%7B%7D%3Bvar%20c%3D%5B%5D%2Cd%3D%5B%5D%2Ce%2Ci%2Cj%2Ck%2Cl%2Cm%2Cn%3Dfunction%28b%29%7Bvar%20d%2Ce%2Cg%2Ch%2Ci%3Bfor%28d%3D0%2Ce%3Db.length%3Bd%3Ce%3Bd++%29g%3Db%5Bd%5D%2Ch%3Df.type%28g%29%2Ch%3D%3D%3D%22array%22%3Fn%28g%29%3Ah%3D%3D%3D%22function%22%26%26%28%21a.unique%7C%7C%21p.has%28g%29%29%26%26c.push%28g%29%7D%2Co%3Dfunction%28b%2Cf%29%7Bf%3Df%7C%7C%5B%5D%2Ce%3D%21a.memory%7C%7C%5Bb%2Cf%5D%2Ci%3D%210%2Cj%3D%210%2Cm%3Dk%7C%7C0%2Ck%3D0%2Cl%3Dc.length%3Bfor%28%3Bc%26%26m%3Cl%3Bm++%29if%28c%5Bm%5D.apply%28b%2Cf%29%3D%3D%3D%211%26%26a.stopOnFalse%29%7Be%3D%210%3Bbreak%7Dj%3D%211%2Cc%26%26%28a.once%3Fe%3D%3D%3D%210%3Fp.disable%28%29%3Ac%3D%5B%5D%3Ad%26%26d.length%26%26%28e%3Dd.shift%28%29%2Cp.fireWith%28e%5B0%5D%2Ce%5B1%5D%29%29%29%7D%2Cp%3D%7Badd%3Afunction%28%29%7Bif%28c%29%7Bvar%20a%3Dc.length%3Bn%28arguments%29%2Cj%3Fl%3Dc.length%3Ae%26%26e%21%3D%3D%210%26%26%28k%3Da%2Co%28e%5B0%5D%2Ce%5B1%5D%29%29%7Dreturn%20this%7D%2Cremove%3Afunction%28%29%7Bif%28c%29%7Bvar%20b%3Darguments%2Cd%3D0%2Ce%3Db.length%3Bfor%28%3Bd%3Ce%3Bd++%29for%28var%20f%3D0%3Bf%3Cc.length%3Bf++%29if%28b%5Bd%5D%3D%3D%3Dc%5Bf%5D%29%7Bj%26%26f%3C%3Dl%26%26%28l--%2Cf%3C%3Dm%26%26m--%29%2Cc.splice%28f--%2C1%29%3Bif%28a.unique%29break%7D%7Dreturn%20this%7D%2Chas%3Afunction%28a%29%7Bif%28c%29%7Bvar%20b%3D0%2Cd%3Dc.length%3Bfor%28%3Bb%3Cd%3Bb++%29if%28a%3D%3D%3Dc%5Bb%5D%29return%210%7Dreturn%211%7D%2Cempty%3Afunction%28%29%7Bc%3D%5B%5D%3Breturn%20this%7D%2Cdisable%3Afunction%28%29%7Bc%3Dd%3De%3Db%3Breturn%20this%7D%2Cdisabled%3Afunction%28%29%7Breturn%21c%7D%2Clock%3Afunction%28%29%7Bd%3Db%2C%28%21e%7C%7Ce%3D%3D%3D%210%29%26%26p.disable%28%29%3Breturn%20this%7D%2Clocked%3Afunction%28%29%7Breturn%21d%7D%2CfireWith%3Afunction%28b%2Cc%29%7Bd%26%26%28j%3Fa.once%7C%7Cd.push%28%5Bb%2Cc%5D%29%3A%28%21a.once%7C%7C%21e%29%26%26o%28b%2Cc%29%29%3Breturn%20this%7D%2Cfire%3Afunction%28%29%7Bp.fireWith%28this%2Carguments%29%3Breturn%20this%7D%2Cfired%3Afunction%28%29%7Breturn%21%21i%7D%7D%3Breturn%20p%7D%3Bvar%20i%3D%5B%5D.slice%3Bf.extend%28%7BDeferred%3Afunction%28a%29%7Bvar%20b%3Df.Callbacks%28%22once%20memory%22%29%2Cc%3Df.Callbacks%28%22once%20memory%22%29%2Cd%3Df.Callbacks%28%22memory%22%29%2Ce%3D%22pending%22%2Cg%3D%7Bresolve%3Ab%2Creject%3Ac%2Cnotify%3Ad%7D%2Ch%3D%7Bdone%3Ab.add%2Cfail%3Ac.add%2Cprogress%3Ad.add%2Cstate%3Afunction%28%29%7Breturn%20e%7D%2CisResolved%3Ab.fired%2CisRejected%3Ac.fired%2Cthen%3Afunction%28a%2Cb%2Cc%29%7Bi.done%28a%29.fail%28b%29.progress%28c%29%3Breturn%20this%7D%2Calways%3Afunction%28%29%7Bi.done.apply%28i%2Carguments%29.fail.apply%28i%2Carguments%29%3Breturn%20this%7D%2Cpipe%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.Deferred%28function%28d%29%7Bf.each%28%7Bdone%3A%5Ba%2C%22resolve%22%5D%2Cfail%3A%5Bb%2C%22reject%22%5D%2Cprogress%3A%5Bc%2C%22notify%22%5D%7D%2Cfunction%28a%2Cb%29%7Bvar%20c%3Db%5B0%5D%2Ce%3Db%5B1%5D%2Cg%3Bf.isFunction%28c%29%3Fi%5Ba%5D%28function%28%29%7Bg%3Dc.apply%28this%2Carguments%29%2Cg%26%26f.isFunction%28g.promise%29%3Fg.promise%28%29.then%28d.resolve%2Cd.reject%2Cd.notify%29%3Ad%5Be+%22With%22%5D%28this%3D%3D%3Di%3Fd%3Athis%2C%5Bg%5D%29%7D%29%3Ai%5Ba%5D%28d%5Be%5D%29%7D%29%7D%29.promise%28%29%7D%2Cpromise%3Afunction%28a%29%7Bif%28a%3D%3Dnull%29a%3Dh%3Belse%20for%28var%20b%20in%20h%29a%5Bb%5D%3Dh%5Bb%5D%3Breturn%20a%7D%7D%2Ci%3Dh.promise%28%7B%7D%29%2Cj%3Bfor%28j%20in%20g%29i%5Bj%5D%3Dg%5Bj%5D.fire%2Ci%5Bj+%22With%22%5D%3Dg%5Bj%5D.fireWith%3Bi.done%28function%28%29%7Be%3D%22resolved%22%7D%2Cc.disable%2Cd.lock%29.fail%28function%28%29%7Be%3D%22rejected%22%7D%2Cb.disable%2Cd.lock%29%2Ca%26%26a.call%28i%2Ci%29%3Breturn%20i%7D%2Cwhen%3Afunction%28a%29%7Bfunction%20m%28a%29%7Breturn%20function%28b%29%7Be%5Ba%5D%3Darguments.length%3E1%3Fi.call%28arguments%2C0%29%3Ab%2Cj.notifyWith%28k%2Ce%29%7D%7Dfunction%20l%28a%29%7Breturn%20function%28c%29%7Bb%5Ba%5D%3Darguments.length%3E1%3Fi.call%28arguments%2C0%29%3Ac%2C--g%7C%7Cj.resolveWith%28j%2Cb%29%7D%7Dvar%20b%3Di.call%28arguments%2C0%29%2Cc%3D0%2Cd%3Db.length%2Ce%3DArray%28d%29%2Cg%3Dd%2Ch%3Dd%2Cj%3Dd%3C%3D1%26%26a%26%26f.isFunction%28a.promise%29%3Fa%3Af.Deferred%28%29%2Ck%3Dj.promise%28%29%3Bif%28d%3E1%29%7Bfor%28%3Bc%3Cd%3Bc++%29b%5Bc%5D%26%26b%5Bc%5D.promise%26%26f.isFunction%28b%5Bc%5D.promise%29%3Fb%5Bc%5D.promise%28%29.then%28l%28c%29%2Cj.reject%2Cm%28c%29%29%3A--g%3Bg%7C%7Cj.resolveWith%28j%2Cb%29%7Delse%20j%21%3D%3Da%26%26j.resolveWith%28j%2Cd%3F%5Ba%5D%3A%5B%5D%29%3Breturn%20k%7D%7D%29%2Cf.support%3Dfunction%28%29%7Bvar%20b%2Cd%2Ce%2Cg%2Ch%2Ci%2Cj%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%3Dc.createElement%28%22div%22%29%2Cq%3Dc.documentElement%3Bp.setAttribute%28%22className%22%2C%22t%22%29%2Cp.innerHTML%3D%22%20%20%20%3Clink/%3E%3Ctable%3E%3C/table%3E%3Ca%20href%3D%27/a%27%20style%3D%27top%3A1px%3Bfloat%3Aleft%3Bopacity%3A.55%3B%27%3Ea%3C/a%3E%3Cinput%20type%3D%27checkbox%27/%3E%22%2Cd%3Dp.getElementsByTagName%28%22*%22%29%2Ce%3Dp.getElementsByTagName%28%22a%22%29%5B0%5D%3Bif%28%21d%7C%7C%21d.length%7C%7C%21e%29return%7B%7D%3Bg%3Dc.createElement%28%22select%22%29%2Ch%3Dg.appendChild%28c.createElement%28%22option%22%29%29%2Ci%3Dp.getElementsByTagName%28%22input%22%29%5B0%5D%2Cb%3D%7BleadingWhitespace%3Ap.firstChild.nodeType%3D%3D%3D3%2Ctbody%3A%21p.getElementsByTagName%28%22tbody%22%29.length%2ChtmlSerialize%3A%21%21p.getElementsByTagName%28%22link%22%29.length%2Cstyle%3A/top/.test%28e.getAttribute%28%22style%22%29%29%2ChrefNormalized%3Ae.getAttribute%28%22href%22%29%3D%3D%3D%22/a%22%2Copacity%3A/%5E0.55/.test%28e.style.opacity%29%2CcssFloat%3A%21%21e.style.cssFloat%2CcheckOn%3Ai.value%3D%3D%3D%22on%22%2CoptSelected%3Ah.selected%2CgetSetAttribute%3Ap.className%21%3D%3D%22t%22%2Cenctype%3A%21%21c.createElement%28%22form%22%29.enctype%2Chtml5Clone%3Ac.createElement%28%22nav%22%29.cloneNode%28%210%29.outerHTML%21%3D%3D%22%3C%3Anav%3E%3C/%3Anav%3E%22%2CsubmitBubbles%3A%210%2CchangeBubbles%3A%210%2CfocusinBubbles%3A%211%2CdeleteExpando%3A%210%2CnoCloneEvent%3A%210%2CinlineBlockNeedsLayout%3A%211%2CshrinkWrapBlocks%3A%211%2CreliableMarginRight%3A%210%2CpixelMargin%3A%210%7D%2Cf.boxModel%3Db.boxModel%3Dc.compatMode%3D%3D%3D%22CSS1Compat%22%2Ci.checked%3D%210%2Cb.noCloneChecked%3Di.cloneNode%28%210%29.checked%2Cg.disabled%3D%210%2Cb.optDisabled%3D%21h.disabled%3Btry%7Bdelete%20p.test%7Dcatch%28r%29%7Bb.deleteExpando%3D%211%7D%21p.addEventListener%26%26p.attachEvent%26%26p.fireEvent%26%26%28p.attachEvent%28%22onclick%22%2Cfunction%28%29%7Bb.noCloneEvent%3D%211%7D%29%2Cp.cloneNode%28%210%29.fireEvent%28%22onclick%22%29%29%2Ci%3Dc.createElement%28%22input%22%29%2Ci.value%3D%22t%22%2Ci.setAttribute%28%22type%22%2C%22radio%22%29%2Cb.radioValue%3Di.value%3D%3D%3D%22t%22%2Ci.setAttribute%28%22checked%22%2C%22checked%22%29%2Ci.setAttribute%28%22name%22%2C%22t%22%29%2Cp.appendChild%28i%29%2Cj%3Dc.createDocumentFragment%28%29%2Cj.appendChild%28p.lastChild%29%2Cb.checkClone%3Dj.cloneNode%28%210%29.cloneNode%28%210%29.lastChild.checked%2Cb.appendChecked%3Di.checked%2Cj.removeChild%28i%29%2Cj.appendChild%28p%29%3Bif%28p.attachEvent%29for%28n%20in%7Bsubmit%3A1%2Cchange%3A1%2Cfocusin%3A1%7D%29m%3D%22on%22+n%2Co%3Dm%20in%20p%2Co%7C%7C%28p.setAttribute%28m%2C%22return%3B%22%29%2Co%3Dtypeof%20p%5Bm%5D%3D%3D%22function%22%29%2Cb%5Bn+%22Bubbles%22%5D%3Do%3Bj.removeChild%28p%29%2Cj%3Dg%3Dh%3Dp%3Di%3Dnull%2Cf%28function%28%29%7Bvar%20d%2Ce%2Cg%2Ch%2Ci%2Cj%2Cl%2Cm%2Cn%2Cq%2Cr%2Cs%2Ct%2Cu%3Dc.getElementsByTagName%28%22body%22%29%5B0%5D%3B%21u%7C%7C%28m%3D1%2Ct%3D%22padding%3A0%3Bmargin%3A0%3Bborder%3A%22%2Cr%3D%22position%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwidth%3A1px%3Bheight%3A1px%3B%22%2Cs%3Dt+%220%3Bvisibility%3Ahidden%3B%22%2Cn%3D%22style%3D%27%22+r+t+%225px%20solid%20%23000%3B%22%2Cq%3D%22%3Cdiv%20%22+n+%22display%3Ablock%3B%27%3E%3Cdiv%20style%3D%27%22+t+%220%3Bdisplay%3Ablock%3Boverflow%3Ahidden%3B%27%3E%3C/div%3E%3C/div%3E%22+%22%3Ctable%20%22+n+%22%27%20cellpadding%3D%270%27%20cellspacing%3D%270%27%3E%22+%22%3Ctr%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3C/table%3E%22%2Cd%3Dc.createElement%28%22div%22%29%2Cd.style.cssText%3Ds+%22width%3A0%3Bheight%3A0%3Bposition%3Astatic%3Btop%3A0%3Bmargin-top%3A%22+m+%22px%22%2Cu.insertBefore%28d%2Cu.firstChild%29%2Cp%3Dc.createElement%28%22div%22%29%2Cd.appendChild%28p%29%2Cp.innerHTML%3D%22%3Ctable%3E%3Ctr%3E%3Ctd%20style%3D%27%22+t+%220%3Bdisplay%3Anone%27%3E%3C/td%3E%3Ctd%3Et%3C/td%3E%3C/tr%3E%3C/table%3E%22%2Ck%3Dp.getElementsByTagName%28%22td%22%29%2Co%3Dk%5B0%5D.offsetHeight%3D%3D%3D0%2Ck%5B0%5D.style.display%3D%22%22%2Ck%5B1%5D.style.display%3D%22none%22%2Cb.reliableHiddenOffsets%3Do%26%26k%5B0%5D.offsetHeight%3D%3D%3D0%2Ca.getComputedStyle%26%26%28p.innerHTML%3D%22%22%2Cl%3Dc.createElement%28%22div%22%29%2Cl.style.width%3D%220%22%2Cl.style.marginRight%3D%220%22%2Cp.style.width%3D%222px%22%2Cp.appendChild%28l%29%2Cb.reliableMarginRight%3D%28parseInt%28%28a.getComputedStyle%28l%2Cnull%29%7C%7C%7BmarginRight%3A0%7D%29.marginRight%2C10%29%7C%7C0%29%3D%3D%3D0%29%2Ctypeof%20p.style.zoom%21%3D%22undefined%22%26%26%28p.innerHTML%3D%22%22%2Cp.style.width%3Dp.style.padding%3D%221px%22%2Cp.style.border%3D0%2Cp.style.overflow%3D%22hidden%22%2Cp.style.display%3D%22inline%22%2Cp.style.zoom%3D1%2Cb.inlineBlockNeedsLayout%3Dp.offsetWidth%3D%3D%3D3%2Cp.style.display%3D%22block%22%2Cp.style.overflow%3D%22visible%22%2Cp.innerHTML%3D%22%3Cdiv%20style%3D%27width%3A5px%3B%27%3E%3C/div%3E%22%2Cb.shrinkWrapBlocks%3Dp.offsetWidth%21%3D%3D3%29%2Cp.style.cssText%3Dr+s%2Cp.innerHTML%3Dq%2Ce%3Dp.firstChild%2Cg%3De.firstChild%2Ci%3De.nextSibling.firstChild.firstChild%2Cj%3D%7BdoesNotAddBorder%3Ag.offsetTop%21%3D%3D5%2CdoesAddBorderForTableAndCells%3Ai.offsetTop%3D%3D%3D5%7D%2Cg.style.position%3D%22fixed%22%2Cg.style.top%3D%2220px%22%2Cj.fixedPosition%3Dg.offsetTop%3D%3D%3D20%7C%7Cg.offsetTop%3D%3D%3D15%2Cg.style.position%3Dg.style.top%3D%22%22%2Ce.style.overflow%3D%22hidden%22%2Ce.style.position%3D%22relative%22%2Cj.subtractsBorderForOverflowNotVisible%3Dg.offsetTop%3D%3D%3D-5%2Cj.doesNotIncludeMarginInBodyOffset%3Du.offsetTop%21%3D%3Dm%2Ca.getComputedStyle%26%26%28p.style.marginTop%3D%221%25%22%2Cb.pixelMargin%3D%28a.getComputedStyle%28p%2Cnull%29%7C%7C%7BmarginTop%3A0%7D%29.marginTop%21%3D%3D%221%25%22%29%2Ctypeof%20d.style.zoom%21%3D%22undefined%22%26%26%28d.style.zoom%3D1%29%2Cu.removeChild%28d%29%2Cl%3Dp%3Dd%3Dnull%2Cf.extend%28b%2Cj%29%29%7D%29%3Breturn%20b%7D%28%29%3Bvar%20j%3D/%5E%28%3F%3A%5C%7B.*%5C%7D%7C%5C%5B.*%5C%5D%29%24/%2Ck%3D/%28%5BA-Z%5D%29/g%3Bf.extend%28%7Bcache%3A%7B%7D%2Cuuid%3A0%2Cexpando%3A%22jQuery%22+%28f.fn.jquery+Math.random%28%29%29.replace%28/%5CD/g%2C%22%22%29%2CnoData%3A%7Bembed%3A%210%2Cobject%3A%22clsid%3AD27CDB6E-AE6D-11cf-96B8-444553540000%22%2Capplet%3A%210%7D%2ChasData%3Afunction%28a%29%7Ba%3Da.nodeType%3Ff.cache%5Ba%5Bf.expando%5D%5D%3Aa%5Bf.expando%5D%3Breturn%21%21a%26%26%21m%28a%29%7D%2Cdata%3Afunction%28a%2Cc%2Cd%2Ce%29%7Bif%28%21%21f.acceptData%28a%29%29%7Bvar%20g%2Ch%2Ci%2Cj%3Df.expando%2Ck%3Dtypeof%20c%3D%3D%22string%22%2Cl%3Da.nodeType%2Cm%3Dl%3Ff.cache%3Aa%2Cn%3Dl%3Fa%5Bj%5D%3Aa%5Bj%5D%26%26j%2Co%3Dc%3D%3D%3D%22events%22%3Bif%28%28%21n%7C%7C%21m%5Bn%5D%7C%7C%21o%26%26%21e%26%26%21m%5Bn%5D.data%29%26%26k%26%26d%3D%3D%3Db%29return%3Bn%7C%7C%28l%3Fa%5Bj%5D%3Dn%3D++f.uuid%3An%3Dj%29%2Cm%5Bn%5D%7C%7C%28m%5Bn%5D%3D%7B%7D%2Cl%7C%7C%28m%5Bn%5D.toJSON%3Df.noop%29%29%3Bif%28typeof%20c%3D%3D%22object%22%7C%7Ctypeof%20c%3D%3D%22function%22%29e%3Fm%5Bn%5D%3Df.extend%28m%5Bn%5D%2Cc%29%3Am%5Bn%5D.data%3Df.extend%28m%5Bn%5D.data%2Cc%29%3Bg%3Dh%3Dm%5Bn%5D%2Ce%7C%7C%28h.data%7C%7C%28h.data%3D%7B%7D%29%2Ch%3Dh.data%29%2Cd%21%3D%3Db%26%26%28h%5Bf.camelCase%28c%29%5D%3Dd%29%3Bif%28o%26%26%21h%5Bc%5D%29return%20g.events%3Bk%3F%28i%3Dh%5Bc%5D%2Ci%3D%3Dnull%26%26%28i%3Dh%5Bf.camelCase%28c%29%5D%29%29%3Ai%3Dh%3Breturn%20i%7D%7D%2CremoveData%3Afunction%28a%2Cb%2Cc%29%7Bif%28%21%21f.acceptData%28a%29%29%7Bvar%20d%2Ce%2Cg%2Ch%3Df.expando%2Ci%3Da.nodeType%2Cj%3Di%3Ff.cache%3Aa%2Ck%3Di%3Fa%5Bh%5D%3Ah%3Bif%28%21j%5Bk%5D%29return%3Bif%28b%29%7Bd%3Dc%3Fj%5Bk%5D%3Aj%5Bk%5D.data%3Bif%28d%29%7Bf.isArray%28b%29%7C%7C%28b%20in%20d%3Fb%3D%5Bb%5D%3A%28b%3Df.camelCase%28b%29%2Cb%20in%20d%3Fb%3D%5Bb%5D%3Ab%3Db.split%28%22%20%22%29%29%29%3Bfor%28e%3D0%2Cg%3Db.length%3Be%3Cg%3Be++%29delete%20d%5Bb%5Be%5D%5D%3Bif%28%21%28c%3Fm%3Af.isEmptyObject%29%28d%29%29return%7D%7Dif%28%21c%29%7Bdelete%20j%5Bk%5D.data%3Bif%28%21m%28j%5Bk%5D%29%29return%7Df.support.deleteExpando%7C%7C%21j.setInterval%3Fdelete%20j%5Bk%5D%3Aj%5Bk%5D%3Dnull%2Ci%26%26%28f.support.deleteExpando%3Fdelete%20a%5Bh%5D%3Aa.removeAttribute%3Fa.removeAttribute%28h%29%3Aa%5Bh%5D%3Dnull%29%7D%7D%2C_data%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.data%28a%2Cb%2Cc%2C%210%29%7D%2CacceptData%3Afunction%28a%29%7Bif%28a.nodeName%29%7Bvar%20b%3Df.noData%5Ba.nodeName.toLowerCase%28%29%5D%3Bif%28b%29return%20b%21%3D%3D%210%26%26a.getAttribute%28%22classid%22%29%3D%3D%3Db%7Dreturn%210%7D%7D%29%2Cf.fn.extend%28%7Bdata%3Afunction%28a%2Cc%29%7Bvar%20d%2Ce%2Cg%2Ch%2Ci%2Cj%3Dthis%5B0%5D%2Ck%3D0%2Cm%3Dnull%3Bif%28a%3D%3D%3Db%29%7Bif%28this.length%29%7Bm%3Df.data%28j%29%3Bif%28j.nodeType%3D%3D%3D1%26%26%21f._data%28j%2C%22parsedAttrs%22%29%29%7Bg%3Dj.attributes%3Bfor%28i%3Dg.length%3Bk%3Ci%3Bk++%29h%3Dg%5Bk%5D.name%2Ch.indexOf%28%22data-%22%29%3D%3D%3D0%26%26%28h%3Df.camelCase%28h.substring%285%29%29%2Cl%28j%2Ch%2Cm%5Bh%5D%29%29%3Bf._data%28j%2C%22parsedAttrs%22%2C%210%29%7D%7Dreturn%20m%7Dif%28typeof%20a%3D%3D%22object%22%29return%20this.each%28function%28%29%7Bf.data%28this%2Ca%29%7D%29%3Bd%3Da.split%28%22.%22%2C2%29%2Cd%5B1%5D%3Dd%5B1%5D%3F%22.%22+d%5B1%5D%3A%22%22%2Ce%3Dd%5B1%5D+%22%21%22%3Breturn%20f.access%28this%2Cfunction%28c%29%7Bif%28c%3D%3D%3Db%29%7Bm%3Dthis.triggerHandler%28%22getData%22+e%2C%5Bd%5B0%5D%5D%29%2Cm%3D%3D%3Db%26%26j%26%26%28m%3Df.data%28j%2Ca%29%2Cm%3Dl%28j%2Ca%2Cm%29%29%3Breturn%20m%3D%3D%3Db%26%26d%5B1%5D%3Fthis.data%28d%5B0%5D%29%3Am%7Dd%5B1%5D%3Dc%2Cthis.each%28function%28%29%7Bvar%20b%3Df%28this%29%3Bb.triggerHandler%28%22setData%22+e%2Cd%29%2Cf.data%28this%2Ca%2Cc%29%2Cb.triggerHandler%28%22changeData%22+e%2Cd%29%7D%29%7D%2Cnull%2Cc%2Carguments.length%3E1%2Cnull%2C%211%29%7D%2CremoveData%3Afunction%28a%29%7Breturn%20this.each%28function%28%29%7Bf.removeData%28this%2Ca%29%7D%29%7D%7D%29%2Cf.extend%28%7B_mark%3Afunction%28a%2Cb%29%7Ba%26%26%28b%3D%28b%7C%7C%22fx%22%29+%22mark%22%2Cf._data%28a%2Cb%2C%28f._data%28a%2Cb%29%7C%7C0%29+1%29%29%7D%2C_unmark%3Afunction%28a%2Cb%2Cc%29%7Ba%21%3D%3D%210%26%26%28c%3Db%2Cb%3Da%2Ca%3D%211%29%3Bif%28b%29%7Bc%3Dc%7C%7C%22fx%22%3Bvar%20d%3Dc+%22mark%22%2Ce%3Da%3F0%3A%28f._data%28b%2Cd%29%7C%7C1%29-1%3Be%3Ff._data%28b%2Cd%2Ce%29%3A%28f.removeData%28b%2Cd%2C%210%29%2Cn%28b%2Cc%2C%22mark%22%29%29%7D%7D%2Cqueue%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Bif%28a%29%7Bb%3D%28b%7C%7C%22fx%22%29+%22queue%22%2Cd%3Df._data%28a%2Cb%29%2Cc%26%26%28%21d%7C%7Cf.isArray%28c%29%3Fd%3Df._data%28a%2Cb%2Cf.makeArray%28c%29%29%3Ad.push%28c%29%29%3Breturn%20d%7C%7C%5B%5D%7D%7D%2Cdequeue%3Afunction%28a%2Cb%29%7Bb%3Db%7C%7C%22fx%22%3Bvar%20c%3Df.queue%28a%2Cb%29%2Cd%3Dc.shift%28%29%2Ce%3D%7B%7D%3Bd%3D%3D%3D%22inprogress%22%26%26%28d%3Dc.shift%28%29%29%2Cd%26%26%28b%3D%3D%3D%22fx%22%26%26c.unshift%28%22inprogress%22%29%2Cf._data%28a%2Cb+%22.run%22%2Ce%29%2Cd.call%28a%2Cfunction%28%29%7Bf.dequeue%28a%2Cb%29%7D%2Ce%29%29%2Cc.length%7C%7C%28f.removeData%28a%2Cb+%22queue%20%22+b+%22.run%22%2C%210%29%2Cn%28a%2Cb%2C%22queue%22%29%29%7D%7D%29%2Cf.fn.extend%28%7Bqueue%3Afunction%28a%2Cc%29%7Bvar%20d%3D2%3Btypeof%20a%21%3D%22string%22%26%26%28c%3Da%2Ca%3D%22fx%22%2Cd--%29%3Bif%28arguments.length%3Cd%29return%20f.queue%28this%5B0%5D%2Ca%29%3Breturn%20c%3D%3D%3Db%3Fthis%3Athis.each%28function%28%29%7Bvar%20b%3Df.queue%28this%2Ca%2Cc%29%3Ba%3D%3D%3D%22fx%22%26%26b%5B0%5D%21%3D%3D%22inprogress%22%26%26f.dequeue%28this%2Ca%29%7D%29%7D%2Cdequeue%3Afunction%28a%29%7Breturn%20this.each%28function%28%29%7Bf.dequeue%28this%2Ca%29%7D%29%7D%2Cdelay%3Afunction%28a%2Cb%29%7Ba%3Df.fx%3Ff.fx.speeds%5Ba%5D%7C%7Ca%3Aa%2Cb%3Db%7C%7C%22fx%22%3Breturn%20this.queue%28b%2Cfunction%28b%2Cc%29%7Bvar%20d%3DsetTimeout%28b%2Ca%29%3Bc.stop%3Dfunction%28%29%7BclearTimeout%28d%29%7D%7D%29%7D%2CclearQueue%3Afunction%28a%29%7Breturn%20this.queue%28a%7C%7C%22fx%22%2C%5B%5D%29%7D%2Cpromise%3Afunction%28a%2Cc%29%7Bfunction%20m%28%29%7B--h%7C%7Cd.resolveWith%28e%2C%5Be%5D%29%7Dtypeof%20a%21%3D%22string%22%26%26%28c%3Da%2Ca%3Db%29%2Ca%3Da%7C%7C%22fx%22%3Bvar%20d%3Df.Deferred%28%29%2Ce%3Dthis%2Cg%3De.length%2Ch%3D1%2Ci%3Da+%22defer%22%2Cj%3Da+%22queue%22%2Ck%3Da+%22mark%22%2Cl%3Bwhile%28g--%29if%28l%3Df.data%28e%5Bg%5D%2Ci%2Cb%2C%210%29%7C%7C%28f.data%28e%5Bg%5D%2Cj%2Cb%2C%210%29%7C%7Cf.data%28e%5Bg%5D%2Ck%2Cb%2C%210%29%29%26%26f.data%28e%5Bg%5D%2Ci%2Cf.Callbacks%28%22once%20memory%22%29%2C%210%29%29h++%2Cl.add%28m%29%3Bm%28%29%3Breturn%20d.promise%28c%29%7D%7D%29%3Bvar%20o%3D/%5B%5Cn%5Ct%5Cr%5D/g%2Cp%3D/%5Cs+/%2Cq%3D/%5Cr/g%2Cr%3D/%5E%28%3F%3Abutton%7Cinput%29%24/i%2Cs%3D/%5E%28%3F%3Abutton%7Cinput%7Cobject%7Cselect%7Ctextarea%29%24/i%2Ct%3D/%5Ea%28%3F%3Area%29%3F%24/i%2Cu%3D/%5E%28%3F%3Aautofocus%7Cautoplay%7Casync%7Cchecked%7Ccontrols%7Cdefer%7Cdisabled%7Chidden%7Cloop%7Cmultiple%7Copen%7Creadonly%7Crequired%7Cscoped%7Cselected%29%24/i%2Cv%3Df.support.getSetAttribute%2Cw%2Cx%2Cy%3Bf.fn.extend%28%7Battr%3Afunction%28a%2Cb%29%7Breturn%20f.access%28this%2Cf.attr%2Ca%2Cb%2Carguments.length%3E1%29%7D%2CremoveAttr%3Afunction%28a%29%7Breturn%20this.each%28function%28%29%7Bf.removeAttr%28this%2Ca%29%7D%29%7D%2Cprop%3Afunction%28a%2Cb%29%7Breturn%20f.access%28this%2Cf.prop%2Ca%2Cb%2Carguments.length%3E1%29%7D%2CremoveProp%3Afunction%28a%29%7Ba%3Df.propFix%5Ba%5D%7C%7Ca%3Breturn%20this.each%28function%28%29%7Btry%7Bthis%5Ba%5D%3Db%2Cdelete%20this%5Ba%5D%7Dcatch%28c%29%7B%7D%7D%29%7D%2CaddClass%3Afunction%28a%29%7Bvar%20b%2Cc%2Cd%2Ce%2Cg%2Ch%2Ci%3Bif%28f.isFunction%28a%29%29return%20this.each%28function%28b%29%7Bf%28this%29.addClass%28a.call%28this%2Cb%2Cthis.className%29%29%7D%29%3Bif%28a%26%26typeof%20a%3D%3D%22string%22%29%7Bb%3Da.split%28p%29%3Bfor%28c%3D0%2Cd%3Dthis.length%3Bc%3Cd%3Bc++%29%7Be%3Dthis%5Bc%5D%3Bif%28e.nodeType%3D%3D%3D1%29if%28%21e.className%26%26b.length%3D%3D%3D1%29e.className%3Da%3Belse%7Bg%3D%22%20%22+e.className+%22%20%22%3Bfor%28h%3D0%2Ci%3Db.length%3Bh%3Ci%3Bh++%29%7Eg.indexOf%28%22%20%22+b%5Bh%5D+%22%20%22%29%7C%7C%28g+%3Db%5Bh%5D+%22%20%22%29%3Be.className%3Df.trim%28g%29%7D%7D%7Dreturn%20this%7D%2CremoveClass%3Afunction%28a%29%7Bvar%20c%2Cd%2Ce%2Cg%2Ch%2Ci%2Cj%3Bif%28f.isFunction%28a%29%29return%20this.each%28function%28b%29%7Bf%28this%29.removeClass%28a.call%28this%2Cb%2Cthis.className%29%29%7D%29%3Bif%28a%26%26typeof%20a%3D%3D%22string%22%7C%7Ca%3D%3D%3Db%29%7Bc%3D%28a%7C%7C%22%22%29.split%28p%29%3Bfor%28d%3D0%2Ce%3Dthis.length%3Bd%3Ce%3Bd++%29%7Bg%3Dthis%5Bd%5D%3Bif%28g.nodeType%3D%3D%3D1%26%26g.className%29if%28a%29%7Bh%3D%28%22%20%22+g.className+%22%20%22%29.replace%28o%2C%22%20%22%29%3Bfor%28i%3D0%2Cj%3Dc.length%3Bi%3Cj%3Bi++%29h%3Dh.replace%28%22%20%22+c%5Bi%5D+%22%20%22%2C%22%20%22%29%3Bg.className%3Df.trim%28h%29%7Delse%20g.className%3D%22%22%7D%7Dreturn%20this%7D%2CtoggleClass%3Afunction%28a%2Cb%29%7Bvar%20c%3Dtypeof%20a%2Cd%3Dtypeof%20b%3D%3D%22boolean%22%3Bif%28f.isFunction%28a%29%29return%20this.each%28function%28c%29%7Bf%28this%29.toggleClass%28a.call%28this%2Cc%2Cthis.className%2Cb%29%2Cb%29%7D%29%3Breturn%20this.each%28function%28%29%7Bif%28c%3D%3D%3D%22string%22%29%7Bvar%20e%2Cg%3D0%2Ch%3Df%28this%29%2Ci%3Db%2Cj%3Da.split%28p%29%3Bwhile%28e%3Dj%5Bg++%5D%29i%3Dd%3Fi%3A%21h.hasClass%28e%29%2Ch%5Bi%3F%22addClass%22%3A%22removeClass%22%5D%28e%29%7Delse%20if%28c%3D%3D%3D%22undefined%22%7C%7Cc%3D%3D%3D%22boolean%22%29this.className%26%26f._data%28this%2C%22__className__%22%2Cthis.className%29%2Cthis.className%3Dthis.className%7C%7Ca%3D%3D%3D%211%3F%22%22%3Af._data%28this%2C%22__className__%22%29%7C%7C%22%22%7D%29%7D%2ChasClass%3Afunction%28a%29%7Bvar%20b%3D%22%20%22+a+%22%20%22%2Cc%3D0%2Cd%3Dthis.length%3Bfor%28%3Bc%3Cd%3Bc++%29if%28this%5Bc%5D.nodeType%3D%3D%3D1%26%26%28%22%20%22+this%5Bc%5D.className+%22%20%22%29.replace%28o%2C%22%20%22%29.indexOf%28b%29%3E-1%29return%210%3Breturn%211%7D%2Cval%3Afunction%28a%29%7Bvar%20c%2Cd%2Ce%2Cg%3Dthis%5B0%5D%3B%7Bif%28%21%21arguments.length%29%7Be%3Df.isFunction%28a%29%3Breturn%20this.each%28function%28d%29%7Bvar%20g%3Df%28this%29%2Ch%3Bif%28this.nodeType%3D%3D%3D1%29%7Be%3Fh%3Da.call%28this%2Cd%2Cg.val%28%29%29%3Ah%3Da%2Ch%3D%3Dnull%3Fh%3D%22%22%3Atypeof%20h%3D%3D%22number%22%3Fh+%3D%22%22%3Af.isArray%28h%29%26%26%28h%3Df.map%28h%2Cfunction%28a%29%7Breturn%20a%3D%3Dnull%3F%22%22%3Aa+%22%22%7D%29%29%2Cc%3Df.valHooks%5Bthis.type%5D%7C%7Cf.valHooks%5Bthis.nodeName.toLowerCase%28%29%5D%3Bif%28%21c%7C%7C%21%28%22set%22in%20c%29%7C%7Cc.set%28this%2Ch%2C%22value%22%29%3D%3D%3Db%29this.value%3Dh%7D%7D%29%7Dif%28g%29%7Bc%3Df.valHooks%5Bg.type%5D%7C%7Cf.valHooks%5Bg.nodeName.toLowerCase%28%29%5D%3Bif%28c%26%26%22get%22in%20c%26%26%28d%3Dc.get%28g%2C%22value%22%29%29%21%3D%3Db%29return%20d%3Bd%3Dg.value%3Breturn%20typeof%20d%3D%3D%22string%22%3Fd.replace%28q%2C%22%22%29%3Ad%3D%3Dnull%3F%22%22%3Ad%7D%7D%7D%7D%29%2Cf.extend%28%7BvalHooks%3A%7Boption%3A%7Bget%3Afunction%28a%29%7Bvar%20b%3Da.attributes.value%3Breturn%21b%7C%7Cb.specified%3Fa.value%3Aa.text%7D%7D%2Cselect%3A%7Bget%3Afunction%28a%29%7Bvar%20b%2Cc%2Cd%2Ce%2Cg%3Da.selectedIndex%2Ch%3D%5B%5D%2Ci%3Da.options%2Cj%3Da.type%3D%3D%3D%22select-one%22%3Bif%28g%3C0%29return%20null%3Bc%3Dj%3Fg%3A0%2Cd%3Dj%3Fg+1%3Ai.length%3Bfor%28%3Bc%3Cd%3Bc++%29%7Be%3Di%5Bc%5D%3Bif%28e.selected%26%26%28f.support.optDisabled%3F%21e.disabled%3Ae.getAttribute%28%22disabled%22%29%3D%3D%3Dnull%29%26%26%28%21e.parentNode.disabled%7C%7C%21f.nodeName%28e.parentNode%2C%22optgroup%22%29%29%29%7Bb%3Df%28e%29.val%28%29%3Bif%28j%29return%20b%3Bh.push%28b%29%7D%7Dif%28j%26%26%21h.length%26%26i.length%29return%20f%28i%5Bg%5D%29.val%28%29%3Breturn%20h%7D%2Cset%3Afunction%28a%2Cb%29%7Bvar%20c%3Df.makeArray%28b%29%3Bf%28a%29.find%28%22option%22%29.each%28function%28%29%7Bthis.selected%3Df.inArray%28f%28this%29.val%28%29%2Cc%29%3E%3D0%7D%29%2Cc.length%7C%7C%28a.selectedIndex%3D-1%29%3Breturn%20c%7D%7D%7D%2CattrFn%3A%7Bval%3A%210%2Ccss%3A%210%2Chtml%3A%210%2Ctext%3A%210%2Cdata%3A%210%2Cwidth%3A%210%2Cheight%3A%210%2Coffset%3A%210%7D%2Cattr%3Afunction%28a%2Cc%2Cd%2Ce%29%7Bvar%20g%2Ch%2Ci%2Cj%3Da.nodeType%3Bif%28%21%21a%26%26j%21%3D%3D3%26%26j%21%3D%3D8%26%26j%21%3D%3D2%29%7Bif%28e%26%26c%20in%20f.attrFn%29return%20f%28a%29%5Bc%5D%28d%29%3Bif%28typeof%20a.getAttribute%3D%3D%22undefined%22%29return%20f.prop%28a%2Cc%2Cd%29%3Bi%3Dj%21%3D%3D1%7C%7C%21f.isXMLDoc%28a%29%2Ci%26%26%28c%3Dc.toLowerCase%28%29%2Ch%3Df.attrHooks%5Bc%5D%7C%7C%28u.test%28c%29%3Fx%3Aw%29%29%3Bif%28d%21%3D%3Db%29%7Bif%28d%3D%3D%3Dnull%29%7Bf.removeAttr%28a%2Cc%29%3Breturn%7Dif%28h%26%26%22set%22in%20h%26%26i%26%26%28g%3Dh.set%28a%2Cd%2Cc%29%29%21%3D%3Db%29return%20g%3Ba.setAttribute%28c%2C%22%22+d%29%3Breturn%20d%7Dif%28h%26%26%22get%22in%20h%26%26i%26%26%28g%3Dh.get%28a%2Cc%29%29%21%3D%3Dnull%29return%20g%3Bg%3Da.getAttribute%28c%29%3Breturn%20g%3D%3D%3Dnull%3Fb%3Ag%7D%7D%2CremoveAttr%3Afunction%28a%2Cb%29%7Bvar%20c%2Cd%2Ce%2Cg%2Ch%2Ci%3D0%3Bif%28b%26%26a.nodeType%3D%3D%3D1%29%7Bd%3Db.toLowerCase%28%29.split%28p%29%2Cg%3Dd.length%3Bfor%28%3Bi%3Cg%3Bi++%29e%3Dd%5Bi%5D%2Ce%26%26%28c%3Df.propFix%5Be%5D%7C%7Ce%2Ch%3Du.test%28e%29%2Ch%7C%7Cf.attr%28a%2Ce%2C%22%22%29%2Ca.removeAttribute%28v%3Fe%3Ac%29%2Ch%26%26c%20in%20a%26%26%28a%5Bc%5D%3D%211%29%29%7D%7D%2CattrHooks%3A%7Btype%3A%7Bset%3Afunction%28a%2Cb%29%7Bif%28r.test%28a.nodeName%29%26%26a.parentNode%29f.error%28%22type%20property%20can%27t%20be%20changed%22%29%3Belse%20if%28%21f.support.radioValue%26%26b%3D%3D%3D%22radio%22%26%26f.nodeName%28a%2C%22input%22%29%29%7Bvar%20c%3Da.value%3Ba.setAttribute%28%22type%22%2Cb%29%2Cc%26%26%28a.value%3Dc%29%3Breturn%20b%7D%7D%7D%2Cvalue%3A%7Bget%3Afunction%28a%2Cb%29%7Bif%28w%26%26f.nodeName%28a%2C%22button%22%29%29return%20w.get%28a%2Cb%29%3Breturn%20b%20in%20a%3Fa.value%3Anull%7D%2Cset%3Afunction%28a%2Cb%2Cc%29%7Bif%28w%26%26f.nodeName%28a%2C%22button%22%29%29return%20w.set%28a%2Cb%2Cc%29%3Ba.value%3Db%7D%7D%7D%2CpropFix%3A%7Btabindex%3A%22tabIndex%22%2Creadonly%3A%22readOnly%22%2C%22for%22%3A%22htmlFor%22%2C%22class%22%3A%22className%22%2Cmaxlength%3A%22maxLength%22%2Ccellspacing%3A%22cellSpacing%22%2Ccellpadding%3A%22cellPadding%22%2Crowspan%3A%22rowSpan%22%2Ccolspan%3A%22colSpan%22%2Cusemap%3A%22useMap%22%2Cframeborder%3A%22frameBorder%22%2Ccontenteditable%3A%22contentEditable%22%7D%2Cprop%3Afunction%28a%2Cc%2Cd%29%7Bvar%20e%2Cg%2Ch%2Ci%3Da.nodeType%3Bif%28%21%21a%26%26i%21%3D%3D3%26%26i%21%3D%3D8%26%26i%21%3D%3D2%29%7Bh%3Di%21%3D%3D1%7C%7C%21f.isXMLDoc%28a%29%2Ch%26%26%28c%3Df.propFix%5Bc%5D%7C%7Cc%2Cg%3Df.propHooks%5Bc%5D%29%3Breturn%20d%21%3D%3Db%3Fg%26%26%22set%22in%20g%26%26%28e%3Dg.set%28a%2Cd%2Cc%29%29%21%3D%3Db%3Fe%3Aa%5Bc%5D%3Dd%3Ag%26%26%22get%22in%20g%26%26%28e%3Dg.get%28a%2Cc%29%29%21%3D%3Dnull%3Fe%3Aa%5Bc%5D%7D%7D%2CpropHooks%3A%7BtabIndex%3A%7Bget%3Afunction%28a%29%7Bvar%20c%3Da.getAttributeNode%28%22tabindex%22%29%3Breturn%20c%26%26c.specified%3FparseInt%28c.value%2C10%29%3As.test%28a.nodeName%29%7C%7Ct.test%28a.nodeName%29%26%26a.href%3F0%3Ab%7D%7D%7D%7D%29%2Cf.attrHooks.tabindex%3Df.propHooks.tabIndex%2Cx%3D%7Bget%3Afunction%28a%2Cc%29%7Bvar%20d%2Ce%3Df.prop%28a%2Cc%29%3Breturn%20e%3D%3D%3D%210%7C%7Ctypeof%20e%21%3D%22boolean%22%26%26%28d%3Da.getAttributeNode%28c%29%29%26%26d.nodeValue%21%3D%3D%211%3Fc.toLowerCase%28%29%3Ab%7D%2Cset%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Bb%3D%3D%3D%211%3Ff.removeAttr%28a%2Cc%29%3A%28d%3Df.propFix%5Bc%5D%7C%7Cc%2Cd%20in%20a%26%26%28a%5Bd%5D%3D%210%29%2Ca.setAttribute%28c%2Cc.toLowerCase%28%29%29%29%3Breturn%20c%7D%7D%2Cv%7C%7C%28y%3D%7Bname%3A%210%2Cid%3A%210%2Ccoords%3A%210%7D%2Cw%3Df.valHooks.button%3D%7Bget%3Afunction%28a%2Cc%29%7Bvar%20d%3Bd%3Da.getAttributeNode%28c%29%3Breturn%20d%26%26%28y%5Bc%5D%3Fd.nodeValue%21%3D%3D%22%22%3Ad.specified%29%3Fd.nodeValue%3Ab%7D%2Cset%3Afunction%28a%2Cb%2Cd%29%7Bvar%20e%3Da.getAttributeNode%28d%29%3Be%7C%7C%28e%3Dc.createAttribute%28d%29%2Ca.setAttributeNode%28e%29%29%3Breturn%20e.nodeValue%3Db+%22%22%7D%7D%2Cf.attrHooks.tabindex.set%3Dw.set%2Cf.each%28%5B%22width%22%2C%22height%22%5D%2Cfunction%28a%2Cb%29%7Bf.attrHooks%5Bb%5D%3Df.extend%28f.attrHooks%5Bb%5D%2C%7Bset%3Afunction%28a%2Cc%29%7Bif%28c%3D%3D%3D%22%22%29%7Ba.setAttribute%28b%2C%22auto%22%29%3Breturn%20c%7D%7D%7D%29%7D%29%2Cf.attrHooks.contenteditable%3D%7Bget%3Aw.get%2Cset%3Afunction%28a%2Cb%2Cc%29%7Bb%3D%3D%3D%22%22%26%26%28b%3D%22false%22%29%2Cw.set%28a%2Cb%2Cc%29%7D%7D%29%2Cf.support.hrefNormalized%7C%7Cf.each%28%5B%22href%22%2C%22src%22%2C%22width%22%2C%22height%22%5D%2Cfunction%28a%2Cc%29%7Bf.attrHooks%5Bc%5D%3Df.extend%28f.attrHooks%5Bc%5D%2C%7Bget%3Afunction%28a%29%7Bvar%20d%3Da.getAttribute%28c%2C2%29%3Breturn%20d%3D%3D%3Dnull%3Fb%3Ad%7D%7D%29%7D%29%2Cf.support.style%7C%7C%28f.attrHooks.style%3D%7Bget%3Afunction%28a%29%7Breturn%20a.style.cssText.toLowerCase%28%29%7C%7Cb%7D%2Cset%3Afunction%28a%2Cb%29%7Breturn%20a.style.cssText%3D%22%22+b%7D%7D%29%2Cf.support.optSelected%7C%7C%28f.propHooks.selected%3Df.extend%28f.propHooks.selected%2C%7Bget%3Afunction%28a%29%7Bvar%20b%3Da.parentNode%3Bb%26%26%28b.selectedIndex%2Cb.parentNode%26%26b.parentNode.selectedIndex%29%3Breturn%20null%7D%7D%29%29%2Cf.support.enctype%7C%7C%28f.propFix.enctype%3D%22encoding%22%29%2Cf.support.checkOn%7C%7Cf.each%28%5B%22radio%22%2C%22checkbox%22%5D%2Cfunction%28%29%7Bf.valHooks%5Bthis%5D%3D%7Bget%3Afunction%28a%29%7Breturn%20a.getAttribute%28%22value%22%29%3D%3D%3Dnull%3F%22on%22%3Aa.value%7D%7D%7D%29%2Cf.each%28%5B%22radio%22%2C%22checkbox%22%5D%2Cfunction%28%29%7Bf.valHooks%5Bthis%5D%3Df.extend%28f.valHooks%5Bthis%5D%2C%7Bset%3Afunction%28a%2Cb%29%7Bif%28f.isArray%28b%29%29return%20a.checked%3Df.inArray%28f%28a%29.val%28%29%2Cb%29%3E%3D0%7D%7D%29%7D%29%3Bvar%20z%3D/%5E%28%3F%3Atextarea%7Cinput%7Cselect%29%24/i%2CA%3D/%5E%28%5B%5E%5C.%5D*%29%3F%28%3F%3A%5C.%28.+%29%29%3F%24/%2CB%3D/%28%3F%3A%5E%7C%5Cs%29hover%28%5C.%5CS+%29%3F%5Cb/%2CC%3D/%5Ekey/%2CD%3D/%5E%28%3F%3Amouse%7Ccontextmenu%29%7Cclick/%2CE%3D/%5E%28%3F%3Afocusinfocus%7Cfocusoutblur%29%24/%2CF%3D/%5E%28%5Cw*%29%28%3F%3A%23%28%5B%5Cw%5C-%5D+%29%29%3F%28%3F%3A%5C.%28%5B%5Cw%5C-%5D+%29%29%3F%24/%2CG%3Dfunction%28%0D%0A%20%20%20%20a%29%7Bvar%20b%3DF.exec%28a%29%3Bb%26%26%28b%5B1%5D%3D%28b%5B1%5D%7C%7C%22%22%29.toLowerCase%28%29%2Cb%5B3%5D%3Db%5B3%5D%26%26new%20RegExp%28%22%28%3F%3A%5E%7C%5C%5Cs%29%22+b%5B3%5D+%22%28%3F%3A%5C%5Cs%7C%24%29%22%29%29%3Breturn%20b%7D%2CH%3Dfunction%28a%2Cb%29%7Bvar%20c%3Da.attributes%7C%7C%7B%7D%3Breturn%28%21b%5B1%5D%7C%7Ca.nodeName.toLowerCase%28%29%3D%3D%3Db%5B1%5D%29%26%26%28%21b%5B2%5D%7C%7C%28c.id%7C%7C%7B%7D%29.value%3D%3D%3Db%5B2%5D%29%26%26%28%21b%5B3%5D%7C%7Cb%5B3%5D.test%28%28c%5B%22class%22%5D%7C%7C%7B%7D%29.value%29%29%7D%2CI%3Dfunction%28a%29%7Breturn%20f.event.special.hover%3Fa%3Aa.replace%28B%2C%22mouseenter%241%20mouseleave%241%22%29%7D%3Bf.event%3D%7Badd%3Afunction%28a%2Cc%2Cd%2Ce%2Cg%29%7Bvar%20h%2Ci%2Cj%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%2Cq%2Cr%2Cs%3Bif%28%21%28a.nodeType%3D%3D%3D3%7C%7Ca.nodeType%3D%3D%3D8%7C%7C%21c%7C%7C%21d%7C%7C%21%28h%3Df._data%28a%29%29%29%29%7Bd.handler%26%26%28p%3Dd%2Cd%3Dp.handler%2Cg%3Dp.selector%29%2Cd.guid%7C%7C%28d.guid%3Df.guid++%29%2Cj%3Dh.events%2Cj%7C%7C%28h.events%3Dj%3D%7B%7D%29%2Ci%3Dh.handle%2Ci%7C%7C%28h.handle%3Di%3Dfunction%28a%29%7Breturn%20typeof%20f%21%3D%22undefined%22%26%26%28%21a%7C%7Cf.event.triggered%21%3D%3Da.type%29%3Ff.event.dispatch.apply%28i.elem%2Carguments%29%3Ab%7D%2Ci.elem%3Da%29%2Cc%3Df.trim%28I%28c%29%29.split%28%22%20%22%29%3Bfor%28k%3D0%3Bk%3Cc.length%3Bk++%29%7Bl%3DA.exec%28c%5Bk%5D%29%7C%7C%5B%5D%2Cm%3Dl%5B1%5D%2Cn%3D%28l%5B2%5D%7C%7C%22%22%29.split%28%22.%22%29.sort%28%29%2Cs%3Df.event.special%5Bm%5D%7C%7C%7B%7D%2Cm%3D%28g%3Fs.delegateType%3As.bindType%29%7C%7Cm%2Cs%3Df.event.special%5Bm%5D%7C%7C%7B%7D%2Co%3Df.extend%28%7Btype%3Am%2CorigType%3Al%5B1%5D%2Cdata%3Ae%2Chandler%3Ad%2Cguid%3Ad.guid%2Cselector%3Ag%2Cquick%3Ag%26%26G%28g%29%2Cnamespace%3An.join%28%22.%22%29%7D%2Cp%29%2Cr%3Dj%5Bm%5D%3Bif%28%21r%29%7Br%3Dj%5Bm%5D%3D%5B%5D%2Cr.delegateCount%3D0%3Bif%28%21s.setup%7C%7Cs.setup.call%28a%2Ce%2Cn%2Ci%29%3D%3D%3D%211%29a.addEventListener%3Fa.addEventListener%28m%2Ci%2C%211%29%3Aa.attachEvent%26%26a.attachEvent%28%22on%22+m%2Ci%29%7Ds.add%26%26%28s.add.call%28a%2Co%29%2Co.handler.guid%7C%7C%28o.handler.guid%3Dd.guid%29%29%2Cg%3Fr.splice%28r.delegateCount++%2C0%2Co%29%3Ar.push%28o%29%2Cf.event.global%5Bm%5D%3D%210%7Da%3Dnull%7D%7D%2Cglobal%3A%7B%7D%2Cremove%3Afunction%28a%2Cb%2Cc%2Cd%2Ce%29%7Bvar%20g%3Df.hasData%28a%29%26%26f._data%28a%29%2Ch%2Ci%2Cj%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%2Cq%2Cr%2Cs%3Bif%28%21%21g%26%26%21%21%28o%3Dg.events%29%29%7Bb%3Df.trim%28I%28b%7C%7C%22%22%29%29.split%28%22%20%22%29%3Bfor%28h%3D0%3Bh%3Cb.length%3Bh++%29%7Bi%3DA.exec%28b%5Bh%5D%29%7C%7C%5B%5D%2Cj%3Dk%3Di%5B1%5D%2Cl%3Di%5B2%5D%3Bif%28%21j%29%7Bfor%28j%20in%20o%29f.event.remove%28a%2Cj+b%5Bh%5D%2Cc%2Cd%2C%210%29%3Bcontinue%7Dp%3Df.event.special%5Bj%5D%7C%7C%7B%7D%2Cj%3D%28d%3Fp.delegateType%3Ap.bindType%29%7C%7Cj%2Cr%3Do%5Bj%5D%7C%7C%5B%5D%2Cm%3Dr.length%2Cl%3Dl%3Fnew%20RegExp%28%22%28%5E%7C%5C%5C.%29%22+l.split%28%22.%22%29.sort%28%29.join%28%22%5C%5C.%28%3F%3A.*%5C%5C.%29%3F%22%29+%22%28%5C%5C.%7C%24%29%22%29%3Anull%3Bfor%28n%3D0%3Bn%3Cr.length%3Bn++%29s%3Dr%5Bn%5D%2C%28e%7C%7Ck%3D%3D%3Ds.origType%29%26%26%28%21c%7C%7Cc.guid%3D%3D%3Ds.guid%29%26%26%28%21l%7C%7Cl.test%28s.namespace%29%29%26%26%28%21d%7C%7Cd%3D%3D%3Ds.selector%7C%7Cd%3D%3D%3D%22**%22%26%26s.selector%29%26%26%28r.splice%28n--%2C1%29%2Cs.selector%26%26r.delegateCount--%2Cp.remove%26%26p.remove.call%28a%2Cs%29%29%3Br.length%3D%3D%3D0%26%26m%21%3D%3Dr.length%26%26%28%28%21p.teardown%7C%7Cp.teardown.call%28a%2Cl%29%3D%3D%3D%211%29%26%26f.removeEvent%28a%2Cj%2Cg.handle%29%2Cdelete%20o%5Bj%5D%29%7Df.isEmptyObject%28o%29%26%26%28q%3Dg.handle%2Cq%26%26%28q.elem%3Dnull%29%2Cf.removeData%28a%2C%5B%22events%22%2C%22handle%22%5D%2C%210%29%29%7D%7D%2CcustomEvent%3A%7BgetData%3A%210%2CsetData%3A%210%2CchangeData%3A%210%7D%2Ctrigger%3Afunction%28c%2Cd%2Ce%2Cg%29%7Bif%28%21e%7C%7Ce.nodeType%21%3D%3D3%26%26e.nodeType%21%3D%3D8%29%7Bvar%20h%3Dc.type%7C%7Cc%2Ci%3D%5B%5D%2Cj%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%2Cq%2Cr%2Cs%3Bif%28E.test%28h+f.event.triggered%29%29return%3Bh.indexOf%28%22%21%22%29%3E%3D0%26%26%28h%3Dh.slice%280%2C-1%29%2Ck%3D%210%29%2Ch.indexOf%28%22.%22%29%3E%3D0%26%26%28i%3Dh.split%28%22.%22%29%2Ch%3Di.shift%28%29%2Ci.sort%28%29%29%3Bif%28%28%21e%7C%7Cf.event.customEvent%5Bh%5D%29%26%26%21f.event.global%5Bh%5D%29return%3Bc%3Dtypeof%20c%3D%3D%22object%22%3Fc%5Bf.expando%5D%3Fc%3Anew%20f.Event%28h%2Cc%29%3Anew%20f.Event%28h%29%2Cc.type%3Dh%2Cc.isTrigger%3D%210%2Cc.exclusive%3Dk%2Cc.namespace%3Di.join%28%22.%22%29%2Cc.namespace_re%3Dc.namespace%3Fnew%20RegExp%28%22%28%5E%7C%5C%5C.%29%22+i.join%28%22%5C%5C.%28%3F%3A.*%5C%5C.%29%3F%22%29+%22%28%5C%5C.%7C%24%29%22%29%3Anull%2Co%3Dh.indexOf%28%22%3A%22%29%3C0%3F%22on%22+h%3A%22%22%3Bif%28%21e%29%7Bj%3Df.cache%3Bfor%28l%20in%20j%29j%5Bl%5D.events%26%26j%5Bl%5D.events%5Bh%5D%26%26f.event.trigger%28c%2Cd%2Cj%5Bl%5D.handle.elem%2C%210%29%3Breturn%7Dc.result%3Db%2Cc.target%7C%7C%28c.target%3De%29%2Cd%3Dd%21%3Dnull%3Ff.makeArray%28d%29%3A%5B%5D%2Cd.unshift%28c%29%2Cp%3Df.event.special%5Bh%5D%7C%7C%7B%7D%3Bif%28p.trigger%26%26p.trigger.apply%28e%2Cd%29%3D%3D%3D%211%29return%3Br%3D%5B%5Be%2Cp.bindType%7C%7Ch%5D%5D%3Bif%28%21g%26%26%21p.noBubble%26%26%21f.isWindow%28e%29%29%7Bs%3Dp.delegateType%7C%7Ch%2Cm%3DE.test%28s+h%29%3Fe%3Ae.parentNode%2Cn%3Dnull%3Bfor%28%3Bm%3Bm%3Dm.parentNode%29r.push%28%5Bm%2Cs%5D%29%2Cn%3Dm%3Bn%26%26n%3D%3D%3De.ownerDocument%26%26r.push%28%5Bn.defaultView%7C%7Cn.parentWindow%7C%7Ca%2Cs%5D%29%7Dfor%28l%3D0%3Bl%3Cr.length%26%26%21c.isPropagationStopped%28%29%3Bl++%29m%3Dr%5Bl%5D%5B0%5D%2Cc.type%3Dr%5Bl%5D%5B1%5D%2Cq%3D%28f._data%28m%2C%22events%22%29%7C%7C%7B%7D%29%5Bc.type%5D%26%26f._data%28m%2C%22handle%22%29%2Cq%26%26q.apply%28m%2Cd%29%2Cq%3Do%26%26m%5Bo%5D%2Cq%26%26f.acceptData%28m%29%26%26q.apply%28m%2Cd%29%3D%3D%3D%211%26%26c.preventDefault%28%29%3Bc.type%3Dh%2C%21g%26%26%21c.isDefaultPrevented%28%29%26%26%28%21p._default%7C%7Cp._default.apply%28e.ownerDocument%2Cd%29%3D%3D%3D%211%29%26%26%28h%21%3D%3D%22click%22%7C%7C%21f.nodeName%28e%2C%22a%22%29%29%26%26f.acceptData%28e%29%26%26o%26%26e%5Bh%5D%26%26%28h%21%3D%3D%22focus%22%26%26h%21%3D%3D%22blur%22%7C%7Cc.target.offsetWidth%21%3D%3D0%29%26%26%21f.isWindow%28e%29%26%26%28n%3De%5Bo%5D%2Cn%26%26%28e%5Bo%5D%3Dnull%29%2Cf.event.triggered%3Dh%2Ce%5Bh%5D%28%29%2Cf.event.triggered%3Db%2Cn%26%26%28e%5Bo%5D%3Dn%29%29%3Breturn%20c.result%7D%7D%2Cdispatch%3Afunction%28c%29%7Bc%3Df.event.fix%28c%7C%7Ca.event%29%3Bvar%20d%3D%28f._data%28this%2C%22events%22%29%7C%7C%7B%7D%29%5Bc.type%5D%7C%7C%5B%5D%2Ce%3Dd.delegateCount%2Cg%3D%5B%5D.slice.call%28arguments%2C0%29%2Ch%3D%21c.exclusive%26%26%21c.namespace%2Ci%3Df.event.special%5Bc.type%5D%7C%7C%7B%7D%2Cj%3D%5B%5D%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%2Cq%2Cr%2Cs%2Ct%2Cu%3Bg%5B0%5D%3Dc%2Cc.delegateTarget%3Dthis%3Bif%28%21i.preDispatch%7C%7Ci.preDispatch.call%28this%2Cc%29%21%3D%3D%211%29%7Bif%28e%26%26%28%21c.button%7C%7Cc.type%21%3D%3D%22click%22%29%29%7Bn%3Df%28this%29%2Cn.context%3Dthis.ownerDocument%7C%7Cthis%3Bfor%28m%3Dc.target%3Bm%21%3Dthis%3Bm%3Dm.parentNode%7C%7Cthis%29if%28m.disabled%21%3D%3D%210%29%7Bp%3D%7B%7D%2Cr%3D%5B%5D%2Cn%5B0%5D%3Dm%3Bfor%28k%3D0%3Bk%3Ce%3Bk++%29s%3Dd%5Bk%5D%2Ct%3Ds.selector%2Cp%5Bt%5D%3D%3D%3Db%26%26%28p%5Bt%5D%3Ds.quick%3FH%28m%2Cs.quick%29%3An.is%28t%29%29%2Cp%5Bt%5D%26%26r.push%28s%29%3Br.length%26%26j.push%28%7Belem%3Am%2Cmatches%3Ar%7D%29%7D%7Dd.length%3Ee%26%26j.push%28%7Belem%3Athis%2Cmatches%3Ad.slice%28e%29%7D%29%3Bfor%28k%3D0%3Bk%3Cj.length%26%26%21c.isPropagationStopped%28%29%3Bk++%29%7Bq%3Dj%5Bk%5D%2Cc.currentTarget%3Dq.elem%3Bfor%28l%3D0%3Bl%3Cq.matches.length%26%26%21c.isImmediatePropagationStopped%28%29%3Bl++%29%7Bs%3Dq.matches%5Bl%5D%3Bif%28h%7C%7C%21c.namespace%26%26%21s.namespace%7C%7Cc.namespace_re%26%26c.namespace_re.test%28s.namespace%29%29c.data%3Ds.data%2Cc.handleObj%3Ds%2Co%3D%28%28f.event.special%5Bs.origType%5D%7C%7C%7B%7D%29.handle%7C%7Cs.handler%29.apply%28q.elem%2Cg%29%2Co%21%3D%3Db%26%26%28c.result%3Do%2Co%3D%3D%3D%211%26%26%28c.preventDefault%28%29%2Cc.stopPropagation%28%29%29%29%7D%7Di.postDispatch%26%26i.postDispatch.call%28this%2Cc%29%3Breturn%20c.result%7D%7D%2Cprops%3A%22attrChange%20attrName%20relatedNode%20srcElement%20altKey%20bubbles%20cancelable%20ctrlKey%20currentTarget%20eventPhase%20metaKey%20relatedTarget%20shiftKey%20target%20timeStamp%20view%20which%22.split%28%22%20%22%29%2CfixHooks%3A%7B%7D%2CkeyHooks%3A%7Bprops%3A%22char%20charCode%20key%20keyCode%22.split%28%22%20%22%29%2Cfilter%3Afunction%28a%2Cb%29%7Ba.which%3D%3Dnull%26%26%28a.which%3Db.charCode%21%3Dnull%3Fb.charCode%3Ab.keyCode%29%3Breturn%20a%7D%7D%2CmouseHooks%3A%7Bprops%3A%22button%20buttons%20clientX%20clientY%20fromElement%20offsetX%20offsetY%20pageX%20pageY%20screenX%20screenY%20toElement%22.split%28%22%20%22%29%2Cfilter%3Afunction%28a%2Cd%29%7Bvar%20e%2Cf%2Cg%2Ch%3Dd.button%2Ci%3Dd.fromElement%3Ba.pageX%3D%3Dnull%26%26d.clientX%21%3Dnull%26%26%28e%3Da.target.ownerDocument%7C%7Cc%2Cf%3De.documentElement%2Cg%3De.body%2Ca.pageX%3Dd.clientX+%28f%26%26f.scrollLeft%7C%7Cg%26%26g.scrollLeft%7C%7C0%29-%28f%26%26f.clientLeft%7C%7Cg%26%26g.clientLeft%7C%7C0%29%2Ca.pageY%3Dd.clientY+%28f%26%26f.scrollTop%7C%7Cg%26%26g.scrollTop%7C%7C0%29-%28f%26%26f.clientTop%7C%7Cg%26%26g.clientTop%7C%7C0%29%29%2C%21a.relatedTarget%26%26i%26%26%28a.relatedTarget%3Di%3D%3D%3Da.target%3Fd.toElement%3Ai%29%2C%21a.which%26%26h%21%3D%3Db%26%26%28a.which%3Dh%261%3F1%3Ah%262%3F3%3Ah%264%3F2%3A0%29%3Breturn%20a%7D%7D%2Cfix%3Afunction%28a%29%7Bif%28a%5Bf.expando%5D%29return%20a%3Bvar%20d%2Ce%2Cg%3Da%2Ch%3Df.event.fixHooks%5Ba.type%5D%7C%7C%7B%7D%2Ci%3Dh.props%3Fthis.props.concat%28h.props%29%3Athis.props%3Ba%3Df.Event%28g%29%3Bfor%28d%3Di.length%3Bd%3B%29e%3Di%5B--d%5D%2Ca%5Be%5D%3Dg%5Be%5D%3Ba.target%7C%7C%28a.target%3Dg.srcElement%7C%7Cc%29%2Ca.target.nodeType%3D%3D%3D3%26%26%28a.target%3Da.target.parentNode%29%2Ca.metaKey%3D%3D%3Db%26%26%28a.metaKey%3Da.ctrlKey%29%3Breturn%20h.filter%3Fh.filter%28a%2Cg%29%3Aa%7D%2Cspecial%3A%7Bready%3A%7Bsetup%3Af.bindReady%7D%2Cload%3A%7BnoBubble%3A%210%7D%2Cfocus%3A%7BdelegateType%3A%22focusin%22%7D%2Cblur%3A%7BdelegateType%3A%22focusout%22%7D%2Cbeforeunload%3A%7Bsetup%3Afunction%28a%2Cb%2Cc%29%7Bf.isWindow%28this%29%26%26%28this.onbeforeunload%3Dc%29%7D%2Cteardown%3Afunction%28a%2Cb%29%7Bthis.onbeforeunload%3D%3D%3Db%26%26%28this.onbeforeunload%3Dnull%29%7D%7D%7D%2Csimulate%3Afunction%28a%2Cb%2Cc%2Cd%29%7Bvar%20e%3Df.extend%28new%20f.Event%2Cc%2C%7Btype%3Aa%2CisSimulated%3A%210%2CoriginalEvent%3A%7B%7D%7D%29%3Bd%3Ff.event.trigger%28e%2Cnull%2Cb%29%3Af.event.dispatch.call%28b%2Ce%29%2Ce.isDefaultPrevented%28%29%26%26c.preventDefault%28%29%7D%7D%2Cf.event.handle%3Df.event.dispatch%2Cf.removeEvent%3Dc.removeEventListener%3Ffunction%28a%2Cb%2Cc%29%7Ba.removeEventListener%26%26a.removeEventListener%28b%2Cc%2C%211%29%7D%3Afunction%28a%2Cb%2Cc%29%7Ba.detachEvent%26%26a.detachEvent%28%22on%22+b%2Cc%29%7D%2Cf.Event%3Dfunction%28a%2Cb%29%7Bif%28%21%28this%20instanceof%20f.Event%29%29return%20new%20f.Event%28a%2Cb%29%3Ba%26%26a.type%3F%28this.originalEvent%3Da%2Cthis.type%3Da.type%2Cthis.isDefaultPrevented%3Da.defaultPrevented%7C%7Ca.returnValue%3D%3D%3D%211%7C%7Ca.getPreventDefault%26%26a.getPreventDefault%28%29%3FK%3AJ%29%3Athis.type%3Da%2Cb%26%26f.extend%28this%2Cb%29%2Cthis.timeStamp%3Da%26%26a.timeStamp%7C%7Cf.now%28%29%2Cthis%5Bf.expando%5D%3D%210%7D%2Cf.Event.prototype%3D%7BpreventDefault%3Afunction%28%29%7Bthis.isDefaultPrevented%3DK%3Bvar%20a%3Dthis.originalEvent%3B%21a%7C%7C%28a.preventDefault%3Fa.preventDefault%28%29%3Aa.returnValue%3D%211%29%7D%2CstopPropagation%3Afunction%28%29%7Bthis.isPropagationStopped%3DK%3Bvar%20a%3Dthis.originalEvent%3B%21a%7C%7C%28a.stopPropagation%26%26a.stopPropagation%28%29%2Ca.cancelBubble%3D%210%29%7D%2CstopImmediatePropagation%3Afunction%28%29%7Bthis.isImmediatePropagationStopped%3DK%2Cthis.stopPropagation%28%29%7D%2CisDefaultPrevented%3AJ%2CisPropagationStopped%3AJ%2CisImmediatePropagationStopped%3AJ%7D%2Cf.each%28%7Bmouseenter%3A%22mouseover%22%2Cmouseleave%3A%22mouseout%22%7D%2Cfunction%28a%2Cb%29%7Bf.event.special%5Ba%5D%3D%7BdelegateType%3Ab%2CbindType%3Ab%2Chandle%3Afunction%28a%29%7Bvar%20c%3Dthis%2Cd%3Da.relatedTarget%2Ce%3Da.handleObj%2Cg%3De.selector%2Ch%3Bif%28%21d%7C%7Cd%21%3D%3Dc%26%26%21f.contains%28c%2Cd%29%29a.type%3De.origType%2Ch%3De.handler.apply%28this%2Carguments%29%2Ca.type%3Db%3Breturn%20h%7D%7D%7D%29%2Cf.support.submitBubbles%7C%7C%28f.event.special.submit%3D%7Bsetup%3Afunction%28%29%7Bif%28f.nodeName%28this%2C%22form%22%29%29return%211%3Bf.event.add%28this%2C%22click._submit%20keypress._submit%22%2Cfunction%28a%29%7Bvar%20c%3Da.target%2Cd%3Df.nodeName%28c%2C%22input%22%29%7C%7Cf.nodeName%28c%2C%22button%22%29%3Fc.form%3Ab%3Bd%26%26%21d._submit_attached%26%26%28f.event.add%28d%2C%22submit._submit%22%2Cfunction%28a%29%7Ba._submit_bubble%3D%210%7D%29%2Cd._submit_attached%3D%210%29%7D%29%7D%2CpostDispatch%3Afunction%28a%29%7Ba._submit_bubble%26%26%28delete%20a._submit_bubble%2Cthis.parentNode%26%26%21a.isTrigger%26%26f.event.simulate%28%22submit%22%2Cthis.parentNode%2Ca%2C%210%29%29%7D%2Cteardown%3Afunction%28%29%7Bif%28f.nodeName%28this%2C%22form%22%29%29return%211%3Bf.event.remove%28this%2C%22._submit%22%29%7D%7D%29%2Cf.support.changeBubbles%7C%7C%28f.event.special.change%3D%7Bsetup%3Afunction%28%29%7Bif%28z.test%28this.nodeName%29%29%7Bif%28this.type%3D%3D%3D%22checkbox%22%7C%7Cthis.type%3D%3D%3D%22radio%22%29f.event.add%28this%2C%22propertychange._change%22%2Cfunction%28a%29%7Ba.originalEvent.propertyName%3D%3D%3D%22checked%22%26%26%28this._just_changed%3D%210%29%7D%29%2Cf.event.add%28this%2C%22click._change%22%2Cfunction%28a%29%7Bthis._just_changed%26%26%21a.isTrigger%26%26%28this._just_changed%3D%211%2Cf.event.simulate%28%22change%22%2Cthis%2Ca%2C%210%29%29%7D%29%3Breturn%211%7Df.event.add%28this%2C%22beforeactivate._change%22%2Cfunction%28a%29%7Bvar%20b%3Da.target%3Bz.test%28b.nodeName%29%26%26%21b._change_attached%26%26%28f.event.add%28b%2C%22change._change%22%2Cfunction%28a%29%7Bthis.parentNode%26%26%21a.isSimulated%26%26%21a.isTrigger%26%26f.event.simulate%28%22change%22%2Cthis.parentNode%2Ca%2C%210%29%7D%29%2Cb._change_attached%3D%210%29%7D%29%7D%2Chandle%3Afunction%28a%29%7Bvar%20b%3Da.target%3Bif%28this%21%3D%3Db%7C%7Ca.isSimulated%7C%7Ca.isTrigger%7C%7Cb.type%21%3D%3D%22radio%22%26%26b.type%21%3D%3D%22checkbox%22%29return%20a.handleObj.handler.apply%28this%2Carguments%29%7D%2Cteardown%3Afunction%28%29%7Bf.event.remove%28this%2C%22._change%22%29%3Breturn%20z.test%28this.nodeName%29%7D%7D%29%2Cf.support.focusinBubbles%7C%7Cf.each%28%7Bfocus%3A%22focusin%22%2Cblur%3A%22focusout%22%7D%2Cfunction%28a%2Cb%29%7Bvar%20d%3D0%2Ce%3Dfunction%28a%29%7Bf.event.simulate%28b%2Ca.target%2Cf.event.fix%28a%29%2C%210%29%7D%3Bf.event.special%5Bb%5D%3D%7Bsetup%3Afunction%28%29%7Bd++%3D%3D%3D0%26%26c.addEventListener%28a%2Ce%2C%210%29%7D%2Cteardown%3Afunction%28%29%7B--d%3D%3D%3D0%26%26c.removeEventListener%28a%2Ce%2C%210%29%7D%7D%7D%29%2Cf.fn.extend%28%7Bon%3Afunction%28a%2Cc%2Cd%2Ce%2Cg%29%7Bvar%20h%2Ci%3Bif%28typeof%20a%3D%3D%22object%22%29%7Btypeof%20c%21%3D%22string%22%26%26%28d%3Dd%7C%7Cc%2Cc%3Db%29%3Bfor%28i%20in%20a%29this.on%28i%2Cc%2Cd%2Ca%5Bi%5D%2Cg%29%3Breturn%20this%7Dd%3D%3Dnull%26%26e%3D%3Dnull%3F%28e%3Dc%2Cd%3Dc%3Db%29%3Ae%3D%3Dnull%26%26%28typeof%20c%3D%3D%22string%22%3F%28e%3Dd%2Cd%3Db%29%3A%28e%3Dd%2Cd%3Dc%2Cc%3Db%29%29%3Bif%28e%3D%3D%3D%211%29e%3DJ%3Belse%20if%28%21e%29return%20this%3Bg%3D%3D%3D1%26%26%28h%3De%2Ce%3Dfunction%28a%29%7Bf%28%29.off%28a%29%3Breturn%20h.apply%28this%2Carguments%29%7D%2Ce.guid%3Dh.guid%7C%7C%28h.guid%3Df.guid++%29%29%3Breturn%20this.each%28function%28%29%7Bf.event.add%28this%2Ca%2Ce%2Cd%2Cc%29%7D%29%7D%2Cone%3Afunction%28a%2Cb%2Cc%2Cd%29%7Breturn%20this.on%28a%2Cb%2Cc%2Cd%2C1%29%7D%2Coff%3Afunction%28a%2Cc%2Cd%29%7Bif%28a%26%26a.preventDefault%26%26a.handleObj%29%7Bvar%20e%3Da.handleObj%3Bf%28a.delegateTarget%29.off%28e.namespace%3Fe.origType+%22.%22+e.namespace%3Ae.origType%2Ce.selector%2Ce.handler%29%3Breturn%20this%7Dif%28typeof%20a%3D%3D%22object%22%29%7Bfor%28var%20g%20in%20a%29this.off%28g%2Cc%2Ca%5Bg%5D%29%3Breturn%20this%7Dif%28c%3D%3D%3D%211%7C%7Ctypeof%20c%3D%3D%22function%22%29d%3Dc%2Cc%3Db%3Bd%3D%3D%3D%211%26%26%28d%3DJ%29%3Breturn%20this.each%28function%28%29%7Bf.event.remove%28this%2Ca%2Cd%2Cc%29%7D%29%7D%2Cbind%3Afunction%28a%2Cb%2Cc%29%7Breturn%20this.on%28a%2Cnull%2Cb%2Cc%29%7D%2Cunbind%3Afunction%28a%2Cb%29%7Breturn%20this.off%28a%2Cnull%2Cb%29%7D%2Clive%3Afunction%28a%2Cb%2Cc%29%7Bf%28this.context%29.on%28a%2Cthis.selector%2Cb%2Cc%29%3Breturn%20this%7D%2Cdie%3Afunction%28a%2Cb%29%7Bf%28this.context%29.off%28a%2Cthis.selector%7C%7C%22**%22%2Cb%29%3Breturn%20this%7D%2Cdelegate%3Afunction%28a%2Cb%2Cc%2Cd%29%7Breturn%20this.on%28b%2Ca%2Cc%2Cd%29%7D%2Cundelegate%3Afunction%28a%2Cb%2Cc%29%7Breturn%20arguments.length%3D%3D1%3Fthis.off%28a%2C%22**%22%29%3Athis.off%28b%2Ca%2Cc%29%7D%2Ctrigger%3Afunction%28a%2Cb%29%7Breturn%20this.each%28function%28%29%7Bf.event.trigger%28a%2Cb%2Cthis%29%7D%29%7D%2CtriggerHandler%3Afunction%28a%2Cb%29%7Bif%28this%5B0%5D%29return%20f.event.trigger%28a%2Cb%2Cthis%5B0%5D%2C%210%29%7D%2Ctoggle%3Afunction%28a%29%7Bvar%20b%3Darguments%2Cc%3Da.guid%7C%7Cf.guid++%2Cd%3D0%2Ce%3Dfunction%28c%29%7Bvar%20e%3D%28f._data%28this%2C%22lastToggle%22+a.guid%29%7C%7C0%29%25d%3Bf._data%28this%2C%22lastToggle%22+a.guid%2Ce+1%29%2Cc.preventDefault%28%29%3Breturn%20b%5Be%5D.apply%28this%2Carguments%29%7C%7C%211%7D%3Be.guid%3Dc%3Bwhile%28d%3Cb.length%29b%5Bd++%5D.guid%3Dc%3Breturn%20this.click%28e%29%7D%2Chover%3Afunction%28a%2Cb%29%7Breturn%20this.mouseenter%28a%29.mouseleave%28b%7C%7Ca%29%7D%7D%29%2Cf.each%28%22blur%20focus%20focusin%20focusout%20load%20resize%20scroll%20unload%20click%20dblclick%20mousedown%20mouseup%20mousemove%20mouseover%20mouseout%20mouseenter%20mouseleave%20change%20select%20submit%20keydown%20keypress%20keyup%20error%20contextmenu%22.split%28%22%20%22%29%2Cfunction%28a%2Cb%29%7Bf.fn%5Bb%5D%3Dfunction%28a%2Cc%29%7Bc%3D%3Dnull%26%26%28c%3Da%2Ca%3Dnull%29%3Breturn%20arguments.length%3E0%3Fthis.on%28b%2Cnull%2Ca%2Cc%29%3Athis.trigger%28b%29%7D%2Cf.attrFn%26%26%28f.attrFn%5Bb%5D%3D%210%29%2CC.test%28b%29%26%26%28f.event.fixHooks%5Bb%5D%3Df.event.keyHooks%29%2CD.test%28b%29%26%26%28f.event.fixHooks%5Bb%5D%3Df.event.mouseHooks%29%7D%29%2Cfunction%28%29%7Bfunction%20x%28a%2Cb%2Cc%2Ce%2Cf%2Cg%29%7Bfor%28var%20h%3D0%2Ci%3De.length%3Bh%3Ci%3Bh++%29%7Bvar%20j%3De%5Bh%5D%3Bif%28j%29%7Bvar%20k%3D%211%3Bj%3Dj%5Ba%5D%3Bwhile%28j%29%7Bif%28j%5Bd%5D%3D%3D%3Dc%29%7Bk%3De%5Bj.sizset%5D%3Bbreak%7Dif%28j.nodeType%3D%3D%3D1%29%7Bg%7C%7C%28j%5Bd%5D%3Dc%2Cj.sizset%3Dh%29%3Bif%28typeof%20b%21%3D%22string%22%29%7Bif%28j%3D%3D%3Db%29%7Bk%3D%210%3Bbreak%7D%7Delse%20if%28m.filter%28b%2C%5Bj%5D%29.length%3E0%29%7Bk%3Dj%3Bbreak%7D%7Dj%3Dj%5Ba%5D%7De%5Bh%5D%3Dk%7D%7D%7Dfunction%20w%28a%2Cb%2Cc%2Ce%2Cf%2Cg%29%7Bfor%28var%20h%3D0%2Ci%3De.length%3Bh%3Ci%3Bh++%29%7Bvar%20j%3De%5Bh%5D%3Bif%28j%29%7Bvar%20k%3D%211%3Bj%3Dj%5Ba%5D%3Bwhile%28j%29%7Bif%28j%5Bd%5D%3D%3D%3Dc%29%7Bk%3De%5Bj.sizset%5D%3Bbreak%7Dj.nodeType%3D%3D%3D1%26%26%21g%26%26%28j%5Bd%5D%3Dc%2Cj.sizset%3Dh%29%3Bif%28j.nodeName.toLowerCase%28%29%3D%3D%3Db%29%7Bk%3Dj%3Bbreak%7Dj%3Dj%5Ba%5D%7De%5Bh%5D%3Dk%7D%7D%7Dvar%20a%3D/%28%28%3F%3A%5C%28%28%3F%3A%5C%28%5B%5E%28%29%5D+%5C%29%7C%5B%5E%28%29%5D+%29+%5C%29%7C%5C%5B%28%3F%3A%5C%5B%5B%5E%5C%5B%5C%5D%5D*%5C%5D%7C%5B%27%22%5D%5B%5E%27%22%5D*%5B%27%22%5D%7C%5B%5E%5C%5B%5C%5D%27%22%5D+%29+%5C%5D%7C%5C%5C.%7C%5B%5E%20%3E+%7E%2C%28%5C%5B%5C%5C%5D+%29+%7C%5B%3E+%7E%5D%29%28%5Cs*%2C%5Cs*%29%3F%28%28%3F%3A.%7C%5Cr%7C%5Cn%29*%29/g%2Cd%3D%22sizcache%22+%28Math.random%28%29+%22%22%29.replace%28%22.%22%2C%22%22%29%2Ce%3D0%2Cg%3DObject.prototype.toString%2Ch%3D%211%2Ci%3D%210%2Cj%3D/%5C%5C/g%2Ck%3D/%5Cr%5Cn/g%2Cl%3D/%5CW/%3B%5B0%2C0%5D.sort%28function%28%29%7Bi%3D%211%3Breturn%200%7D%29%3Bvar%20m%3Dfunction%28b%2Cd%2Ce%2Cf%29%7Be%3De%7C%7C%5B%5D%2Cd%3Dd%7C%7Cc%3Bvar%20h%3Dd%3Bif%28d.nodeType%21%3D%3D1%26%26d.nodeType%21%3D%3D9%29return%5B%5D%3Bif%28%21b%7C%7Ctypeof%20b%21%3D%22string%22%29return%20e%3Bvar%20i%2Cj%2Ck%2Cl%2Cn%2Cq%2Cr%2Ct%2Cu%3D%210%2Cv%3Dm.isXML%28d%29%2Cw%3D%5B%5D%2Cx%3Db%3Bdo%7Ba.exec%28%22%22%29%2Ci%3Da.exec%28x%29%3Bif%28i%29%7Bx%3Di%5B3%5D%2Cw.push%28i%5B1%5D%29%3Bif%28i%5B2%5D%29%7Bl%3Di%5B3%5D%3Bbreak%7D%7D%7Dwhile%28i%29%3Bif%28w.length%3E1%26%26p.exec%28b%29%29if%28w.length%3D%3D%3D2%26%26o.relative%5Bw%5B0%5D%5D%29j%3Dy%28w%5B0%5D+w%5B1%5D%2Cd%2Cf%29%3Belse%7Bj%3Do.relative%5Bw%5B0%5D%5D%3F%5Bd%5D%3Am%28w.shift%28%29%2Cd%29%3Bwhile%28w.length%29b%3Dw.shift%28%29%2Co.relative%5Bb%5D%26%26%28b+%3Dw.shift%28%29%29%2Cj%3Dy%28b%2Cj%2Cf%29%7Delse%7B%21f%26%26w.length%3E1%26%26d.nodeType%3D%3D%3D9%26%26%21v%26%26o.match.ID.test%28w%5B0%5D%29%26%26%21o.match.ID.test%28w%5Bw.length-1%5D%29%26%26%28n%3Dm.find%28w.shift%28%29%2Cd%2Cv%29%2Cd%3Dn.expr%3Fm.filter%28n.expr%2Cn.set%29%5B0%5D%3An.set%5B0%5D%29%3Bif%28d%29%7Bn%3Df%3F%7Bexpr%3Aw.pop%28%29%2Cset%3As%28f%29%7D%3Am.find%28w.pop%28%29%2Cw.length%3D%3D%3D1%26%26%28w%5B0%5D%3D%3D%3D%22%7E%22%7C%7Cw%5B0%5D%3D%3D%3D%22+%22%29%26%26d.parentNode%3Fd.parentNode%3Ad%2Cv%29%2Cj%3Dn.expr%3Fm.filter%28n.expr%2Cn.set%29%3An.set%2Cw.length%3E0%3Fk%3Ds%28j%29%3Au%3D%211%3Bwhile%28w.length%29q%3Dw.pop%28%29%2Cr%3Dq%2Co.relative%5Bq%5D%3Fr%3Dw.pop%28%29%3Aq%3D%22%22%2Cr%3D%3Dnull%26%26%28r%3Dd%29%2Co.relative%5Bq%5D%28k%2Cr%2Cv%29%7Delse%20k%3Dw%3D%5B%5D%7Dk%7C%7C%28k%3Dj%29%2Ck%7C%7Cm.error%28q%7C%7Cb%29%3Bif%28g.call%28k%29%3D%3D%3D%22%5Bobject%20Array%5D%22%29if%28%21u%29e.push.apply%28e%2Ck%29%3Belse%20if%28d%26%26d.nodeType%3D%3D%3D1%29for%28t%3D0%3Bk%5Bt%5D%21%3Dnull%3Bt++%29k%5Bt%5D%26%26%28k%5Bt%5D%3D%3D%3D%210%7C%7Ck%5Bt%5D.nodeType%3D%3D%3D1%26%26m.contains%28d%2Ck%5Bt%5D%29%29%26%26e.push%28j%5Bt%5D%29%3Belse%20for%28t%3D0%3Bk%5Bt%5D%21%3Dnull%3Bt++%29k%5Bt%5D%26%26k%5Bt%5D.nodeType%3D%3D%3D1%26%26e.push%28j%5Bt%5D%29%3Belse%20s%28k%2Ce%29%3Bl%26%26%28m%28l%2Ch%2Ce%2Cf%29%2Cm.uniqueSort%28e%29%29%3Breturn%20e%7D%3Bm.uniqueSort%3Dfunction%28a%29%7Bif%28u%29%7Bh%3Di%2Ca.sort%28u%29%3Bif%28h%29for%28var%20b%3D1%3Bb%3Ca.length%3Bb++%29a%5Bb%5D%3D%3D%3Da%5Bb-1%5D%26%26a.splice%28b--%2C1%29%7Dreturn%20a%7D%2Cm.matches%3Dfunction%28a%2Cb%29%7Breturn%20m%28a%2Cnull%2Cnull%2Cb%29%7D%2Cm.matchesSelector%3Dfunction%28a%2Cb%29%7Breturn%20m%28b%2Cnull%2Cnull%2C%5Ba%5D%29.length%3E0%7D%2Cm.find%3Dfunction%28a%2Cb%2Cc%29%7Bvar%20d%2Ce%2Cf%2Cg%2Ch%2Ci%3Bif%28%21a%29return%5B%5D%3Bfor%28e%3D0%2Cf%3Do.order.length%3Be%3Cf%3Be++%29%7Bh%3Do.order%5Be%5D%3Bif%28g%3Do.leftMatch%5Bh%5D.exec%28a%29%29%7Bi%3Dg%5B1%5D%2Cg.splice%281%2C1%29%3Bif%28i.substr%28i.length-1%29%21%3D%3D%22%5C%5C%22%29%7Bg%5B1%5D%3D%28g%5B1%5D%7C%7C%22%22%29.replace%28j%2C%22%22%29%2Cd%3Do.find%5Bh%5D%28g%2Cb%2Cc%29%3Bif%28d%21%3Dnull%29%7Ba%3Da.replace%28o.match%5Bh%5D%2C%22%22%29%3Bbreak%7D%7D%7D%7Dd%7C%7C%28d%3Dtypeof%20b.getElementsByTagName%21%3D%22undefined%22%3Fb.getElementsByTagName%28%22*%22%29%3A%5B%5D%29%3Breturn%7Bset%3Ad%2Cexpr%3Aa%7D%7D%2Cm.filter%3Dfunction%28a%2Cc%2Cd%2Ce%29%7Bvar%20f%2Cg%2Ch%2Ci%2Cj%2Ck%2Cl%2Cn%2Cp%2Cq%3Da%2Cr%3D%5B%5D%2Cs%3Dc%2Ct%3Dc%26%26c%5B0%5D%26%26m.isXML%28c%5B0%5D%29%3Bwhile%28a%26%26c.length%29%7Bfor%28h%20in%20o.filter%29if%28%28f%3Do.leftMatch%5Bh%5D.exec%28a%29%29%21%3Dnull%26%26f%5B2%5D%29%7Bk%3Do.filter%5Bh%5D%2Cl%3Df%5B1%5D%2Cg%3D%211%2Cf.splice%281%2C1%29%3Bif%28l.substr%28l.length-1%29%3D%3D%3D%22%5C%5C%22%29continue%3Bs%3D%3D%3Dr%26%26%28r%3D%5B%5D%29%3Bif%28o.preFilter%5Bh%5D%29%7Bf%3Do.preFilter%5Bh%5D%28f%2Cs%2Cd%2Cr%2Ce%2Ct%29%3Bif%28%21f%29g%3Di%3D%210%3Belse%20if%28f%3D%3D%3D%210%29continue%7Dif%28f%29for%28n%3D0%3B%28j%3Ds%5Bn%5D%29%21%3Dnull%3Bn++%29j%26%26%28i%3Dk%28j%2Cf%2Cn%2Cs%29%2Cp%3De%5Ei%2Cd%26%26i%21%3Dnull%3Fp%3Fg%3D%210%3As%5Bn%5D%3D%211%3Ap%26%26%28r.push%28j%29%2Cg%3D%210%29%29%3Bif%28i%21%3D%3Db%29%7Bd%7C%7C%28s%3Dr%29%2Ca%3Da.replace%28o.match%5Bh%5D%2C%22%22%29%3Bif%28%21g%29return%5B%5D%3Bbreak%7D%7Dif%28a%3D%3D%3Dq%29if%28g%3D%3Dnull%29m.error%28a%29%3Belse%20break%3Bq%3Da%7Dreturn%20s%7D%2Cm.error%3Dfunction%28a%29%7Bthrow%20new%20Error%28%22Syntax%20error%2C%20unrecognized%20expression%3A%20%22+a%29%7D%3Bvar%20n%3Dm.getText%3Dfunction%28a%29%7Bvar%20b%2Cc%2Cd%3Da.nodeType%2Ce%3D%22%22%3Bif%28d%29%7Bif%28d%3D%3D%3D1%7C%7Cd%3D%3D%3D9%7C%7Cd%3D%3D%3D11%29%7Bif%28typeof%20a.textContent%3D%3D%22string%22%29return%20a.textContent%3Bif%28typeof%20a.innerText%3D%3D%22string%22%29return%20a.innerText.replace%28k%2C%22%22%29%3Bfor%28a%3Da.firstChild%3Ba%3Ba%3Da.nextSibling%29e+%3Dn%28a%29%7Delse%20if%28d%3D%3D%3D3%7C%7Cd%3D%3D%3D4%29return%20a.nodeValue%7Delse%20for%28b%3D0%3Bc%3Da%5Bb%5D%3Bb++%29c.nodeType%21%3D%3D8%26%26%28e+%3Dn%28c%29%29%3Breturn%20e%7D%2Co%3Dm.selectors%3D%7Border%3A%5B%22ID%22%2C%22NAME%22%2C%22TAG%22%5D%2Cmatch%3A%7BID%3A/%23%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29+%29/%2CCLASS%3A/%5C.%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29+%29/%2CNAME%3A/%5C%5Bname%3D%5B%27%22%5D*%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29+%29%5B%27%22%5D*%5C%5D/%2CATTR%3A/%5C%5B%5Cs*%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29+%29%5Cs*%28%3F%3A%28%5CS%3F%3D%29%5Cs*%28%3F%3A%28%5B%27%22%5D%29%28.*%3F%29%5C3%7C%28%23%3F%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29*%29%7C%29%7C%29%5Cs*%5C%5D/%2CTAG%3A/%5E%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C*%5C-%5D%7C%5C%5C.%29+%29/%2CCHILD%3A/%3A%28only%7Cnth%7Clast%7Cfirst%29-child%28%3F%3A%5C%28%5Cs*%28even%7Codd%7C%28%3F%3A%5B+%5C-%5D%3F%5Cd+%7C%28%3F%3A%5B+%5C-%5D%3F%5Cd*%29%3Fn%5Cs*%28%3F%3A%5B+%5C-%5D%5Cs*%5Cd+%29%3F%29%29%5Cs*%5C%29%29%3F/%2CPOS%3A/%3A%28nth%7Ceq%7Cgt%7Clt%7Cfirst%7Clast%7Ceven%7Codd%29%28%3F%3A%5C%28%28%5Cd*%29%5C%29%29%3F%28%3F%3D%5B%5E%5C-%5D%7C%24%29/%2CPSEUDO%3A/%3A%28%28%3F%3A%5B%5Cw%5Cu00c0-%5CuFFFF%5C-%5D%7C%5C%5C.%29+%29%28%3F%3A%5C%28%28%5B%27%22%5D%3F%29%28%28%3F%3A%5C%28%5B%5E%5C%29%5D+%5C%29%7C%5B%5E%5C%28%5C%29%5D*%29+%29%5C2%5C%29%29%3F/%7D%2CleftMatch%3A%7B%7D%2CattrMap%3A%7B%22class%22%3A%22className%22%2C%22for%22%3A%22htmlFor%22%7D%2CattrHandle%3A%7Bhref%3Afunction%28a%29%7Breturn%20a.getAttribute%28%22href%22%29%7D%2Ctype%3Afunction%28a%29%7Breturn%20a.getAttribute%28%22type%22%29%7D%7D%2Crelative%3A%7B%22+%22%3Afunction%28a%2Cb%29%7Bvar%20c%3Dtypeof%20b%3D%3D%22string%22%2Cd%3Dc%26%26%21l.test%28b%29%2Ce%3Dc%26%26%21d%3Bd%26%26%28b%3Db.toLowerCase%28%29%29%3Bfor%28var%20f%3D0%2Cg%3Da.length%2Ch%3Bf%3Cg%3Bf++%29if%28h%3Da%5Bf%5D%29%7Bwhile%28%28h%3Dh.previousSibling%29%26%26h.nodeType%21%3D%3D1%29%3Ba%5Bf%5D%3De%7C%7Ch%26%26h.nodeName.toLowerCase%28%29%3D%3D%3Db%3Fh%7C%7C%211%3Ah%3D%3D%3Db%7De%26%26m.filter%28b%2Ca%2C%210%29%7D%2C%22%3E%22%3Afunction%28a%2Cb%29%7Bvar%20c%2Cd%3Dtypeof%20b%3D%3D%22string%22%2Ce%3D0%2Cf%3Da.length%3Bif%28d%26%26%21l.test%28b%29%29%7Bb%3Db.toLowerCase%28%29%3Bfor%28%3Be%3Cf%3Be++%29%7Bc%3Da%5Be%5D%3Bif%28c%29%7Bvar%20g%3Dc.parentNode%3Ba%5Be%5D%3Dg.nodeName.toLowerCase%28%29%3D%3D%3Db%3Fg%3A%211%7D%7D%7Delse%7Bfor%28%3Be%3Cf%3Be++%29c%3Da%5Be%5D%2Cc%26%26%28a%5Be%5D%3Dd%3Fc.parentNode%3Ac.parentNode%3D%3D%3Db%29%3Bd%26%26m.filter%28b%2Ca%2C%210%29%7D%7D%2C%22%22%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%2Cf%3De++%2Cg%3Dx%3Btypeof%20b%3D%3D%22string%22%26%26%21l.test%28b%29%26%26%28b%3Db.toLowerCase%28%29%2Cd%3Db%2Cg%3Dw%29%2Cg%28%22parentNode%22%2Cb%2Cf%2Ca%2Cd%2Cc%29%7D%2C%22%7E%22%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%2Cf%3De++%2Cg%3Dx%3Btypeof%20b%3D%3D%22string%22%26%26%21l.test%28b%29%26%26%28b%3Db.toLowerCase%28%29%2Cd%3Db%2Cg%3Dw%29%2Cg%28%22previousSibling%22%2Cb%2Cf%2Ca%2Cd%2Cc%29%7D%7D%2Cfind%3A%7BID%3Afunction%28a%2Cb%2Cc%29%7Bif%28typeof%20b.getElementById%21%3D%22undefined%22%26%26%21c%29%7Bvar%20d%3Db.getElementById%28a%5B1%5D%29%3Breturn%20d%26%26d.parentNode%3F%5Bd%5D%3A%5B%5D%7D%7D%2CNAME%3Afunction%28a%2Cb%29%7Bif%28typeof%20b.getElementsByName%21%3D%22undefined%22%29%7Bvar%20c%3D%5B%5D%2Cd%3Db.getElementsByName%28a%5B1%5D%29%3Bfor%28var%20e%3D0%2Cf%3Dd.length%3Be%3Cf%3Be++%29d%5Be%5D.getAttribute%28%22name%22%29%3D%3D%3Da%5B1%5D%26%26c.push%28d%5Be%5D%29%3Breturn%20c.length%3D%3D%3D0%3Fnull%3Ac%7D%7D%2CTAG%3Afunction%28a%2Cb%29%7Bif%28typeof%20b.getElementsByTagName%21%3D%22undefined%22%29return%20b.getElementsByTagName%28a%5B1%5D%29%7D%7D%2CpreFilter%3A%7BCLASS%3Afunction%28a%2Cb%2Cc%2Cd%2Ce%2Cf%29%7Ba%3D%22%20%22+a%5B1%5D.replace%28j%2C%22%22%29+%22%20%22%3Bif%28f%29return%20a%3Bfor%28var%20g%3D0%2Ch%3B%28h%3Db%5Bg%5D%29%21%3Dnull%3Bg++%29h%26%26%28e%5E%28h.className%26%26%28%22%20%22+h.className+%22%20%22%29.replace%28/%5B%5Ct%5Cn%5Cr%5D/g%2C%22%20%22%29.indexOf%28a%29%3E%3D0%29%3Fc%7C%7Cd.push%28h%29%3Ac%26%26%28b%5Bg%5D%3D%211%29%29%3Breturn%211%7D%2CID%3Afunction%28a%29%7Breturn%20a%5B1%5D.replace%28j%2C%22%22%29%7D%2CTAG%3Afunction%28a%2Cb%29%7Breturn%20a%5B1%5D.replace%28j%2C%22%22%29.toLowerCase%28%29%7D%2CCHILD%3Afunction%28a%29%7Bif%28a%5B1%5D%3D%3D%3D%22nth%22%29%7Ba%5B2%5D%7C%7Cm.error%28a%5B0%5D%29%2Ca%5B2%5D%3Da%5B2%5D.replace%28/%5E%5C+%7C%5Cs*/g%2C%22%22%29%3Bvar%20b%3D/%28-%3F%29%28%5Cd*%29%28%3F%3An%28%5B+%5C-%5D%3F%5Cd*%29%29%3F/.exec%28a%5B2%5D%3D%3D%3D%22even%22%26%26%222n%22%7C%7Ca%5B2%5D%3D%3D%3D%22odd%22%26%26%222n+1%22%7C%7C%21/%5CD/.test%28a%5B2%5D%29%26%26%220n+%22+a%5B2%5D%7C%7Ca%5B2%5D%29%3Ba%5B2%5D%3Db%5B1%5D+%28b%5B2%5D%7C%7C1%29-0%2Ca%5B3%5D%3Db%5B3%5D-0%7Delse%20a%5B2%5D%26%26m.error%28a%5B0%5D%29%3Ba%5B0%5D%3De++%3Breturn%20a%7D%2CATTR%3Afunction%28a%2Cb%2Cc%2Cd%2Ce%2Cf%29%7Bvar%20g%3Da%5B1%5D%3Da%5B1%5D.replace%28j%2C%22%22%29%3B%21f%26%26o.attrMap%5Bg%5D%26%26%28a%5B1%5D%3Do.attrMap%5Bg%5D%29%2Ca%5B4%5D%3D%28a%5B4%5D%7C%7Ca%5B5%5D%7C%7C%22%22%29.replace%28j%2C%22%22%29%2Ca%5B2%5D%3D%3D%3D%22%7E%3D%22%26%26%28a%5B4%5D%3D%22%20%22+a%5B4%5D+%22%20%22%29%3Breturn%20a%7D%2CPSEUDO%3Afunction%28b%2Cc%2Cd%2Ce%2Cf%29%7Bif%28b%5B1%5D%3D%3D%3D%22not%22%29if%28%28a.exec%28b%5B3%5D%29%7C%7C%22%22%29.length%3E1%7C%7C/%5E%5Cw/.test%28b%5B3%5D%29%29b%5B3%5D%3Dm%28b%5B3%5D%2Cnull%2Cnull%2Cc%29%3Belse%7Bvar%20g%3Dm.filter%28b%5B3%5D%2Cc%2Cd%2C%210%5Ef%29%3Bd%7C%7Ce.push.apply%28e%2Cg%29%3Breturn%211%7Delse%20if%28o.match.POS.test%28b%5B0%5D%29%7C%7Co.match.CHILD.test%28b%5B0%5D%29%29return%210%3Breturn%20b%7D%2CPOS%3Afunction%28a%29%7Ba.unshift%28%210%29%3Breturn%20a%7D%7D%2Cfilters%3A%7Benabled%3Afunction%28a%29%7Breturn%20a.disabled%3D%3D%3D%211%26%26a.type%21%3D%3D%22hidden%22%7D%2Cdisabled%3Afunction%28a%29%7Breturn%20a.disabled%3D%3D%3D%210%7D%2Cchecked%3Afunction%28a%29%7Breturn%20a.checked%3D%3D%3D%210%7D%2Cselected%3Afunction%28a%29%7Ba.parentNode%26%26a.parentNode.selectedIndex%3Breturn%20a.selected%3D%3D%3D%210%7D%2Cparent%3Afunction%28a%29%7Breturn%21%21a.firstChild%7D%2Cempty%3Afunction%28a%29%7Breturn%21a.firstChild%7D%2Chas%3Afunction%28a%2Cb%2Cc%29%7Breturn%21%21m%28c%5B3%5D%2Ca%29.length%7D%2Cheader%3Afunction%28a%29%7Breturn/h%5Cd/i.test%28a.nodeName%29%7D%2Ctext%3Afunction%28a%29%7Bvar%20b%3Da.getAttribute%28%22type%22%29%2Cc%3Da.type%3Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22text%22%3D%3D%3Dc%26%26%28b%3D%3D%3Dc%7C%7Cb%3D%3D%3Dnull%29%7D%2Cradio%3Afunction%28a%29%7Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22radio%22%3D%3D%3Da.type%7D%2Ccheckbox%3Afunction%28a%29%7Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22checkbox%22%3D%3D%3Da.type%7D%2Cfile%3Afunction%28a%29%7Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22file%22%3D%3D%3Da.type%7D%2Cpassword%3Afunction%28a%29%7Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22password%22%3D%3D%3Da.type%7D%2Csubmit%3Afunction%28a%29%7Bvar%20b%3Da.nodeName.toLowerCase%28%29%3Breturn%28b%3D%3D%3D%22input%22%7C%7Cb%3D%3D%3D%22button%22%29%26%26%22submit%22%3D%3D%3Da.type%7D%2Cimage%3Afunction%28a%29%7Breturn%20a.nodeName.toLowerCase%28%29%3D%3D%3D%22input%22%26%26%22image%22%3D%3D%3Da.type%7D%2Creset%3Afunction%28a%29%7Bvar%20b%3Da.nodeName.toLowerCase%28%29%3Breturn%28b%3D%3D%3D%22input%22%7C%7Cb%3D%3D%3D%22button%22%29%26%26%22reset%22%3D%3D%3Da.type%7D%2Cbutton%3Afunction%28a%29%7Bvar%20b%3Da.nodeName.toLowerCase%28%29%3Breturn%20b%3D%3D%3D%22input%22%26%26%22button%22%3D%3D%3Da.type%7C%7Cb%3D%3D%3D%22button%22%7D%2Cinput%3Afunction%28a%29%7Breturn/input%7Cselect%7Ctextarea%7Cbutton/i.test%28a.nodeName%29%7D%2Cfocus%3Afunction%28a%29%7Breturn%20a%3D%3D%3Da.ownerDocument.activeElement%7D%7D%2CsetFilters%3A%7Bfirst%3Afunction%28a%2Cb%29%7Breturn%20b%3D%3D%3D0%7D%2Clast%3Afunction%28a%2Cb%2Cc%2Cd%29%7Breturn%20b%3D%3D%3Dd.length-1%7D%2Ceven%3Afunction%28a%2Cb%29%7Breturn%20b%252%3D%3D%3D0%7D%2Codd%3Afunction%28a%2Cb%29%7Breturn%20b%252%3D%3D%3D1%7D%2Clt%3Afunction%28a%2Cb%2Cc%29%7Breturn%20b%3Cc%5B3%5D-0%7D%2Cgt%3Afunction%28a%2Cb%2Cc%29%7Breturn%20b%3Ec%5B3%5D-0%7D%2Cnth%3Afunction%28a%2Cb%2Cc%29%7Breturn%20c%5B3%5D-0%3D%3D%3Db%7D%2Ceq%3Afunction%28a%2Cb%2Cc%29%7Breturn%20c%5B3%5D-0%3D%3D%3Db%7D%7D%2Cfilter%3A%7BPSEUDO%3Afunction%28a%2Cb%2Cc%2Cd%29%7Bvar%20e%3Db%5B1%5D%2Cf%3Do.filters%5Be%5D%3Bif%28f%29return%20f%28a%2Cc%2Cb%2Cd%29%3Bif%28e%3D%3D%3D%22contains%22%29return%28a.textContent%7C%7Ca.innerText%7C%7Cn%28%5Ba%5D%29%7C%7C%22%22%29.indexOf%28b%5B3%5D%29%3E%3D0%3Bif%28e%3D%3D%3D%22not%22%29%7Bvar%20g%3Db%5B3%5D%3Bfor%28var%20h%3D0%2Ci%3Dg.length%3Bh%3Ci%3Bh++%29if%28g%5Bh%5D%3D%3D%3Da%29return%211%3Breturn%210%7Dm.error%28e%29%7D%2CCHILD%3Afunction%28a%2Cb%29%7Bvar%20c%2Ce%2Cf%2Cg%2Ch%2Ci%2Cj%2Ck%3Db%5B1%5D%2Cl%3Da%3Bswitch%28k%29%7Bcase%22only%22%3Acase%22first%22%3Awhile%28l%3Dl.previousSibling%29if%28l.nodeType%3D%3D%3D1%29return%211%3Bif%28k%3D%3D%3D%22first%22%29return%210%3Bl%3Da%3Bcase%22last%22%3Awhile%28l%3Dl.nextSibling%29if%28l.nodeType%3D%3D%3D1%29return%211%3Breturn%210%3Bcase%22nth%22%3Ac%3Db%5B2%5D%2Ce%3Db%5B3%5D%3Bif%28c%3D%3D%3D1%26%26e%3D%3D%3D0%29return%210%3Bf%3Db%5B0%5D%2Cg%3Da.parentNode%3Bif%28g%26%26%28g%5Bd%5D%21%3D%3Df%7C%7C%21a.nodeIndex%29%29%7Bi%3D0%3Bfor%28l%3Dg.firstChild%3Bl%3Bl%3Dl.nextSibling%29l.nodeType%3D%3D%3D1%26%26%28l.nodeIndex%3D++i%29%3Bg%5Bd%5D%3Df%7Dj%3Da.nodeIndex-e%3Breturn%20c%3D%3D%3D0%3Fj%3D%3D%3D0%3Aj%25c%3D%3D%3D0%26%26j/c%3E%3D0%7D%7D%2CID%3Afunction%28a%2Cb%29%7Breturn%20a.nodeType%3D%3D%3D1%26%26a.getAttribute%28%22id%22%29%3D%3D%3Db%7D%2CTAG%3Afunction%28a%2Cb%29%7Breturn%20b%3D%3D%3D%22*%22%26%26a.nodeType%3D%3D%3D1%7C%7C%21%21a.nodeName%26%26a.nodeName.toLowerCase%28%29%3D%3D%3Db%7D%2CCLASS%3Afunction%28a%2Cb%29%7Breturn%28%22%20%22+%28a.className%7C%7Ca.getAttribute%28%22class%22%29%29+%22%20%22%29.indexOf%28b%29%3E-1%7D%2CATTR%3Afunction%28a%2Cb%29%7Bvar%20c%3Db%5B1%5D%2Cd%3Dm.attr%3Fm.attr%28a%2Cc%29%3Ao.attrHandle%5Bc%5D%3Fo.attrHandle%5Bc%5D%28a%29%3Aa%5Bc%5D%21%3Dnull%3Fa%5Bc%5D%3Aa.getAttribute%28c%29%2Ce%3Dd+%22%22%2Cf%3Db%5B2%5D%2Cg%3Db%5B4%5D%3Breturn%20d%3D%3Dnull%3Ff%3D%3D%3D%22%21%3D%22%3A%21f%26%26m.attr%3Fd%21%3Dnull%3Af%3D%3D%3D%22%3D%22%3Fe%3D%3D%3Dg%3Af%3D%3D%3D%22*%3D%22%3Fe.indexOf%28g%29%3E%3D0%3Af%3D%3D%3D%22%7E%3D%22%3F%28%22%20%22+e+%22%20%22%29.indexOf%28g%29%3E%3D0%3Ag%3Ff%3D%3D%3D%22%21%3D%22%3Fe%21%3D%3Dg%3Af%3D%3D%3D%22%5E%3D%22%3Fe.indexOf%28g%29%3D%3D%3D0%3Af%3D%3D%3D%22%24%3D%22%3Fe.substr%28e.length-g.length%29%3D%3D%3Dg%3Af%3D%3D%3D%22%7C%3D%22%3Fe%3D%3D%3Dg%7C%7Ce.substr%280%2Cg.length+1%29%3D%3D%3Dg+%22-%22%3A%211%3Ae%26%26d%21%3D%3D%211%7D%2CPOS%3Afunction%28a%2Cb%2Cc%2Cd%29%7Bvar%20e%3Db%5B2%5D%2Cf%3Do.setFilters%5Be%5D%3Bif%28f%29return%20f%28a%2Cc%2Cb%2Cd%29%7D%7D%7D%2Cp%3Do.match.POS%2Cq%3Dfunction%28a%2Cb%29%7Breturn%22%5C%5C%22+%28b-0+1%29%7D%3Bfor%28var%20r%20in%20o.match%29o.match%5Br%5D%3Dnew%20RegExp%28o.match%5Br%5D.source+/%28%3F%21%5B%5E%5C%5B%5D*%5C%5D%29%28%3F%21%5B%5E%5C%28%5D*%5C%29%29/.source%29%2Co.leftMatch%5Br%5D%3Dnew%20RegExp%28/%28%5E%28%3F%3A.%7C%5Cr%7C%5Cn%29*%3F%29/.source+o.match%5Br%5D.source.replace%28/%5C%5C%28%5Cd+%29/g%2Cq%29%29%3Bo.match.globalPOS%3Dp%3Bvar%20s%3Dfunction%28a%2Cb%29%7Ba%3DArray.prototype.slice.call%28a%2C0%29%3Bif%28b%29%7Bb.push.apply%28b%2Ca%29%3Breturn%20b%7Dreturn%20a%7D%3Btry%7BArray.prototype.slice.call%28c.documentElement.childNodes%2C0%29%5B0%5D.nodeType%7Dcatch%28t%29%7Bs%3Dfunction%28a%2Cb%29%7Bvar%20c%3D0%2Cd%3Db%7C%7C%5B%5D%3Bif%28g.call%28a%29%3D%3D%3D%22%5Bobject%20Array%5D%22%29Array.prototype.push.apply%28d%2Ca%29%3Belse%20if%28typeof%20a.length%3D%3D%22number%22%29for%28var%20e%3Da.length%3Bc%3Ce%3Bc++%29d.push%28a%5Bc%5D%29%3Belse%20for%28%3Ba%5Bc%5D%3Bc++%29d.push%28a%5Bc%5D%29%3Breturn%20d%7D%7Dvar%20u%2Cv%3Bc.documentElement.compareDocumentPosition%3Fu%3Dfunction%28a%2Cb%29%7Bif%28a%3D%3D%3Db%29%7Bh%3D%210%3Breturn%200%7Dif%28%21a.compareDocumentPosition%7C%7C%21b.compareDocumentPosition%29return%20a.compareDocumentPosition%3F-1%3A1%3Breturn%20a.compareDocumentPosition%28b%29%264%3F-1%3A1%7D%3A%28u%3Dfunction%28a%2Cb%29%7Bif%28a%3D%3D%3Db%29%7Bh%3D%210%3Breturn%200%7Dif%28a.sourceIndex%26%26b.sourceIndex%29return%20a.sourceIndex-b.sourceIndex%3Bvar%20c%2Cd%2Ce%3D%5B%5D%2Cf%3D%5B%5D%2Cg%3Da.parentNode%2Ci%3Db.parentNode%2Cj%3Dg%3Bif%28g%3D%3D%3Di%29return%20v%28a%2Cb%29%3Bif%28%21g%29return-1%3Bif%28%21i%29return%201%3Bwhile%28j%29e.unshift%28j%29%2Cj%3Dj.parentNode%3Bj%3Di%3Bwhile%28j%29f.unshift%28j%29%2Cj%3Dj.parentNode%3Bc%3De.length%2Cd%3Df.length%3Bfor%28var%20k%3D0%3Bk%3Cc%26%26k%3Cd%3Bk++%29if%28e%5Bk%5D%21%3D%3Df%5Bk%5D%29return%20v%28e%5Bk%5D%2Cf%5Bk%5D%29%3Breturn%20k%3D%3D%3Dc%3Fv%28a%2Cf%5Bk%5D%2C-1%29%3Av%28e%5Bk%5D%2Cb%2C1%29%7D%2Cv%3Dfunction%28a%2Cb%2Cc%29%7Bif%28a%3D%3D%3Db%29return%20c%3Bvar%20d%3Da.nextSibling%3Bwhile%28d%29%7Bif%28d%3D%3D%3Db%29return-1%3Bd%3Dd.nextSibling%7Dreturn%201%7D%29%2Cfunction%28%29%7Bvar%20a%3Dc.createElement%28%22div%22%29%2Cd%3D%22script%22+%28new%20Date%29.getTime%28%29%2Ce%3Dc.documentElement%3Ba.innerHTML%3D%22%3Ca%20name%3D%27%22+d+%22%27/%3E%22%2Ce.insertBefore%28a%2Ce.firstChild%29%2Cc.getElementById%28d%29%26%26%28o.find.ID%3Dfunction%28a%2Cc%2Cd%29%7Bif%28typeof%20c.getElementById%21%3D%22undefined%22%26%26%21d%29%7Bvar%20e%3Dc.getElementById%28a%5B1%5D%29%3Breturn%20e%3Fe.id%3D%3D%3Da%5B1%5D%7C%7Ctypeof%20e.getAttributeNode%21%3D%22undefined%22%26%26e.getAttributeNode%28%22id%22%29.nodeValue%3D%3D%3Da%5B1%5D%3F%5Be%5D%3Ab%3A%5B%5D%7D%7D%2Co.filter.ID%3Dfunction%28a%2Cb%29%7Bvar%20c%3Dtypeof%20a.getAttributeNode%21%3D%22undefined%22%26%26a.getAttributeNode%28%22id%22%29%3Breturn%20a.nodeType%3D%3D%3D1%26%26c%26%26c.nodeValue%3D%3D%3Db%7D%29%2Ce.removeChild%28a%29%2Ce%3Da%3Dnull%7D%28%29%2Cfunction%28%29%7Bvar%20a%3Dc.createElement%28%22div%22%29%3Ba.appendChild%28c.createComment%28%22%22%29%29%2Ca.getElementsByTagName%28%22*%22%29.length%3E0%26%26%28o.find.TAG%3Dfunction%28a%2Cb%29%7Bvar%20c%3Db.getElementsByTagName%28a%5B1%5D%29%3Bif%28a%5B1%5D%3D%3D%3D%22*%22%29%7Bvar%20d%3D%5B%5D%3Bfor%28var%20e%3D0%3Bc%5Be%5D%3Be++%29c%5Be%5D.nodeType%3D%3D%3D1%26%26d.push%28c%5Be%5D%29%3Bc%3Dd%7Dreturn%20c%7D%29%2Ca.innerHTML%3D%22%3Ca%20href%3D%27%23%27%3E%3C/a%3E%22%2Ca.firstChild%26%26typeof%20a.firstChild.getAttribute%21%3D%22undefined%22%26%26a.firstChild.getAttribute%28%22href%22%29%21%3D%3D%22%23%22%26%26%28o.attrHandle.href%3Dfunction%28a%29%7Breturn%20a.getAttribute%28%22href%22%2C2%29%7D%29%2Ca%3Dnull%7D%28%29%2Cc.querySelectorAll%26%26function%28%29%7Bvar%20a%3Dm%2Cb%3Dc.createElement%28%22div%22%29%2Cd%3D%22__sizzle__%22%3Bb.innerHTML%3D%22%3Cp%20class%3D%27TEST%27%3E%3C/p%3E%22%3Bif%28%21b.querySelectorAll%7C%7Cb.querySelectorAll%28%22.TEST%22%29.length%21%3D%3D0%29%7Bm%3Dfunction%28b%2Ce%2Cf%2Cg%29%7Be%3De%7C%7Cc%3Bif%28%21g%26%26%21m.isXML%28e%29%29%7Bvar%20h%3D/%5E%28%5Cw+%24%29%7C%5E%5C.%28%5B%5Cw%5C-%5D+%24%29%7C%5E%23%28%5B%5Cw%5C-%5D+%24%29/.exec%28b%29%3Bif%28h%26%26%28e.nodeType%3D%3D%3D1%7C%7Ce.nodeType%3D%3D%3D9%29%29%7Bif%28h%5B1%5D%29return%20s%28e.getElementsByTagName%28b%29%2Cf%29%3Bif%28h%5B2%5D%26%26o.find.CLASS%26%26e.getElementsByClassName%29return%20s%28e.getElementsByClassName%28h%5B2%5D%29%2Cf%29%7Dif%28e.nodeType%3D%3D%3D9%29%7Bif%28b%3D%3D%3D%22body%22%26%26e.body%29return%20s%28%5Be.body%5D%2Cf%29%3Bif%28h%26%26h%5B3%5D%29%7Bvar%20i%3De.getElementById%28h%5B3%5D%29%3Bif%28%21i%7C%7C%21i.parentNode%29return%20s%28%5B%5D%2Cf%29%3Bif%28i.id%3D%3D%3Dh%5B3%5D%29return%20s%28%5Bi%5D%2Cf%29%7Dtry%7Breturn%20s%28e.querySelectorAll%28b%29%2Cf%29%7Dcatch%28j%29%7B%7D%7Delse%20if%28e.nodeType%3D%3D%3D1%26%26e.nodeName.toLowerCase%28%29%21%3D%3D%22object%22%29%7Bvar%20k%3De%2Cl%3De.getAttribute%28%22id%22%29%2Cn%3Dl%7C%7Cd%2Cp%3De.parentNode%2Cq%3D/%5E%5Cs*%5B+%7E%5D/.test%28b%29%3Bl%3Fn%3Dn.replace%28/%27/g%2C%22%5C%5C%24%26%22%29%3Ae.setAttribute%28%22id%22%2Cn%29%2Cq%26%26p%26%26%28e%3De.parentNode%29%3Btry%7Bif%28%21q%7C%7Cp%29return%20s%28e.querySelectorAll%28%22%5Bid%3D%27%22+n+%22%27%5D%20%22+b%29%2Cf%29%7Dcatch%28r%29%7B%7Dfinally%7Bl%7C%7Ck.removeAttribute%28%22id%22%29%7D%7D%7Dreturn%20a%28b%2Ce%2Cf%2Cg%29%7D%3Bfor%28var%20e%20in%20a%29m%5Be%5D%3Da%5Be%5D%3Bb%3Dnull%7D%7D%28%29%2Cfunction%28%29%7Bvar%20a%3Dc.documentElement%2Cb%3Da.matchesSelector%7C%7Ca.mozMatchesSelector%7C%7Ca.webkitMatchesSelector%7C%7Ca.msMatchesSelector%3Bif%28b%29%7Bvar%20d%3D%21b.call%28c.createElement%28%22div%22%29%2C%22div%22%29%2Ce%3D%211%3Btry%7Bb.call%28c.documentElement%2C%22%5Btest%21%3D%27%27%5D%3Asizzle%22%29%7Dcatch%28f%29%7Be%3D%210%7Dm.matchesSelector%3Dfunction%28a%2Cc%29%7Bc%3Dc.replace%28/%5C%3D%5Cs*%28%5B%5E%27%22%5C%5D%5D*%29%5Cs*%5C%5D/g%2C%22%3D%27%241%27%5D%22%29%3Bif%28%21m.isXML%28a%29%29try%7Bif%28e%7C%7C%21o.match.PSEUDO.test%28c%29%26%26%21/%21%3D/.test%28c%29%29%7Bvar%20f%3Db.call%28a%2Cc%29%3Bif%28f%7C%7C%21d%7C%7Ca.document%26%26a.document.nodeType%21%3D%3D11%29return%20f%7D%7Dcatch%28g%29%7B%7Dreturn%20m%28c%2Cnull%2Cnull%2C%5Ba%5D%29.length%3E0%7D%7D%7D%28%29%2Cfunction%28%29%7Bvar%20a%3Dc.createElement%28%22div%22%29%3Ba.innerHTML%3D%22%3Cdiv%20class%3D%27test%20e%27%3E%3C/div%3E%3Cdiv%20class%3D%27test%27%3E%3C/div%3E%22%3Bif%28%21%21a.getElementsByClassName%26%26a.getElementsByClassName%28%22e%22%29.length%21%3D%3D0%29%7Ba.lastChild.className%3D%22e%22%3Bif%28a.getElementsByClassName%28%22e%22%29.length%3D%3D%3D1%29return%3Bo.order.splice%281%2C0%2C%22CLASS%22%29%2Co.find.CLASS%3Dfunction%28a%2Cb%2Cc%29%7Bif%28typeof%20b.getElementsByClassName%21%3D%22undefined%22%26%26%21c%29return%20b.getElementsByClassName%28a%5B1%5D%29%7D%2Ca%3Dnull%7D%7D%28%29%2Cc.documentElement.contains%3Fm.contains%3Dfunction%28a%2Cb%29%7Breturn%20a%21%3D%3Db%26%26%28a.contains%3Fa.contains%28b%29%3A%210%29%7D%3Ac.documentElement.compareDocumentPosition%3Fm.contains%3Dfunction%28a%2Cb%29%7Breturn%21%21%28a.compareDocumentPosition%28b%29%2616%29%7D%3Am.contains%3Dfunction%28%29%7Breturn%211%7D%2Cm.isXML%3Dfunction%28a%29%7Bvar%20b%3D%28a%3Fa.ownerDocument%7C%7Ca%3A0%29.documentElement%3Breturn%20b%3Fb.nodeName%21%3D%3D%22HTML%22%3A%211%7D%3Bvar%20y%3Dfunction%28a%2Cb%2Cc%29%7Bvar%20d%2Ce%3D%5B%5D%2Cf%3D%22%22%2Cg%3Db.nodeType%3F%5Bb%5D%3Ab%3Bwhile%28d%3Do.match.PSEUDO.exec%28a%29%29f+%3Dd%5B0%5D%2Ca%3Da.replace%28o.match.PSEUDO%2C%22%22%29%3Ba%3Do.relative%5Ba%5D%3Fa+%22*%22%3Aa%3Bfor%28var%20h%3D0%2Ci%3Dg.length%3Bh%3Ci%3Bh++%29m%28a%2Cg%5Bh%5D%2Ce%2Cc%29%3Breturn%20m.filter%28f%2Ce%29%7D%3Bm.attr%3Df.attr%2Cm.selectors.attrMap%3D%7B%7D%2Cf.find%3Dm%2Cf.expr%3Dm.selectors%2Cf.expr%5B%22%3A%22%5D%3Df.expr.filters%2Cf.unique%3Dm.uniqueSort%2Cf.text%3Dm.getText%2Cf.isXMLDoc%3Dm.isXML%2Cf.contains%3Dm.contains%7D%28%29%3Bvar%20L%3D/Until%24/%2CM%3D/%5E%28%3F%3Aparents%7CprevUntil%7CprevAll%29/%2CN%3D/%2C/%2CO%3D/%5E.%5B%5E%3A%23%5C%5B%5C.%2C%5D*%24/%2CP%3DArray.prototype.slice%2CQ%3Df.expr.match.globalPOS%2CR%3D%7Bchildren%3A%210%2Ccontents%3A%210%2Cnext%3A%210%2Cprev%3A%210%7D%3Bf.fn.extend%28%7Bfind%3Afunction%28a%29%7Bvar%20b%3Dthis%2Cc%2Cd%3Bif%28typeof%20a%21%3D%22string%22%29return%20f%28a%29.filter%28function%28%29%7Bfor%28c%3D0%2Cd%3Db.length%3Bc%3Cd%3Bc++%29if%28f.contains%28b%5Bc%5D%2Cthis%29%29return%210%7D%29%3Bvar%20e%3Dthis.pushStack%28%22%22%2C%22find%22%2Ca%29%2Cg%2Ch%2Ci%3Bfor%28c%3D0%2Cd%3Dthis.length%3Bc%3Cd%3Bc++%29%7Bg%3De.length%2Cf.find%28a%2Cthis%5Bc%5D%2Ce%29%3Bif%28c%3E0%29for%28h%3Dg%3Bh%3Ce.length%3Bh++%29for%28i%3D0%3Bi%3Cg%3Bi++%29if%28e%5Bi%5D%3D%3D%3De%5Bh%5D%29%7Be.splice%28h--%2C1%29%3Bbreak%7D%7Dreturn%20e%7D%2Chas%3Afunction%28a%29%7Bvar%20b%3Df%28a%29%3Breturn%20this.filter%28function%28%29%7Bfor%28var%20a%3D0%2Cc%3Db.length%3Ba%3Cc%3Ba++%29if%28f.contains%28this%2Cb%5Ba%5D%29%29return%210%7D%29%7D%2Cnot%3Afunction%28a%29%7Breturn%20this.pushStack%28T%28this%2Ca%2C%211%29%2C%22not%22%2Ca%29%7D%2Cfilter%3Afunction%28a%29%7Breturn%20this.pushStack%28T%28this%2Ca%2C%210%29%2C%22filter%22%2Ca%29%7D%2Cis%3Afunction%28a%29%7Breturn%21%21a%26%26%28typeof%20a%3D%3D%22string%22%3FQ.test%28a%29%3Ff%28a%2Cthis.context%29.index%28this%5B0%5D%29%3E%3D0%3Af.filter%28a%2Cthis%29.length%3E0%3Athis.filter%28a%29.length%3E0%29%7D%2Cclosest%3Afunction%28a%2Cb%29%7Bvar%20c%3D%5B%5D%2Cd%2Ce%2Cg%3Dthis%5B0%5D%3Bif%28f.isArray%28a%29%29%7Bvar%20h%3D1%3Bwhile%28g%26%26g.ownerDocument%26%26g%21%3D%3Db%29%7Bfor%28d%3D0%3Bd%3Ca.length%3Bd++%29f%28g%29.is%28a%5Bd%5D%29%26%26c.push%28%7Bselector%3Aa%5Bd%5D%2Celem%3Ag%2Clevel%3Ah%7D%29%3Bg%3Dg.parentNode%2Ch++%7Dreturn%20c%7Dvar%20i%3DQ.test%28a%29%7C%7Ctypeof%20a%21%3D%22string%22%3Ff%28a%2Cb%7C%7Cthis.context%29%3A0%3Bfor%28d%3D0%2Ce%3Dthis.length%3Bd%3Ce%3Bd++%29%7Bg%3Dthis%5Bd%5D%3Bwhile%28g%29%7Bif%28i%3Fi.index%28g%29%3E-1%3Af.find.matchesSelector%28g%2Ca%29%29%7Bc.push%28g%29%3Bbreak%7Dg%3Dg.parentNode%3Bif%28%21g%7C%7C%21g.ownerDocument%7C%7Cg%3D%3D%3Db%7C%7Cg.nodeType%3D%3D%3D11%29break%7D%7Dc%3Dc.length%3E1%3Ff.unique%28c%29%3Ac%3Breturn%20this.pushStack%28c%2C%22closest%22%2Ca%29%7D%2Cindex%3Afunction%28a%29%7Bif%28%21a%29return%20this%5B0%5D%26%26this%5B0%5D.parentNode%3Fthis.prevAll%28%29.length%3A-1%3Bif%28typeof%20a%3D%3D%22string%22%29return%20f.inArray%28this%5B0%5D%2Cf%28a%29%29%3Breturn%20f.inArray%28a.jquery%3Fa%5B0%5D%3Aa%2Cthis%29%7D%2Cadd%3Afunction%28a%2Cb%29%7Bvar%20c%3Dtypeof%20a%3D%3D%22string%22%3Ff%28a%2Cb%29%3Af.makeArray%28a%26%26a.nodeType%3F%5Ba%5D%3Aa%29%2Cd%3Df.merge%28this.get%28%29%2Cc%29%3Breturn%20this.pushStack%28S%28c%5B0%5D%29%7C%7CS%28d%5B0%5D%29%3Fd%3Af.unique%28d%29%29%7D%2CandSelf%3Afunction%28%29%7Breturn%20this.add%28this.prevObject%29%7D%7D%29%2Cf.each%28%7Bparent%3Afunction%28a%29%7Bvar%20b%3Da.parentNode%3Breturn%20b%26%26b.nodeType%21%3D%3D11%3Fb%3Anull%7D%2Cparents%3Afunction%28a%29%7Breturn%20f.dir%28a%2C%22parentNode%22%29%7D%2CparentsUntil%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.dir%28a%2C%22parentNode%22%2Cc%29%7D%2Cnext%3Afunction%28a%29%7Breturn%20f.nth%28a%2C2%2C%22nextSibling%22%29%7D%2Cprev%3Afunction%28a%29%7Breturn%20f.nth%28a%2C2%2C%22previousSibling%22%29%7D%2CnextAll%3Afunction%28a%29%7Breturn%20f.dir%28a%2C%22nextSibling%22%29%7D%2CprevAll%3Afunction%28a%29%7Breturn%20f.dir%28a%2C%22previousSibling%22%29%7D%2CnextUntil%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.dir%28a%2C%22nextSibling%22%2Cc%29%7D%2CprevUntil%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.dir%28a%2C%22previousSibling%22%2Cc%29%7D%2Csiblings%3Afunction%28a%29%7Breturn%20f.sibling%28%28a.parentNode%7C%7C%7B%7D%29.firstChild%2Ca%29%7D%2Cchildren%3Afunction%28a%29%7Breturn%20f.sibling%28a.firstChild%29%7D%2Ccontents%3Afunction%28a%29%7Breturn%20f.nodeName%28a%2C%22iframe%22%29%3Fa.contentDocument%7C%7Ca.contentWindow.document%3Af.makeArray%28a.childNodes%29%7D%7D%2Cfunction%28a%2Cb%29%7Bf.fn%5Ba%5D%3Dfunction%28c%2Cd%29%7Bvar%20e%3Df.map%28this%2Cb%2Cc%29%3BL.test%28a%29%7C%7C%28d%3Dc%29%2Cd%26%26typeof%20d%3D%3D%22string%22%26%26%28e%3Df.filter%28d%2Ce%29%29%2Ce%3Dthis.length%3E1%26%26%21R%5Ba%5D%3Ff.unique%28e%29%3Ae%2C%28this.length%3E1%7C%7CN.test%28d%29%29%26%26M.test%28a%29%26%26%28e%3De.reverse%28%29%29%3Breturn%20this.pushStack%28e%2Ca%2CP.call%28arguments%29.join%28%22%2C%22%29%29%7D%7D%29%2Cf.extend%28%7Bfilter%3Afunction%28a%2Cb%2Cc%29%7Bc%26%26%28a%3D%22%3Anot%28%22+a+%22%29%22%29%3Breturn%20b.length%3D%3D%3D1%3Ff.find.matchesSelector%28b%5B0%5D%2Ca%29%3F%5Bb%5B0%5D%5D%3A%5B%5D%3Af.find.matches%28a%2Cb%29%7D%2Cdir%3Afunction%28a%2Cc%2Cd%29%7Bvar%20e%3D%5B%5D%2Cg%3Da%5Bc%5D%3Bwhile%28g%26%26g.nodeType%21%3D%3D9%26%26%28d%3D%3D%3Db%7C%7Cg.nodeType%21%3D%3D1%7C%7C%21f%28g%29.is%28d%29%29%29g.nodeType%3D%3D%3D1%26%26e.push%28g%29%2Cg%3Dg%5Bc%5D%3Breturn%20e%7D%2Cnth%3Afunction%28a%2Cb%2Cc%2Cd%29%7Bb%3Db%7C%7C1%3Bvar%20e%3D0%3Bfor%28%3Ba%3Ba%3Da%5Bc%5D%29if%28a.nodeType%3D%3D%3D1%26%26++e%3D%3D%3Db%29break%3Breturn%20a%7D%2Csibling%3Afunction%28a%2Cb%29%7Bvar%20c%3D%5B%5D%3Bfor%28%3Ba%3Ba%3Da.nextSibling%29a.nodeType%3D%3D%3D1%26%26a%21%3D%3Db%26%26c.push%28a%29%3Breturn%20c%7D%7D%29%3Bvar%20V%3D%22abbr%7Carticle%7Caside%7Caudio%7Cbdi%7Ccanvas%7Cdata%7Cdatalist%7Cdetails%7Cfigcaption%7Cfigure%7Cfooter%7Cheader%7Chgroup%7Cmark%7Cmeter%7Cnav%7Coutput%7Cprogress%7Csection%7Csummary%7Ctime%7Cvideo%22%2CW%3D/%20jQuery%5Cd+%3D%22%28%3F%3A%5Cd+%7Cnull%29%22/g%2CX%3D/%5E%5Cs+/%2CY%3D/%3C%28%3F%21area%7Cbr%7Ccol%7Cembed%7Chr%7Cimg%7Cinput%7Clink%7Cmeta%7Cparam%29%28%28%5B%5Cw%3A%5D+%29%5B%5E%3E%5D*%29%5C/%3E/ig%2CZ%3D/%3C%28%5B%5Cw%3A%5D+%29/%2C%24%3D/%3Ctbody/i%2C_%3D/%3C%7C%26%23%3F%5Cw+%3B/%2Cba%3D/%3C%28%3F%3Ascript%7Cstyle%29/i%2Cbb%3D/%3C%28%3F%3Ascript%7Cobject%7Cembed%7Coption%7Cstyle%29/i%2Cbc%3Dnew%20RegExp%28%22%3C%28%3F%3A%22+V+%22%29%5B%5C%5Cs/%3E%5D%22%2C%22i%22%29%2Cbd%3D/checked%5Cs*%28%3F%3A%5B%5E%3D%5D%7C%3D%5Cs*.checked.%29/i%2Cbe%3D/%5C/%28java%7Cecma%29script/i%2Cbf%3D/%5E%5Cs*%3C%21%28%3F%3A%5C%5BCDATA%5C%5B%7C%5C-%5C-%29/%2Cbg%3D%7Boption%3A%5B1%2C%22%3Cselect%20multiple%3D%27multiple%27%3E%22%2C%22%3C/select%3E%22%5D%2Clegend%3A%5B1%2C%22%3Cfieldset%3E%22%2C%22%3C/fieldset%3E%22%5D%2Cthead%3A%5B1%2C%22%3Ctable%3E%22%2C%22%3C/table%3E%22%5D%2Ctr%3A%5B2%2C%22%3Ctable%3E%3Ctbody%3E%22%2C%22%3C/tbody%3E%3C/table%3E%22%5D%2Ctd%3A%5B3%2C%22%3Ctable%3E%3Ctbody%3E%3Ctr%3E%22%2C%22%3C/tr%3E%3C/tbody%3E%3C/table%3E%22%5D%2Ccol%3A%5B2%2C%22%3Ctable%3E%3Ctbody%3E%3C/tbody%3E%3Ccolgroup%3E%22%2C%22%3C/colgroup%3E%3C/table%3E%22%5D%2Carea%3A%5B1%2C%22%3Cmap%3E%22%2C%22%3C/map%3E%22%5D%2C_default%3A%5B0%2C%22%22%2C%22%22%5D%7D%2Cbh%3DU%28c%29%3Bbg.optgroup%3Dbg.option%2Cbg.tbody%3Dbg.tfoot%3Dbg.colgroup%3Dbg.caption%3Dbg.thead%2Cbg.th%3Dbg.td%2Cf.support.htmlSerialize%7C%7C%28bg._default%3D%5B1%2C%22div%3Cdiv%3E%22%2C%22%3C/div%3E%22%5D%29%2Cf.fn.extend%28%7Btext%3Afunction%28a%29%7Breturn%20f.access%28this%2Cfunction%28a%29%7Breturn%20a%3D%3D%3Db%3Ff.text%28this%29%3Athis.empty%28%29.append%28%28this%5B0%5D%26%26this%5B0%5D.ownerDocument%7C%7Cc%29.createTextNode%28a%29%29%7D%2Cnull%2Ca%2Carguments.length%29%7D%2CwrapAll%3Afunction%28a%29%7Bif%28f.isFunction%28a%29%29return%20this.each%28function%28b%29%7Bf%28this%29.wrapAll%28a.call%28this%2Cb%29%29%7D%29%3Bif%28this%5B0%5D%29%7Bvar%20b%3Df%28a%2Cthis%5B0%5D.ownerDocument%29.eq%280%29.clone%28%210%29%3Bthis%5B0%5D.parentNode%26%26b.insertBefore%28this%5B0%5D%29%2Cb.map%28function%28%29%7Bvar%20a%3Dthis%3Bwhile%28a.firstChild%26%26a.firstChild.nodeType%3D%3D%3D1%29a%3Da.firstChild%3Breturn%20a%7D%29.append%28this%29%7Dreturn%20this%7D%2CwrapInner%3Afunction%28a%29%7Bif%28f.isFunction%28a%29%29return%20this.each%28function%28b%29%7Bf%28this%29.wrapInner%28a.call%28this%2Cb%29%29%7D%29%3Breturn%20this.each%28function%28%29%7Bvar%20b%3Df%28this%29%2Cc%3Db.contents%28%29%3Bc.length%3Fc.wrapAll%28a%29%3Ab.append%28a%29%7D%29%7D%2Cwrap%3Afunction%28a%29%7Bvar%20b%3Df.isFunction%28a%29%3Breturn%20this.each%28function%28c%29%7Bf%28this%29.wrapAll%28b%3Fa.call%28this%2Cc%29%3Aa%29%7D%29%7D%2Cunwrap%3Afunction%28%29%7Breturn%20this.parent%28%29.each%28function%28%29%7Bf.nodeName%28this%2C%22body%22%29%7C%7Cf%28this%29.replaceWith%28this.childNodes%29%7D%29.end%28%29%7D%2Cappend%3Afunction%28%29%7Breturn%20this.domManip%28arguments%2C%210%2Cfunction%28a%29%7Bthis.nodeType%3D%3D%3D1%26%26this.appendChild%28a%29%7D%29%7D%2Cprepend%3Afunction%28%29%7Breturn%20this.domManip%28arguments%2C%210%2Cfunction%28a%29%7Bthis.nodeType%3D%3D%3D1%26%26this.insertBefore%28a%2Cthis.firstChild%29%7D%29%7D%2Cbefore%3Afunction%28%29%7Bif%28this%5B0%5D%26%26this%5B0%5D.parentNode%29return%20this.domManip%28arguments%2C%211%2Cfunction%28a%29%7Bthis.parentNode.insertBefore%28a%2Cthis%29%7D%29%3Bif%28arguments.length%29%7Bvar%20a%3Df%0D%0A%20%20%20%20.clean%28arguments%29%3Ba.push.apply%28a%2Cthis.toArray%28%29%29%3Breturn%20this.pushStack%28a%2C%22before%22%2Carguments%29%7D%7D%2Cafter%3Afunction%28%29%7Bif%28this%5B0%5D%26%26this%5B0%5D.parentNode%29return%20this.domManip%28arguments%2C%211%2Cfunction%28a%29%7Bthis.parentNode.insertBefore%28a%2Cthis.nextSibling%29%7D%29%3Bif%28arguments.length%29%7Bvar%20a%3Dthis.pushStack%28this%2C%22after%22%2Carguments%29%3Ba.push.apply%28a%2Cf.clean%28arguments%29%29%3Breturn%20a%7D%7D%2Cremove%3Afunction%28a%2Cb%29%7Bfor%28var%20c%3D0%2Cd%3B%28d%3Dthis%5Bc%5D%29%21%3Dnull%3Bc++%29if%28%21a%7C%7Cf.filter%28a%2C%5Bd%5D%29.length%29%21b%26%26d.nodeType%3D%3D%3D1%26%26%28f.cleanData%28d.getElementsByTagName%28%22*%22%29%29%2Cf.cleanData%28%5Bd%5D%29%29%2Cd.parentNode%26%26d.parentNode.removeChild%28d%29%3Breturn%20this%7D%2Cempty%3Afunction%28%29%7Bfor%28var%20a%3D0%2Cb%3B%28b%3Dthis%5Ba%5D%29%21%3Dnull%3Ba++%29%7Bb.nodeType%3D%3D%3D1%26%26f.cleanData%28b.getElementsByTagName%28%22*%22%29%29%3Bwhile%28b.firstChild%29b.removeChild%28b.firstChild%29%7Dreturn%20this%7D%2Cclone%3Afunction%28a%2Cb%29%7Ba%3Da%3D%3Dnull%3F%211%3Aa%2Cb%3Db%3D%3Dnull%3Fa%3Ab%3Breturn%20this.map%28function%28%29%7Breturn%20f.clone%28this%2Ca%2Cb%29%7D%29%7D%2Chtml%3Afunction%28a%29%7Breturn%20f.access%28this%2Cfunction%28a%29%7Bvar%20c%3Dthis%5B0%5D%7C%7C%7B%7D%2Cd%3D0%2Ce%3Dthis.length%3Bif%28a%3D%3D%3Db%29return%20c.nodeType%3D%3D%3D1%3Fc.innerHTML.replace%28W%2C%22%22%29%3Anull%3Bif%28typeof%20a%3D%3D%22string%22%26%26%21ba.test%28a%29%26%26%28f.support.leadingWhitespace%7C%7C%21X.test%28a%29%29%26%26%21bg%5B%28Z.exec%28a%29%7C%7C%5B%22%22%2C%22%22%5D%29%5B1%5D.toLowerCase%28%29%5D%29%7Ba%3Da.replace%28Y%2C%22%3C%241%3E%3C/%242%3E%22%29%3Btry%7Bfor%28%3Bd%3Ce%3Bd++%29c%3Dthis%5Bd%5D%7C%7C%7B%7D%2Cc.nodeType%3D%3D%3D1%26%26%28f.cleanData%28c.getElementsByTagName%28%22*%22%29%29%2Cc.innerHTML%3Da%29%3Bc%3D0%7Dcatch%28g%29%7B%7D%7Dc%26%26this.empty%28%29.append%28a%29%7D%2Cnull%2Ca%2Carguments.length%29%7D%2CreplaceWith%3Afunction%28a%29%7Bif%28this%5B0%5D%26%26this%5B0%5D.parentNode%29%7Bif%28f.isFunction%28a%29%29return%20this.each%28function%28b%29%7Bvar%20c%3Df%28this%29%2Cd%3Dc.html%28%29%3Bc.replaceWith%28a.call%28this%2Cb%2Cd%29%29%7D%29%3Btypeof%20a%21%3D%22string%22%26%26%28a%3Df%28a%29.detach%28%29%29%3Breturn%20this.each%28function%28%29%7Bvar%20b%3Dthis.nextSibling%2Cc%3Dthis.parentNode%3Bf%28this%29.remove%28%29%2Cb%3Ff%28b%29.before%28a%29%3Af%28c%29.append%28a%29%7D%29%7Dreturn%20this.length%3Fthis.pushStack%28f%28f.isFunction%28a%29%3Fa%28%29%3Aa%29%2C%22replaceWith%22%2Ca%29%3Athis%7D%2Cdetach%3Afunction%28a%29%7Breturn%20this.remove%28a%2C%210%29%7D%2CdomManip%3Afunction%28a%2Cc%2Cd%29%7Bvar%20e%2Cg%2Ch%2Ci%2Cj%3Da%5B0%5D%2Ck%3D%5B%5D%3Bif%28%21f.support.checkClone%26%26arguments.length%3D%3D%3D3%26%26typeof%20j%3D%3D%22string%22%26%26bd.test%28j%29%29return%20this.each%28function%28%29%7Bf%28this%29.domManip%28a%2Cc%2Cd%2C%210%29%7D%29%3Bif%28f.isFunction%28j%29%29return%20this.each%28function%28e%29%7Bvar%20g%3Df%28this%29%3Ba%5B0%5D%3Dj.call%28this%2Ce%2Cc%3Fg.html%28%29%3Ab%29%2Cg.domManip%28a%2Cc%2Cd%29%7D%29%3Bif%28this%5B0%5D%29%7Bi%3Dj%26%26j.parentNode%2Cf.support.parentNode%26%26i%26%26i.nodeType%3D%3D%3D11%26%26i.childNodes.length%3D%3D%3Dthis.length%3Fe%3D%7Bfragment%3Ai%7D%3Ae%3Df.buildFragment%28a%2Cthis%2Ck%29%2Ch%3De.fragment%2Ch.childNodes.length%3D%3D%3D1%3Fg%3Dh%3Dh.firstChild%3Ag%3Dh.firstChild%3Bif%28g%29%7Bc%3Dc%26%26f.nodeName%28g%2C%22tr%22%29%3Bfor%28var%20l%3D0%2Cm%3Dthis.length%2Cn%3Dm-1%3Bl%3Cm%3Bl++%29d.call%28c%3Fbi%28this%5Bl%5D%2Cg%29%3Athis%5Bl%5D%2Ce.cacheable%7C%7Cm%3E1%26%26l%3Cn%3Ff.clone%28h%2C%210%2C%210%29%3Ah%29%7Dk.length%26%26f.each%28k%2Cfunction%28a%2Cb%29%7Bb.src%3Ff.ajax%28%7Btype%3A%22GET%22%2Cglobal%3A%211%2Curl%3Ab.src%2Casync%3A%211%2CdataType%3A%22script%22%7D%29%3Af.globalEval%28%28b.text%7C%7Cb.textContent%7C%7Cb.innerHTML%7C%7C%22%22%29.replace%28bf%2C%22/*%240*/%22%29%29%2Cb.parentNode%26%26b.parentNode.removeChild%28b%29%7D%29%7Dreturn%20this%7D%7D%29%2Cf.buildFragment%3Dfunction%28a%2Cb%2Cd%29%7Bvar%20e%2Cg%2Ch%2Ci%2Cj%3Da%5B0%5D%3Bb%26%26b%5B0%5D%26%26%28i%3Db%5B0%5D.ownerDocument%7C%7Cb%5B0%5D%29%2Ci.createDocumentFragment%7C%7C%28i%3Dc%29%2Ca.length%3D%3D%3D1%26%26typeof%20j%3D%3D%22string%22%26%26j.length%3C512%26%26i%3D%3D%3Dc%26%26j.charAt%280%29%3D%3D%3D%22%3C%22%26%26%21bb.test%28j%29%26%26%28f.support.checkClone%7C%7C%21bd.test%28j%29%29%26%26%28f.support.html5Clone%7C%7C%21bc.test%28j%29%29%26%26%28g%3D%210%2Ch%3Df.fragments%5Bj%5D%2Ch%26%26h%21%3D%3D1%26%26%28e%3Dh%29%29%2Ce%7C%7C%28e%3Di.createDocumentFragment%28%29%2Cf.clean%28a%2Ci%2Ce%2Cd%29%29%2Cg%26%26%28f.fragments%5Bj%5D%3Dh%3Fe%3A1%29%3Breturn%7Bfragment%3Ae%2Ccacheable%3Ag%7D%7D%2Cf.fragments%3D%7B%7D%2Cf.each%28%7BappendTo%3A%22append%22%2CprependTo%3A%22prepend%22%2CinsertBefore%3A%22before%22%2CinsertAfter%3A%22after%22%2CreplaceAll%3A%22replaceWith%22%7D%2Cfunction%28a%2Cb%29%7Bf.fn%5Ba%5D%3Dfunction%28c%29%7Bvar%20d%3D%5B%5D%2Ce%3Df%28c%29%2Cg%3Dthis.length%3D%3D%3D1%26%26this%5B0%5D.parentNode%3Bif%28g%26%26g.nodeType%3D%3D%3D11%26%26g.childNodes.length%3D%3D%3D1%26%26e.length%3D%3D%3D1%29%7Be%5Bb%5D%28this%5B0%5D%29%3Breturn%20this%7Dfor%28var%20h%3D0%2Ci%3De.length%3Bh%3Ci%3Bh++%29%7Bvar%20j%3D%28h%3E0%3Fthis.clone%28%210%29%3Athis%29.get%28%29%3Bf%28e%5Bh%5D%29%5Bb%5D%28j%29%2Cd%3Dd.concat%28j%29%7Dreturn%20this.pushStack%28d%2Ca%2Ce.selector%29%7D%7D%29%2Cf.extend%28%7Bclone%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%2Ce%2Cg%2Ch%3Df.support.html5Clone%7C%7Cf.isXMLDoc%28a%29%7C%7C%21bc.test%28%22%3C%22+a.nodeName+%22%3E%22%29%3Fa.cloneNode%28%210%29%3Abo%28a%29%3Bif%28%28%21f.support.noCloneEvent%7C%7C%21f.support.noCloneChecked%29%26%26%28a.nodeType%3D%3D%3D1%7C%7Ca.nodeType%3D%3D%3D11%29%26%26%21f.isXMLDoc%28a%29%29%7Bbk%28a%2Ch%29%2Cd%3Dbl%28a%29%2Ce%3Dbl%28h%29%3Bfor%28g%3D0%3Bd%5Bg%5D%3B++g%29e%5Bg%5D%26%26bk%28d%5Bg%5D%2Ce%5Bg%5D%29%7Dif%28b%29%7Bbj%28a%2Ch%29%3Bif%28c%29%7Bd%3Dbl%28a%29%2Ce%3Dbl%28h%29%3Bfor%28g%3D0%3Bd%5Bg%5D%3B++g%29bj%28d%5Bg%5D%2Ce%5Bg%5D%29%7D%7Dd%3De%3Dnull%3Breturn%20h%7D%2Cclean%3Afunction%28a%2Cb%2Cd%2Ce%29%7Bvar%20g%2Ch%2Ci%2Cj%3D%5B%5D%3Bb%3Db%7C%7Cc%2Ctypeof%20b.createElement%3D%3D%22undefined%22%26%26%28b%3Db.ownerDocument%7C%7Cb%5B0%5D%26%26b%5B0%5D.ownerDocument%7C%7Cc%29%3Bfor%28var%20k%3D0%2Cl%3B%28l%3Da%5Bk%5D%29%21%3Dnull%3Bk++%29%7Btypeof%20l%3D%3D%22number%22%26%26%28l+%3D%22%22%29%3Bif%28%21l%29continue%3Bif%28typeof%20l%3D%3D%22string%22%29if%28%21_.test%28l%29%29l%3Db.createTextNode%28l%29%3Belse%7Bl%3Dl.replace%28Y%2C%22%3C%241%3E%3C/%242%3E%22%29%3Bvar%20m%3D%28Z.exec%28l%29%7C%7C%5B%22%22%2C%22%22%5D%29%5B1%5D.toLowerCase%28%29%2Cn%3Dbg%5Bm%5D%7C%7Cbg._default%2Co%3Dn%5B0%5D%2Cp%3Db.createElement%28%22div%22%29%2Cq%3Dbh.childNodes%2Cr%3Bb%3D%3D%3Dc%3Fbh.appendChild%28p%29%3AU%28b%29.appendChild%28p%29%2Cp.innerHTML%3Dn%5B1%5D+l+n%5B2%5D%3Bwhile%28o--%29p%3Dp.lastChild%3Bif%28%21f.support.tbody%29%7Bvar%20s%3D%24.test%28l%29%2Ct%3Dm%3D%3D%3D%22table%22%26%26%21s%3Fp.firstChild%26%26p.firstChild.childNodes%3An%5B1%5D%3D%3D%3D%22%3Ctable%3E%22%26%26%21s%3Fp.childNodes%3A%5B%5D%3Bfor%28i%3Dt.length-1%3Bi%3E%3D0%3B--i%29f.nodeName%28t%5Bi%5D%2C%22tbody%22%29%26%26%21t%5Bi%5D.childNodes.length%26%26t%5Bi%5D.parentNode.removeChild%28t%5Bi%5D%29%7D%21f.support.leadingWhitespace%26%26X.test%28l%29%26%26p.insertBefore%28b.createTextNode%28X.exec%28l%29%5B0%5D%29%2Cp.firstChild%29%2Cl%3Dp.childNodes%2Cp%26%26%28p.parentNode.removeChild%28p%29%2Cq.length%3E0%26%26%28r%3Dq%5Bq.length-1%5D%2Cr%26%26r.parentNode%26%26r.parentNode.removeChild%28r%29%29%29%7Dvar%20u%3Bif%28%21f.support.appendChecked%29if%28l%5B0%5D%26%26typeof%20%28u%3Dl.length%29%3D%3D%22number%22%29for%28i%3D0%3Bi%3Cu%3Bi++%29bn%28l%5Bi%5D%29%3Belse%20bn%28l%29%3Bl.nodeType%3Fj.push%28l%29%3Aj%3Df.merge%28j%2Cl%29%7Dif%28d%29%7Bg%3Dfunction%28a%29%7Breturn%21a.type%7C%7Cbe.test%28a.type%29%7D%3Bfor%28k%3D0%3Bj%5Bk%5D%3Bk++%29%7Bh%3Dj%5Bk%5D%3Bif%28e%26%26f.nodeName%28h%2C%22script%22%29%26%26%28%21h.type%7C%7Cbe.test%28h.type%29%29%29e.push%28h.parentNode%3Fh.parentNode.removeChild%28h%29%3Ah%29%3Belse%7Bif%28h.nodeType%3D%3D%3D1%29%7Bvar%20v%3Df.grep%28h.getElementsByTagName%28%22script%22%29%2Cg%29%3Bj.splice.apply%28j%2C%5Bk+1%2C0%5D.concat%28v%29%29%7Dd.appendChild%28h%29%7D%7D%7Dreturn%20j%7D%2CcleanData%3Afunction%28a%29%7Bvar%20b%2Cc%2Cd%3Df.cache%2Ce%3Df.event.special%2Cg%3Df.support.deleteExpando%3Bfor%28var%20h%3D0%2Ci%3B%28i%3Da%5Bh%5D%29%21%3Dnull%3Bh++%29%7Bif%28i.nodeName%26%26f.noData%5Bi.nodeName.toLowerCase%28%29%5D%29continue%3Bc%3Di%5Bf.expando%5D%3Bif%28c%29%7Bb%3Dd%5Bc%5D%3Bif%28b%26%26b.events%29%7Bfor%28var%20j%20in%20b.events%29e%5Bj%5D%3Ff.event.remove%28i%2Cj%29%3Af.removeEvent%28i%2Cj%2Cb.handle%29%3Bb.handle%26%26%28b.handle.elem%3Dnull%29%7Dg%3Fdelete%20i%5Bf.expando%5D%3Ai.removeAttribute%26%26i.removeAttribute%28f.expando%29%2Cdelete%20d%5Bc%5D%7D%7D%7D%7D%29%3Bvar%20bp%3D/alpha%5C%28%5B%5E%29%5D*%5C%29/i%2Cbq%3D/opacity%3D%28%5B%5E%29%5D*%29/%2Cbr%3D/%28%5BA-Z%5D%7C%5Ems%29/g%2Cbs%3D/%5E%5B%5C-+%5D%3F%28%3F%3A%5Cd*%5C.%29%3F%5Cd+%24/i%2Cbt%3D/%5E-%3F%28%3F%3A%5Cd*%5C.%29%3F%5Cd+%28%3F%21px%29%5B%5E%5Cd%5Cs%5D+%24/i%2Cbu%3D/%5E%28%5B%5C-+%5D%29%3D%28%5B%5C-+.%5Cde%5D+%29/%2Cbv%3D/%5Emargin/%2Cbw%3D%7Bposition%3A%22absolute%22%2Cvisibility%3A%22hidden%22%2Cdisplay%3A%22block%22%7D%2Cbx%3D%5B%22Top%22%2C%22Right%22%2C%22Bottom%22%2C%22Left%22%5D%2Cby%2Cbz%2CbA%3Bf.fn.css%3Dfunction%28a%2Cc%29%7Breturn%20f.access%28this%2Cfunction%28a%2Cc%2Cd%29%7Breturn%20d%21%3D%3Db%3Ff.style%28a%2Cc%2Cd%29%3Af.css%28a%2Cc%29%7D%2Ca%2Cc%2Carguments.length%3E1%29%7D%2Cf.extend%28%7BcssHooks%3A%7Bopacity%3A%7Bget%3Afunction%28a%2Cb%29%7Bif%28b%29%7Bvar%20c%3Dby%28a%2C%22opacity%22%29%3Breturn%20c%3D%3D%3D%22%22%3F%221%22%3Ac%7Dreturn%20a.style.opacity%7D%7D%7D%2CcssNumber%3A%7BfillOpacity%3A%210%2CfontWeight%3A%210%2ClineHeight%3A%210%2Copacity%3A%210%2Corphans%3A%210%2Cwidows%3A%210%2CzIndex%3A%210%2Czoom%3A%210%7D%2CcssProps%3A%7B%22float%22%3Af.support.cssFloat%3F%22cssFloat%22%3A%22styleFloat%22%7D%2Cstyle%3Afunction%28a%2Cc%2Cd%2Ce%29%7Bif%28%21%21a%26%26a.nodeType%21%3D%3D3%26%26a.nodeType%21%3D%3D8%26%26%21%21a.style%29%7Bvar%20g%2Ch%2Ci%3Df.camelCase%28c%29%2Cj%3Da.style%2Ck%3Df.cssHooks%5Bi%5D%3Bc%3Df.cssProps%5Bi%5D%7C%7Ci%3Bif%28d%3D%3D%3Db%29%7Bif%28k%26%26%22get%22in%20k%26%26%28g%3Dk.get%28a%2C%211%2Ce%29%29%21%3D%3Db%29return%20g%3Breturn%20j%5Bc%5D%7Dh%3Dtypeof%20d%2Ch%3D%3D%3D%22string%22%26%26%28g%3Dbu.exec%28d%29%29%26%26%28d%3D+%28g%5B1%5D+1%29*+g%5B2%5D+parseFloat%28f.css%28a%2Cc%29%29%2Ch%3D%22number%22%29%3Bif%28d%3D%3Dnull%7C%7Ch%3D%3D%3D%22number%22%26%26isNaN%28d%29%29return%3Bh%3D%3D%3D%22number%22%26%26%21f.cssNumber%5Bi%5D%26%26%28d+%3D%22px%22%29%3Bif%28%21k%7C%7C%21%28%22set%22in%20k%29%7C%7C%28d%3Dk.set%28a%2Cd%29%29%21%3D%3Db%29try%7Bj%5Bc%5D%3Dd%7Dcatch%28l%29%7B%7D%7D%7D%2Ccss%3Afunction%28a%2Cc%2Cd%29%7Bvar%20e%2Cg%3Bc%3Df.camelCase%28c%29%2Cg%3Df.cssHooks%5Bc%5D%2Cc%3Df.cssProps%5Bc%5D%7C%7Cc%2Cc%3D%3D%3D%22cssFloat%22%26%26%28c%3D%22float%22%29%3Bif%28g%26%26%22get%22in%20g%26%26%28e%3Dg.get%28a%2C%210%2Cd%29%29%21%3D%3Db%29return%20e%3Bif%28by%29return%20by%28a%2Cc%29%7D%2Cswap%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3D%7B%7D%2Ce%2Cf%3Bfor%28f%20in%20b%29d%5Bf%5D%3Da.style%5Bf%5D%2Ca.style%5Bf%5D%3Db%5Bf%5D%3Be%3Dc.call%28a%29%3Bfor%28f%20in%20b%29a.style%5Bf%5D%3Dd%5Bf%5D%3Breturn%20e%7D%7D%29%2Cf.curCSS%3Df.css%2Cc.defaultView%26%26c.defaultView.getComputedStyle%26%26%28bz%3Dfunction%28a%2Cb%29%7Bvar%20c%2Cd%2Ce%2Cg%2Ch%3Da.style%3Bb%3Db.replace%28br%2C%22-%241%22%29.toLowerCase%28%29%2C%28d%3Da.ownerDocument.defaultView%29%26%26%28e%3Dd.getComputedStyle%28a%2Cnull%29%29%26%26%28c%3De.getPropertyValue%28b%29%2Cc%3D%3D%3D%22%22%26%26%21f.contains%28a.ownerDocument.documentElement%2Ca%29%26%26%28c%3Df.style%28a%2Cb%29%29%29%2C%21f.support.pixelMargin%26%26e%26%26bv.test%28b%29%26%26bt.test%28c%29%26%26%28g%3Dh.width%2Ch.width%3Dc%2Cc%3De.width%2Ch.width%3Dg%29%3Breturn%20c%7D%29%2Cc.documentElement.currentStyle%26%26%28bA%3Dfunction%28a%2Cb%29%7Bvar%20c%2Cd%2Ce%2Cf%3Da.currentStyle%26%26a.currentStyle%5Bb%5D%2Cg%3Da.style%3Bf%3D%3Dnull%26%26g%26%26%28e%3Dg%5Bb%5D%29%26%26%28f%3De%29%2Cbt.test%28f%29%26%26%28c%3Dg.left%2Cd%3Da.runtimeStyle%26%26a.runtimeStyle.left%2Cd%26%26%28a.runtimeStyle.left%3Da.currentStyle.left%29%2Cg.left%3Db%3D%3D%3D%22fontSize%22%3F%221em%22%3Af%2Cf%3Dg.pixelLeft+%22px%22%2Cg.left%3Dc%2Cd%26%26%28a.runtimeStyle.left%3Dd%29%29%3Breturn%20f%3D%3D%3D%22%22%3F%22auto%22%3Af%7D%29%2Cby%3Dbz%7C%7CbA%2Cf.each%28%5B%22height%22%2C%22width%22%5D%2Cfunction%28a%2Cb%29%7Bf.cssHooks%5Bb%5D%3D%7Bget%3Afunction%28a%2Cc%2Cd%29%7Bif%28c%29return%20a.offsetWidth%21%3D%3D0%3FbB%28a%2Cb%2Cd%29%3Af.swap%28a%2Cbw%2Cfunction%28%29%7Breturn%20bB%28a%2Cb%2Cd%29%7D%29%7D%2Cset%3Afunction%28a%2Cb%29%7Breturn%20bs.test%28b%29%3Fb+%22px%22%3Ab%7D%7D%7D%29%2Cf.support.opacity%7C%7C%28f.cssHooks.opacity%3D%7Bget%3Afunction%28a%2Cb%29%7Breturn%20bq.test%28%28b%26%26a.currentStyle%3Fa.currentStyle.filter%3Aa.style.filter%29%7C%7C%22%22%29%3FparseFloat%28RegExp.%241%29/100+%22%22%3Ab%3F%221%22%3A%22%22%7D%2Cset%3Afunction%28a%2Cb%29%7Bvar%20c%3Da.style%2Cd%3Da.currentStyle%2Ce%3Df.isNumeric%28b%29%3F%22alpha%28opacity%3D%22+b*100+%22%29%22%3A%22%22%2Cg%3Dd%26%26d.filter%7C%7Cc.filter%7C%7C%22%22%3Bc.zoom%3D1%3Bif%28b%3E%3D1%26%26f.trim%28g.replace%28bp%2C%22%22%29%29%3D%3D%3D%22%22%29%7Bc.removeAttribute%28%22filter%22%29%3Bif%28d%26%26%21d.filter%29return%7Dc.filter%3Dbp.test%28g%29%3Fg.replace%28bp%2Ce%29%3Ag+%22%20%22+e%7D%7D%29%2Cf%28function%28%29%7Bf.support.reliableMarginRight%7C%7C%28f.cssHooks.marginRight%3D%7Bget%3Afunction%28a%2Cb%29%7Breturn%20f.swap%28a%2C%7Bdisplay%3A%22inline-block%22%7D%2Cfunction%28%29%7Breturn%20b%3Fby%28a%2C%22margin-right%22%29%3Aa.style.marginRight%7D%29%7D%7D%29%7D%29%2Cf.expr%26%26f.expr.filters%26%26%28f.expr.filters.hidden%3Dfunction%28a%29%7Bvar%20b%3Da.offsetWidth%2Cc%3Da.offsetHeight%3Breturn%20b%3D%3D%3D0%26%26c%3D%3D%3D0%7C%7C%21f.support.reliableHiddenOffsets%26%26%28a.style%26%26a.style.display%7C%7Cf.css%28a%2C%22display%22%29%29%3D%3D%3D%22none%22%7D%2Cf.expr.filters.visible%3Dfunction%28a%29%7Breturn%21f.expr.filters.hidden%28a%29%7D%29%2Cf.each%28%7Bmargin%3A%22%22%2Cpadding%3A%22%22%2Cborder%3A%22Width%22%7D%2Cfunction%28a%2Cb%29%7Bf.cssHooks%5Ba+b%5D%3D%7Bexpand%3Afunction%28c%29%7Bvar%20d%2Ce%3Dtypeof%20c%3D%3D%22string%22%3Fc.split%28%22%20%22%29%3A%5Bc%5D%2Cf%3D%7B%7D%3Bfor%28d%3D0%3Bd%3C4%3Bd++%29f%5Ba+bx%5Bd%5D+b%5D%3De%5Bd%5D%7C%7Ce%5Bd-2%5D%7C%7Ce%5B0%5D%3Breturn%20f%7D%7D%7D%29%3Bvar%20bC%3D/%2520/g%2CbD%3D/%5C%5B%5C%5D%24/%2CbE%3D/%5Cr%3F%5Cn/g%2CbF%3D/%23.*%24/%2CbG%3D/%5E%28.*%3F%29%3A%5B%20%5Ct%5D*%28%5B%5E%5Cr%5Cn%5D*%29%5Cr%3F%24/mg%2CbH%3D/%5E%28%3F%3Acolor%7Cdate%7Cdatetime%7Cdatetime-local%7Cemail%7Chidden%7Cmonth%7Cnumber%7Cpassword%7Crange%7Csearch%7Ctel%7Ctext%7Ctime%7Curl%7Cweek%29%24/i%2CbI%3D/%5E%28%3F%3Aabout%7Capp%7Capp%5C-storage%7C.+%5C-extension%7Cfile%7Cres%7Cwidget%29%3A%24/%2CbJ%3D/%5E%28%3F%3AGET%7CHEAD%29%24/%2CbK%3D/%5E%5C/%5C//%2CbL%3D/%5C%3F/%2CbM%3D/%3Cscript%5Cb%5B%5E%3C%5D*%28%3F%3A%28%3F%21%3C%5C/script%3E%29%3C%5B%5E%3C%5D*%29*%3C%5C/script%3E/gi%2CbN%3D/%5E%28%3F%3Aselect%7Ctextarea%29/i%2CbO%3D/%5Cs+/%2CbP%3D/%28%5B%3F%26%5D%29_%3D%5B%5E%26%5D*/%2CbQ%3D/%5E%28%5B%5Cw%5C+%5C.%5C-%5D+%3A%29%28%3F%3A%5C/%5C/%28%5B%5E%5C/%3F%23%3A%5D*%29%28%3F%3A%3A%28%5Cd+%29%29%3F%29%3F/%2CbR%3Df.fn.load%2CbS%3D%7B%7D%2CbT%3D%7B%7D%2CbU%2CbV%2CbW%3D%5B%22*/%22%5D+%5B%22*%22%5D%3Btry%7BbU%3De.href%7Dcatch%28bX%29%7BbU%3Dc.createElement%28%22a%22%29%2CbU.href%3D%22%22%2CbU%3DbU.href%7DbV%3DbQ.exec%28bU.toLowerCase%28%29%29%7C%7C%5B%5D%2Cf.fn.extend%28%7Bload%3Afunction%28a%2Cc%2Cd%29%7Bif%28typeof%20a%21%3D%22string%22%26%26bR%29return%20bR.apply%28this%2Carguments%29%3Bif%28%21this.length%29return%20this%3Bvar%20e%3Da.indexOf%28%22%20%22%29%3Bif%28e%3E%3D0%29%7Bvar%20g%3Da.slice%28e%2Ca.length%29%3Ba%3Da.slice%280%2Ce%29%7Dvar%20h%3D%22GET%22%3Bc%26%26%28f.isFunction%28c%29%3F%28d%3Dc%2Cc%3Db%29%3Atypeof%20c%3D%3D%22object%22%26%26%28c%3Df.param%28c%2Cf.ajaxSettings.traditional%29%2Ch%3D%22POST%22%29%29%3Bvar%20i%3Dthis%3Bf.ajax%28%7Burl%3Aa%2Ctype%3Ah%2CdataType%3A%22html%22%2Cdata%3Ac%2Ccomplete%3Afunction%28a%2Cb%2Cc%29%7Bc%3Da.responseText%2Ca.isResolved%28%29%26%26%28a.done%28function%28a%29%7Bc%3Da%7D%29%2Ci.html%28g%3Ff%28%22%3Cdiv%3E%22%29.append%28c.replace%28bM%2C%22%22%29%29.find%28g%29%3Ac%29%29%2Cd%26%26i.each%28d%2C%5Bc%2Cb%2Ca%5D%29%7D%7D%29%3Breturn%20this%7D%2Cserialize%3Afunction%28%29%7Breturn%20f.param%28this.serializeArray%28%29%29%7D%2CserializeArray%3Afunction%28%29%7Breturn%20this.map%28function%28%29%7Breturn%20this.elements%3Ff.makeArray%28this.elements%29%3Athis%7D%29.filter%28function%28%29%7Breturn%20this.name%26%26%21this.disabled%26%26%28this.checked%7C%7CbN.test%28this.nodeName%29%7C%7CbH.test%28this.type%29%29%7D%29.map%28function%28a%2Cb%29%7Bvar%20c%3Df%28this%29.val%28%29%3Breturn%20c%3D%3Dnull%3Fnull%3Af.isArray%28c%29%3Ff.map%28c%2Cfunction%28a%2Cc%29%7Breturn%7Bname%3Ab.name%2Cvalue%3Aa.replace%28bE%2C%22%5Cr%5Cn%22%29%7D%7D%29%3A%7Bname%3Ab.name%2Cvalue%3Ac.replace%28bE%2C%22%5Cr%5Cn%22%29%7D%7D%29.get%28%29%7D%7D%29%2Cf.each%28%22ajaxStart%20ajaxStop%20ajaxComplete%20ajaxError%20ajaxSuccess%20ajaxSend%22.split%28%22%20%22%29%2Cfunction%28a%2Cb%29%7Bf.fn%5Bb%5D%3Dfunction%28a%29%7Breturn%20this.on%28b%2Ca%29%7D%7D%29%2Cf.each%28%5B%22get%22%2C%22post%22%5D%2Cfunction%28a%2Cc%29%7Bf%5Bc%5D%3Dfunction%28a%2Cd%2Ce%2Cg%29%7Bf.isFunction%28d%29%26%26%28g%3Dg%7C%7Ce%2Ce%3Dd%2Cd%3Db%29%3Breturn%20f.ajax%28%7Btype%3Ac%2Curl%3Aa%2Cdata%3Ad%2Csuccess%3Ae%2CdataType%3Ag%7D%29%7D%7D%29%2Cf.extend%28%7BgetScript%3Afunction%28a%2Cc%29%7Breturn%20f.get%28a%2Cb%2Cc%2C%22script%22%29%7D%2CgetJSON%3Afunction%28a%2Cb%2Cc%29%7Breturn%20f.get%28a%2Cb%2Cc%2C%22json%22%29%7D%2CajaxSetup%3Afunction%28a%2Cb%29%7Bb%3Fb%24%28a%2Cf.ajaxSettings%29%3A%28b%3Da%2Ca%3Df.ajaxSettings%29%2Cb%24%28a%2Cb%29%3Breturn%20a%7D%2CajaxSettings%3A%7Burl%3AbU%2CisLocal%3AbI.test%28bV%5B1%5D%29%2Cglobal%3A%210%2Ctype%3A%22GET%22%2CcontentType%3A%22application/x-www-form-urlencoded%3B%20charset%3DUTF-8%22%2CprocessData%3A%210%2Casync%3A%210%2Caccepts%3A%7Bxml%3A%22application/xml%2C%20text/xml%22%2Chtml%3A%22text/html%22%2Ctext%3A%22text/plain%22%2Cjson%3A%22application/json%2C%20text/javascript%22%2C%22*%22%3AbW%7D%2Ccontents%3A%7Bxml%3A/xml/%2Chtml%3A/html/%2Cjson%3A/json/%7D%2CresponseFields%3A%7Bxml%3A%22responseXML%22%2Ctext%3A%22responseText%22%7D%2Cconverters%3A%7B%22*%20text%22%3Aa.String%2C%22text%20html%22%3A%210%2C%22text%20json%22%3Af.parseJSON%2C%22text%20xml%22%3Af.parseXML%7D%2CflatOptions%3A%7Bcontext%3A%210%2Curl%3A%210%7D%7D%2CajaxPrefilter%3AbY%28bS%29%2CajaxTransport%3AbY%28bT%29%2Cajax%3Afunction%28a%2Cc%29%7Bfunction%20w%28a%2Cc%2Cl%2Cm%29%7Bif%28s%21%3D%3D2%29%7Bs%3D2%2Cq%26%26clearTimeout%28q%29%2Cp%3Db%2Cn%3Dm%7C%7C%22%22%2Cv.readyState%3Da%3E0%3F4%3A0%3Bvar%20o%2Cr%2Cu%2Cw%3Dc%2Cx%3Dl%3Fca%28d%2Cv%2Cl%29%3Ab%2Cy%2Cz%3Bif%28a%3E%3D200%26%26a%3C300%7C%7Ca%3D%3D%3D304%29%7Bif%28d.ifModified%29%7Bif%28y%3Dv.getResponseHeader%28%22Last-Modified%22%29%29f.lastModified%5Bk%5D%3Dy%3Bif%28z%3Dv.getResponseHeader%28%22Etag%22%29%29f.etag%5Bk%5D%3Dz%7Dif%28a%3D%3D%3D304%29w%3D%22notmodified%22%2Co%3D%210%3Belse%20try%7Br%3Dcb%28d%2Cx%29%2Cw%3D%22success%22%2Co%3D%210%7Dcatch%28A%29%7Bw%3D%22parsererror%22%2Cu%3DA%7D%7Delse%7Bu%3Dw%3Bif%28%21w%7C%7Ca%29w%3D%22error%22%2Ca%3C0%26%26%28a%3D0%29%7Dv.status%3Da%2Cv.statusText%3D%22%22+%28c%7C%7Cw%29%2Co%3Fh.resolveWith%28e%2C%5Br%2Cw%2Cv%5D%29%3Ah.rejectWith%28e%2C%5Bv%2Cw%2Cu%5D%29%2Cv.statusCode%28j%29%2Cj%3Db%2Ct%26%26g.trigger%28%22ajax%22+%28o%3F%22Success%22%3A%22Error%22%29%2C%5Bv%2Cd%2Co%3Fr%3Au%5D%29%2Ci.fireWith%28e%2C%5Bv%2Cw%5D%29%2Ct%26%26%28g.trigger%28%22ajaxComplete%22%2C%5Bv%2Cd%5D%29%2C--f.active%7C%7Cf.event.trigger%28%22ajaxStop%22%29%29%7D%7Dtypeof%20a%3D%3D%22object%22%26%26%28c%3Da%2Ca%3Db%29%2Cc%3Dc%7C%7C%7B%7D%3Bvar%20d%3Df.ajaxSetup%28%7B%7D%2Cc%29%2Ce%3Dd.context%7C%7Cd%2Cg%3De%21%3D%3Dd%26%26%28e.nodeType%7C%7Ce%20instanceof%20f%29%3Ff%28e%29%3Af.event%2Ch%3Df.Deferred%28%29%2Ci%3Df.Callbacks%28%22once%20memory%22%29%2Cj%3Dd.statusCode%7C%7C%7B%7D%2Ck%2Cl%3D%7B%7D%2Cm%3D%7B%7D%2Cn%2Co%2Cp%2Cq%2Cr%2Cs%3D0%2Ct%2Cu%2Cv%3D%7BreadyState%3A0%2CsetRequestHeader%3Afunction%28a%2Cb%29%7Bif%28%21s%29%7Bvar%20c%3Da.toLowerCase%28%29%3Ba%3Dm%5Bc%5D%3Dm%5Bc%5D%7C%7Ca%2Cl%5Ba%5D%3Db%7Dreturn%20this%7D%2CgetAllResponseHeaders%3Afunction%28%29%7Breturn%20s%3D%3D%3D2%3Fn%3Anull%7D%2CgetResponseHeader%3Afunction%28a%29%7Bvar%20c%3Bif%28s%3D%3D%3D2%29%7Bif%28%21o%29%7Bo%3D%7B%7D%3Bwhile%28c%3DbG.exec%28n%29%29o%5Bc%5B1%5D.toLowerCase%28%29%5D%3Dc%5B2%5D%7Dc%3Do%5Ba.toLowerCase%28%29%5D%7Dreturn%20c%3D%3D%3Db%3Fnull%3Ac%7D%2CoverrideMimeType%3Afunction%28a%29%7Bs%7C%7C%28d.mimeType%3Da%29%3Breturn%20this%7D%2Cabort%3Afunction%28a%29%7Ba%3Da%7C%7C%22abort%22%2Cp%26%26p.abort%28a%29%2Cw%280%2Ca%29%3Breturn%20this%7D%7D%3Bh.promise%28v%29%2Cv.success%3Dv.done%2Cv.error%3Dv.fail%2Cv.complete%3Di.add%2Cv.statusCode%3Dfunction%28a%29%7Bif%28a%29%7Bvar%20b%3Bif%28s%3C2%29for%28b%20in%20a%29j%5Bb%5D%3D%5Bj%5Bb%5D%2Ca%5Bb%5D%5D%3Belse%20b%3Da%5Bv.status%5D%2Cv.then%28b%2Cb%29%7Dreturn%20this%7D%2Cd.url%3D%28%28a%7C%7Cd.url%29+%22%22%29.replace%28bF%2C%22%22%29.replace%28bK%2CbV%5B1%5D+%22//%22%29%2Cd.dataTypes%3Df.trim%28d.dataType%7C%7C%22*%22%29.toLowerCase%28%29.split%28bO%29%2Cd.crossDomain%3D%3Dnull%26%26%28r%3DbQ.exec%28d.url.toLowerCase%28%29%29%2Cd.crossDomain%3D%21%28%21r%7C%7Cr%5B1%5D%3D%3DbV%5B1%5D%26%26r%5B2%5D%3D%3DbV%5B2%5D%26%26%28r%5B3%5D%7C%7C%28r%5B1%5D%3D%3D%3D%22http%3A%22%3F80%3A443%29%29%3D%3D%28bV%5B3%5D%7C%7C%28bV%5B1%5D%3D%3D%3D%22http%3A%22%3F80%3A443%29%29%29%29%2Cd.data%26%26d.processData%26%26typeof%20d.data%21%3D%22string%22%26%26%28d.data%3Df.param%28d.data%2Cd.traditional%29%29%2CbZ%28bS%2Cd%2Cc%2Cv%29%3Bif%28s%3D%3D%3D2%29return%211%3Bt%3Dd.global%2Cd.type%3Dd.type.toUpperCase%28%29%2Cd.hasContent%3D%21bJ.test%28d.type%29%2Ct%26%26f.active++%3D%3D%3D0%26%26f.event.trigger%28%22ajaxStart%22%29%3Bif%28%21d.hasContent%29%7Bd.data%26%26%28d.url+%3D%28bL.test%28d.url%29%3F%22%26%22%3A%22%3F%22%29+d.data%2Cdelete%20d.data%29%2Ck%3Dd.url%3Bif%28d.cache%3D%3D%3D%211%29%7Bvar%20x%3Df.now%28%29%2Cy%3Dd.url.replace%28bP%2C%22%241_%3D%22+x%29%3Bd.url%3Dy+%28y%3D%3D%3Dd.url%3F%28bL.test%28d.url%29%3F%22%26%22%3A%22%3F%22%29+%22_%3D%22+x%3A%22%22%29%7D%7D%28d.data%26%26d.hasContent%26%26d.contentType%21%3D%3D%211%7C%7Cc.contentType%29%26%26v.setRequestHeader%28%22Content-Type%22%2Cd.contentType%29%2Cd.ifModified%26%26%28k%3Dk%7C%7Cd.url%2Cf.lastModified%5Bk%5D%26%26v.setRequestHeader%28%22If-Modified-Since%22%2Cf.lastModified%5Bk%5D%29%2Cf.etag%5Bk%5D%26%26v.setRequestHeader%28%22If-None-Match%22%2Cf.etag%5Bk%5D%29%29%2Cv.setRequestHeader%28%22Accept%22%2Cd.dataTypes%5B0%5D%26%26d.accepts%5Bd.dataTypes%5B0%5D%5D%3Fd.accepts%5Bd.dataTypes%5B0%5D%5D+%28d.dataTypes%5B0%5D%21%3D%3D%22*%22%3F%22%2C%20%22+bW+%22%3B%20q%3D0.01%22%3A%22%22%29%3Ad.accepts%5B%22*%22%5D%29%3Bfor%28u%20in%20d.headers%29v.setRequestHeader%28u%2Cd.headers%5Bu%5D%29%3Bif%28d.beforeSend%26%26%28d.beforeSend.call%28e%2Cv%2Cd%29%3D%3D%3D%211%7C%7Cs%3D%3D%3D2%29%29%7Bv.abort%28%29%3Breturn%211%7Dfor%28u%20in%7Bsuccess%3A1%2Cerror%3A1%2Ccomplete%3A1%7D%29v%5Bu%5D%28d%5Bu%5D%29%3Bp%3DbZ%28bT%2Cd%2Cc%2Cv%29%3Bif%28%21p%29w%28-1%2C%22No%20Transport%22%29%3Belse%7Bv.readyState%3D1%2Ct%26%26g.trigger%28%22ajaxSend%22%2C%5Bv%2Cd%5D%29%2Cd.async%26%26d.timeout%3E0%26%26%28q%3DsetTimeout%28function%28%29%7Bv.abort%28%22timeout%22%29%7D%2Cd.timeout%29%29%3Btry%7Bs%3D1%2Cp.send%28l%2Cw%29%7Dcatch%28z%29%7Bif%28s%3C2%29w%28-1%2Cz%29%3Belse%20throw%20z%7D%7Dreturn%20v%7D%2Cparam%3Afunction%28a%2Cc%29%7Bvar%20d%3D%5B%5D%2Ce%3Dfunction%28a%2Cb%29%7Bb%3Df.isFunction%28b%29%3Fb%28%29%3Ab%2Cd%5Bd.length%5D%3DencodeURIComponent%28a%29+%22%3D%22+encodeURIComponent%28b%29%7D%3Bc%3D%3D%3Db%26%26%28c%3Df.ajaxSettings.traditional%29%3Bif%28f.isArray%28a%29%7C%7Ca.jquery%26%26%21f.isPlainObject%28a%29%29f.each%28a%2Cfunction%28%29%7Be%28this.name%2Cthis.value%29%7D%29%3Belse%20for%28var%20g%20in%20a%29b_%28g%2Ca%5Bg%5D%2Cc%2Ce%29%3Breturn%20d.join%28%22%26%22%29.replace%28bC%2C%22+%22%29%7D%7D%29%2Cf.extend%28%7Bactive%3A0%2ClastModified%3A%7B%7D%2Cetag%3A%7B%7D%7D%29%3Bvar%20cc%3Df.now%28%29%2Ccd%3D/%28%5C%3D%29%5C%3F%28%26%7C%24%29%7C%5C%3F%5C%3F/i%3Bf.ajaxSetup%28%7Bjsonp%3A%22callback%22%2CjsonpCallback%3Afunction%28%29%7Breturn%20f.expando+%22_%22+cc++%7D%7D%29%2Cf.ajaxPrefilter%28%22json%20jsonp%22%2Cfunction%28b%2Cc%2Cd%29%7Bvar%20e%3Dtypeof%20b.data%3D%3D%22string%22%26%26/%5Eapplication%5C/x%5C-www%5C-form%5C-urlencoded/.test%28b.contentType%29%3Bif%28b.dataTypes%5B0%5D%3D%3D%3D%22jsonp%22%7C%7Cb.jsonp%21%3D%3D%211%26%26%28cd.test%28b.url%29%7C%7Ce%26%26cd.test%28b.data%29%29%29%7Bvar%20g%2Ch%3Db.jsonpCallback%3Df.isFunction%28b.jsonpCallback%29%3Fb.jsonpCallback%28%29%3Ab.jsonpCallback%2Ci%3Da%5Bh%5D%2Cj%3Db.url%2Ck%3Db.data%2Cl%3D%22%241%22+h+%22%242%22%3Bb.jsonp%21%3D%3D%211%26%26%28j%3Dj.replace%28cd%2Cl%29%2Cb.url%3D%3D%3Dj%26%26%28e%26%26%28k%3Dk.replace%28cd%2Cl%29%29%2Cb.data%3D%3D%3Dk%26%26%28j+%3D%28/%5C%3F/.test%28j%29%3F%22%26%22%3A%22%3F%22%29+b.jsonp+%22%3D%22+h%29%29%29%2Cb.url%3Dj%2Cb.data%3Dk%2Ca%5Bh%5D%3Dfunction%28a%29%7Bg%3D%5Ba%5D%7D%2Cd.always%28function%28%29%7Ba%5Bh%5D%3Di%2Cg%26%26f.isFunction%28i%29%26%26a%5Bh%5D%28g%5B0%5D%29%7D%29%2Cb.converters%5B%22script%20json%22%5D%3Dfunction%28%29%7Bg%7C%7Cf.error%28h+%22%20was%20not%20called%22%29%3Breturn%20g%5B0%5D%7D%2Cb.dataTypes%5B0%5D%3D%22json%22%3Breturn%22script%22%7D%7D%29%2Cf.ajaxSetup%28%7Baccepts%3A%7Bscript%3A%22text/javascript%2C%20application/javascript%2C%20application/ecmascript%2C%20application/x-ecmascript%22%7D%2Ccontents%3A%7Bscript%3A/javascript%7Cecmascript/%7D%2Cconverters%3A%7B%22text%20script%22%3Afunction%28a%29%7Bf.globalEval%28a%29%3Breturn%20a%7D%7D%7D%29%2Cf.ajaxPrefilter%28%22script%22%2Cfunction%28a%29%7Ba.cache%3D%3D%3Db%26%26%28a.cache%3D%211%29%2Ca.crossDomain%26%26%28a.type%3D%22GET%22%2Ca.global%3D%211%29%7D%29%2Cf.ajaxTransport%28%22script%22%2Cfunction%28a%29%7Bif%28a.crossDomain%29%7Bvar%20d%2Ce%3Dc.head%7C%7Cc.getElementsByTagName%28%22head%22%29%5B0%5D%7C%7Cc.documentElement%3Breturn%7Bsend%3Afunction%28f%2Cg%29%7Bd%3Dc.createElement%28%22script%22%29%2Cd.async%3D%22async%22%2Ca.scriptCharset%26%26%28d.charset%3Da.scriptCharset%29%2Cd.src%3Da.url%2Cd.onload%3Dd.onreadystatechange%3Dfunction%28a%2Cc%29%7Bif%28c%7C%7C%21d.readyState%7C%7C/loaded%7Ccomplete/.test%28d.readyState%29%29d.onload%3Dd.onreadystatechange%3Dnull%2Ce%26%26d.parentNode%26%26e.removeChild%28d%29%2Cd%3Db%2Cc%7C%7Cg%28200%2C%22success%22%29%7D%2Ce.insertBefore%28d%2Ce.firstChild%29%7D%2Cabort%3Afunction%28%29%7Bd%26%26d.onload%280%2C1%29%7D%7D%7D%7D%29%3Bvar%20ce%3Da.ActiveXObject%3Ffunction%28%29%7Bfor%28var%20a%20in%20cg%29cg%5Ba%5D%280%2C1%29%7D%3A%211%2Ccf%3D0%2Ccg%3Bf.ajaxSettings.xhr%3Da.ActiveXObject%3Ffunction%28%29%7Breturn%21this.isLocal%26%26ch%28%29%7C%7Cci%28%29%7D%3Ach%2Cfunction%28a%29%7Bf.extend%28f.support%2C%7Bajax%3A%21%21a%2Ccors%3A%21%21a%26%26%22withCredentials%22in%20a%7D%29%7D%28f.ajaxSettings.xhr%28%29%29%2Cf.support.ajax%26%26f.ajaxTransport%28function%28c%29%7Bif%28%21c.crossDomain%7C%7Cf.support.cors%29%7Bvar%20d%3Breturn%7Bsend%3Afunction%28e%2Cg%29%7Bvar%20h%3Dc.xhr%28%29%2Ci%2Cj%3Bc.username%3Fh.open%28c.type%2Cc.url%2Cc.async%2Cc.username%2Cc.password%29%3Ah.open%28c.type%2Cc.url%2Cc.async%29%3Bif%28c.xhrFields%29for%28j%20in%20c.xhrFields%29h%5Bj%5D%3Dc.xhrFields%5Bj%5D%3Bc.mimeType%26%26h.overrideMimeType%26%26h.overrideMimeType%28c.mimeType%29%2C%21c.crossDomain%26%26%21e%5B%22X-Requested-With%22%5D%26%26%28e%5B%22X-Requested-With%22%5D%3D%22XMLHttpRequest%22%29%3Btry%7Bfor%28j%20in%20e%29h.setRequestHeader%28j%2Ce%5Bj%5D%29%7Dcatch%28k%29%7B%7Dh.send%28c.hasContent%26%26c.data%7C%7Cnull%29%2Cd%3Dfunction%28a%2Ce%29%7Bvar%20j%2Ck%2Cl%2Cm%2Cn%3Btry%7Bif%28d%26%26%28e%7C%7Ch.readyState%3D%3D%3D4%29%29%7Bd%3Db%2Ci%26%26%28h.onreadystatechange%3Df.noop%2Cce%26%26delete%20cg%5Bi%5D%29%3Bif%28e%29h.readyState%21%3D%3D4%26%26h.abort%28%29%3Belse%7Bj%3Dh.status%2Cl%3Dh.getAllResponseHeaders%28%29%2Cm%3D%7B%7D%2Cn%3Dh.responseXML%2Cn%26%26n.documentElement%26%26%28m.xml%3Dn%29%3Btry%7Bm.text%3Dh.responseText%7Dcatch%28a%29%7B%7Dtry%7Bk%3Dh.statusText%7Dcatch%28o%29%7Bk%3D%22%22%7D%21j%26%26c.isLocal%26%26%21c.crossDomain%3Fj%3Dm.text%3F200%3A404%3Aj%3D%3D%3D1223%26%26%28j%3D204%29%7D%7D%7Dcatch%28p%29%7Be%7C%7Cg%28-1%2Cp%29%7Dm%26%26g%28j%2Ck%2Cm%2Cl%29%7D%2C%21c.async%7C%7Ch.readyState%3D%3D%3D4%3Fd%28%29%3A%28i%3D++cf%2Cce%26%26%28cg%7C%7C%28cg%3D%7B%7D%2Cf%28a%29.unload%28ce%29%29%2Ccg%5Bi%5D%3Dd%29%2Ch.onreadystatechange%3Dd%29%7D%2Cabort%3Afunction%28%29%7Bd%26%26d%280%2C1%29%7D%7D%7D%7D%29%3Bvar%20cj%3D%7B%7D%2Cck%2Ccl%2Ccm%3D/%5E%28%3F%3Atoggle%7Cshow%7Chide%29%24/%2Ccn%3D/%5E%28%5B+%5C-%5D%3D%29%3F%28%5B%5Cd+.%5C-%5D+%29%28%5Ba-z%25%5D*%29%24/i%2Cco%2Ccp%3D%5B%5B%22height%22%2C%22marginTop%22%2C%22marginBottom%22%2C%22paddingTop%22%2C%22paddingBottom%22%5D%2C%5B%22width%22%2C%22marginLeft%22%2C%22marginRight%22%2C%22paddingLeft%22%2C%22paddingRight%22%5D%2C%5B%22opacity%22%5D%5D%2Ccq%3Bf.fn.extend%28%7Bshow%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%2Ce%3Bif%28a%7C%7Ca%3D%3D%3D0%29return%20this.animate%28ct%28%22show%22%2C3%29%2Ca%2Cb%2Cc%29%3Bfor%28var%20g%3D0%2Ch%3Dthis.length%3Bg%3Ch%3Bg++%29d%3Dthis%5Bg%5D%2Cd.style%26%26%28e%3Dd.style.display%2C%21f._data%28d%2C%22olddisplay%22%29%26%26e%3D%3D%3D%22none%22%26%26%28e%3Dd.style.display%3D%22%22%29%2C%28e%3D%3D%3D%22%22%26%26f.css%28d%2C%22display%22%29%3D%3D%3D%22none%22%7C%7C%21f.contains%28d.ownerDocument.documentElement%2Cd%29%29%26%26f._data%28d%2C%22olddisplay%22%2Ccu%28d.nodeName%29%29%29%3Bfor%28g%3D0%3Bg%3Ch%3Bg++%29%7Bd%3Dthis%5Bg%5D%3Bif%28d.style%29%7Be%3Dd.style.display%3Bif%28e%3D%3D%3D%22%22%7C%7Ce%3D%3D%3D%22none%22%29d.style.display%3Df._data%28d%2C%22olddisplay%22%29%7C%7C%22%22%7D%7Dreturn%20this%7D%2Chide%3Afunction%28a%2Cb%2Cc%29%7Bif%28a%7C%7Ca%3D%3D%3D0%29return%20this.animate%28ct%28%22hide%22%2C3%29%2Ca%2Cb%2Cc%29%3Bvar%20d%2Ce%2Cg%3D0%2Ch%3Dthis.length%3Bfor%28%3Bg%3Ch%3Bg++%29d%3Dthis%5Bg%5D%2Cd.style%26%26%28e%3Df.css%28d%2C%22display%22%29%2Ce%21%3D%3D%22none%22%26%26%21f._data%28d%2C%22olddisplay%22%29%26%26f._data%28d%2C%22olddisplay%22%2Ce%29%29%3Bfor%28g%3D0%3Bg%3Ch%3Bg++%29this%5Bg%5D.style%26%26%28this%5Bg%5D.style.display%3D%22none%22%29%3Breturn%20this%7D%2C_toggle%3Af.fn.toggle%2Ctoggle%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Dtypeof%20a%3D%3D%22boolean%22%3Bf.isFunction%28a%29%26%26f.isFunction%28b%29%3Fthis._toggle.apply%28this%2Carguments%29%3Aa%3D%3Dnull%7C%7Cd%3Fthis.each%28function%28%29%7Bvar%20b%3Dd%3Fa%3Af%28this%29.is%28%22%3Ahidden%22%29%3Bf%28this%29%5Bb%3F%22show%22%3A%22hide%22%5D%28%29%7D%29%3Athis.animate%28ct%28%22toggle%22%2C3%29%2Ca%2Cb%2Cc%29%3Breturn%20this%7D%2CfadeTo%3Afunction%28a%2Cb%2Cc%2Cd%29%7Breturn%20this.filter%28%22%3Ahidden%22%29.css%28%22opacity%22%2C0%29.show%28%29.end%28%29.animate%28%7Bopacity%3Ab%7D%2Ca%2Cc%2Cd%29%7D%2Canimate%3Afunction%28a%2Cb%2Cc%2Cd%29%7Bfunction%20g%28%29%7Be.queue%3D%3D%3D%211%26%26f._mark%28this%29%3Bvar%20b%3Df.extend%28%7B%7D%2Ce%29%2Cc%3Dthis.nodeType%3D%3D%3D1%2Cd%3Dc%26%26f%28this%29.is%28%22%3Ahidden%22%29%2Cg%2Ch%2Ci%2Cj%2Ck%2Cl%2Cm%2Cn%2Co%2Cp%2Cq%3Bb.animatedProperties%3D%7B%7D%3Bfor%28i%20in%20a%29%7Bg%3Df.camelCase%28i%29%2Ci%21%3D%3Dg%26%26%28a%5Bg%5D%3Da%5Bi%5D%2Cdelete%20a%5Bi%5D%29%3Bif%28%28k%3Df.cssHooks%5Bg%5D%29%26%26%22expand%22in%20k%29%7Bl%3Dk.expand%28a%5Bg%5D%29%2Cdelete%20a%5Bg%5D%3Bfor%28i%20in%20l%29i%20in%20a%7C%7C%28a%5Bi%5D%3Dl%5Bi%5D%29%7D%7Dfor%28g%20in%20a%29%7Bh%3Da%5Bg%5D%2Cf.isArray%28h%29%3F%28b.animatedProperties%5Bg%5D%3Dh%5B1%5D%2Ch%3Da%5Bg%5D%3Dh%5B0%5D%29%3Ab.animatedProperties%5Bg%5D%3Db.specialEasing%26%26b.specialEasing%5Bg%5D%7C%7Cb.easing%7C%7C%22swing%22%3Bif%28h%3D%3D%3D%22hide%22%26%26d%7C%7Ch%3D%3D%3D%22show%22%26%26%21d%29return%20b.complete.call%28this%29%3Bc%26%26%28g%3D%3D%3D%22height%22%7C%7Cg%3D%3D%3D%22width%22%29%26%26%28b.overflow%3D%5Bthis.style.overflow%2Cthis.style.overflowX%2Cthis.style.overflowY%5D%2Cf.css%28this%2C%22display%22%29%3D%3D%3D%22inline%22%26%26f.css%28this%2C%22float%22%29%3D%3D%3D%22none%22%26%26%28%21f.support.inlineBlockNeedsLayout%7C%7Ccu%28this.nodeName%29%3D%3D%3D%22inline%22%3Fthis.style.display%3D%22inline-block%22%3Athis.style.zoom%3D1%29%29%7Db.overflow%21%3Dnull%26%26%28this.style.overflow%3D%22hidden%22%29%3Bfor%28i%20in%20a%29j%3Dnew%20f.fx%28this%2Cb%2Ci%29%2Ch%3Da%5Bi%5D%2Ccm.test%28h%29%3F%28q%3Df._data%28this%2C%22toggle%22+i%29%7C%7C%28h%3D%3D%3D%22toggle%22%3Fd%3F%22show%22%3A%22hide%22%3A0%29%2Cq%3F%28f._data%28this%2C%22toggle%22+i%2Cq%3D%3D%3D%22show%22%3F%22hide%22%3A%22show%22%29%2Cj%5Bq%5D%28%29%29%3Aj%5Bh%5D%28%29%29%3A%28m%3Dcn.exec%28h%29%2Cn%3Dj.cur%28%29%2Cm%3F%28o%3DparseFloat%28m%5B2%5D%29%2Cp%3Dm%5B3%5D%7C%7C%28f.cssNumber%5Bi%5D%3F%22%22%3A%22px%22%29%2Cp%21%3D%3D%22px%22%26%26%28f.style%28this%2Ci%2C%28o%7C%7C1%29+p%29%2Cn%3D%28o%7C%7C1%29/j.cur%28%29*n%2Cf.style%28this%2Ci%2Cn+p%29%29%2Cm%5B1%5D%26%26%28o%3D%28m%5B1%5D%3D%3D%3D%22-%3D%22%3F-1%3A1%29*o+n%29%2Cj.custom%28n%2Co%2Cp%29%29%3Aj.custom%28n%2Ch%2C%22%22%29%29%3Breturn%210%7Dvar%20e%3Df.speed%28b%2Cc%2Cd%29%3Bif%28f.isEmptyObject%28a%29%29return%20this.each%28e.complete%2C%5B%211%5D%29%3Ba%3Df.extend%28%7B%7D%2Ca%29%3Breturn%20e.queue%3D%3D%3D%211%3Fthis.each%28g%29%3Athis.queue%28e.queue%2Cg%29%7D%2Cstop%3Afunction%28a%2Cc%2Cd%29%7Btypeof%20a%21%3D%22string%22%26%26%28d%3Dc%2Cc%3Da%2Ca%3Db%29%2Cc%26%26a%21%3D%3D%211%26%26this.queue%28a%7C%7C%22fx%22%2C%5B%5D%29%3Breturn%20this.each%28function%28%29%7Bfunction%20h%28a%2Cb%2Cc%29%7Bvar%20e%3Db%5Bc%5D%3Bf.removeData%28a%2Cc%2C%210%29%2Ce.stop%28d%29%7Dvar%20b%2Cc%3D%211%2Ce%3Df.timers%2Cg%3Df._data%28this%29%3Bd%7C%7Cf._unmark%28%210%2Cthis%29%3Bif%28a%3D%3Dnull%29for%28b%20in%20g%29g%5Bb%5D%26%26g%5Bb%5D.stop%26%26b.indexOf%28%22.run%22%29%3D%3D%3Db.length-4%26%26h%28this%2Cg%2Cb%29%3Belse%20g%5Bb%3Da+%22.run%22%5D%26%26g%5Bb%5D.stop%26%26h%28this%2Cg%2Cb%29%3Bfor%28b%3De.length%3Bb--%3B%29e%5Bb%5D.elem%3D%3D%3Dthis%26%26%28a%3D%3Dnull%7C%7Ce%5Bb%5D.queue%3D%3D%3Da%29%26%26%28d%3Fe%5Bb%5D%28%210%29%3Ae%5Bb%5D.saveState%28%29%2Cc%3D%210%2Ce.splice%28b%2C1%29%29%3B%28%21d%7C%7C%21c%29%26%26f.dequeue%28this%2Ca%29%7D%29%7D%7D%29%2Cf.each%28%7BslideDown%3Act%28%22show%22%2C1%29%2CslideUp%3Act%28%22hide%22%2C1%29%2CslideToggle%3Act%28%22toggle%22%2C1%29%2CfadeIn%3A%7Bopacity%3A%22show%22%7D%2CfadeOut%3A%7Bopacity%3A%22hide%22%7D%2CfadeToggle%3A%7Bopacity%3A%22toggle%22%7D%7D%2Cfunction%28a%2Cb%29%7Bf.fn%5Ba%5D%3Dfunction%28a%2Cc%2Cd%29%7Breturn%20this.animate%28b%2Ca%2Cc%2Cd%29%7D%7D%29%2Cf.extend%28%7Bspeed%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Da%26%26typeof%20a%3D%3D%22object%22%3Ff.extend%28%7B%7D%2Ca%29%3A%7Bcomplete%3Ac%7C%7C%21c%26%26b%7C%7Cf.isFunction%28a%29%26%26a%2Cduration%3Aa%2Ceasing%3Ac%26%26b%7C%7Cb%26%26%21f.isFunction%28b%29%26%26b%7D%3Bd.duration%3Df.fx.off%3F0%3Atypeof%20d.duration%3D%3D%22number%22%3Fd.duration%3Ad.duration%20in%20f.fx.speeds%3Ff.fx.speeds%5Bd.duration%5D%3Af.fx.speeds._default%3Bif%28d.queue%3D%3Dnull%7C%7Cd.queue%3D%3D%3D%210%29d.queue%3D%22fx%22%3Bd.old%3Dd.complete%2Cd.complete%3Dfunction%28a%29%7Bf.isFunction%28d.old%29%26%26d.old.call%28this%29%2Cd.queue%3Ff.dequeue%28this%2Cd.queue%29%3Aa%21%3D%3D%211%26%26f._unmark%28this%29%7D%3Breturn%20d%7D%2Ceasing%3A%7Blinear%3Afunction%28a%29%7Breturn%20a%7D%2Cswing%3Afunction%28a%29%7Breturn-Math.cos%28a*Math.PI%29/2+.5%7D%7D%2Ctimers%3A%5B%5D%2Cfx%3Afunction%28a%2Cb%2Cc%29%7Bthis.options%3Db%2Cthis.elem%3Da%2Cthis.prop%3Dc%2Cb.orig%3Db.orig%7C%7C%7B%7D%7D%7D%29%2Cf.fx.prototype%3D%7Bupdate%3Afunction%28%29%7Bthis.options.step%26%26this.options.step.call%28this.elem%2Cthis.now%2Cthis%29%2C%28f.fx.step%5Bthis.prop%5D%7C%7Cf.fx.step._default%29%28this%29%7D%2Ccur%3Afunction%28%29%7Bif%28this.elem%5Bthis.prop%5D%21%3Dnull%26%26%28%21this.elem.style%7C%7Cthis.elem.style%5Bthis.prop%5D%3D%3Dnull%29%29return%20this.elem%5Bthis.prop%5D%3Bvar%20a%2Cb%3Df.css%28this.elem%2Cthis.prop%29%3Breturn%20isNaN%28a%3DparseFloat%28b%29%29%3F%21b%7C%7Cb%3D%3D%3D%22auto%22%3F0%3Ab%3Aa%7D%2Ccustom%3Afunction%28a%2Cc%2Cd%29%7Bfunction%20h%28a%29%7Breturn%20e.step%28a%29%7Dvar%20e%3Dthis%2Cg%3Df.fx%3Bthis.startTime%3Dcq%7C%7Ccr%28%29%2Cthis.end%3Dc%2Cthis.now%3Dthis.start%3Da%2Cthis.pos%3Dthis.state%3D0%2Cthis.unit%3Dd%7C%7Cthis.unit%7C%7C%28f.cssNumber%5Bthis.prop%5D%3F%22%22%3A%22px%22%29%2Ch.queue%3Dthis.options.queue%2Ch.elem%3Dthis.elem%2Ch.saveState%3Dfunction%28%29%7Bf._data%28e.elem%2C%22fxshow%22+e.prop%29%3D%3D%3Db%26%26%28e.options.hide%3Ff._data%28e.elem%2C%22fxshow%22+e.prop%2Ce.start%29%3Ae.options.show%26%26f._data%28e.elem%2C%22fxshow%22+e.prop%2Ce.end%29%29%7D%2Ch%28%29%26%26f.timers.push%28h%29%26%26%21co%26%26%28co%3DsetInterval%28g.tick%2Cg.interval%29%29%7D%2Cshow%3Afunction%28%29%7Bvar%20a%3Df._data%28this.elem%2C%22fxshow%22+this.prop%29%3Bthis.options.orig%5Bthis.prop%5D%3Da%7C%7Cf.style%28this.elem%2Cthis.prop%29%2Cthis.options.show%3D%210%2Ca%21%3D%3Db%3Fthis.custom%28this.cur%28%29%2Ca%29%3Athis.custom%28this.prop%3D%3D%3D%22width%22%7C%7Cthis.prop%3D%3D%3D%22height%22%3F1%3A0%2Cthis.cur%28%29%29%2Cf%28this.elem%29.show%28%29%7D%2Chide%3Afunction%28%29%7Bthis.options.orig%5Bthis.prop%5D%3Df._data%28this.elem%2C%22fxshow%22+this.prop%29%7C%7Cf.style%28this.elem%2Cthis.prop%29%2Cthis.options.hide%3D%210%2Cthis.custom%28this.cur%28%29%2C0%29%7D%2Cstep%3Afunction%28a%29%7Bvar%20b%2Cc%2Cd%2Ce%3Dcq%7C%7Ccr%28%29%2Cg%3D%210%2Ch%3Dthis.elem%2Ci%3Dthis.options%3Bif%28a%7C%7Ce%3E%3Di.duration+this.startTime%29%7Bthis.now%3Dthis.end%2Cthis.pos%3Dthis.state%3D1%2Cthis.update%28%29%2Ci.animatedProperties%5Bthis.prop%5D%3D%210%3Bfor%28b%20in%20i.animatedProperties%29i.animatedProperties%5Bb%5D%21%3D%3D%210%26%26%28g%3D%211%29%3Bif%28g%29%7Bi.overflow%21%3Dnull%26%26%21f.support.shrinkWrapBlocks%26%26f.each%28%5B%22%22%2C%22X%22%2C%22Y%22%5D%2Cfunction%28a%2Cb%29%7Bh.style%5B%22overflow%22+b%5D%3Di.overflow%5Ba%5D%7D%29%2Ci.hide%26%26f%28h%29.hide%28%29%3Bif%28i.hide%7C%7Ci.show%29for%28b%20in%20i.animatedProperties%29f.style%28h%2Cb%2Ci.orig%5Bb%5D%29%2Cf.removeData%28h%2C%22fxshow%22+b%2C%210%29%2Cf.removeData%28h%2C%22toggle%22+b%2C%210%29%3Bd%3Di.complete%2Cd%26%26%28i.complete%3D%211%2Cd.call%28h%29%29%7Dreturn%211%7Di.duration%3D%3DInfinity%3Fthis.now%3De%3A%28c%3De-this.startTime%2Cthis.state%3Dc/i.duration%2Cthis.pos%3Df.easing%5Bi.animatedProperties%5Bthis.prop%5D%5D%28this.state%2Cc%2C0%2C1%2Ci.duration%29%2Cthis.now%3Dthis.start+%28this.end-this.start%29*this.pos%29%2Cthis.update%28%29%3Breturn%210%7D%7D%2Cf.extend%28f.fx%2C%7Btick%3Afunction%28%29%7Bvar%20a%2Cb%3Df.timers%2Cc%3D0%3Bfor%28%3Bc%3Cb.length%3Bc++%29a%3Db%5Bc%5D%2C%21a%28%29%26%26b%5Bc%5D%3D%3D%3Da%26%26b.splice%28c--%2C1%29%3Bb.length%7C%7Cf.fx.stop%28%29%7D%2Cinterval%3A13%2Cstop%3Afunction%28%29%7BclearInterval%28co%29%2Cco%3Dnull%7D%2Cspeeds%3A%7Bslow%3A600%2Cfast%3A200%2C_default%3A400%7D%2Cstep%3A%7Bopacity%3Afunction%28a%29%7Bf.style%28a.elem%2C%22opacity%22%2Ca.now%29%7D%2C_default%3Afunction%28a%29%7Ba.elem.style%26%26a.elem.style%5Ba.prop%5D%21%3Dnull%3Fa.elem.style%5Ba.prop%5D%3Da.now+a.unit%3Aa.elem%5Ba.prop%5D%3Da.now%7D%7D%7D%29%2Cf.each%28cp.concat.apply%28%5B%5D%2Ccp%29%2Cfunction%28a%2Cb%29%7Bb.indexOf%28%22margin%22%29%26%26%28f.fx.step%5Bb%5D%3Dfunction%28a%29%7Bf.style%28a.elem%2Cb%2CMath.max%280%2Ca.now%29+a.unit%29%7D%29%7D%29%2Cf.expr%26%26f.expr.filters%26%26%28f.expr.filters.animated%3Dfunction%28a%29%7Breturn%20f.grep%28f.timers%2Cfunction%28b%29%7Breturn%20a%3D%3D%3Db.elem%7D%29.length%7D%29%3Bvar%20cv%2Ccw%3D/%5Et%28%3F%3Aable%7Cd%7Ch%29%24/i%2Ccx%3D/%5E%28%3F%3Abody%7Chtml%29%24/i%3B%22getBoundingClientRect%22in%20c.documentElement%3Fcv%3Dfunction%28a%2Cb%2Cc%2Cd%29%7Btry%7Bd%3Da.getBoundingClientRect%28%29%7Dcatch%28e%29%7B%7Dif%28%21d%7C%7C%21f.contains%28c%2Ca%29%29return%20d%3F%7Btop%3Ad.top%2Cleft%3Ad.left%7D%3A%7Btop%3A0%2Cleft%3A0%7D%3Bvar%20g%3Db.body%2Ch%3Dcy%28b%29%2Ci%3Dc.clientTop%7C%7Cg.clientTop%7C%7C0%2Cj%3Dc.clientLeft%7C%7Cg.clientLeft%7C%7C0%2Ck%3Dh.pageYOffset%7C%7Cf.support.boxModel%26%26c.scrollTop%7C%7Cg.scrollTop%2Cl%3Dh.pageXOffset%7C%7Cf.support.boxModel%26%26c.scrollLeft%7C%7Cg.scrollLeft%2Cm%3Dd.top+k-i%2Cn%3Dd.left+l-j%3Breturn%7Btop%3Am%2Cleft%3An%7D%7D%3Acv%3Dfunction%28a%2Cb%2Cc%29%7Bvar%20d%2Ce%3Da.offsetParent%2Cg%3Da%2Ch%3Db.body%2Ci%3Db.defaultView%2Cj%3Di%3Fi.getComputedStyle%28a%2Cnull%29%3Aa.currentStyle%2Ck%3Da.offsetTop%2Cl%3Da.offsetLeft%3Bwhile%28%28a%3Da.parentNode%29%26%26a%21%3D%3Dh%26%26a%21%3D%3Dc%29%7Bif%28f.support.fixedPosition%26%26j.position%3D%3D%3D%22fixed%22%29break%3Bd%3Di%3Fi.getComputedStyle%28a%2Cnull%29%3Aa.currentStyle%2Ck-%3Da.scrollTop%2Cl-%3Da.scrollLeft%2Ca%3D%3D%3De%26%26%28k+%3Da.offsetTop%2Cl+%3Da.offsetLeft%2Cf.support.doesNotAddBorder%26%26%28%21f.support.doesAddBorderForTableAndCells%7C%7C%21cw.test%28a.nodeName%29%29%26%26%28k+%3DparseFloat%28d.borderTopWidth%29%7C%7C0%2Cl+%3DparseFloat%28d.borderLeftWidth%29%7C%7C0%29%2Cg%3De%2Ce%3Da.offsetParent%29%2Cf.support.subtractsBorderForOverflowNotVisible%26%26d.overflow%21%3D%3D%22visible%22%26%26%28k+%3DparseFloat%28d.borderTopWidth%29%7C%7C0%2Cl+%3DparseFloat%28d.borderLeftWidth%29%7C%7C0%29%2Cj%3Dd%7Dif%28j.position%3D%3D%3D%22relative%22%7C%7Cj.position%3D%3D%3D%22static%22%29k+%3Dh.offsetTop%2Cl+%3Dh.offsetLeft%3Bf.support.fixedPosition%26%26j.position%3D%3D%3D%22fixed%22%26%26%28k+%3DMath.max%28c.scrollTop%2Ch.scrollTop%29%2Cl+%3DMath.max%28c.scrollLeft%2Ch.scrollLeft%29%29%3Breturn%7Btop%3Ak%2Cleft%3Al%7D%7D%2Cf.fn.offset%3Dfunction%28a%29%7Bif%28arguments.length%29return%20a%3D%3D%3Db%3Fthis%3Athis.each%28function%28b%29%7Bf.offset.setOffset%28this%2Ca%2Cb%29%7D%29%3Bvar%20c%3Dthis%5B0%5D%2Cd%3Dc%26%26c.ownerDocument%3Bif%28%21d%29return%20null%3Bif%28c%3D%3D%3Dd.body%29return%20f.offset.bodyOffset%28c%29%3Breturn%20cv%28c%2Cd%2Cd.documentElement%29%7D%2Cf.offset%3D%7BbodyOffset%3Afunction%28a%29%7Bvar%20b%3Da.offsetTop%2Cc%3Da.offsetLeft%3Bf.support.doesNotIncludeMarginInBodyOffset%26%26%28b+%3DparseFloat%28f.css%28a%2C%22marginTop%22%29%29%7C%7C0%2Cc+%3DparseFloat%28f.css%28a%2C%22marginLeft%22%29%29%7C%7C0%29%3Breturn%7Btop%3Ab%2Cleft%3Ac%7D%7D%2CsetOffset%3Afunction%28a%2Cb%2Cc%29%7Bvar%20d%3Df.css%28a%2C%22position%22%29%3Bd%3D%3D%3D%22static%22%26%26%28a.style.position%3D%22relative%22%29%3Bvar%20e%3Df%28a%29%2Cg%3De.offset%28%29%2Ch%3Df.css%28a%2C%22top%22%29%2Ci%3Df.css%28a%2C%22left%22%29%2Cj%3D%28d%3D%3D%3D%22absolute%22%7C%7Cd%3D%3D%3D%22fixed%22%29%26%26f.inArray%28%22auto%22%2C%5Bh%2Ci%5D%29%3E-1%2Ck%3D%7B%7D%2Cl%3D%7B%7D%2Cm%2Cn%3Bj%3F%28l%3De.position%28%29%2Cm%3Dl.top%2Cn%3Dl.left%29%3A%28m%3DparseFloat%28h%29%7C%7C0%2Cn%3DparseFloat%28i%29%7C%7C0%29%2Cf.isFunction%28b%29%26%26%28b%3Db.call%28a%2Cc%2Cg%29%29%2Cb.top%21%3Dnull%26%26%28k.top%3Db.top-g.top+m%29%2Cb.left%21%3Dnull%26%26%28k.left%3Db.left-g.left+n%29%2C%22using%22in%20b%3Fb.using.call%28a%2Ck%29%3Ae.css%28k%29%7D%7D%2Cf.fn.extend%28%7Bposition%3Afunction%28%29%7Bif%28%21this%5B0%5D%29return%20null%3Bvar%20a%3Dthis%5B0%5D%2Cb%3Dthis.offsetParent%28%29%2Cc%3Dthis.offset%28%29%2Cd%3Dcx.test%28b%5B0%5D.nodeName%29%3F%7Btop%3A0%2Cleft%3A0%7D%3Ab.offset%28%29%3Bc.top-%3DparseFloat%28f.css%28a%2C%22marginTop%22%29%29%7C%7C0%2Cc.left-%3DparseFloat%28f.css%28a%2C%22marginLeft%22%29%29%7C%7C0%2Cd.top+%3DparseFloat%28f.css%28b%5B0%5D%2C%22borderTopWidth%22%29%29%7C%7C0%2Cd.left+%3DparseFloat%28f.css%28b%5B0%5D%2C%22borderLeftWidth%22%29%29%7C%7C0%3Breturn%7Btop%3Ac.top-d.top%2Cleft%3Ac.left-d.left%7D%7D%2CoffsetParent%3Afunction%28%29%7Breturn%20this.map%28function%28%29%7Bvar%20a%3Dthis.offsetParent%7C%7Cc.body%3Bwhile%28a%26%26%21cx.test%28a.nodeName%29%26%26f.css%28a%2C%22position%22%29%3D%3D%3D%22static%22%29a%3Da.offsetParent%3Breturn%20a%7D%29%7D%7D%29%2Cf.each%28%7BscrollLeft%3A%22pageXOffset%22%2CscrollTop%3A%22pageYOffset%22%7D%2Cfunction%28a%2Cc%29%7Bvar%20d%3D/Y/.test%28c%29%3Bf.fn%5Ba%5D%3Dfunction%28e%29%7Breturn%20f.access%28this%2Cfunction%28a%2Ce%2Cg%29%7Bvar%20h%3Dcy%28a%29%3Bif%28g%3D%3D%3Db%29return%20h%3Fc%20in%20h%3Fh%5Bc%5D%3Af.support.boxModel%26%26h.document.documentElement%5Be%5D%7C%7Ch.document.body%5Be%5D%3Aa%5Be%5D%3Bh%3Fh.scrollTo%28d%3Ff%28h%29.scrollLeft%28%29%3Ag%2Cd%3Fg%3Af%28h%29.scrollTop%28%29%29%3Aa%5Be%5D%3Dg%7D%2Ca%2Ce%2Carguments.length%2Cnull%29%7D%7D%29%2Cf.each%28%7BHeight%3A%22height%22%2CWidth%3A%22width%22%7D%2Cfunction%28a%2Cc%29%7Bvar%20d%3D%22client%22+a%2Ce%3D%22scroll%22+a%2Cg%3D%22offset%22+a%3Bf.fn%5B%22inner%22+a%5D%3Dfunction%28%29%7Bvar%20a%3Dthis%5B0%5D%3Breturn%20a%3Fa.style%3FparseFloat%28f.css%28a%2Cc%2C%22padding%22%29%29%3Athis%5Bc%5D%28%29%3Anull%7D%2Cf.fn%5B%22outer%22+a%5D%3Dfunction%28a%29%7Bvar%20b%3Dthis%5B0%5D%3Breturn%20b%3Fb.style%3FparseFloat%28f.css%28b%2Cc%2Ca%3F%22margin%22%3A%22border%22%29%29%3Athis%5Bc%5D%28%29%3Anull%7D%2Cf.fn%5Bc%5D%3Dfunction%28a%29%7Breturn%20f.access%28this%2Cfunction%28a%2Cc%2Ch%29%7Bvar%20i%2Cj%2Ck%2Cl%3Bif%28f.isWindow%28a%29%29%7Bi%3Da.document%2Cj%3Di.documentElement%5Bd%5D%3Breturn%20f.support.boxModel%26%26j%7C%7Ci.body%26%26i.body%5Bd%5D%7C%7Cj%7Dif%28a.nodeType%3D%3D%3D9%29%7Bi%3Da.documentElement%3Bif%28i%5Bd%5D%3E%3Di%5Be%5D%29return%20i%5Bd%5D%3Breturn%20Math.max%28a.body%5Be%5D%2Ci%5Be%5D%2Ca.body%5Bg%5D%2Ci%5Bg%5D%29%7Dif%28h%3D%3D%3Db%29%7Bk%3Df.css%28a%2Cc%29%2Cl%3DparseFloat%28k%29%3Breturn%20f.isNumeric%28l%29%3Fl%3Ak%7Df%28a%29.css%28c%2Ch%29%7D%2Cc%2Ca%2Carguments.length%2Cnull%29%7D%7D%29%2Ca.jQuery%3Da.%24%3Df%2Ctypeof%20define%3D%3D%22function%22%26%26define.amd%26%26define.amd.jQuery%26%26define%28%22jquery%22%2C%5B%5D%2Cfunction%28%29%7Breturn%20f%7D%29%7D%29%28window%29%3B%0D%0A%0A/**%0D%0A%20*%20@license%20AngularJS%20v1.4.0%0D%0A%20*%20%28c%29%202010-2015%20Google%2C%20Inc.%20http%3A//angularjs.org%0D%0A%20*%20License%3A%20MIT%0D%0A%20*/%0D%0A%28function%28window%2C%20document%2C%20undefined%29%20%7B%27use%20strict%27%3B%0D%0A%0D%0A/**%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20This%20object%20provides%20a%20utility%20for%20producing%20rich%20Error%20messages%20within%0D%0A%20*%20Angular.%20It%20can%20be%20called%20as%20follows%3A%0D%0A%20*%0D%0A%20*%20var%20exampleMinErr%20%3D%20minErr%28%27example%27%29%3B%0D%0A%20*%20throw%20exampleMinErr%28%27one%27%2C%20%27This%20%7B0%7D%20is%20%7B1%7D%27%2C%20foo%2C%20bar%29%3B%0D%0A%20*%0D%0A%20*%20The%20above%20creates%20an%20instance%20of%20minErr%20in%20the%20example%20namespace.%20The%0D%0A%20*%20resulting%20error%20will%20have%20a%20namespaced%20error%20code%20of%20example.one.%20%20The%0D%0A%20*%20resulting%20error%20will%20replace%20%7B0%7D%20with%20the%20value%20of%20foo%2C%20and%20%7B1%7D%20with%20the%0D%0A%20*%20value%20of%20bar.%20The%20object%20is%20not%20restricted%20in%20the%20number%20of%20arguments%20it%20can%0D%0A%20*%20take.%0D%0A%20*%0D%0A%20*%20If%20fewer%20arguments%20are%20specified%20than%20necessary%20for%20interpolation%2C%20the%20extra%0D%0A%20*%20interpolation%20markers%20will%20be%20preserved%20in%20the%20final%20string.%0D%0A%20*%0D%0A%20*%20Since%20data%20will%20be%20parsed%20statically%20during%20a%20build%20step%2C%20some%20restrictions%0D%0A%20*%20are%20applied%20with%20respect%20to%20how%20minErr%20instances%20are%20created%20and%20called.%0D%0A%20*%20Instances%20should%20have%20names%20of%20the%20form%20namespaceMinErr%20for%20a%20minErr%20created%0D%0A%20*%20using%20minErr%28%27namespace%27%29%20.%20Error%20codes%2C%20namespaces%20and%20template%20strings%0D%0A%20*%20should%20all%20be%20static%20strings%2C%20not%20variables%20or%20general%20expressions.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20module%20The%20namespace%20to%20use%20for%20the%20new%20minErr%20instance.%0D%0A%20*%20@param%20%7Bfunction%7D%20ErrorConstructor%20Custom%20error%20constructor%20to%20be%20instantiated%20when%20returning%0D%0A%20*%20%20%20error%20from%20returned%20function%2C%20for%20cases%20when%20a%20particular%20type%20of%20error%20is%20useful.%0D%0A%20*%20@returns%20%7Bfunction%28code%3Astring%2C%20template%3Astring%2C%20...templateArgs%29%3A%20Error%7D%20minErr%20instance%0D%0A%20*/%0D%0A%0D%0Afunction%20minErr%28module%2C%20ErrorConstructor%29%20%7B%0D%0A%20%20ErrorConstructor%20%3D%20ErrorConstructor%20%7C%7C%20Error%3B%0D%0A%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20var%20SKIP_INDEXES%20%3D%202%3B%0D%0A%0D%0A%20%20%20%20var%20templateArgs%20%3D%20arguments%2C%0D%0A%20%20%20%20%20%20code%20%3D%20templateArgs%5B0%5D%2C%0D%0A%20%20%20%20%20%20message%20%3D%20%27%5B%27%20+%20%28module%20%3F%20module%20+%20%27%3A%27%20%3A%20%27%27%29%20+%20code%20+%20%27%5D%20%27%2C%0D%0A%20%20%20%20%20%20template%20%3D%20templateArgs%5B1%5D%2C%0D%0A%20%20%20%20%20%20paramPrefix%2C%20i%3B%0D%0A%0D%0A%20%20%20%20message%20+%3D%20template.replace%28/%5C%7B%5Cd+%5C%7D/g%2C%20function%28match%29%20%7B%0D%0A%20%20%20%20%20%20var%20index%20%3D%20+match.slice%281%2C%20-1%29%2C%0D%0A%20%20%20%20%20%20%20%20shiftedIndex%20%3D%20index%20+%20SKIP_INDEXES%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28shiftedIndex%20%3C%20templateArgs.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20toDebugString%28templateArgs%5BshiftedIndex%5D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20match%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20message%20+%3D%20%27%5Cnhttp%3A//errors.angularjs.org/1.4.0/%27%20+%0D%0A%20%20%20%20%20%20%28module%20%3F%20module%20+%20%27/%27%20%3A%20%27%27%29%20+%20code%3B%0D%0A%0D%0A%20%20%20%20for%20%28i%20%3D%20SKIP_INDEXES%2C%20paramPrefix%20%3D%20%27%3F%27%3B%20i%20%3C%20templateArgs.length%3B%20i++%2C%20paramPrefix%20%3D%20%27%26%27%29%20%7B%0D%0A%20%20%20%20%20%20message%20+%3D%20paramPrefix%20+%20%27p%27%20+%20%28i%20-%20SKIP_INDEXES%29%20+%20%27%3D%27%20+%0D%0A%20%20%20%20%20%20%20%20encodeURIComponent%28toDebugString%28templateArgs%5Bi%5D%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20new%20ErrorConstructor%28message%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/*%20We%20need%20to%20tell%20jshint%20what%20variables%20are%20being%20exported%20*/%0D%0A/*%20global%20angular%3A%20true%2C%0D%0A%20%20msie%3A%20true%2C%0D%0A%20%20jqLite%3A%20true%2C%0D%0A%20%20jQuery%3A%20true%2C%0D%0A%20%20slice%3A%20true%2C%0D%0A%20%20splice%3A%20true%2C%0D%0A%20%20push%3A%20true%2C%0D%0A%20%20toString%3A%20true%2C%0D%0A%20%20ngMinErr%3A%20true%2C%0D%0A%20%20angularModule%3A%20true%2C%0D%0A%20%20uid%3A%20true%2C%0D%0A%20%20REGEX_STRING_REGEXP%3A%20true%2C%0D%0A%20%20VALIDITY_STATE_PROPERTY%3A%20true%2C%0D%0A%0D%0A%20%20lowercase%3A%20true%2C%0D%0A%20%20uppercase%3A%20true%2C%0D%0A%20%20manualLowercase%3A%20true%2C%0D%0A%20%20manualUppercase%3A%20true%2C%0D%0A%20%20nodeName_%3A%20true%2C%0D%0A%20%20isArrayLike%3A%20true%2C%0D%0A%20%20forEach%3A%20true%2C%0D%0A%20%20forEachSorted%3A%20true%2C%0D%0A%20%20reverseParams%3A%20true%2C%0D%0A%20%20nextUid%3A%20true%2C%0D%0A%20%20setHashKey%3A%20true%2C%0D%0A%20%20extend%3A%20true%2C%0D%0A%20%20toInt%3A%20true%2C%0D%0A%20%20inherit%3A%20true%2C%0D%0A%20%20merge%3A%20true%2C%0D%0A%20%20noop%3A%20true%2C%0D%0A%20%20identity%3A%20true%2C%0D%0A%20%20valueFn%3A%20true%2C%0D%0A%20%20isUndefined%3A%20true%2C%0D%0A%20%20isDefined%3A%20true%2C%0D%0A%20%20isObject%3A%20true%2C%0D%0A%20%20isBlankObject%3A%20true%2C%0D%0A%20%20isString%3A%20true%2C%0D%0A%20%20isNumber%3A%20true%2C%0D%0A%20%20isDate%3A%20true%2C%0D%0A%20%20isArray%3A%20true%2C%0D%0A%20%20isFunction%3A%20true%2C%0D%0A%20%20isRegExp%3A%20true%2C%0D%0A%20%20isWindow%3A%20true%2C%0D%0A%20%20isScope%3A%20true%2C%0D%0A%20%20isFile%3A%20true%2C%0D%0A%20%20isFormData%3A%20true%2C%0D%0A%20%20isBlob%3A%20true%2C%0D%0A%20%20isBoolean%3A%20true%2C%0D%0A%20%20isPromiseLike%3A%20true%2C%0D%0A%20%20trim%3A%20true%2C%0D%0A%20%20escapeForRegexp%3A%20true%2C%0D%0A%20%20isElement%3A%20true%2C%0D%0A%20%20makeMap%3A%20true%2C%0D%0A%20%20includes%3A%20true%2C%0D%0A%20%20arrayRemove%3A%20true%2C%0D%0A%20%20copy%3A%20true%2C%0D%0A%20%20shallowCopy%3A%20true%2C%0D%0A%20%20equals%3A%20true%2C%0D%0A%20%20csp%3A%20true%2C%0D%0A%20%20jq%3A%20true%2C%0D%0A%20%20concat%3A%20true%2C%0D%0A%20%20sliceArgs%3A%20true%2C%0D%0A%20%20bind%3A%20true%2C%0D%0A%20%20toJsonReplacer%3A%20true%2C%0D%0A%20%20toJson%3A%20true%2C%0D%0A%20%20fromJson%3A%20true%2C%0D%0A%20%20convertTimezoneToLocal%3A%20true%2C%0D%0A%20%20timezoneToOffset%3A%20true%2C%0D%0A%20%20startingTag%3A%20true%2C%0D%0A%20%20tryDecodeURIComponent%3A%20true%2C%0D%0A%20%20parseKeyValue%3A%20true%2C%0D%0A%20%20toKeyValue%3A%20true%2C%0D%0A%20%20encodeUriSegment%3A%20true%2C%0D%0A%20%20encodeUriQuery%3A%20true%2C%0D%0A%20%20angularInit%3A%20true%2C%0D%0A%20%20bootstrap%3A%20true%2C%0D%0A%20%20getTestability%3A%20true%2C%0D%0A%20%20snake_case%3A%20true%2C%0D%0A%20%20bindJQuery%3A%20true%2C%0D%0A%20%20assertArg%3A%20true%2C%0D%0A%20%20assertArgFn%3A%20true%2C%0D%0A%20%20assertNotHasOwnProperty%3A%20true%2C%0D%0A%20%20getter%3A%20true%2C%0D%0A%20%20getBlockNodes%3A%20true%2C%0D%0A%20%20hasOwnProperty%3A%20true%2C%0D%0A%20%20createMap%3A%20true%2C%0D%0A%0D%0A%20%20NODE_TYPE_ELEMENT%3A%20true%2C%0D%0A%20%20NODE_TYPE_ATTRIBUTE%3A%20true%2C%0D%0A%20%20NODE_TYPE_TEXT%3A%20true%2C%0D%0A%20%20NODE_TYPE_COMMENT%3A%20true%2C%0D%0A%20%20NODE_TYPE_DOCUMENT%3A%20true%2C%0D%0A%20%20NODE_TYPE_DOCUMENT_FRAGMENT%3A%20true%2C%0D%0A*/%0D%0A%0D%0A////////////////////////////////////%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20module%0D%0A%20*%20@name%20ng%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20%23%20ng%20%28core%20module%29%0D%0A%20*%20The%20ng%20module%20is%20loaded%20by%20default%20when%20an%20AngularJS%20application%20is%20started.%20The%20module%20itself%0D%0A%20*%20contains%20the%20essential%20components%20for%20an%20AngularJS%20application%20to%20function.%20The%20table%20below%0D%0A%20*%20lists%20a%20high%20level%20breakdown%20of%20each%20of%20the%20services/factories%2C%20filters%2C%20directives%20and%20testing%0D%0A%20*%20components%20available%20within%20this%20core%20module.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20doc-module-components%3D%22ng%22%3E%3C/div%3E%0D%0A%20*/%0D%0A%0D%0Avar%20REGEX_STRING_REGEXP%20%3D%20/%5E%5C/%28.+%29%5C/%28%5Ba-z%5D*%29%24/%3B%0D%0A%0D%0A//%20The%20name%20of%20a%20form%20control%27s%20ValidityState%20property.%0D%0A//%20This%20is%20used%20so%20that%20it%27s%20possible%20for%20internal%20tests%20to%20create%20mock%20ValidityStates.%0D%0Avar%20VALIDITY_STATE_PROPERTY%20%3D%20%27validity%27%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.lowercase%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%20Converts%20the%20specified%20string%20to%20lowercase.%0D%0A%20*%20@param%20%7Bstring%7D%20string%20String%20to%20be%20converted%20to%20lowercase.%0D%0A%20*%20@returns%20%7Bstring%7D%20Lowercased%20string.%0D%0A%20*/%0D%0Avar%20lowercase%20%3D%20function%28string%29%20%7Breturn%20isString%28string%29%20%3F%20string.toLowerCase%28%29%20%3A%20string%3B%7D%3B%0D%0Avar%20hasOwnProperty%20%3D%20Object.prototype.hasOwnProperty%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.uppercase%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%20Converts%20the%20specified%20string%20to%20uppercase.%0D%0A%20*%20@param%20%7Bstring%7D%20string%20String%20to%20be%20converted%20to%20uppercase.%0D%0A%20*%20@returns%20%7Bstring%7D%20Uppercased%20string.%0D%0A%20*/%0D%0Avar%20uppercase%20%3D%20function%28string%29%20%7Breturn%20isString%28string%29%20%3F%20string.toUpperCase%28%29%20%3A%20string%3B%7D%3B%0D%0A%0D%0A%0D%0Avar%20manualLowercase%20%3D%20function%28s%29%20%7B%0D%0A%20%20/*%20jshint%20bitwise%3A%20false%20*/%0D%0A%20%20return%20isString%28s%29%0D%0A%20%20%20%20%20%20%3F%20s.replace%28/%5BA-Z%5D/g%2C%20function%28ch%29%20%7Breturn%20String.fromCharCode%28ch.charCodeAt%280%29%20%7C%2032%29%3B%7D%29%0D%0A%20%20%20%20%20%20%3A%20s%3B%0D%0A%7D%3B%0D%0Avar%20manualUppercase%20%3D%20function%28s%29%20%7B%0D%0A%20%20/*%20jshint%20bitwise%3A%20false%20*/%0D%0A%20%20return%20isString%28s%29%0D%0A%20%20%20%20%20%20%3F%20s.replace%28/%5Ba-z%5D/g%2C%20function%28ch%29%20%7Breturn%20String.fromCharCode%28ch.charCodeAt%280%29%20%26%20%7E32%29%3B%7D%29%0D%0A%20%20%20%20%20%20%3A%20s%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A//%20String%23toLowerCase%20and%20String%23toUpperCase%20don%27t%20produce%20correct%20results%20in%20browsers%20with%20Turkish%0D%0A//%20locale%2C%20for%20this%20reason%20we%20need%20to%20detect%20this%20case%20and%20redefine%20lowercase/uppercase%20methods%0D%0A//%20with%20correct%20but%20slower%20alternatives.%0D%0Aif%20%28%27i%27%20%21%3D%3D%20%27I%27.toLowerCase%28%29%29%20%7B%0D%0A%20%20lowercase%20%3D%20manualLowercase%3B%0D%0A%20%20uppercase%20%3D%20manualUppercase%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%0D%0A%20%20%20%20msie%2C%20%20%20%20%20%20%20%20%20%20%20%20%20//%20holds%20major%20version%20number%20for%20IE%2C%20or%20NaN%20if%20UA%20is%20not%20IE.%0D%0A%20%20%20%20jqLite%2C%20%20%20%20%20%20%20%20%20%20%20//%20delay%20binding%20since%20jQuery%20could%20be%20loaded%20after%20us.%0D%0A%20%20%20%20jQuery%2C%20%20%20%20%20%20%20%20%20%20%20//%20delay%20binding%0D%0A%20%20%20%20slice%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%5B%5D.slice%2C%0D%0A%20%20%20%20splice%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%5B%5D.splice%2C%0D%0A%20%20%20%20push%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%5B%5D.push%2C%0D%0A%20%20%20%20toString%20%20%20%20%20%20%20%20%20%20%3D%20Object.prototype.toString%2C%0D%0A%20%20%20%20getPrototypeOf%20%20%20%20%3D%20Object.getPrototypeOf%2C%0D%0A%20%20%20%20ngMinErr%20%20%20%20%20%20%20%20%20%20%3D%20minErr%28%27ng%27%29%2C%0D%0A%0D%0A%20%20%20%20/**%20@name%20angular%20*/%0D%0A%20%20%20%20angular%20%20%20%20%20%20%20%20%20%20%20%3D%20window.angular%20%7C%7C%20%28window.angular%20%3D%20%7B%7D%29%2C%0D%0A%20%20%20%20angularModule%2C%0D%0A%20%20%20%20uid%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%200%3B%0D%0A%0D%0A/**%0D%0A%20*%20documentMode%20is%20an%20IE-only%20property%0D%0A%20*%20http%3A//msdn.microsoft.com/en-us/library/ie/cc196988%28v%3Dvs.85%29.aspx%0D%0A%20*/%0D%0Amsie%20%3D%20document.documentMode%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@private%0D%0A%20*%20@param%20%7B*%7D%20obj%0D%0A%20*%20@return%20%7Bboolean%7D%20Returns%20true%20if%20%60obj%60%20is%20an%20array%20or%20array-like%20object%20%28NodeList%2C%20Arguments%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20String%20...%29%0D%0A%20*/%0D%0Afunction%20isArrayLike%28obj%29%20%7B%0D%0A%20%20if%20%28obj%20%3D%3D%20null%20%7C%7C%20isWindow%28obj%29%29%20%7B%0D%0A%20%20%20%20return%20false%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20Support%3A%20iOS%208.2%20%28not%20reproducible%20in%20simulator%29%0D%0A%20%20//%20%22length%22%20in%20obj%20used%20to%20prevent%20JIT%20error%20%28gh-11508%29%0D%0A%20%20var%20length%20%3D%20%22length%22%20in%20Object%28obj%29%20%26%26%20obj.length%3B%0D%0A%0D%0A%20%20if%20%28obj.nodeType%20%3D%3D%3D%20NODE_TYPE_ELEMENT%20%26%26%20length%29%20%7B%0D%0A%20%20%20%20return%20true%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20isString%28obj%29%20%7C%7C%20isArray%28obj%29%20%7C%7C%20length%20%3D%3D%3D%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20typeof%20length%20%3D%3D%3D%20%27number%27%20%26%26%20length%20%3E%200%20%26%26%20%28length%20-%201%29%20in%20obj%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.forEach%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Invokes%20the%20%60iterator%60%20function%20once%20for%20each%20item%20in%20%60obj%60%20collection%2C%20which%20can%20be%20either%20an%0D%0A%20*%20object%20or%20an%20array.%20The%20%60iterator%60%20function%20is%20invoked%20with%20%60iterator%28value%2C%20key%2C%20obj%29%60%2C%20where%20%60value%60%0D%0A%20*%20is%20the%20value%20of%20an%20object%20property%20or%20an%20array%20element%2C%20%60key%60%20is%20the%20object%20property%20key%20or%0D%0A%20*%20array%20element%20index%20and%20obj%20is%20the%20%60obj%60%20itself.%20Specifying%20a%20%60context%60%20for%20the%20function%20is%20optional.%0D%0A%20*%0D%0A%20*%20It%20is%20worth%20noting%20that%20%60.forEach%60%20does%20not%20iterate%20over%20inherited%20properties%20because%20it%20filters%0D%0A%20*%20using%20the%20%60hasOwnProperty%60%20method.%0D%0A%20*%0D%0A%20*%20Unlike%20ES262%27s%0D%0A%20*%20%5BArray.prototype.forEach%5D%28http%3A//www.ecma-international.org/ecma-262/5.1/%23sec-15.4.4.18%29%2C%0D%0A%20*%20Providing%20%27undefined%27%20or%20%27null%27%20values%20for%20%60obj%60%20will%20not%20throw%20a%20TypeError%2C%20but%20rather%20just%0D%0A%20*%20return%20the%20value%20provided.%0D%0A%20*%0D%0A%20%20%20%60%60%60js%0D%0A%20%20%20%20%20var%20values%20%3D%20%7Bname%3A%20%27misko%27%2C%20gender%3A%20%27male%27%7D%3B%0D%0A%20%20%20%20%20var%20log%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20angular.forEach%28values%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20this.push%28key%20+%20%27%3A%20%27%20+%20value%29%3B%0D%0A%20%20%20%20%20%7D%2C%20log%29%3B%0D%0A%20%20%20%20%20expect%28log%29.toEqual%28%5B%27name%3A%20misko%27%2C%20%27gender%3A%20male%27%5D%29%3B%0D%0A%20%20%20%60%60%60%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7CArray%7D%20obj%20Object%20to%20iterate%20over.%0D%0A%20*%20@param%20%7BFunction%7D%20iterator%20Iterator%20function.%0D%0A%20*%20@param%20%7BObject%3D%7D%20context%20Object%20to%20become%20context%20%28%60this%60%29%20for%20the%20iterator%20function.%0D%0A%20*%20@returns%20%7BObject%7CArray%7D%20Reference%20to%20%60obj%60.%0D%0A%20*/%0D%0A%0D%0Afunction%20forEach%28obj%2C%20iterator%2C%20context%29%20%7B%0D%0A%20%20var%20key%2C%20length%3B%0D%0A%20%20if%20%28obj%29%20%7B%0D%0A%20%20%20%20if%20%28isFunction%28obj%29%29%20%7B%0D%0A%20%20%20%20%20%20for%20%28key%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Need%20to%20check%20if%20hasOwnProperty%20exists%2C%0D%0A%20%20%20%20%20%20%20%20//%20as%20on%20IE8%20the%20result%20of%20querySelectorAll%20is%20an%20object%20without%20a%20hasOwnProperty%20function%0D%0A%20%20%20%20%20%20%20%20if%20%28key%20%21%3D%20%27prototype%27%20%26%26%20key%20%21%3D%20%27length%27%20%26%26%20key%20%21%3D%20%27name%27%20%26%26%20%28%21obj.hasOwnProperty%20%7C%7C%20obj.hasOwnProperty%28key%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20iterator.call%28context%2C%20obj%5Bkey%5D%2C%20key%2C%20obj%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20if%20%28isArray%28obj%29%20%7C%7C%20isArrayLike%28obj%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20isPrimitive%20%3D%20typeof%20obj%20%21%3D%3D%20%27object%27%3B%0D%0A%20%20%20%20%20%20for%20%28key%20%3D%200%2C%20length%20%3D%20obj.length%3B%20key%20%3C%20length%3B%20key++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isPrimitive%20%7C%7C%20key%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20iterator.call%28context%2C%20obj%5Bkey%5D%2C%20key%2C%20obj%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20if%20%28obj.forEach%20%26%26%20obj.forEach%20%21%3D%3D%20forEach%29%20%7B%0D%0A%20%20%20%20%20%20%20%20obj.forEach%28iterator%2C%20context%2C%20obj%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28isBlankObject%28obj%29%29%20%7B%0D%0A%20%20%20%20%20%20//%20createMap%28%29%20fast%20path%20---%20Safe%20to%20avoid%20hasOwnProperty%20check%20because%20prototype%20chain%20is%20empty%0D%0A%20%20%20%20%20%20for%20%28key%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20iterator.call%28context%2C%20obj%5Bkey%5D%2C%20key%2C%20obj%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20if%20%28typeof%20obj.hasOwnProperty%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20%20%20//%20Slow%20path%20for%20objects%20inheriting%20Object.prototype%2C%20hasOwnProperty%20check%20needed%0D%0A%20%20%20%20%20%20for%20%28key%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28obj.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20iterator.call%28context%2C%20obj%5Bkey%5D%2C%20key%2C%20obj%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20//%20Slow%20path%20for%20objects%20which%20do%20not%20have%20a%20method%20%60hasOwnProperty%60%0D%0A%20%20%20%20%20%20for%20%28key%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28hasOwnProperty.call%28obj%2C%20key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20iterator.call%28context%2C%20obj%5Bkey%5D%2C%20key%2C%20obj%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0Afunction%20forEachSorted%28obj%2C%20iterator%2C%20context%29%20%7B%0D%0A%20%20var%20keys%20%3D%20Object.keys%28obj%29.sort%28%29%3B%0D%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20keys.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20iterator.call%28context%2C%20obj%5Bkeys%5Bi%5D%5D%2C%20keys%5Bi%5D%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20keys%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20when%20using%20forEach%20the%20params%20are%20value%2C%20key%2C%20but%20it%20is%20often%20useful%20to%20have%20key%2C%20value.%0D%0A%20*%20@param%20%7Bfunction%28string%2C%20*%29%7D%20iteratorFn%0D%0A%20*%20@returns%20%7Bfunction%28*%2C%20string%29%7D%0D%0A%20*/%0D%0Afunction%20reverseParams%28iteratorFn%29%20%7B%0D%0A%20%20return%20function%28value%2C%20key%29%20%7B%20iteratorFn%28key%2C%20value%29%3B%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20A%20consistent%20way%20of%20creating%20unique%20IDs%20in%20angular.%0D%0A%20*%0D%0A%20*%20Using%20simple%20numbers%20allows%20us%20to%20generate%2028.6%20million%20unique%20ids%20per%20second%20for%2010%20years%20before%0D%0A%20*%20we%20hit%20number%20precision%20issues%20in%20JavaScript.%0D%0A%20*%0D%0A%20*%20Math.pow%282%2C53%29%20/%2060%20/%2060%20/%2024%20/%20365%20/%2010%20%3D%2028.6M%0D%0A%20*%0D%0A%20*%20@returns%20%7Bnumber%7D%20an%20unique%20alpha-numeric%20string%0D%0A%20*/%0D%0Afunction%20nextUid%28%29%20%7B%0D%0A%20%20return%20++uid%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Set%20or%20clear%20the%20hashkey%20for%20an%20object.%0D%0A%20*%20@param%20obj%20object%0D%0A%20*%20@param%20h%20the%20hashkey%20%28%21truthy%20to%20delete%20the%20hashkey%29%0D%0A%20*/%0D%0Afunction%20setHashKey%28obj%2C%20h%29%20%7B%0D%0A%20%20if%20%28h%29%20%7B%0D%0A%20%20%20%20obj.%24%24hashKey%20%3D%20h%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20delete%20obj.%24%24hashKey%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20baseExtend%28dst%2C%20objs%2C%20deep%29%20%7B%0D%0A%20%20var%20h%20%3D%20dst.%24%24hashKey%3B%0D%0A%0D%0A%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20objs.length%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20var%20obj%20%3D%20objs%5Bi%5D%3B%0D%0A%20%20%20%20if%20%28%21isObject%28obj%29%20%26%26%20%21isFunction%28obj%29%29%20continue%3B%0D%0A%20%20%20%20var%20keys%20%3D%20Object.keys%28obj%29%3B%0D%0A%20%20%20%20for%20%28var%20j%20%3D%200%2C%20jj%20%3D%20keys.length%3B%20j%20%3C%20jj%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20var%20key%20%3D%20keys%5Bj%5D%3B%0D%0A%20%20%20%20%20%20var%20src%20%3D%20obj%5Bkey%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28deep%20%26%26%20isObject%28src%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21isObject%28dst%5Bkey%5D%29%29%20dst%5Bkey%5D%20%3D%20isArray%28src%29%20%3F%20%5B%5D%20%3A%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20baseExtend%28dst%5Bkey%5D%2C%20%5Bsrc%5D%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20dst%5Bkey%5D%20%3D%20src%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20setHashKey%28dst%2C%20h%29%3B%0D%0A%20%20return%20dst%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.extend%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Extends%20the%20destination%20object%20%60dst%60%20by%20copying%20own%20enumerable%20properties%20from%20the%20%60src%60%20object%28s%29%0D%0A%20*%20to%20%60dst%60.%20You%20can%20specify%20multiple%20%60src%60%20objects.%20If%20you%20want%20to%20preserve%20original%20objects%2C%20you%20can%20do%20so%0D%0A%20*%20by%20passing%20an%20empty%20object%20as%20the%20target%3A%20%60var%20object%20%3D%20angular.extend%28%7B%7D%2C%20object1%2C%20object2%29%60.%0D%0A%20*%0D%0A%20*%20**Note%3A**%20Keep%20in%20mind%20that%20%60angular.extend%60%20does%20not%20support%20recursive%20merge%20%28deep%20copy%29.%20Use%0D%0A%20*%20%7B@link%20angular.merge%7D%20for%20this.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20dst%20Destination%20object.%0D%0A%20*%20@param%20%7B...Object%7D%20src%20Source%20object%28s%29.%0D%0A%20*%20@returns%20%7BObject%7D%20Reference%20to%20%60dst%60.%0D%0A%20*/%0D%0Afunction%20extend%28dst%29%20%7B%0D%0A%20%20return%20baseExtend%28dst%2C%20slice.call%28arguments%2C%201%29%2C%20false%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A*%20@ngdoc%20function%0D%0A*%20@name%20angular.merge%0D%0A*%20@module%20ng%0D%0A*%20@kind%20function%0D%0A*%0D%0A*%20@description%0D%0A*%20Deeply%20extends%20the%20destination%20object%20%60dst%60%20by%20copying%20own%20enumerable%20properties%20from%20the%20%60src%60%20object%28s%29%0D%0A*%20to%20%60dst%60.%20You%20can%20specify%20multiple%20%60src%60%20objects.%20If%20you%20want%20to%20preserve%20original%20objects%2C%20you%20can%20do%20so%0D%0A*%20by%20passing%20an%20empty%20object%20as%20the%20target%3A%20%60var%20object%20%3D%20angular.merge%28%7B%7D%2C%20object1%2C%20object2%29%60.%0D%0A*%0D%0A*%20Unlike%20%7B@link%20angular.extend%20extend%28%29%7D%2C%20%60merge%28%29%60%20recursively%20descends%20into%20object%20properties%20of%20source%0D%0A*%20objects%2C%20performing%20a%20deep%20copy.%0D%0A*%0D%0A*%20@param%20%7BObject%7D%20dst%20Destination%20object.%0D%0A*%20@param%20%7B...Object%7D%20src%20Source%20object%28s%29.%0D%0A*%20@returns%20%7BObject%7D%20Reference%20to%20%60dst%60.%0D%0A*/%0D%0Afunction%20merge%28dst%29%20%7B%0D%0A%20%20return%20baseExtend%28dst%2C%20slice.call%28arguments%2C%201%29%2C%20true%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0Afunction%20toInt%28str%29%20%7B%0D%0A%20%20return%20parseInt%28str%2C%2010%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20inherit%28parent%2C%20extra%29%20%7B%0D%0A%20%20return%20extend%28Object.create%28parent%29%2C%20extra%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.noop%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20function%20that%20performs%20no%20operations.%20This%20function%20can%20be%20useful%20when%20writing%20code%20in%20the%0D%0A%20*%20functional%20style.%0D%0A%20%20%20%60%60%60js%0D%0A%20%20%20%20%20function%20foo%28callback%29%20%7B%0D%0A%20%20%20%20%20%20%20var%20result%20%3D%20calculateResult%28%29%3B%0D%0A%20%20%20%20%20%20%20%28callback%20%7C%7C%20angular.noop%29%28result%29%3B%0D%0A%20%20%20%20%20%7D%0D%0A%20%20%20%60%60%60%0D%0A%20*/%0D%0Afunction%20noop%28%29%20%7B%7D%0D%0Anoop.%24inject%20%3D%20%5B%5D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.identity%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20function%20that%20returns%20its%20first%20argument.%20This%20function%20is%20useful%20when%20writing%20code%20in%20the%0D%0A%20*%20functional%20style.%0D%0A%20*%0D%0A%20%20%20%60%60%60js%0D%0A%20%20%20%20%20function%20transformer%28transformationFn%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20return%20%28transformationFn%20%7C%7C%20angular.identity%29%28value%29%3B%0D%0A%20%20%20%20%20%7D%3B%0D%0A%20%20%20%60%60%60%0D%0A%20%20*%20@param%20%7B*%7D%20value%20to%20be%20returned.%0D%0A%20%20*%20@returns%20%7B*%7D%20the%20value%20passed%20in.%0D%0A%20*/%0D%0Afunction%20identity%28%24%29%20%7Breturn%20%24%3B%7D%0D%0Aidentity.%24inject%20%3D%20%5B%5D%3B%0D%0A%0D%0A%0D%0Afunction%20valueFn%28value%29%20%7Breturn%20function%28%29%20%7Breturn%20value%3B%7D%3B%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isUndefined%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20undefined.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20undefined.%0D%0A%20*/%0D%0Afunction%20isUndefined%28value%29%20%7Breturn%20typeof%20value%20%3D%3D%3D%20%27undefined%27%3B%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isDefined%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20defined.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20defined.%0D%0A%20*/%0D%0Afunction%20isDefined%28value%29%20%7Breturn%20typeof%20value%20%21%3D%3D%20%27undefined%27%3B%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isObject%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20an%20%60Object%60.%20Unlike%20%60typeof%60%20in%20JavaScript%2C%20%60null%60s%20are%20not%0D%0A%20*%20considered%20to%20be%20objects.%20Note%20that%20JavaScript%20arrays%20are%20objects.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20an%20%60Object%60%20but%20not%20%60null%60.%0D%0A%20*/%0D%0Afunction%20isObject%28value%29%20%7B%0D%0A%20%20//%20http%3A//jsperf.com/isobject4%0D%0A%20%20return%20value%20%21%3D%3D%20null%20%26%26%20typeof%20value%20%3D%3D%3D%20%27object%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Determine%20if%20a%20value%20is%20an%20object%20with%20a%20null%20prototype%0D%0A%20*%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20an%20%60Object%60%20with%20a%20null%20prototype%0D%0A%20*/%0D%0Afunction%20isBlankObject%28value%29%20%7B%0D%0A%20%20return%20value%20%21%3D%3D%20null%20%26%26%20typeof%20value%20%3D%3D%3D%20%27object%27%20%26%26%20%21getPrototypeOf%28value%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isString%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20a%20%60String%60.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20%60String%60.%0D%0A%20*/%0D%0Afunction%20isString%28value%29%20%7Breturn%20typeof%20value%20%3D%3D%3D%20%27string%27%3B%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isNumber%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20a%20%60Number%60.%0D%0A%20*%0D%0A%20*%20This%20includes%20the%20%22special%22%20numbers%20%60NaN%60%2C%20%60+Infinity%60%20and%20%60-Infinity%60.%0D%0A%20*%0D%0A%20*%20If%20you%20wish%20to%20exclude%20these%20then%20you%20can%20use%20the%20native%0D%0A%20*%20%5B%60isFinite%27%5D%28https%3A//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite%29%0D%0A%20*%20method.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20%60Number%60.%0D%0A%20*/%0D%0Afunction%20isNumber%28value%29%20%7Breturn%20typeof%20value%20%3D%3D%3D%20%27number%27%3B%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isDate%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20value%20is%20a%20date.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20%60Date%60.%0D%0A%20*/%0D%0Afunction%20isDate%28value%29%20%7B%0D%0A%20%20return%20toString.call%28value%29%20%3D%3D%3D%20%27%5Bobject%20Date%5D%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isArray%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20an%20%60Array%60.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20an%20%60Array%60.%0D%0A%20*/%0D%0Avar%20isArray%20%3D%20Array.isArray%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isFunction%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20a%20%60Function%60.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20%60Function%60.%0D%0A%20*/%0D%0Afunction%20isFunction%28value%29%20%7Breturn%20typeof%20value%20%3D%3D%3D%20%27function%27%3B%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Determines%20if%20a%20value%20is%20a%20regular%20expression%20object.%0D%0A%20*%0D%0A%20*%20@private%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20%60RegExp%60.%0D%0A%20*/%0D%0Afunction%20isRegExp%28value%29%20%7B%0D%0A%20%20return%20toString.call%28value%29%20%3D%3D%3D%20%27%5Bobject%20RegExp%5D%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Checks%20if%20%60obj%60%20is%20a%20window%20object.%0D%0A%20*%0D%0A%20*%20@private%0D%0A%20*%20@param%20%7B*%7D%20obj%20Object%20to%20check%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60obj%60%20is%20a%20window%20obj.%0D%0A%20*/%0D%0Afunction%20isWindow%28obj%29%20%7B%0D%0A%20%20return%20obj%20%26%26%20obj.window%20%3D%3D%3D%20obj%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isScope%28obj%29%20%7B%0D%0A%20%20return%20obj%20%26%26%20obj.%24evalAsync%20%26%26%20obj.%24watch%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isFile%28obj%29%20%7B%0D%0A%20%20return%20toString.call%28obj%29%20%3D%3D%3D%20%27%5Bobject%20File%5D%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isFormData%28obj%29%20%7B%0D%0A%20%20return%20toString.call%28obj%29%20%3D%3D%3D%20%27%5Bobject%20FormData%5D%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isBlob%28obj%29%20%7B%0D%0A%20%20return%20toString.call%28obj%29%20%3D%3D%3D%20%27%5Bobject%20Blob%5D%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isBoolean%28value%29%20%7B%0D%0A%20%20return%20typeof%20value%20%3D%3D%3D%20%27boolean%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isPromiseLike%28obj%29%20%7B%0D%0A%20%20return%20obj%20%26%26%20isFunction%28obj.then%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20TYPED_ARRAY_REGEXP%20%3D%20/%5E%5C%5Bobject%20%28Uint8%28Clamped%29%3F%29%7C%28Uint16%29%7C%28Uint32%29%7C%28Int8%29%7C%28Int16%29%7C%28Int32%29%7C%28Float%2832%29%7C%2864%29%29Array%5C%5D%24/%3B%0D%0Afunction%20isTypedArray%28value%29%20%7B%0D%0A%20%20return%20TYPED_ARRAY_REGEXP.test%28toString.call%28value%29%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20trim%20%3D%20function%28value%29%20%7B%0D%0A%20%20return%20isString%28value%29%20%3F%20value.trim%28%29%20%3A%20value%3B%0D%0A%7D%3B%0D%0A%0D%0A//%20Copied%20from%3A%0D%0A//%20http%3A//docs.closure-library.googlecode.com/git/local_closure_goog_string_string.js.source.html%23line1021%0D%0A//%20Prereq%3A%20s%20is%20a%20string.%0D%0Avar%20escapeForRegexp%20%3D%20function%28s%29%20%7B%0D%0A%20%20return%20s.replace%28/%28%5B-%28%29%5C%5B%5C%5D%7B%7D+%3F*.%24%5C%5E%7C%2C%3A%23%3C%21%5C%5C%5D%29/g%2C%20%27%5C%5C%241%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20replace%28/%5Cx08/g%2C%20%27%5C%5Cx08%27%29%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.isElement%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20a%20reference%20is%20a%20DOM%20element%20%28or%20wrapped%20jQuery%20element%29.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20value%20Reference%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20a%20DOM%20element%20%28or%20wrapped%20jQuery%20element%29.%0D%0A%20*/%0D%0Afunction%20isElement%28node%29%20%7B%0D%0A%20%20return%20%21%21%28node%20%26%26%0D%0A%20%20%20%20%28node.nodeName%20%20//%20we%20are%20a%20direct%20element%0D%0A%20%20%20%20%7C%7C%20%28node.prop%20%26%26%20node.attr%20%26%26%20node.find%29%29%29%3B%20%20//%20we%20have%20an%20on%20and%20find%20method%20part%20of%20jQuery%20API%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@param%20str%20%27key1%2Ckey2%2C...%27%0D%0A%20*%20@returns%20%7Bobject%7D%20in%20the%20form%20of%20%7Bkey1%3Atrue%2C%20key2%3Atrue%2C%20...%7D%0D%0A%20*/%0D%0Afunction%20makeMap%28str%29%20%7B%0D%0A%20%20var%20obj%20%3D%20%7B%7D%2C%20items%20%3D%20str.split%28%22%2C%22%29%2C%20i%3B%0D%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20obj%5Bitems%5Bi%5D%5D%20%3D%20true%3B%0D%0A%20%20%7D%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20nodeName_%28element%29%20%7B%0D%0A%20%20return%20lowercase%28element.nodeName%20%7C%7C%20%28element%5B0%5D%20%26%26%20element%5B0%5D.nodeName%29%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20includes%28array%2C%20obj%29%20%7B%0D%0A%20%20return%20Array.prototype.indexOf.call%28array%2C%20obj%29%20%21%3D%20-1%3B%0D%0A%7D%0D%0A%0D%0Afunction%20arrayRemove%28array%2C%20value%29%20%7B%0D%0A%20%20var%20index%20%3D%20array.indexOf%28value%29%3B%0D%0A%20%20if%20%28index%20%3E%3D%200%29%20%7B%0D%0A%20%20%20%20array.splice%28index%2C%201%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20index%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.copy%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Creates%20a%20deep%20copy%20of%20%60source%60%2C%20which%20should%20be%20an%20object%20or%20an%20array.%0D%0A%20*%0D%0A%20*%20*%20If%20no%20destination%20is%20supplied%2C%20a%20copy%20of%20the%20object%20or%20array%20is%20created.%0D%0A%20*%20*%20If%20a%20destination%20is%20provided%2C%20all%20of%20its%20elements%20%28for%20arrays%29%20or%20properties%20%28for%20objects%29%0D%0A%20*%20%20%20are%20deleted%20and%20then%20all%20elements/properties%20from%20the%20source%20are%20copied%20to%20it.%0D%0A%20*%20*%20If%20%60source%60%20is%20not%20an%20object%20or%20array%20%28inc.%20%60null%60%20and%20%60undefined%60%29%2C%20%60source%60%20is%20returned.%0D%0A%20*%20*%20If%20%60source%60%20is%20identical%20to%20%27destination%27%20an%20exception%20will%20be%20thrown.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20source%20The%20source%20that%20will%20be%20used%20to%20make%20a%20copy.%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Can%20be%20any%20type%2C%20including%20primitives%2C%20%60null%60%2C%20and%20%60undefined%60.%0D%0A%20*%20@param%20%7B%28Object%7CArray%29%3D%7D%20destination%20Destination%20into%20which%20the%20source%20is%20copied.%20If%0D%0A%20*%20%20%20%20%20provided%2C%20must%20be%20of%20the%20same%20type%20as%20%60source%60.%0D%0A%20*%20@returns%20%7B*%7D%20The%20copy%20or%20updated%20%60destination%60%2C%20if%20%60destination%60%20was%20specified.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%3Cexample%20module%3D%22copyExample%22%3E%0D%0A%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%3Cform%20novalidate%20class%3D%22simple-form%22%3E%0D%0A%20Name%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22user.name%22%20/%3E%3Cbr%20/%3E%0D%0A%20E-mail%3A%20%3Cinput%20type%3D%22email%22%20ng-model%3D%22user.email%22%20/%3E%3Cbr%20/%3E%0D%0A%20Gender%3A%20%3Cinput%20type%3D%22radio%22%20ng-model%3D%22user.gender%22%20value%3D%22male%22%20/%3Emale%0D%0A%20%3Cinput%20type%3D%22radio%22%20ng-model%3D%22user.gender%22%20value%3D%22female%22%20/%3Efemale%3Cbr%20/%3E%0D%0A%20%3Cbutton%20ng-click%3D%22reset%28%29%22%3ERESET%3C/button%3E%0D%0A%20%3Cbutton%20ng-click%3D%22update%28user%29%22%3ESAVE%3C/button%3E%0D%0A%20%3C/form%3E%0D%0A%20%3Cpre%3Eform%20%3D%20%7B%7Buser%20%7C%20json%7D%7D%3C/pre%3E%0D%0A%20%3Cpre%3Emaster%20%3D%20%7B%7Bmaster%20%7C%20json%7D%7D%3C/pre%3E%0D%0A%20%3C/div%3E%0D%0A%0D%0A%20%3Cscript%3E%0D%0A%20%20angular.module%28%27copyExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%24scope.master%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%24scope.update%20%3D%20function%28user%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Example%20with%201%20argument%0D%0A%20%20%20%20%20%20%20%20%24scope.master%3D%20angular.copy%28user%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%24scope.reset%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Example%20with%202%20arguments%0D%0A%20%20%20%20%20%20%20%20angular.copy%28%24scope.master%2C%20%24scope.user%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%24scope.reset%28%29%3B%0D%0A%20%20%20%20%7D%5D%29%3B%0D%0A%20%3C/script%3E%0D%0A%20%3C/file%3E%0D%0A%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20copy%28source%2C%20destination%2C%20stackSource%2C%20stackDest%29%20%7B%0D%0A%20%20if%20%28isWindow%28source%29%20%7C%7C%20isScope%28source%29%29%20%7B%0D%0A%20%20%20%20throw%20ngMinErr%28%27cpws%27%2C%0D%0A%20%20%20%20%20%20%22Can%27t%20copy%21%20Making%20copies%20of%20Window%20or%20Scope%20instances%20is%20not%20supported.%22%29%3B%0D%0A%20%20%7D%0D%0A%20%20if%20%28isTypedArray%28destination%29%29%20%7B%0D%0A%20%20%20%20throw%20ngMinErr%28%27cpta%27%2C%0D%0A%20%20%20%20%20%20%22Can%27t%20copy%21%20TypedArray%20destination%20cannot%20be%20mutated.%22%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28%21destination%29%20%7B%0D%0A%20%20%20%20destination%20%3D%20source%3B%0D%0A%20%20%20%20if%20%28source%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isArray%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20destination%20%3D%20copy%28source%2C%20%5B%5D%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isTypedArray%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20destination%20%3D%20new%20source.constructor%28source%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isDate%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20destination%20%3D%20new%20Date%28source.getTime%28%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isRegExp%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20destination%20%3D%20new%20RegExp%28source.source%2C%20source.toString%28%29.match%28/%5B%5E%5C/%5D*%24/%29%5B0%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20destination.lastIndex%20%3D%20source.lastIndex%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isObject%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20emptyObject%20%3D%20Object.create%28getPrototypeOf%28source%29%29%3B%0D%0A%20%20%20%20%20%20%20%20destination%20%3D%20copy%28source%2C%20emptyObject%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20if%20%28source%20%3D%3D%3D%20destination%29%20throw%20ngMinErr%28%27cpi%27%2C%0D%0A%20%20%20%20%20%20%22Can%27t%20copy%21%20Source%20and%20destination%20are%20identical.%22%29%3B%0D%0A%0D%0A%20%20%20%20stackSource%20%3D%20stackSource%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%20%20stackDest%20%3D%20stackDest%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20if%20%28isObject%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20index%20%3D%20stackSource.indexOf%28source%29%3B%0D%0A%20%20%20%20%20%20if%20%28index%20%21%3D%3D%20-1%29%20return%20stackDest%5Bindex%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20stackSource.push%28source%29%3B%0D%0A%20%20%20%20%20%20stackDest.push%28destination%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20result%2C%20key%3B%0D%0A%20%20%20%20if%20%28isArray%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20destination.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20source.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20result%20%3D%20copy%28source%5Bi%5D%2C%20null%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isObject%28source%5Bi%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20stackSource.push%28source%5Bi%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20stackDest.push%28result%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20destination.push%28result%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20var%20h%20%3D%20destination.%24%24hashKey%3B%0D%0A%20%20%20%20%20%20if%20%28isArray%28destination%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20destination.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28destination%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20destination%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28isBlankObject%28source%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20createMap%28%29%20fast%20path%20---%20Safe%20to%20avoid%20hasOwnProperty%20check%20because%20prototype%20chain%20is%20empty%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20source%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20putValue%28key%2C%20source%5Bkey%5D%2C%20destination%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28source%20%26%26%20typeof%20source.hasOwnProperty%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Slow%20path%2C%20which%20must%20rely%20on%20hasOwnProperty%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20source%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28source.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20putValue%28key%2C%20source%5Bkey%5D%2C%20destination%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Slowest%20path%20---%20hasOwnProperty%20can%27t%20be%20called%20as%20a%20method%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20source%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28hasOwnProperty.call%28source%2C%20key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20putValue%28key%2C%20source%5Bkey%5D%2C%20destination%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20setHashKey%28destination%2Ch%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20destination%3B%0D%0A%0D%0A%20%20function%20putValue%28key%2C%20val%2C%20destination%2C%20stackSource%2C%20stackDest%29%20%7B%0D%0A%20%20%20%20//%20No%20context%20allocation%2C%20trivial%20outer%20scope%2C%20easily%20inlined%0D%0A%20%20%20%20var%20result%20%3D%20copy%28val%2C%20null%2C%20stackSource%2C%20stackDest%29%3B%0D%0A%20%20%20%20if%20%28isObject%28val%29%29%20%7B%0D%0A%20%20%20%20%20%20stackSource.push%28val%29%3B%0D%0A%20%20%20%20%20%20stackDest.push%28result%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20destination%5Bkey%5D%20%3D%20result%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Creates%20a%20shallow%20copy%20of%20an%20object%2C%20an%20array%20or%20a%20primitive.%0D%0A%20*%0D%0A%20*%20Assumes%20that%20there%20are%20no%20proto%20properties%20for%20objects.%0D%0A%20*/%0D%0Afunction%20shallowCopy%28src%2C%20dst%29%20%7B%0D%0A%20%20if%20%28isArray%28src%29%29%20%7B%0D%0A%20%20%20%20dst%20%3D%20dst%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20src.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20dst%5Bi%5D%20%3D%20src%5Bi%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%20else%20if%20%28isObject%28src%29%29%20%7B%0D%0A%20%20%20%20dst%20%3D%20dst%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20for%20%28var%20key%20in%20src%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21%28key.charAt%280%29%20%3D%3D%3D%20%27%24%27%20%26%26%20key.charAt%281%29%20%3D%3D%3D%20%27%24%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20dst%5Bkey%5D%20%3D%20src%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20dst%20%7C%7C%20src%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.equals%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Determines%20if%20two%20objects%20or%20two%20values%20are%20equivalent.%20Supports%20value%20types%2C%20regular%0D%0A%20*%20expressions%2C%20arrays%20and%20objects.%0D%0A%20*%0D%0A%20*%20Two%20objects%20or%20values%20are%20considered%20equivalent%20if%20at%20least%20one%20of%20the%20following%20is%20true%3A%0D%0A%20*%0D%0A%20*%20*%20Both%20objects%20or%20values%20pass%20%60%3D%3D%3D%60%20comparison.%0D%0A%20*%20*%20Both%20objects%20or%20values%20are%20of%20the%20same%20type%20and%20all%20of%20their%20properties%20are%20equal%20by%0D%0A%20*%20%20%20comparing%20them%20with%20%60angular.equals%60.%0D%0A%20*%20*%20Both%20values%20are%20NaN.%20%28In%20JavaScript%2C%20NaN%20%3D%3D%20NaN%20%3D%3E%20false.%20But%20we%20consider%20two%20NaN%20as%20equal%29%0D%0A%20*%20*%20Both%20values%20represent%20the%20same%20regular%20expression%20%28In%20JavaScript%2C%0D%0A%20*%20%20%20/abc/%20%3D%3D%20/abc/%20%3D%3E%20false.%20But%20we%20consider%20two%20regular%20expressions%20as%20equal%20when%20their%20textual%0D%0A%20*%20%20%20representation%20matches%29.%0D%0A%20*%0D%0A%20*%20During%20a%20property%20comparison%2C%20properties%20of%20%60function%60%20type%20and%20properties%20with%20names%0D%0A%20*%20that%20begin%20with%20%60%24%60%20are%20ignored.%0D%0A%20*%0D%0A%20*%20Scope%20and%20DOMWindow%20objects%20are%20being%20compared%20only%20by%20identify%20%28%60%3D%3D%3D%60%29.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20o1%20Object%20or%20value%20to%20compare.%0D%0A%20*%20@param%20%7B*%7D%20o2%20Object%20or%20value%20to%20compare.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20arguments%20are%20equal.%0D%0A%20*/%0D%0Afunction%20equals%28o1%2C%20o2%29%20%7B%0D%0A%20%20if%20%28o1%20%3D%3D%3D%20o2%29%20return%20true%3B%0D%0A%20%20if%20%28o1%20%3D%3D%3D%20null%20%7C%7C%20o2%20%3D%3D%3D%20null%29%20return%20false%3B%0D%0A%20%20if%20%28o1%20%21%3D%3D%20o1%20%26%26%20o2%20%21%3D%3D%20o2%29%20return%20true%3B%20//%20NaN%20%3D%3D%3D%20NaN%0D%0A%20%20var%20t1%20%3D%20typeof%20o1%2C%20t2%20%3D%20typeof%20o2%2C%20length%2C%20key%2C%20keySet%3B%0D%0A%20%20if%20%28t1%20%3D%3D%20t2%29%20%7B%0D%0A%20%20%20%20if%20%28t1%20%3D%3D%20%27object%27%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isArray%28o1%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21isArray%28o2%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%28length%20%3D%20o1.length%29%20%3D%3D%20o2.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28key%20%3D%200%3B%20key%20%3C%20length%3B%20key++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21equals%28o1%5Bkey%5D%2C%20o2%5Bkey%5D%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isDate%28o1%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21isDate%28o2%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20return%20equals%28o1.getTime%28%29%2C%20o2.getTime%28%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isRegExp%28o1%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20isRegExp%28o2%29%20%3F%20o1.toString%28%29%20%3D%3D%20o2.toString%28%29%20%3A%20false%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isScope%28o1%29%20%7C%7C%20isScope%28o2%29%20%7C%7C%20isWindow%28o1%29%20%7C%7C%20isWindow%28o2%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20isArray%28o2%29%20%7C%7C%20isDate%28o2%29%20%7C%7C%20isRegExp%28o2%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20keySet%20%3D%20createMap%28%29%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20o1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28key.charAt%280%29%20%3D%3D%3D%20%27%24%27%20%7C%7C%20isFunction%28o1%5Bkey%5D%29%29%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21equals%28o1%5Bkey%5D%2C%20o2%5Bkey%5D%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20keySet%5Bkey%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20o2%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28key%20in%20keySet%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key.charAt%280%29%20%21%3D%3D%20%27%24%27%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20o2%5Bkey%5D%20%21%3D%3D%20undefined%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21isFunction%28o2%5Bkey%5D%29%29%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20false%3B%0D%0A%7D%0D%0A%0D%0Avar%20csp%20%3D%20function%28%29%20%7B%0D%0A%20%20if%20%28isDefined%28csp.isActive_%29%29%20return%20csp.isActive_%3B%0D%0A%0D%0A%20%20var%20active%20%3D%20%21%21%28document.querySelector%28%27%5Bng-csp%5D%27%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.querySelector%28%27%5Bdata-ng-csp%5D%27%29%29%3B%0D%0A%0D%0A%20%20if%20%28%21active%29%20%7B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20/*%20jshint%20-W031%2C%20-W054%20*/%0D%0A%20%20%20%20%20%20new%20Function%28%27%27%29%3B%0D%0A%20%20%20%20%20%20/*%20jshint%20+W031%2C%20+W054%20*/%0D%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20%28csp.isActive_%20%3D%20active%29%3B%0D%0A%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@module%20ng%0D%0A%20*%20@name%20ngJq%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngJq%20the%20name%20of%20the%20library%20available%20under%20%60window%60%0D%0A%20*%20to%20be%20used%20for%20angular.element%0D%0A%20*%20@description%0D%0A%20*%20Use%20this%20directive%20to%20force%20the%20angular.element%20library.%20%20This%20should%20be%0D%0A%20*%20used%20to%20force%20either%20jqLite%20by%20leaving%20ng-jq%20blank%20or%20setting%20the%20name%20of%0D%0A%20*%20the%20jquery%20variable%20under%20window%20%28eg.%20jQuery%29.%0D%0A%20*%0D%0A%20*%20Since%20angular%20looks%20for%20this%20directive%20when%20it%20is%20loaded%20%28doesn%27t%20wait%20for%20the%0D%0A%20*%20DOMContentLoaded%20event%29%2C%20it%20must%20be%20placed%20on%20an%20element%20that%20comes%20before%20the%20script%0D%0A%20*%20which%20loads%20angular.%20Also%2C%20only%20the%20first%20instance%20of%20%60ng-jq%60%20will%20be%20used%20and%20all%0D%0A%20*%20others%20ignored.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20This%20example%20shows%20how%20to%20force%20jqLite%20using%20the%20%60ngJq%60%20directive%20to%20the%20%60html%60%20tag.%0D%0A%20%60%60%60html%0D%0A%20%3C%21doctype%20html%3E%0D%0A%20%3Chtml%20ng-app%20ng-jq%3E%0D%0A%20...%0D%0A%20...%0D%0A%20%3C/html%3E%0D%0A%20%60%60%60%0D%0A%20*%20@example%0D%0A%20*%20This%20example%20shows%20how%20to%20use%20a%20jQuery%20based%20library%20of%20a%20different%20name.%0D%0A%20*%20The%20library%20name%20must%20be%20available%20at%20the%20top%20most%20%27window%27.%0D%0A%20%60%60%60html%0D%0A%20%3C%21doctype%20html%3E%0D%0A%20%3Chtml%20ng-app%20ng-jq%3D%22jQueryLib%22%3E%0D%0A%20...%0D%0A%20...%0D%0A%20%3C/html%3E%0D%0A%20%60%60%60%0D%0A%20*/%0D%0Avar%20jq%20%3D%20function%28%29%20%7B%0D%0A%20%20if%20%28isDefined%28jq.name_%29%29%20return%20jq.name_%3B%0D%0A%20%20var%20el%3B%0D%0A%20%20var%20i%2C%20ii%20%3D%20ngAttrPrefixes.length%2C%20prefix%2C%20name%3B%0D%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20prefix%20%3D%20ngAttrPrefixes%5Bi%5D%3B%0D%0A%20%20%20%20if%20%28el%20%3D%20document.querySelector%28%27%5B%27%20+%20prefix.replace%28%27%3A%27%2C%20%27%5C%5C%3A%27%29%20+%20%27jq%5D%27%29%29%20%7B%0D%0A%20%20%20%20%20%20name%20%3D%20el.getAttribute%28prefix%20+%20%27jq%27%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20%28jq.name_%20%3D%20name%29%3B%0D%0A%7D%3B%0D%0A%0D%0Afunction%20concat%28array1%2C%20array2%2C%20index%29%20%7B%0D%0A%20%20return%20array1.concat%28slice.call%28array2%2C%20index%29%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20sliceArgs%28args%2C%20startIndex%29%20%7B%0D%0A%20%20return%20slice.call%28args%2C%20startIndex%20%7C%7C%200%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/*%20jshint%20-W101%20*/%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.bind%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Returns%20a%20function%20which%20calls%20function%20%60fn%60%20bound%20to%20%60self%60%20%28%60self%60%20becomes%20the%20%60this%60%20for%0D%0A%20*%20%60fn%60%29.%20You%20can%20supply%20optional%20%60args%60%20that%20are%20prebound%20to%20the%20function.%20This%20feature%20is%20also%0D%0A%20*%20known%20as%20%5Bpartial%20application%5D%28http%3A//en.wikipedia.org/wiki/Partial_application%29%2C%20as%0D%0A%20*%20distinguished%20from%20%5Bfunction%20currying%5D%28http%3A//en.wikipedia.org/wiki/Currying%23Contrast_with_partial_function_application%29.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20self%20Context%20which%20%60fn%60%20should%20be%20evaluated%20in.%0D%0A%20*%20@param%20%7Bfunction%28%29%7D%20fn%20Function%20to%20be%20bound.%0D%0A%20*%20@param%20%7B...*%7D%20args%20Optional%20arguments%20to%20be%20prebound%20to%20the%20%60fn%60%20function%20call.%0D%0A%20*%20@returns%20%7Bfunction%28%29%7D%20Function%20that%20wraps%20the%20%60fn%60%20with%20all%20the%20specified%20bindings.%0D%0A%20*/%0D%0A/*%20jshint%20+W101%20*/%0D%0Afunction%20bind%28self%2C%20fn%29%20%7B%0D%0A%20%20var%20curryArgs%20%3D%20arguments.length%20%3E%202%20%3F%20sliceArgs%28arguments%2C%202%29%20%3A%20%5B%5D%3B%0D%0A%20%20if%20%28isFunction%28fn%29%20%26%26%20%21%28fn%20instanceof%20RegExp%29%29%20%7B%0D%0A%20%20%20%20return%20curryArgs.length%0D%0A%20%20%20%20%20%20%3F%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20arguments.length%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20fn.apply%28self%2C%20concat%28curryArgs%2C%20arguments%2C%200%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20fn.apply%28self%2C%20curryArgs%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20arguments.length%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20fn.apply%28self%2C%20arguments%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20fn.call%28self%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20//%20in%20IE%2C%20native%20methods%20are%20not%20functions%20so%20they%20cannot%20be%20bound%20%28note%3A%20they%20don%27t%20need%20to%20be%29%0D%0A%20%20%20%20return%20fn%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20toJsonReplacer%28key%2C%20value%29%20%7B%0D%0A%20%20var%20val%20%3D%20value%3B%0D%0A%0D%0A%20%20if%20%28typeof%20key%20%3D%3D%3D%20%27string%27%20%26%26%20key.charAt%280%29%20%3D%3D%3D%20%27%24%27%20%26%26%20key.charAt%281%29%20%3D%3D%3D%20%27%24%27%29%20%7B%0D%0A%20%20%20%20val%20%3D%20undefined%3B%0D%0A%20%20%7D%20else%20if%20%28isWindow%28value%29%29%20%7B%0D%0A%20%20%20%20val%20%3D%20%27%24WINDOW%27%3B%0D%0A%20%20%7D%20else%20if%20%28value%20%26%26%20%20document%20%3D%3D%3D%20value%29%20%7B%0D%0A%20%20%20%20val%20%3D%20%27%24DOCUMENT%27%3B%0D%0A%20%20%7D%20else%20if%20%28isScope%28value%29%29%20%7B%0D%0A%20%20%20%20val%20%3D%20%27%24SCOPE%27%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20val%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.toJson%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Serializes%20input%20into%20a%20JSON-formatted%20string.%20Properties%20with%20leading%20%24%24%20characters%20will%20be%0D%0A%20*%20stripped%20since%20angular%20uses%20this%20notation%20internally.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7CArray%7CDate%7Cstring%7Cnumber%7D%20obj%20Input%20to%20be%20serialized%20into%20JSON.%0D%0A%20*%20@param%20%7Bboolean%7Cnumber%7D%20%5Bpretty%3D2%5D%20If%20set%20to%20true%2C%20the%20JSON%20output%20will%20contain%20newlines%20and%20whitespace.%0D%0A%20*%20%20%20%20If%20set%20to%20an%20integer%2C%20the%20JSON%20output%20will%20contain%20that%20many%20spaces%20per%20indentation.%0D%0A%20*%20@returns%20%7Bstring%7Cundefined%7D%20JSON-ified%20string%20representing%20%60obj%60.%0D%0A%20*/%0D%0Afunction%20toJson%28obj%2C%20pretty%29%20%7B%0D%0A%20%20if%20%28typeof%20obj%20%3D%3D%3D%20%27undefined%27%29%20return%20undefined%3B%0D%0A%20%20if%20%28%21isNumber%28pretty%29%29%20%7B%0D%0A%20%20%20%20pretty%20%3D%20pretty%20%3F%202%20%3A%20null%3B%0D%0A%20%20%7D%0D%0A%20%20return%20JSON.stringify%28obj%2C%20toJsonReplacer%2C%20pretty%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.fromJson%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Deserializes%20a%20JSON%20string.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20json%20JSON%20string%20to%20deserialize.%0D%0A%20*%20@returns%20%7BObject%7CArray%7Cstring%7Cnumber%7D%20Deserialized%20JSON%20string.%0D%0A%20*/%0D%0Afunction%20fromJson%28json%29%20%7B%0D%0A%20%20return%20isString%28json%29%0D%0A%20%20%20%20%20%20%3F%20JSON.parse%28json%29%0D%0A%20%20%20%20%20%20%3A%20json%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20timezoneToOffset%28timezone%2C%20fallback%29%20%7B%0D%0A%20%20var%20requestedTimezoneOffset%20%3D%20Date.parse%28%27Jan%2001%2C%201970%2000%3A00%3A00%20%27%20+%20timezone%29%20/%2060000%3B%0D%0A%20%20return%20isNaN%28requestedTimezoneOffset%29%20%3F%20fallback%20%3A%20requestedTimezoneOffset%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20addDateMinutes%28date%2C%20minutes%29%20%7B%0D%0A%20%20date%20%3D%20new%20Date%28date.getTime%28%29%29%3B%0D%0A%20%20date.setMinutes%28date.getMinutes%28%29%20+%20minutes%29%3B%0D%0A%20%20return%20date%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20convertTimezoneToLocal%28date%2C%20timezone%2C%20reverse%29%20%7B%0D%0A%20%20reverse%20%3D%20reverse%20%3F%20-1%20%3A%201%3B%0D%0A%20%20var%20timezoneOffset%20%3D%20timezoneToOffset%28timezone%2C%20date.getTimezoneOffset%28%29%29%3B%0D%0A%20%20return%20addDateMinutes%28date%2C%20reverse%20*%20%28timezoneOffset%20-%20date.getTimezoneOffset%28%29%29%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@returns%20%7Bstring%7D%20Returns%20the%20string%20representation%20of%20the%20element.%0D%0A%20*/%0D%0Afunction%20startingTag%28element%29%20%7B%0D%0A%20%20element%20%3D%20jqLite%28element%29.clone%28%29%3B%0D%0A%20%20try%20%7B%0D%0A%20%20%20%20//%20turns%20out%20IE%20does%20not%20let%20you%20set%20.html%28%29%20on%20elements%20which%0D%0A%20%20%20%20//%20are%20not%20allowed%20to%20have%20children.%20So%20we%20just%20ignore%20it.%0D%0A%20%20%20%20element.empty%28%29%3B%0D%0A%20%20%7D%20catch%20%28e%29%20%7B%7D%0D%0A%20%20var%20elemHtml%20%3D%20jqLite%28%27%3Cdiv%3E%27%29.append%28element%29.html%28%29%3B%0D%0A%20%20try%20%7B%0D%0A%20%20%20%20return%20element%5B0%5D.nodeType%20%3D%3D%3D%20NODE_TYPE_TEXT%20%3F%20lowercase%28elemHtml%29%20%3A%0D%0A%20%20%20%20%20%20%20%20elemHtml.%0D%0A%20%20%20%20%20%20%20%20%20%20match%28/%5E%28%3C%5B%5E%3E%5D+%3E%29/%29%5B1%5D.%0D%0A%20%20%20%20%20%20%20%20%20%20replace%28/%5E%3C%28%5B%5Cw%5C-%5D+%29/%2C%20function%28match%2C%20nodeName%29%20%7B%20return%20%27%3C%27%20+%20lowercase%28nodeName%29%3B%20%7D%29%3B%0D%0A%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20return%20lowercase%28elemHtml%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%7D%0D%0A%0D%0A%0D%0A/////////////////////////////////////////////////%0D%0A%0D%0A/**%0D%0A%20*%20Tries%20to%20decode%20the%20URI%20component%20without%20throwing%20an%20exception.%0D%0A%20*%0D%0A%20*%20@private%0D%0A%20*%20@param%20str%20value%20potential%20URI%20component%20to%20check.%0D%0A%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20can%20be%20decoded%0D%0A%20*%20with%20the%20decodeURIComponent%20function.%0D%0A%20*/%0D%0Afunction%20tryDecodeURIComponent%28value%29%20%7B%0D%0A%20%20try%20%7B%0D%0A%20%20%20%20return%20decodeURIComponent%28value%29%3B%0D%0A%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20//%20Ignore%20any%20invalid%20uri%20component%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Parses%20an%20escaped%20url%20query%20string%20into%20key-value%20pairs.%0D%0A%20*%20@returns%20%7BObject.%3Cstring%2Cboolean%7CArray%3E%7D%0D%0A%20*/%0D%0Afunction%20parseKeyValue%28/**string*/keyValue%29%20%7B%0D%0A%20%20var%20obj%20%3D%20%7B%7D%2C%20key_value%2C%20key%3B%0D%0A%20%20forEach%28%28keyValue%20%7C%7C%20%22%22%29.split%28%27%26%27%29%2C%20function%28keyValue%29%20%7B%0D%0A%20%20%20%20if%20%28keyValue%29%20%7B%0D%0A%20%20%20%20%20%20key_value%20%3D%20keyValue.replace%28/%5C+/g%2C%27%2520%27%29.split%28%27%3D%27%29%3B%0D%0A%20%20%20%20%20%20key%20%3D%20tryDecodeURIComponent%28key_value%5B0%5D%29%3B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20val%20%3D%20isDefined%28key_value%5B1%5D%29%20%3F%20tryDecodeURIComponent%28key_value%5B1%5D%29%20%3A%20true%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21hasOwnProperty.call%28obj%2C%20key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20val%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArray%28obj%5Bkey%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20obj%5Bkey%5D.push%28val%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20%5Bobj%5Bkey%5D%2Cval%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%3B%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0Afunction%20toKeyValue%28obj%29%20%7B%0D%0A%20%20var%20parts%20%3D%20%5B%5D%3B%0D%0A%20%20forEach%28obj%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20if%20%28isArray%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20forEach%28value%2C%20function%28arrayValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parts.push%28encodeUriQuery%28key%2C%20true%29%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28arrayValue%20%3D%3D%3D%20true%20%3F%20%27%27%20%3A%20%27%3D%27%20+%20encodeUriQuery%28arrayValue%2C%20true%29%29%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20parts.push%28encodeUriQuery%28key%2C%20true%29%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28value%20%3D%3D%3D%20true%20%3F%20%27%27%20%3A%20%27%3D%27%20+%20encodeUriQuery%28value%2C%20true%29%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%3B%0D%0A%20%20return%20parts.length%20%3F%20parts.join%28%27%26%27%29%20%3A%20%27%27%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20We%20need%20our%20custom%20method%20because%20encodeURIComponent%20is%20too%20aggressive%20and%20doesn%27t%20follow%0D%0A%20*%20http%3A//www.ietf.org/rfc/rfc3986.txt%20with%20regards%20to%20the%20character%20set%20%28pchar%29%20allowed%20in%20path%0D%0A%20*%20segments%3A%0D%0A%20*%20%20%20%20segment%20%20%20%20%20%20%20%3D%20*pchar%0D%0A%20*%20%20%20%20pchar%20%20%20%20%20%20%20%20%20%3D%20unreserved%20/%20pct-encoded%20/%20sub-delims%20/%20%22%3A%22%20/%20%22@%22%0D%0A%20*%20%20%20%20pct-encoded%20%20%20%3D%20%22%25%22%20HEXDIG%20HEXDIG%0D%0A%20*%20%20%20%20unreserved%20%20%20%20%3D%20ALPHA%20/%20DIGIT%20/%20%22-%22%20/%20%22.%22%20/%20%22_%22%20/%20%22%7E%22%0D%0A%20*%20%20%20%20sub-delims%20%20%20%20%3D%20%22%21%22%20/%20%22%24%22%20/%20%22%26%22%20/%20%22%27%22%20/%20%22%28%22%20/%20%22%29%22%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%20%22*%22%20/%20%22+%22%20/%20%22%2C%22%20/%20%22%3B%22%20/%20%22%3D%22%0D%0A%20*/%0D%0Afunction%20encodeUriSegment%28val%29%20%7B%0D%0A%20%20return%20encodeUriQuery%28val%2C%20true%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%2526/gi%2C%20%27%26%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%253D/gi%2C%20%27%3D%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%252B/gi%2C%20%27+%27%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20This%20method%20is%20intended%20for%20encoding%20*key*%20or%20*value*%20parts%20of%20query%20component.%20We%20need%20a%20custom%0D%0A%20*%20method%20because%20encodeURIComponent%20is%20too%20aggressive%20and%20encodes%20stuff%20that%20doesn%27t%20have%20to%20be%0D%0A%20*%20encoded%20per%20http%3A//tools.ietf.org/html/rfc3986%3A%0D%0A%20*%20%20%20%20query%20%20%20%20%20%20%20%3D%20*%28%20pchar%20/%20%22/%22%20/%20%22%3F%22%20%29%0D%0A%20*%20%20%20%20pchar%20%20%20%20%20%20%20%20%20%3D%20unreserved%20/%20pct-encoded%20/%20sub-delims%20/%20%22%3A%22%20/%20%22@%22%0D%0A%20*%20%20%20%20unreserved%20%20%20%20%3D%20ALPHA%20/%20DIGIT%20/%20%22-%22%20/%20%22.%22%20/%20%22_%22%20/%20%22%7E%22%0D%0A%20*%20%20%20%20pct-encoded%20%20%20%3D%20%22%25%22%20HEXDIG%20HEXDIG%0D%0A%20*%20%20%20%20sub-delims%20%20%20%20%3D%20%22%21%22%20/%20%22%24%22%20/%20%22%26%22%20/%20%22%27%22%20/%20%22%28%22%20/%20%22%29%22%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%20%22*%22%20/%20%22+%22%20/%20%22%2C%22%20/%20%22%3B%22%20/%20%22%3D%22%0D%0A%20*/%0D%0Afunction%20encodeUriQuery%28val%2C%20pctEncodeSpaces%29%20%7B%0D%0A%20%20return%20encodeURIComponent%28val%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%2540/gi%2C%20%27@%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%253A/gi%2C%20%27%3A%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%2524/g%2C%20%27%24%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%252C/gi%2C%20%27%2C%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%253B/gi%2C%20%27%3B%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%2520/g%2C%20%28pctEncodeSpaces%20%3F%20%27%2520%27%20%3A%20%27+%27%29%29%3B%0D%0A%7D%0D%0A%0D%0Avar%20ngAttrPrefixes%20%3D%20%5B%27ng-%27%2C%20%27data-ng-%27%2C%20%27ng%3A%27%2C%20%27x-ng-%27%5D%3B%0D%0A%0D%0Afunction%20getNgAttribute%28element%2C%20ngAttr%29%20%7B%0D%0A%20%20var%20attr%2C%20i%2C%20ii%20%3D%20ngAttrPrefixes.length%3B%0D%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20attr%20%3D%20ngAttrPrefixes%5Bi%5D%20+%20ngAttr%3B%0D%0A%20%20%20%20if%20%28isString%28attr%20%3D%20element.getAttribute%28attr%29%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20attr%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20null%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngApp%0D%0A%20*%20@module%20ng%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bangular.Module%7D%20ngApp%20an%20optional%20application%0D%0A%20*%20%20%20%7B@link%20angular.module%20module%7D%20name%20to%20load.%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20ngStrictDi%20if%20this%20attribute%20is%20present%20on%20the%20app%20element%2C%20the%20injector%20will%20be%0D%0A%20*%20%20%20created%20in%20%22strict-di%22%20mode.%20This%20means%20that%20the%20application%20will%20fail%20to%20invoke%20functions%20which%0D%0A%20*%20%20%20do%20not%20use%20explicit%20function%20annotation%20%28and%20are%20thus%20unsuitable%20for%20minification%29%2C%20as%20described%0D%0A%20*%20%20%20in%20%7B@link%20guide/di%20the%20Dependency%20Injection%20guide%7D%2C%20and%20useful%20debugging%20info%20will%20assist%20in%0D%0A%20*%20%20%20tracking%20down%20the%20root%20of%20these%20bugs.%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Use%20this%20directive%20to%20**auto-bootstrap**%20an%20AngularJS%20application.%20The%20%60ngApp%60%20directive%0D%0A%20*%20designates%20the%20**root%20element**%20of%20the%20application%20and%20is%20typically%20placed%20near%20the%20root%20element%0D%0A%20*%20of%20the%20page%20-%20e.g.%20on%20the%20%60%3Cbody%3E%60%20or%20%60%3Chtml%3E%60%20tags.%0D%0A%20*%0D%0A%20*%20Only%20one%20AngularJS%20application%20can%20be%20auto-bootstrapped%20per%20HTML%20document.%20The%20first%20%60ngApp%60%0D%0A%20*%20found%20in%20the%20document%20will%20be%20used%20to%20define%20the%20root%20element%20to%20auto-bootstrap%20as%20an%0D%0A%20*%20application.%20To%20run%20multiple%20applications%20in%20an%20HTML%20document%20you%20must%20manually%20bootstrap%20them%20using%0D%0A%20*%20%7B@link%20angular.bootstrap%7D%20instead.%20AngularJS%20applications%20cannot%20be%20nested%20within%20each%20other.%0D%0A%20*%0D%0A%20*%20You%20can%20specify%20an%20**AngularJS%20module**%20to%20be%20used%20as%20the%20root%20module%20for%20the%20application.%20%20This%0D%0A%20*%20module%20will%20be%20loaded%20into%20the%20%7B@link%20auto.%24injector%7D%20when%20the%20application%20is%20bootstrapped.%20It%0D%0A%20*%20should%20contain%20the%20application%20code%20needed%20or%20have%20dependencies%20on%20other%20modules%20that%20will%0D%0A%20*%20contain%20the%20code.%20See%20%7B@link%20angular.module%7D%20for%20more%20information.%0D%0A%20*%0D%0A%20*%20In%20the%20example%20below%20if%20the%20%60ngApp%60%20directive%20were%20not%20placed%20on%20the%20%60html%60%20element%20then%20the%0D%0A%20*%20document%20would%20not%20be%20compiled%2C%20the%20%60AppController%60%20would%20not%20be%20instantiated%20and%20the%20%60%7B%7B%20a+b%20%7D%7D%60%0D%0A%20*%20would%20not%20be%20resolved%20to%20%603%60.%0D%0A%20*%0D%0A%20*%20%60ngApp%60%20is%20the%20easiest%2C%20and%20most%20common%20way%20to%20bootstrap%20an%20application.%0D%0A%20*%0D%0A%20%3Cexample%20module%3D%22ngAppDemo%22%3E%0D%0A%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%3Cdiv%20ng-controller%3D%22ngAppDemoController%22%3E%0D%0A%20%20%20%20%20I%20can%20add%3A%20%7B%7Ba%7D%7D%20+%20%7B%7Bb%7D%7D%20%3D%20%20%7B%7B%20a+b%20%7D%7D%0D%0A%20%20%20%3C/div%3E%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20angular.module%28%27ngAppDemo%27%2C%20%5B%5D%29.controller%28%27ngAppDemoController%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%24scope.a%20%3D%201%3B%0D%0A%20%20%20%20%20%24scope.b%20%3D%202%3B%0D%0A%20%20%20%7D%29%3B%0D%0A%20%20%20%3C/file%3E%0D%0A%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20Using%20%60ngStrictDi%60%2C%20you%20would%20see%20something%20like%20this%3A%0D%0A%20*%0D%0A%20%3Cexample%20ng-app-included%3D%22true%22%3E%0D%0A%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%3Cdiv%20ng-app%3D%22ngAppStrictDemo%22%20ng-strict-di%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22GoodController1%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20I%20can%20add%3A%20%7B%7Ba%7D%7D%20+%20%7B%7Bb%7D%7D%20%3D%20%20%7B%7B%20a+b%20%7D%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EThis%20renders%20because%20the%20controller%20does%20not%20fail%20to%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instantiate%2C%20by%20using%20explicit%20annotation%20style%20%28see%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20script.js%20for%20details%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22GoodController2%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20Name%3A%20%3Cinput%20ng-model%3D%22name%22%3E%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20Hello%2C%20%7B%7Bname%7D%7D%21%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EThis%20renders%20because%20the%20controller%20does%20not%20fail%20to%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instantiate%2C%20by%20using%20explicit%20annotation%20style%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28see%20script.js%20for%20details%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22BadController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20I%20can%20add%3A%20%7B%7Ba%7D%7D%20+%20%7B%7Bb%7D%7D%20%3D%20%20%7B%7B%20a+b%20%7D%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EThe%20controller%20could%20not%20be%20instantiated%2C%20due%20to%20relying%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20on%20automatic%20function%20annotations%20%28which%20are%20disabled%20in%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20strict%20mode%29.%20As%20such%2C%20the%20content%20of%20this%20section%20is%20not%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20interpolated%2C%20and%20there%20should%20be%20an%20error%20in%20your%20web%20console.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%3C/div%3E%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20angular.module%28%27ngAppStrictDemo%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20//%20BadController%20will%20fail%20to%20instantiate%2C%20due%20to%20relying%20on%20automatic%20function%20annotation%2C%0D%0A%20%20%20%20%20//%20rather%20than%20an%20explicit%20annotation%0D%0A%20%20%20%20%20.controller%28%27BadController%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%24scope.a%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%24scope.b%20%3D%202%3B%0D%0A%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20//%20Unlike%20BadController%2C%20GoodController1%20and%20GoodController2%20will%20not%20fail%20to%20be%20instantiated%2C%0D%0A%20%20%20%20%20//%20due%20to%20using%20explicit%20annotations%20using%20the%20array%20style%20and%20%24inject%20property%2C%20respectively.%0D%0A%20%20%20%20%20.controller%28%27GoodController1%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%24scope.a%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%24scope.b%20%3D%202%3B%0D%0A%20%20%20%20%20%7D%5D%29%0D%0A%20%20%20%20%20.controller%28%27GoodController2%27%2C%20GoodController2%29%3B%0D%0A%20%20%20%20%20function%20GoodController2%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%24scope.name%20%3D%20%22World%22%3B%0D%0A%20%20%20%20%20%7D%0D%0A%20%20%20%20%20GoodController2.%24inject%20%3D%20%5B%27%24scope%27%5D%3B%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20div%5Bng-controller%5D%20%7B%0D%0A%20%20%20%20%20%20%20margin-bottom%3A%201em%3B%0D%0A%20%20%20%20%20%20%20-webkit-border-radius%3A%204px%3B%0D%0A%20%20%20%20%20%20%20border-radius%3A%204px%3B%0D%0A%20%20%20%20%20%20%20border%3A%201px%20solid%3B%0D%0A%20%20%20%20%20%20%20padding%3A%20.5em%3B%0D%0A%20%20%20%7D%0D%0A%20%20%20div%5Bng-controller%5E%3DGood%5D%20%7B%0D%0A%20%20%20%20%20%20%20border-color%3A%20%23d6e9c6%3B%0D%0A%20%20%20%20%20%20%20background-color%3A%20%23dff0d8%3B%0D%0A%20%20%20%20%20%20%20color%3A%20%233c763d%3B%0D%0A%20%20%20%7D%0D%0A%20%20%20div%5Bng-controller%5E%3DBad%5D%20%7B%0D%0A%20%20%20%20%20%20%20border-color%3A%20%23ebccd1%3B%0D%0A%20%20%20%20%20%20%20background-color%3A%20%23f2dede%3B%0D%0A%20%20%20%20%20%20%20color%3A%20%23a94442%3B%0D%0A%20%20%20%20%20%20%20margin-bottom%3A%200%3B%0D%0A%20%20%20%7D%0D%0A%20%20%20%3C/file%3E%0D%0A%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20angularInit%28element%2C%20bootstrap%29%20%7B%0D%0A%20%20var%20appElement%2C%0D%0A%20%20%20%20%20%20module%2C%0D%0A%20%20%20%20%20%20config%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20//%20The%20element%20%60element%60%20has%20priority%20over%20any%20other%20element%0D%0A%20%20forEach%28ngAttrPrefixes%2C%20function%28prefix%29%20%7B%0D%0A%20%20%20%20var%20name%20%3D%20prefix%20+%20%27app%27%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21appElement%20%26%26%20element.hasAttribute%20%26%26%20element.hasAttribute%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20appElement%20%3D%20element%3B%0D%0A%20%20%20%20%20%20module%20%3D%20element.getAttribute%28name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%3B%0D%0A%20%20forEach%28ngAttrPrefixes%2C%20function%28prefix%29%20%7B%0D%0A%20%20%20%20var%20name%20%3D%20prefix%20+%20%27app%27%3B%0D%0A%20%20%20%20var%20candidate%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21appElement%20%26%26%20%28candidate%20%3D%20element.querySelector%28%27%5B%27%20+%20name.replace%28%27%3A%27%2C%20%27%5C%5C%3A%27%29%20+%20%27%5D%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20appElement%20%3D%20candidate%3B%0D%0A%20%20%20%20%20%20module%20%3D%20candidate.getAttribute%28name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%3B%0D%0A%20%20if%20%28appElement%29%20%7B%0D%0A%20%20%20%20config.strictDi%20%3D%20getNgAttribute%28appElement%2C%20%22strict-di%22%29%20%21%3D%3D%20null%3B%0D%0A%20%20%20%20bootstrap%28appElement%2C%20module%20%3F%20%5Bmodule%5D%20%3A%20%5B%5D%2C%20config%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.bootstrap%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%20Use%20this%20function%20to%20manually%20start%20up%20angular%20application.%0D%0A%20*%0D%0A%20*%20See%3A%20%7B@link%20guide/bootstrap%20Bootstrap%7D%0D%0A%20*%0D%0A%20*%20Note%20that%20Protractor%20based%20end-to-end%20tests%20cannot%20use%20this%20function%20to%20bootstrap%20manually.%0D%0A%20*%20They%20must%20use%20%7B@link%20ng.directive%3AngApp%20ngApp%7D.%0D%0A%20*%0D%0A%20*%20Angular%20will%20detect%20if%20it%20has%20been%20loaded%20into%20the%20browser%20more%20than%20once%20and%20only%20allow%20the%0D%0A%20*%20first%20loaded%20script%20to%20be%20bootstrapped%20and%20will%20report%20a%20warning%20to%20the%20browser%20console%20for%0D%0A%20*%20each%20of%20the%20subsequent%20scripts.%20This%20prevents%20strange%20results%20in%20applications%2C%20where%20otherwise%0D%0A%20*%20multiple%20instances%20of%20Angular%20try%20to%20work%20on%20the%20DOM.%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3C%21doctype%20html%3E%0D%0A%20*%20%3Chtml%3E%0D%0A%20*%20%3Cbody%3E%0D%0A%20*%20%3Cdiv%20ng-controller%3D%22WelcomeController%22%3E%0D%0A%20*%20%20%20%7B%7Bgreeting%7D%7D%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%3Cscript%20src%3D%22angular.js%22%3E%3C/script%3E%0D%0A%20*%20%3Cscript%3E%0D%0A%20*%20%20%20var%20app%20%3D%20angular.module%28%27demo%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20.controller%28%27WelcomeController%27%2C%20function%28%24scope%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%24scope.greeting%20%3D%20%27Welcome%21%27%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%20%20angular.bootstrap%28document%2C%20%5B%27demo%27%5D%29%3B%0D%0A%20*%20%3C/script%3E%0D%0A%20*%20%3C/body%3E%0D%0A%20*%20%3C/html%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@param%20%7BDOMElement%7D%20element%20DOM%20element%20which%20is%20the%20root%20of%20angular%20application.%0D%0A%20*%20@param%20%7BArray%3CString%7CFunction%7CArray%3E%3D%7D%20modules%20an%20array%20of%20modules%20to%20load%20into%20the%20application.%0D%0A%20*%20%20%20%20%20Each%20item%20in%20the%20array%20should%20be%20the%20name%20of%20a%20predefined%20module%20or%20a%20%28DI%20annotated%29%0D%0A%20*%20%20%20%20%20function%20that%20will%20be%20invoked%20by%20the%20injector%20as%20a%20%60config%60%20block.%0D%0A%20*%20%20%20%20%20See%3A%20%7B@link%20angular.module%20modules%7D%0D%0A%20*%20@param%20%7BObject%3D%7D%20config%20an%20object%20for%20defining%20configuration%20options%20for%20the%20application.%20The%0D%0A%20*%20%20%20%20%20following%20keys%20are%20supported%3A%0D%0A%20*%0D%0A%20*%20*%20%60strictDi%60%20-%20disable%20automatic%20function%20annotation%20for%20the%20application.%20This%20is%20meant%20to%0D%0A%20*%20%20%20assist%20in%20finding%20bugs%20which%20break%20minified%20code.%20Defaults%20to%20%60false%60.%0D%0A%20*%0D%0A%20*%20@returns%20%7Bauto.%24injector%7D%20Returns%20the%20newly%20created%20injector%20for%20this%20app.%0D%0A%20*/%0D%0Afunction%20bootstrap%28element%2C%20modules%2C%20config%29%20%7B%0D%0A%20%20if%20%28%21isObject%28config%29%29%20config%20%3D%20%7B%7D%3B%0D%0A%20%20var%20defaultConfig%20%3D%20%7B%0D%0A%20%20%20%20strictDi%3A%20false%0D%0A%20%20%7D%3B%0D%0A%20%20config%20%3D%20extend%28defaultConfig%2C%20config%29%3B%0D%0A%20%20var%20doBootstrap%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20element%20%3D%20jqLite%28element%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28element.injector%28%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20tag%20%3D%20%28element%5B0%5D%20%3D%3D%3D%20document%29%20%3F%20%27document%27%20%3A%20startingTag%28element%29%3B%0D%0A%20%20%20%20%20%20//Encode%20angle%20brackets%20to%20prevent%20input%20from%20being%20sanitized%20to%20empty%20string%20%238683%0D%0A%20%20%20%20%20%20throw%20ngMinErr%28%0D%0A%20%20%20%20%20%20%20%20%20%20%27btstrpd%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22App%20Already%20Bootstrapped%20with%20this%20Element%20%27%7B0%7D%27%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20tag.replace%28/%3C/%2C%27%26lt%3B%27%29.replace%28/%3E/%2C%27%26gt%3B%27%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20modules%20%3D%20modules%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%20%20modules.unshift%28%5B%27%24provide%27%2C%20function%28%24provide%29%20%7B%0D%0A%20%20%20%20%20%20%24provide.value%28%27%24rootElement%27%2C%20element%29%3B%0D%0A%20%20%20%20%7D%5D%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28config.debugInfoEnabled%29%20%7B%0D%0A%20%20%20%20%20%20//%20Pushing%20so%20that%20this%20overrides%20%60debugInfoEnabled%60%20setting%20defined%20in%20user%27s%20%60modules%60.%0D%0A%20%20%20%20%20%20modules.push%28%5B%27%24compileProvider%27%2C%20function%28%24compileProvider%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24compileProvider.debugInfoEnabled%28true%29%3B%0D%0A%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20modules.unshift%28%27ng%27%29%3B%0D%0A%20%20%20%20var%20injector%20%3D%20createInjector%28modules%2C%20config.strictDi%29%3B%0D%0A%20%20%20%20injector.invoke%28%5B%27%24rootScope%27%2C%20%27%24rootElement%27%2C%20%27%24compile%27%2C%20%27%24injector%27%2C%0D%0A%20%20%20%20%20%20%20function%20bootstrapApply%28scope%2C%20element%2C%20compile%2C%20injector%29%20%7B%0D%0A%20%20%20%20%20%20%20%20scope.%24apply%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.data%28%27%24injector%27%2C%20injector%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20compile%28element%29%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%5D%0D%0A%20%20%20%20%29%3B%0D%0A%20%20%20%20return%20injector%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20NG_ENABLE_DEBUG_INFO%20%3D%20/%5ENG_ENABLE_DEBUG_INFO%21/%3B%0D%0A%20%20var%20NG_DEFER_BOOTSTRAP%20%3D%20/%5ENG_DEFER_BOOTSTRAP%21/%3B%0D%0A%0D%0A%20%20if%20%28window%20%26%26%20NG_ENABLE_DEBUG_INFO.test%28window.name%29%29%20%7B%0D%0A%20%20%20%20config.debugInfoEnabled%20%3D%20true%3B%0D%0A%20%20%20%20window.name%20%3D%20window.name.replace%28NG_ENABLE_DEBUG_INFO%2C%20%27%27%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28window%20%26%26%20%21NG_DEFER_BOOTSTRAP.test%28window.name%29%29%20%7B%0D%0A%20%20%20%20return%20doBootstrap%28%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20window.name%20%3D%20window.name.replace%28NG_DEFER_BOOTSTRAP%2C%20%27%27%29%3B%0D%0A%20%20angular.resumeBootstrap%20%3D%20function%28extraModules%29%20%7B%0D%0A%20%20%20%20forEach%28extraModules%2C%20function%28module%29%20%7B%0D%0A%20%20%20%20%20%20modules.push%28module%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20return%20doBootstrap%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20if%20%28isFunction%28angular.resumeDeferredBootstrap%29%29%20%7B%0D%0A%20%20%20%20angular.resumeDeferredBootstrap%28%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.reloadWithDebugInfo%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%20Use%20this%20function%20to%20reload%20the%20current%20application%20with%20debug%20information%20turned%20on.%0D%0A%20*%20This%20takes%20precedence%20over%20a%20call%20to%20%60%24compileProvider.debugInfoEnabled%28false%29%60.%0D%0A%20*%0D%0A%20*%20See%20%7B@link%20ng.%24compileProvider%23debugInfoEnabled%7D%20for%20more.%0D%0A%20*/%0D%0Afunction%20reloadWithDebugInfo%28%29%20%7B%0D%0A%20%20window.name%20%3D%20%27NG_ENABLE_DEBUG_INFO%21%27%20+%20window.name%3B%0D%0A%20%20window.location.reload%28%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@name%20angular.getTestability%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%20Get%20the%20testability%20service%20for%20the%20instance%20of%20Angular%20on%20the%20given%0D%0A%20*%20element.%0D%0A%20*%20@param%20%7BDOMElement%7D%20element%20DOM%20element%20which%20is%20the%20root%20of%20angular%20application.%0D%0A%20*/%0D%0Afunction%20getTestability%28rootElement%29%20%7B%0D%0A%20%20var%20injector%20%3D%20angular.element%28rootElement%29.injector%28%29%3B%0D%0A%20%20if%20%28%21injector%29%20%7B%0D%0A%20%20%20%20throw%20ngMinErr%28%27test%27%2C%0D%0A%20%20%20%20%20%20%27no%20injector%20found%20for%20element%20argument%20to%20getTestability%27%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20injector.get%28%27%24%24testability%27%29%3B%0D%0A%7D%0D%0A%0D%0Avar%20SNAKE_CASE_REGEXP%20%3D%20/%5BA-Z%5D/g%3B%0D%0Afunction%20snake_case%28name%2C%20separator%29%20%7B%0D%0A%20%20separator%20%3D%20separator%20%7C%7C%20%27_%27%3B%0D%0A%20%20return%20name.replace%28SNAKE_CASE_REGEXP%2C%20function%28letter%2C%20pos%29%20%7B%0D%0A%20%20%20%20return%20%28pos%20%3F%20separator%20%3A%20%27%27%29%20+%20letter.toLowerCase%28%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%7D%0D%0A%0D%0Avar%20bindJQueryFired%20%3D%20false%3B%0D%0Avar%20skipDestroyOnNextJQueryCleanData%3B%0D%0Afunction%20bindJQuery%28%29%20%7B%0D%0A%20%20var%20originalCleanData%3B%0D%0A%0D%0A%20%20if%20%28bindJQueryFired%29%20%7B%0D%0A%20%20%20%20return%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20bind%20to%20jQuery%20if%20present%3B%0D%0A%20%20var%20jqName%20%3D%20jq%28%29%3B%0D%0A%20%20jQuery%20%3D%20window.jQuery%3B%20//%20use%20default%20jQuery.%0D%0A%20%20if%20%28isDefined%28jqName%29%29%20%7B%20//%20%60ngJq%60%20present%0D%0A%20%20%20%20jQuery%20%3D%20jqName%20%3D%3D%3D%20null%20%3F%20undefined%20%3A%20window%5BjqName%5D%3B%20//%20if%20empty%3B%20use%20jqLite.%20if%20not%20empty%2C%20use%20jQuery%20specified%20by%20%60ngJq%60.%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20Use%20jQuery%20if%20it%20exists%20with%20proper%20functionality%2C%20otherwise%20default%20to%20us.%0D%0A%20%20//%20Angular%201.2+%20requires%20jQuery%201.7+%20for%20on%28%29/off%28%29%20support.%0D%0A%20%20//%20Angular%201.3+%20technically%20requires%20at%20least%20jQuery%202.1+%20but%20it%20may%20work%20with%20older%0D%0A%20%20//%20versions.%20It%20will%20not%20work%20for%20sure%20with%20jQuery%20%3C1.7%2C%20though.%0D%0A%20%20if%20%28jQuery%20%26%26%20jQuery.fn.on%29%20%7B%0D%0A%20%20%20%20jqLite%20%3D%20jQuery%3B%0D%0A%20%20%20%20extend%28jQuery.fn%2C%20%7B%0D%0A%20%20%20%20%20%20scope%3A%20JQLitePrototype.scope%2C%0D%0A%20%20%20%20%20%20isolateScope%3A%20JQLitePrototype.isolateScope%2C%0D%0A%20%20%20%20%20%20controller%3A%20JQLitePrototype.controller%2C%0D%0A%20%20%20%20%20%20injector%3A%20JQLitePrototype.injector%2C%0D%0A%20%20%20%20%20%20inheritedData%3A%20JQLitePrototype.inheritedData%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20//%20All%20nodes%20removed%20from%20the%20DOM%20via%20various%20jQuery%20APIs%20like%20.remove%28%29%0D%0A%20%20%20%20//%20are%20passed%20through%20jQuery.cleanData.%20Monkey-patch%20this%20method%20to%20fire%0D%0A%20%20%20%20//%20the%20%24destroy%20event%20on%20all%20removed%20nodes.%0D%0A%20%20%20%20originalCleanData%20%3D%20jQuery.cleanData%3B%0D%0A%20%20%20%20jQuery.cleanData%20%3D%20function%28elems%29%20%7B%0D%0A%20%20%20%20%20%20var%20events%3B%0D%0A%20%20%20%20%20%20if%20%28%21skipDestroyOnNextJQueryCleanData%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20elem%3B%20%28elem%20%3D%20elems%5Bi%5D%29%20%21%3D%20null%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20events%20%3D%20jQuery._data%28elem%2C%20%22events%22%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28events%20%26%26%20events.%24destroy%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20jQuery%28elem%29.triggerHandler%28%27%24destroy%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20skipDestroyOnNextJQueryCleanData%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20originalCleanData%28elems%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20jqLite%20%3D%20JQLite%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20angular.element%20%3D%20jqLite%3B%0D%0A%0D%0A%20%20//%20Prevent%20double-proxying.%0D%0A%20%20bindJQueryFired%20%3D%20true%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20throw%20error%20if%20the%20argument%20is%20falsy.%0D%0A%20*/%0D%0Afunction%20assertArg%28arg%2C%20name%2C%20reason%29%20%7B%0D%0A%20%20if%20%28%21arg%29%20%7B%0D%0A%20%20%20%20throw%20ngMinErr%28%27areq%27%2C%20%22Argument%20%27%7B0%7D%27%20is%20%7B1%7D%22%2C%20%28name%20%7C%7C%20%27%3F%27%29%2C%20%28reason%20%7C%7C%20%22required%22%29%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20arg%3B%0D%0A%7D%0D%0A%0D%0Afunction%20assertArgFn%28arg%2C%20name%2C%20acceptArrayAnnotation%29%20%7B%0D%0A%20%20if%20%28acceptArrayAnnotation%20%26%26%20isArray%28arg%29%29%20%7B%0D%0A%20%20%20%20%20%20arg%20%3D%20arg%5Barg.length%20-%201%5D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20assertArg%28isFunction%28arg%29%2C%20name%2C%20%27not%20a%20function%2C%20got%20%27%20+%0D%0A%20%20%20%20%20%20%28arg%20%26%26%20typeof%20arg%20%3D%3D%3D%20%27object%27%20%3F%20arg.constructor.name%20%7C%7C%20%27Object%27%20%3A%20typeof%20arg%29%29%3B%0D%0A%20%20return%20arg%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20throw%20error%20if%20the%20name%20given%20is%20hasOwnProperty%0D%0A%20*%20@param%20%20%7BString%7D%20name%20%20%20%20the%20name%20to%20test%0D%0A%20*%20@param%20%20%7BString%7D%20context%20the%20context%20in%20which%20the%20name%20is%20used%2C%20such%20as%20module%20or%20directive%0D%0A%20*/%0D%0Afunction%20assertNotHasOwnProperty%28name%2C%20context%29%20%7B%0D%0A%20%20if%20%28name%20%3D%3D%3D%20%27hasOwnProperty%27%29%20%7B%0D%0A%20%20%20%20throw%20ngMinErr%28%27badname%27%2C%20%22hasOwnProperty%20is%20not%20a%20valid%20%7B0%7D%20name%22%2C%20context%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Return%20the%20value%20accessible%20from%20the%20object%20by%20path.%20Any%20undefined%20traversals%20are%20ignored%0D%0A%20*%20@param%20%7BObject%7D%20obj%20starting%20object%0D%0A%20*%20@param%20%7BString%7D%20path%20path%20to%20traverse%0D%0A%20*%20@param%20%7Bboolean%7D%20%5BbindFnToScope%3Dtrue%5D%0D%0A%20*%20@returns%20%7BObject%7D%20value%20as%20accessible%20by%20path%0D%0A%20*/%0D%0A//TODO%28misko%29%3A%20this%20function%20needs%20to%20be%20removed%0D%0Afunction%20getter%28obj%2C%20path%2C%20bindFnToScope%29%20%7B%0D%0A%20%20if%20%28%21path%29%20return%20obj%3B%0D%0A%20%20var%20keys%20%3D%20path.split%28%27.%27%29%3B%0D%0A%20%20var%20key%3B%0D%0A%20%20var%20lastInstance%20%3D%20obj%3B%0D%0A%20%20var%20len%20%3D%20keys.length%3B%0D%0A%0D%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20len%3B%20i++%29%20%7B%0D%0A%20%20%20%20key%20%3D%20keys%5Bi%5D%3B%0D%0A%20%20%20%20if%20%28obj%29%20%7B%0D%0A%20%20%20%20%20%20obj%20%3D%20%28lastInstance%20%3D%20obj%29%5Bkey%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20if%20%28%21bindFnToScope%20%26%26%20isFunction%28obj%29%29%20%7B%0D%0A%20%20%20%20return%20bind%28lastInstance%2C%20obj%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Return%20the%20DOM%20siblings%20between%20the%20first%20and%20last%20node%20in%20the%20given%20array.%0D%0A%20*%20@param%20%7BArray%7D%20array%20like%20object%0D%0A%20*%20@returns%20%7BjqLite%7D%20jqLite%20collection%20containing%20the%20nodes%0D%0A%20*/%0D%0Afunction%20getBlockNodes%28nodes%29%20%7B%0D%0A%20%20//%20TODO%28perf%29%3A%20just%20check%20if%20all%20items%20in%20%60nodes%60%20are%20siblings%20and%20if%20they%20are%20return%20the%20original%0D%0A%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20collection%2C%20otherwise%20update%20the%20original%20collection.%0D%0A%20%20var%20node%20%3D%20nodes%5B0%5D%3B%0D%0A%20%20var%20endNode%20%3D%20nodes%5Bnodes.length%20-%201%5D%3B%0D%0A%20%20var%20blockNodes%20%3D%20%5Bnode%5D%3B%0D%0A%0D%0A%20%20do%20%7B%0D%0A%20%20%20%20node%20%3D%20node.nextSibling%3B%0D%0A%20%20%20%20if%20%28%21node%29%20break%3B%0D%0A%20%20%20%20blockNodes.push%28node%29%3B%0D%0A%20%20%7D%20while%20%28node%20%21%3D%3D%20endNode%29%3B%0D%0A%0D%0A%20%20return%20jqLite%28blockNodes%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Creates%20a%20new%20object%20without%20a%20prototype.%20This%20object%20is%20useful%20for%20lookup%20without%20having%20to%0D%0A%20*%20guard%20against%20prototypically%20inherited%20properties%20via%20hasOwnProperty.%0D%0A%20*%0D%0A%20*%20Related%20micro-benchmarks%3A%0D%0A%20*%20-%20http%3A//jsperf.com/object-create2%0D%0A%20*%20-%20http%3A//jsperf.com/proto-map-lookup/2%0D%0A%20*%20-%20http%3A//jsperf.com/for-in-vs-object-keys2%0D%0A%20*%0D%0A%20*%20@returns%20%7BObject%7D%0D%0A%20*/%0D%0Afunction%20createMap%28%29%20%7B%0D%0A%20%20return%20Object.create%28null%29%3B%0D%0A%7D%0D%0A%0D%0Avar%20NODE_TYPE_ELEMENT%20%3D%201%3B%0D%0Avar%20NODE_TYPE_ATTRIBUTE%20%3D%202%3B%0D%0Avar%20NODE_TYPE_TEXT%20%3D%203%3B%0D%0Avar%20NODE_TYPE_COMMENT%20%3D%208%3B%0D%0Avar%20NODE_TYPE_DOCUMENT%20%3D%209%3B%0D%0Avar%20NODE_TYPE_DOCUMENT_FRAGMENT%20%3D%2011%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20type%0D%0A%20*%20@name%20angular.Module%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Interface%20for%20configuring%20angular%20%7B@link%20angular.module%20modules%7D.%0D%0A%20*/%0D%0A%0D%0Afunction%20setupModuleLoader%28window%29%20%7B%0D%0A%0D%0A%20%20var%20%24injectorMinErr%20%3D%20minErr%28%27%24injector%27%29%3B%0D%0A%20%20var%20ngMinErr%20%3D%20minErr%28%27ng%27%29%3B%0D%0A%0D%0A%20%20function%20ensure%28obj%2C%20name%2C%20factory%29%20%7B%0D%0A%20%20%20%20return%20obj%5Bname%5D%20%7C%7C%20%28obj%5Bname%5D%20%3D%20factory%28%29%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20angular%20%3D%20ensure%28window%2C%20%27angular%27%2C%20Object%29%3B%0D%0A%0D%0A%20%20//%20We%20need%20to%20expose%20%60angular.%24%24minErr%60%20to%20modules%20such%20as%20%60ngResource%60%20that%20reference%20it%20during%20bootstrap%0D%0A%20%20angular.%24%24minErr%20%3D%20angular.%24%24minErr%20%7C%7C%20minErr%3B%0D%0A%0D%0A%20%20return%20ensure%28angular%2C%20%27module%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20/**%20@type%20%7BObject.%3Cstring%2C%20angular.Module%3E%7D%20*/%0D%0A%20%20%20%20var%20modules%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20function%0D%0A%20%20%20%20%20*%20@name%20angular.module%0D%0A%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20%60angular.module%60%20is%20a%20global%20place%20for%20creating%2C%20registering%20and%20retrieving%20Angular%0D%0A%20%20%20%20%20*%20modules.%0D%0A%20%20%20%20%20*%20All%20modules%20%28angular%20core%20or%203rd%20party%29%20that%20should%20be%20available%20to%20an%20application%20must%20be%0D%0A%20%20%20%20%20*%20registered%20using%20this%20mechanism.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20When%20passed%20two%20or%20more%20arguments%2C%20a%20new%20module%20is%20created.%20%20If%20passed%20only%20one%20argument%2C%20an%0D%0A%20%20%20%20%20*%20existing%20module%20%28the%20name%20passed%20as%20the%20first%20argument%20to%20%60module%60%29%20is%20retrieved.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%20Module%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20A%20module%20is%20a%20collection%20of%20services%2C%20directives%2C%20controllers%2C%20filters%2C%20and%20configuration%20information.%0D%0A%20%20%20%20%20*%20%60angular.module%60%20is%20used%20to%20configure%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20//%20Create%20a%20new%20module%0D%0A%20%20%20%20%20*%20var%20myModule%20%3D%20angular.module%28%27myModule%27%2C%20%5B%5D%29%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20//%20register%20a%20new%20service%0D%0A%20%20%20%20%20*%20myModule.value%28%27appName%27%2C%20%27MyCoolApp%27%29%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20//%20configure%20existing%20services%20inside%20initialization%20blocks.%0D%0A%20%20%20%20%20*%20myModule.config%28%5B%27%24locationProvider%27%2C%20function%28%24locationProvider%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20//%20Configure%20existing%20providers%0D%0A%20%20%20%20%20*%20%20%20%24locationProvider.hashPrefix%28%27%21%27%29%3B%0D%0A%20%20%20%20%20*%20%7D%5D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Then%20you%20can%20create%20an%20injector%20and%20load%20your%20modules%20like%20this%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20var%20injector%20%3D%20angular.injector%28%5B%27ng%27%2C%20%27myModule%27%5D%29%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20However%20it%27s%20more%20likely%20that%20you%27ll%20just%20use%0D%0A%20%20%20%20%20*%20%7B@link%20ng.directive%3AngApp%20ngApp%7D%20or%0D%0A%20%20%20%20%20*%20%7B@link%20angular.bootstrap%7D%20to%20simplify%20this%20process%20for%20you.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B%21string%7D%20name%20The%20name%20of%20the%20module%20to%20create%20or%20retrieve.%0D%0A%20%20%20%20%20*%20@param%20%7B%21Array.%3Cstring%3E%3D%7D%20requires%20If%20specified%20then%20new%20module%20is%20being%20created.%20If%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20unspecified%20then%20the%20module%20is%20being%20retrieved%20for%20further%20configuration.%0D%0A%20%20%20%20%20*%20@param%20%7BFunction%3D%7D%20configFn%20Optional%20configuration%20function%20for%20the%20module.%20Same%20as%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%7B@link%20angular.Module%23config%20Module%23config%28%29%7D.%0D%0A%20%20%20%20%20*%20@returns%20%7Bmodule%7D%20new%20module%20with%20the%20%7B@link%20angular.Module%7D%20api.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20return%20function%20module%28name%2C%20requires%2C%20configFn%29%20%7B%0D%0A%20%20%20%20%20%20var%20assertNotHasOwnProperty%20%3D%20function%28name%2C%20context%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28name%20%3D%3D%3D%20%27hasOwnProperty%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20ngMinErr%28%27badname%27%2C%20%27hasOwnProperty%20is%20not%20a%20valid%20%7B0%7D%20name%27%2C%20context%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20assertNotHasOwnProperty%28name%2C%20%27module%27%29%3B%0D%0A%20%20%20%20%20%20if%20%28requires%20%26%26%20modules.hasOwnProperty%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20modules%5Bname%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20ensure%28modules%2C%20name%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21requires%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27nomod%27%2C%20%22Module%20%27%7B0%7D%27%20is%20not%20available%21%20You%20either%20misspelled%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%22the%20module%20name%20or%20forgot%20to%20load%20it.%20If%20registering%20a%20module%20ensure%20that%20you%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%22specify%20the%20dependencies%20as%20the%20second%20argument.%22%2C%20name%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%20@type%20%7B%21Array.%3CArray.%3C*%3E%3E%7D%20*/%0D%0A%20%20%20%20%20%20%20%20var%20invokeQueue%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%20@type%20%7B%21Array.%3CFunction%3E%7D%20*/%0D%0A%20%20%20%20%20%20%20%20var%20configBlocks%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%20@type%20%7B%21Array.%3CFunction%3E%7D%20*/%0D%0A%20%20%20%20%20%20%20%20var%20runBlocks%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20config%20%3D%20invokeLater%28%27%24injector%27%2C%20%27invoke%27%2C%20%27push%27%2C%20configBlocks%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%20@type%20%7Bangular.Module%7D%20*/%0D%0A%20%20%20%20%20%20%20%20var%20moduleInstance%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Private%20state%0D%0A%20%20%20%20%20%20%20%20%20%20_invokeQueue%3A%20invokeQueue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20_configBlocks%3A%20configBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20_runBlocks%3A%20runBlocks%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23requires%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Holds%20the%20list%20of%20modules%20which%20the%20injector%20will%20load%20before%20the%20current%20module%20is%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20loaded.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20requires%3A%20requires%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Name%20of%20the%20module.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20name%3A%20name%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23provider%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20service%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20providerType%20Construction%20function%20for%20creating%20new%20instance%20of%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20service.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23provider%20%24provide.provider%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20provider%3A%20invokeLater%28%27%24provide%27%2C%20%27provider%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23factory%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20service%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20providerFunction%20Function%20for%20creating%20new%20instance%20of%20the%20service.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23factory%20%24provide.factory%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20factory%3A%20invokeLater%28%27%24provide%27%2C%20%27factory%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23service%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20service%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20constructor%20A%20constructor%20function%20that%20will%20be%20instantiated.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23service%20%24provide.service%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20service%3A%20invokeLater%28%27%24provide%27%2C%20%27service%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23value%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20service%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7B*%7D%20object%20Service%20instance%20object.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23value%20%24provide.value%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20value%3A%20invokeLater%28%27%24provide%27%2C%20%27value%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23constant%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20constant%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7B*%7D%20object%20Constant%20value.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Because%20the%20constant%20are%20fixed%2C%20they%20get%20applied%20before%20other%20provide%20methods.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23constant%20%24provide.constant%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20constant%3A%20invokeLater%28%27%24provide%27%2C%20%27constant%27%2C%20%27unshift%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23decorator%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20The%20name%20of%20the%20service%20to%20decorate.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20This%20function%20will%20be%20invoked%20when%20the%20service%20needs%20to%20be%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instantiated%20and%20should%20return%20the%20decorated%20service%20instance.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20auto.%24provide%23decorator%20%24provide.decorator%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20decorator%3A%20invokeLater%28%27%24provide%27%2C%20%27decorator%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23animation%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20animation%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20animationFactory%20Factory%20function%20for%20creating%20new%20instance%20of%20an%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20animation.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20**NOTE**%3A%20animations%20take%20effect%20only%20if%20the%20**ngAnimate**%20module%20is%20loaded.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Defines%20an%20animation%20hook%20that%20can%20be%20later%20used%20with%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%7B@link%20%24animate%20%24animate%7D%20service%20and%20directives%20that%20use%20this%20service.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20module.animation%28%27.animation-name%27%2C%20function%28%24inject1%2C%20%24inject2%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20eventName%20%3A%20function%28element%2C%20done%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20//code%20to%20run%20the%20animation%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20//once%20complete%2C%20then%20run%20done%28%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20return%20function%20cancellationFunction%28element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20//code%20to%20cancel%20the%20animation%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20ng.%24animateProvider%23register%20%24animateProvider.register%28%29%7D%20and%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%7B@link%20ngAnimate%20ngAnimate%20module%7D%20for%20more%20information.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20animation%3A%20invokeLater%28%27%24animateProvider%27%2C%20%27register%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23filter%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20Filter%20name%20-%20this%20must%20be%20a%20valid%20angular%20expression%20identifier%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20filterFactory%20Factory%20function%20for%20creating%20new%20instance%20of%20filter.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20ng.%24filterProvider%23register%20%24filterProvider.register%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20**Note%3A**%20Filter%20names%20must%20be%20valid%20angular%20%7B@link%20expression%7D%20identifiers%2C%20such%20as%20%60uppercase%60%20or%20%60orderBy%60.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Names%20with%20special%20characters%2C%20such%20as%20hyphens%20and%20dots%2C%20are%20not%20allowed.%20If%20you%20wish%20to%20namespace%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20your%20filters%2C%20then%20you%20can%20use%20capitalization%20%28%60myappSubsectionFilterx%60%29%20or%20underscores%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%28%60myapp_subsection_filterx%60%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20filter%3A%20invokeLater%28%27%24filterProvider%27%2C%20%27register%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23controller%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7CObject%7D%20name%20Controller%20name%2C%20or%20an%20object%20map%20of%20controllers%20where%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20keys%20are%20the%20names%20and%20the%20values%20are%20the%20constructors.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20constructor%20Controller%20constructor%20function.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20ng.%24controllerProvider%23register%20%24controllerProvider.register%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20controller%3A%20invokeLater%28%27%24controllerProvider%27%2C%20%27register%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23directive%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7CObject%7D%20name%20Directive%20name%2C%20or%20an%20object%20map%20of%20directives%20where%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20keys%20are%20the%20names%20and%20the%20values%20are%20the%20factories.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20directiveFactory%20Factory%20function%20for%20creating%20new%20instance%20of%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20directives.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20See%20%7B@link%20ng.%24compileProvider%23directive%20%24compileProvider.directive%28%29%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20directive%3A%20invokeLater%28%27%24compileProvider%27%2C%20%27directive%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23config%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20configFn%20Execute%20this%20function%20on%20module%20load.%20Useful%20for%20service%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20configuration.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Use%20this%20method%20to%20register%20work%20which%20needs%20to%20be%20performed%20on%20module%20loading.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20For%20more%20about%20how%20to%20configure%20services%2C%20see%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%7B@link%20providers%23provider-recipe%20Provider%20Recipe%7D.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20config%3A%20config%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@name%20angular.Module%23run%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@module%20ng%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20initializationFn%20Execute%20this%20function%20after%20injector%20creation.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20%20%20%20Useful%20for%20application%20initialization.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Use%20this%20method%20to%20register%20work%20which%20should%20be%20performed%20when%20the%20injector%20is%20done%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20loading%20all%20modules.%0D%0A%20%20%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20run%3A%20function%28block%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runBlocks.push%28block%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28configFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20config%28configFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20moduleInstance%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20provider%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7BString%3D%7D%20insertMethod%0D%0A%20%20%20%20%20%20%20%20%20*%20@returns%20%7Bangular.Module%7D%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20function%20invokeLater%28provider%2C%20method%2C%20insertMethod%2C%20queue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21queue%29%20queue%20%3D%20invokeQueue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20queue%5BinsertMethod%20%7C%7C%20%27push%27%5D%28%5Bprovider%2C%20method%2C%20arguments%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moduleInstance%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%7D%0D%0A%0D%0A/*%20global%3A%20toDebugString%3A%20true%20*/%0D%0A%0D%0Afunction%20serializeObject%28obj%29%20%7B%0D%0A%20%20var%20seen%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20return%20JSON.stringify%28obj%2C%20function%28key%2C%20val%29%20%7B%0D%0A%20%20%20%20val%20%3D%20toJsonReplacer%28key%2C%20val%29%3B%0D%0A%20%20%20%20if%20%28isObject%28val%29%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28seen.indexOf%28val%29%20%3E%3D%200%29%20return%20%27%3C%3Calready%20seen%3E%3E%27%3B%0D%0A%0D%0A%20%20%20%20%20%20seen.push%28val%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20val%3B%0D%0A%20%20%7D%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20toDebugString%28obj%29%20%7B%0D%0A%20%20if%20%28typeof%20obj%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20return%20obj.toString%28%29.replace%28/%20%5C%7B%5B%5Cs%5CS%5D*%24/%2C%20%27%27%29%3B%0D%0A%20%20%7D%20else%20if%20%28typeof%20obj%20%3D%3D%3D%20%27undefined%27%29%20%7B%0D%0A%20%20%20%20return%20%27undefined%27%3B%0D%0A%20%20%7D%20else%20if%20%28typeof%20obj%20%21%3D%3D%20%27string%27%29%20%7B%0D%0A%20%20%20%20return%20serializeObject%28obj%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0A/*%20global%20angularModule%3A%20true%2C%0D%0A%20%20version%3A%20true%2C%0D%0A%0D%0A%20%20%24LocaleProvider%2C%0D%0A%20%20%24CompileProvider%2C%0D%0A%0D%0A%20%20htmlAnchorDirective%2C%0D%0A%20%20inputDirective%2C%0D%0A%20%20inputDirective%2C%0D%0A%20%20formDirective%2C%0D%0A%20%20scriptDirective%2C%0D%0A%20%20selectDirective%2C%0D%0A%20%20styleDirective%2C%0D%0A%20%20optionDirective%2C%0D%0A%20%20ngBindDirective%2C%0D%0A%20%20ngBindHtmlDirective%2C%0D%0A%20%20ngBindTemplateDirective%2C%0D%0A%20%20ngClassDirective%2C%0D%0A%20%20ngClassEvenDirective%2C%0D%0A%20%20ngClassOddDirective%2C%0D%0A%20%20ngCspDirective%2C%0D%0A%20%20ngCloakDirective%2C%0D%0A%20%20ngControllerDirective%2C%0D%0A%20%20ngFormDirective%2C%0D%0A%20%20ngHideDirective%2C%0D%0A%20%20ngIfDirective%2C%0D%0A%20%20ngIncludeDirective%2C%0D%0A%20%20ngIncludeFillContentDirective%2C%0D%0A%20%20ngInitDirective%2C%0D%0A%20%20ngNonBindableDirective%2C%0D%0A%20%20ngPluralizeDirective%2C%0D%0A%20%20ngRepeatDirective%2C%0D%0A%20%20ngShowDirective%2C%0D%0A%20%20ngStyleDirective%2C%0D%0A%20%20ngSwitchDirective%2C%0D%0A%20%20ngSwitchWhenDirective%2C%0D%0A%20%20ngSwitchDefaultDirective%2C%0D%0A%20%20ngOptionsDirective%2C%0D%0A%20%20ngTranscludeDirective%2C%0D%0A%20%20ngModelDirective%2C%0D%0A%20%20ngListDirective%2C%0D%0A%20%20ngChangeDirective%2C%0D%0A%20%20patternDirective%2C%0D%0A%20%20patternDirective%2C%0D%0A%20%20requiredDirective%2C%0D%0A%20%20requiredDirective%2C%0D%0A%20%20minlengthDirective%2C%0D%0A%20%20minlengthDirective%2C%0D%0A%20%20maxlengthDirective%2C%0D%0A%20%20maxlengthDirective%2C%0D%0A%20%20ngValueDirective%2C%0D%0A%20%20ngModelOptionsDirective%2C%0D%0A%20%20ngAttributeAliasDirectives%2C%0D%0A%20%20ngEventDirectives%2C%0D%0A%0D%0A%20%20%24AnchorScrollProvider%2C%0D%0A%20%20%24AnimateProvider%2C%0D%0A%20%20%24%24CoreAnimateQueueProvider%2C%0D%0A%20%20%24%24CoreAnimateRunnerProvider%2C%0D%0A%20%20%24BrowserProvider%2C%0D%0A%20%20%24CacheFactoryProvider%2C%0D%0A%20%20%24ControllerProvider%2C%0D%0A%20%20%24DocumentProvider%2C%0D%0A%20%20%24ExceptionHandlerProvider%2C%0D%0A%20%20%24FilterProvider%2C%0D%0A%20%20%24InterpolateProvider%2C%0D%0A%20%20%24IntervalProvider%2C%0D%0A%20%20%24%24HashMapProvider%2C%0D%0A%20%20%24HttpProvider%2C%0D%0A%20%20%24HttpParamSerializerProvider%2C%0D%0A%20%20%24HttpParamSerializerJQLikeProvider%2C%0D%0A%20%20%24HttpBackendProvider%2C%0D%0A%20%20%24LocationProvider%2C%0D%0A%20%20%24LogProvider%2C%0D%0A%20%20%24ParseProvider%2C%0D%0A%20%20%24RootScopeProvider%2C%0D%0A%20%20%24QProvider%2C%0D%0A%20%20%24%24QProvider%2C%0D%0A%20%20%24%24SanitizeUriProvider%2C%0D%0A%20%20%24SceProvider%2C%0D%0A%20%20%24SceDelegateProvider%2C%0D%0A%20%20%24SnifferProvider%2C%0D%0A%20%20%24TemplateCacheProvider%2C%0D%0A%20%20%24TemplateRequestProvider%2C%0D%0A%20%20%24%24TestabilityProvider%2C%0D%0A%20%20%24TimeoutProvider%2C%0D%0A%20%20%24%24RAFProvider%2C%0D%0A%20%20%24%24AsyncCallbackProvider%2C%0D%0A%20%20%24WindowProvider%2C%0D%0A%20%20%24%24jqLiteProvider%2C%0D%0A%20%20%24%24CookieReaderProvider%0D%0A*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20object%0D%0A%20*%20@name%20angular.version%0D%0A%20*%20@module%20ng%0D%0A%20*%20@description%0D%0A%20*%20An%20object%20that%20contains%20information%20about%20the%20current%20AngularJS%20version.%20This%20object%20has%20the%0D%0A%20*%20following%20properties%3A%0D%0A%20*%0D%0A%20*%20-%20%60full%60%20%u2013%20%60%7Bstring%7D%60%20%u2013%20Full%20version%20string%2C%20such%20as%20%220.9.18%22.%0D%0A%20*%20-%20%60major%60%20%u2013%20%60%7Bnumber%7D%60%20%u2013%20Major%20version%20number%2C%20such%20as%20%220%22.%0D%0A%20*%20-%20%60minor%60%20%u2013%20%60%7Bnumber%7D%60%20%u2013%20Minor%20version%20number%2C%20such%20as%20%229%22.%0D%0A%20*%20-%20%60dot%60%20%u2013%20%60%7Bnumber%7D%60%20%u2013%20Dot%20version%20number%2C%20such%20as%20%2218%22.%0D%0A%20*%20-%20%60codeName%60%20%u2013%20%60%7Bstring%7D%60%20%u2013%20Code%20name%20of%20the%20release%2C%20such%20as%20%22jiggling-armfat%22.%0D%0A%20*/%0D%0Avar%20version%20%3D%20%7B%0D%0A%20%20full%3A%20%271.4.0%27%2C%20%20%20%20//%20all%20of%20these%20placeholder%20strings%20will%20be%20replaced%20by%20grunt%27s%0D%0A%20%20major%3A%201%2C%20%20%20%20//%20package%20task%0D%0A%20%20minor%3A%204%2C%0D%0A%20%20dot%3A%200%2C%0D%0A%20%20codeName%3A%20%27jaracimrman-existence%27%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Afunction%20publishExternalAPI%28angular%29%20%7B%0D%0A%20%20extend%28angular%2C%20%7B%0D%0A%20%20%20%20%27bootstrap%27%3A%20bootstrap%2C%0D%0A%20%20%20%20%27copy%27%3A%20copy%2C%0D%0A%20%20%20%20%27extend%27%3A%20extend%2C%0D%0A%20%20%20%20%27merge%27%3A%20merge%2C%0D%0A%20%20%20%20%27equals%27%3A%20equals%2C%0D%0A%20%20%20%20%27element%27%3A%20jqLite%2C%0D%0A%20%20%20%20%27forEach%27%3A%20forEach%2C%0D%0A%20%20%20%20%27injector%27%3A%20createInjector%2C%0D%0A%20%20%20%20%27noop%27%3A%20noop%2C%0D%0A%20%20%20%20%27bind%27%3A%20bind%2C%0D%0A%20%20%20%20%27toJson%27%3A%20toJson%2C%0D%0A%20%20%20%20%27fromJson%27%3A%20fromJson%2C%0D%0A%20%20%20%20%27identity%27%3A%20identity%2C%0D%0A%20%20%20%20%27isUndefined%27%3A%20isUndefined%2C%0D%0A%20%20%20%20%27isDefined%27%3A%20isDefined%2C%0D%0A%20%20%20%20%27isString%27%3A%20isString%2C%0D%0A%20%20%20%20%27isFunction%27%3A%20isFunction%2C%0D%0A%20%20%20%20%27isObject%27%3A%20isObject%2C%0D%0A%20%20%20%20%27isNumber%27%3A%20isNumber%2C%0D%0A%20%20%20%20%27isElement%27%3A%20isElement%2C%0D%0A%20%20%20%20%27isArray%27%3A%20isArray%2C%0D%0A%20%20%20%20%27version%27%3A%20version%2C%0D%0A%20%20%20%20%27isDate%27%3A%20isDate%2C%0D%0A%20%20%20%20%27lowercase%27%3A%20lowercase%2C%0D%0A%20%20%20%20%27uppercase%27%3A%20uppercase%2C%0D%0A%20%20%20%20%27callbacks%27%3A%20%7Bcounter%3A%200%7D%2C%0D%0A%20%20%20%20%27getTestability%27%3A%20getTestability%2C%0D%0A%20%20%20%20%27%24%24minErr%27%3A%20minErr%2C%0D%0A%20%20%20%20%27%24%24csp%27%3A%20csp%2C%0D%0A%20%20%20%20%27reloadWithDebugInfo%27%3A%20reloadWithDebugInfo%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20angularModule%20%3D%20setupModuleLoader%28window%29%3B%0D%0A%20%20try%20%7B%0D%0A%20%20%20%20angularModule%28%27ngLocale%27%29%3B%0D%0A%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20angularModule%28%27ngLocale%27%2C%20%5B%5D%29.provider%28%27%24locale%27%2C%20%24LocaleProvider%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20angularModule%28%27ng%27%2C%20%5B%27ngLocale%27%5D%2C%20%5B%27%24provide%27%2C%0D%0A%20%20%20%20function%20ngModule%28%24provide%29%20%7B%0D%0A%20%20%20%20%20%20//%20%24%24sanitizeUriProvider%20needs%20to%20be%20before%20%24compileProvider%20as%20it%20is%20used%20by%20it.%0D%0A%20%20%20%20%20%20%24provide.provider%28%7B%0D%0A%20%20%20%20%20%20%20%20%24%24sanitizeUri%3A%20%24%24SanitizeUriProvider%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%24provide.provider%28%27%24compile%27%2C%20%24CompileProvider%29.%0D%0A%20%20%20%20%20%20%20%20directive%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20a%3A%20htmlAnchorDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input%3A%20inputDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20textarea%3A%20inputDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20form%3A%20formDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20script%3A%20scriptDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20select%3A%20selectDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3A%20styleDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20option%3A%20optionDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngBind%3A%20ngBindDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngBindHtml%3A%20ngBindHtmlDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngBindTemplate%3A%20ngBindTemplateDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngClass%3A%20ngClassDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngClassEven%3A%20ngClassEvenDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngClassOdd%3A%20ngClassOddDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngCloak%3A%20ngCloakDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngController%3A%20ngControllerDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngForm%3A%20ngFormDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngHide%3A%20ngHideDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngIf%3A%20ngIfDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngInclude%3A%20ngIncludeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngInit%3A%20ngInitDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngNonBindable%3A%20ngNonBindableDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngPluralize%3A%20ngPluralizeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngRepeat%3A%20ngRepeatDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngShow%3A%20ngShowDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngStyle%3A%20ngStyleDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngSwitch%3A%20ngSwitchDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngSwitchWhen%3A%20ngSwitchWhenDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngSwitchDefault%3A%20ngSwitchDefaultDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngOptions%3A%20ngOptionsDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngTransclude%3A%20ngTranscludeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModel%3A%20ngModelDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngList%3A%20ngListDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngChange%3A%20ngChangeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pattern%3A%20patternDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngPattern%3A%20patternDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20required%3A%20requiredDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngRequired%3A%20requiredDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minlength%3A%20minlengthDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngMinlength%3A%20minlengthDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20maxlength%3A%20maxlengthDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngMaxlength%3A%20maxlengthDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngValue%3A%20ngValueDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModelOptions%3A%20ngModelOptionsDirective%0D%0A%20%20%20%20%20%20%20%20%7D%29.%0D%0A%20%20%20%20%20%20%20%20directive%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ngInclude%3A%20ngIncludeFillContentDirective%0D%0A%20%20%20%20%20%20%20%20%7D%29.%0D%0A%20%20%20%20%20%20%20%20directive%28ngAttributeAliasDirectives%29.%0D%0A%20%20%20%20%20%20%20%20directive%28ngEventDirectives%29%3B%0D%0A%20%20%20%20%20%20%24provide.provider%28%7B%0D%0A%20%20%20%20%20%20%20%20%24anchorScroll%3A%20%24AnchorScrollProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24animate%3A%20%24AnimateProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24animateQueue%3A%20%24%24CoreAnimateQueueProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24AnimateRunner%3A%20%24%24CoreAnimateRunnerProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24browser%3A%20%24BrowserProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24cacheFactory%3A%20%24CacheFactoryProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24controller%3A%20%24ControllerProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24document%3A%20%24DocumentProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24exceptionHandler%3A%20%24ExceptionHandlerProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24filter%3A%20%24FilterProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24interpolate%3A%20%24InterpolateProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24interval%3A%20%24IntervalProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24http%3A%20%24HttpProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24httpParamSerializer%3A%20%24HttpParamSerializerProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24httpParamSerializerJQLike%3A%20%24HttpParamSerializerJQLikeProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24httpBackend%3A%20%24HttpBackendProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24location%3A%20%24LocationProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24log%3A%20%24LogProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24parse%3A%20%24ParseProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24rootScope%3A%20%24RootScopeProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24q%3A%20%24QProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24q%3A%20%24%24QProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24sce%3A%20%24SceProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24sceDelegate%3A%20%24SceDelegateProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24sniffer%3A%20%24SnifferProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24templateCache%3A%20%24TemplateCacheProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24templateRequest%3A%20%24TemplateRequestProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24testability%3A%20%24%24TestabilityProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24timeout%3A%20%24TimeoutProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24window%3A%20%24WindowProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24rAF%3A%20%24%24RAFProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24asyncCallback%3A%20%24%24AsyncCallbackProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24jqLite%3A%20%24%24jqLiteProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24HashMap%3A%20%24%24HashMapProvider%2C%0D%0A%20%20%20%20%20%20%20%20%24%24cookieReader%3A%20%24%24CookieReaderProvider%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%5D%29%3B%0D%0A%7D%0D%0A%0D%0A/*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%0D%0A%20*%20%20%20%20%20Any%20commits%20to%20this%20file%20should%20be%20reviewed%20with%20security%20in%20mind.%20%20*%0D%0A%20*%20%20%20Changes%20to%20this%20file%20can%20potentially%20create%20security%20vulnerabilities.%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20An%20approval%20from%202%20Core%20members%20with%20history%20of%20modifying%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%20file%20is%20required.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20Does%20the%20change%20somehow%20allow%20for%20arbitrary%20javascript%20to%20be%20executed%3F%20*%0D%0A%20*%20%20%20%20Or%20allows%20for%20someone%20to%20change%20the%20prototype%20of%20built-in%20objects%3F%20%20%20*%0D%0A%20*%20%20%20%20%20Or%20gives%20undesired%20access%20to%20variables%20likes%20document%20or%20window%3F%20%20%20%20*%0D%0A%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*/%0D%0A%0D%0A/*%20global%20JQLitePrototype%3A%20true%2C%0D%0A%20%20addEventListenerFn%3A%20true%2C%0D%0A%20%20removeEventListenerFn%3A%20true%2C%0D%0A%20%20BOOLEAN_ATTR%3A%20true%2C%0D%0A%20%20ALIASED_ATTR%3A%20true%2C%0D%0A*/%0D%0A%0D%0A//////////////////////////////////%0D%0A//JQLite%0D%0A//////////////////////////////////%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@name%20angular.element%0D%0A%20*%20@module%20ng%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Wraps%20a%20raw%20DOM%20element%20or%20HTML%20string%20as%20a%20%5BjQuery%5D%28http%3A//jquery.com%29%20element.%0D%0A%20*%0D%0A%20*%20If%20jQuery%20is%20available%2C%20%60angular.element%60%20is%20an%20alias%20for%20the%0D%0A%20*%20%5BjQuery%5D%28http%3A//api.jquery.com/jQuery/%29%20function.%20If%20jQuery%20is%20not%20available%2C%20%60angular.element%60%0D%0A%20*%20delegates%20to%20Angular%27s%20built-in%20subset%20of%20jQuery%2C%20called%20%22jQuery%20lite%22%20or%20%22jqLite.%22%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-success%22%3EjqLite%20is%20a%20tiny%2C%20API-compatible%20subset%20of%20jQuery%20that%20allows%0D%0A%20*%20Angular%20to%20manipulate%20the%20DOM%20in%20a%20cross-browser%20compatible%20way.%20**jqLite**%20implements%20only%20the%20most%0D%0A%20*%20commonly%20needed%20functionality%20with%20the%20goal%20of%20having%20a%20very%20small%20footprint.%3C/div%3E%0D%0A%20*%0D%0A%20*%20To%20use%20%60jQuery%60%2C%20simply%20ensure%20it%20is%20loaded%20before%20the%20%60angular.js%60%20file.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%22%3E**Note%3A**%20all%20element%20references%20in%20Angular%20are%20always%20wrapped%20with%20jQuery%20or%0D%0A%20*%20jqLite%3B%20they%20are%20never%20raw%20DOM%20references.%3C/div%3E%0D%0A%20*%0D%0A%20*%20%23%23%20Angular%27s%20jqLite%0D%0A%20*%20jqLite%20provides%20only%20the%20following%20jQuery%20methods%3A%0D%0A%20*%0D%0A%20*%20-%20%5B%60addClass%28%29%60%5D%28http%3A//api.jquery.com/addClass/%29%0D%0A%20*%20-%20%5B%60after%28%29%60%5D%28http%3A//api.jquery.com/after/%29%0D%0A%20*%20-%20%5B%60append%28%29%60%5D%28http%3A//api.jquery.com/append/%29%0D%0A%20*%20-%20%5B%60attr%28%29%60%5D%28http%3A//api.jquery.com/attr/%29%20-%20Does%20not%20support%20functions%20as%20parameters%0D%0A%20*%20-%20%5B%60bind%28%29%60%5D%28http%3A//api.jquery.com/bind/%29%20-%20Does%20not%20support%20namespaces%2C%20selectors%20or%20eventData%0D%0A%20*%20-%20%5B%60children%28%29%60%5D%28http%3A//api.jquery.com/children/%29%20-%20Does%20not%20support%20selectors%0D%0A%20*%20-%20%5B%60clone%28%29%60%5D%28http%3A//api.jquery.com/clone/%29%0D%0A%20*%20-%20%5B%60contents%28%29%60%5D%28http%3A//api.jquery.com/contents/%29%0D%0A%20*%20-%20%5B%60css%28%29%60%5D%28http%3A//api.jquery.com/css/%29%20-%20Only%20retrieves%20inline-styles%2C%20does%20not%20call%20%60getComputedStyle%28%29%60.%20As%20a%20setter%2C%20does%20not%20convert%20numbers%20to%20strings%20or%20append%20%27px%27.%0D%0A%20*%20-%20%5B%60data%28%29%60%5D%28http%3A//api.jquery.com/data/%29%0D%0A%20*%20-%20%5B%60detach%28%29%60%5D%28http%3A//api.jquery.com/detach/%29%0D%0A%20*%20-%20%5B%60empty%28%29%60%5D%28http%3A//api.jquery.com/empty/%29%0D%0A%20*%20-%20%5B%60eq%28%29%60%5D%28http%3A//api.jquery.com/eq/%29%0D%0A%20*%20-%20%5B%60find%28%29%60%5D%28http%3A//api.jquery.com/find/%29%20-%20Limited%20to%20lookups%20by%20tag%20name%0D%0A%20*%20-%20%5B%60hasClass%28%29%60%5D%28http%3A//api.jquery.com/hasClass/%29%0D%0A%20*%20-%20%5B%60html%28%29%60%5D%28http%3A//api.jquery.com/html/%29%0D%0A%20*%20-%20%5B%60next%28%29%60%5D%28http%3A//api.jquery.com/next/%29%20-%20Does%20not%20support%20selectors%0D%0A%20*%20-%20%5B%60on%28%29%60%5D%28http%3A//api.jquery.com/on/%29%20-%20Does%20not%20support%20namespaces%2C%20selectors%20or%20eventData%0D%0A%20*%20-%20%5B%60off%28%29%60%5D%28http%3A//api.jquery.com/off/%29%20-%20Does%20not%20support%20namespaces%20or%20selectors%0D%0A%20*%20-%20%5B%60one%28%29%60%5D%28http%3A//api.jquery.com/one/%29%20-%20Does%20not%20support%20namespaces%20or%20selectors%0D%0A%20*%20-%20%5B%60parent%28%29%60%5D%28http%3A//api.jquery.com/parent/%29%20-%20Does%20not%20support%20selectors%0D%0A%20*%20-%20%5B%60prepend%28%29%60%5D%28http%3A//api.jquery.com/prepend/%29%0D%0A%20*%20-%20%5B%60prop%28%29%60%5D%28http%3A//api.jquery.com/prop/%29%0D%0A%20*%20-%20%5B%60ready%28%29%60%5D%28http%3A//api.jquery.com/ready/%29%0D%0A%20*%20-%20%5B%60remove%28%29%60%5D%28http%3A//api.jquery.com/remove/%29%0D%0A%20*%20-%20%5B%60removeAttr%28%29%60%5D%28http%3A//api.jquery.com/removeAttr/%29%0D%0A%20*%20-%20%5B%60removeClass%28%29%60%5D%28http%3A//api.jquery.com/removeClass/%29%0D%0A%20*%20-%20%5B%60removeData%28%29%60%5D%28http%3A//api.jquery.com/removeData/%29%0D%0A%20*%20-%20%5B%60replaceWith%28%29%60%5D%28http%3A//api.jquery.com/replaceWith/%29%0D%0A%20*%20-%20%5B%60text%28%29%60%5D%28http%3A//api.jquery.com/text/%29%0D%0A%20*%20-%20%5B%60toggleClass%28%29%60%5D%28http%3A//api.jquery.com/toggleClass/%29%0D%0A%20*%20-%20%5B%60triggerHandler%28%29%60%5D%28http%3A//api.jquery.com/triggerHandler/%29%20-%20Passes%20a%20dummy%20event%20object%20to%20handlers.%0D%0A%20*%20-%20%5B%60unbind%28%29%60%5D%28http%3A//api.jquery.com/unbind/%29%20-%20Does%20not%20support%20namespaces%0D%0A%20*%20-%20%5B%60val%28%29%60%5D%28http%3A//api.jquery.com/val/%29%0D%0A%20*%20-%20%5B%60wrap%28%29%60%5D%28http%3A//api.jquery.com/wrap/%29%0D%0A%20*%0D%0A%20*%20%23%23%20jQuery/jqLite%20Extras%0D%0A%20*%20Angular%20also%20provides%20the%20following%20additional%20methods%20and%20events%20to%20both%20jQuery%20and%20jqLite%3A%0D%0A%20*%0D%0A%20*%20%23%23%23%20Events%0D%0A%20*%20-%20%60%24destroy%60%20-%20AngularJS%20intercepts%20all%20jqLite/jQuery%27s%20DOM%20destruction%20apis%20and%20fires%20this%20event%0D%0A%20*%20%20%20%20on%20all%20DOM%20nodes%20being%20removed.%20%20This%20can%20be%20used%20to%20clean%20up%20any%203rd%20party%20bindings%20to%20the%20DOM%0D%0A%20*%20%20%20%20element%20before%20it%20is%20removed.%0D%0A%20*%0D%0A%20*%20%23%23%23%20Methods%0D%0A%20*%20-%20%60controller%28name%29%60%20-%20retrieves%20the%20controller%20of%20the%20current%20element%20or%20its%20parent.%20By%20default%0D%0A%20*%20%20%20retrieves%20controller%20associated%20with%20the%20%60ngController%60%20directive.%20If%20%60name%60%20is%20provided%20as%0D%0A%20*%20%20%20camelCase%20directive%20name%2C%20then%20the%20controller%20for%20this%20directive%20will%20be%20retrieved%20%28e.g.%0D%0A%20*%20%20%20%60%27ngModel%27%60%29.%0D%0A%20*%20-%20%60injector%28%29%60%20-%20retrieves%20the%20injector%20of%20the%20current%20element%20or%20its%20parent.%0D%0A%20*%20-%20%60scope%28%29%60%20-%20retrieves%20the%20%7B@link%20ng.%24rootScope.Scope%20scope%7D%20of%20the%20current%0D%0A%20*%20%20%20element%20or%20its%20parent.%20Requires%20%7B@link%20guide/production%23disabling-debug-data%20Debug%20Data%7D%20to%0D%0A%20*%20%20%20be%20enabled.%0D%0A%20*%20-%20%60isolateScope%28%29%60%20-%20retrieves%20an%20isolate%20%7B@link%20ng.%24rootScope.Scope%20scope%7D%20if%20one%20is%20attached%20directly%20to%20the%0D%0A%20*%20%20%20current%20element.%20This%20getter%20should%20be%20used%20only%20on%20elements%20that%20contain%20a%20directive%20which%20starts%20a%20new%20isolate%0D%0A%20*%20%20%20scope.%20Calling%20%60scope%28%29%60%20on%20this%20element%20always%20returns%20the%20original%20non-isolate%20scope.%0D%0A%20*%20%20%20Requires%20%7B@link%20guide/production%23disabling-debug-data%20Debug%20Data%7D%20to%20be%20enabled.%0D%0A%20*%20-%20%60inheritedData%28%29%60%20-%20same%20as%20%60data%28%29%60%2C%20but%20walks%20up%20the%20DOM%20until%20a%20value%20is%20found%20or%20the%20top%0D%0A%20*%20%20%20parent%20element%20is%20reached.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7CDOMElement%7D%20element%20HTML%20string%20or%20DOMElement%20to%20be%20wrapped%20into%20jQuery.%0D%0A%20*%20@returns%20%7BObject%7D%20jQuery%20object.%0D%0A%20*/%0D%0A%0D%0AJQLite.expando%20%3D%20%27ng339%27%3B%0D%0A%0D%0Avar%20jqCache%20%3D%20JQLite.cache%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20jqId%20%3D%201%2C%0D%0A%20%20%20%20addEventListenerFn%20%3D%20function%28element%2C%20type%2C%20fn%29%20%7B%0D%0A%20%20%20%20%20%20element.addEventListener%28type%2C%20fn%2C%20false%29%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20removeEventListenerFn%20%3D%20function%28element%2C%20type%2C%20fn%29%20%7B%0D%0A%20%20%20%20%20%20element.removeEventListener%28type%2C%20fn%2C%20false%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A/*%0D%0A%20*%20%21%21%21%20This%20is%20an%20undocumented%20%22private%22%20function%20%21%21%21%0D%0A%20*/%0D%0AJQLite._data%20%3D%20function%28node%29%20%7B%0D%0A%20%20//jQuery%20always%20returns%20an%20object%20on%20cache%20miss%0D%0A%20%20return%20this.cache%5Bnode%5Bthis.expando%5D%5D%20%7C%7C%20%7B%7D%3B%0D%0A%7D%3B%0D%0A%0D%0Afunction%20jqNextId%28%29%20%7B%20return%20++jqId%3B%20%7D%0D%0A%0D%0A%0D%0Avar%20SPECIAL_CHARS_REGEXP%20%3D%20/%28%5B%5C%3A%5C-%5C_%5D+%28.%29%29/g%3B%0D%0Avar%20MOZ_HACK_REGEXP%20%3D%20/%5Emoz%28%5BA-Z%5D%29/%3B%0D%0Avar%20MOUSE_EVENT_MAP%3D%20%7B%20mouseleave%3A%20%22mouseout%22%2C%20mouseenter%3A%20%22mouseover%22%7D%3B%0D%0Avar%20jqLiteMinErr%20%3D%20minErr%28%27jqLite%27%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20Converts%20snake_case%20to%20camelCase.%0D%0A%20*%20Also%20there%20is%20special%20case%20for%20Moz%20prefix%20starting%20with%20upper%20case%20letter.%0D%0A%20*%20@param%20name%20Name%20to%20normalize%0D%0A%20*/%0D%0Afunction%20camelCase%28name%29%20%7B%0D%0A%20%20return%20name.%0D%0A%20%20%20%20replace%28SPECIAL_CHARS_REGEXP%2C%20function%28_%2C%20separator%2C%20letter%2C%20offset%29%20%7B%0D%0A%20%20%20%20%20%20return%20offset%20%3F%20letter.toUpperCase%28%29%20%3A%20letter%3B%0D%0A%20%20%20%20%7D%29.%0D%0A%20%20%20%20replace%28MOZ_HACK_REGEXP%2C%20%27Moz%241%27%29%3B%0D%0A%7D%0D%0A%0D%0Avar%20SINGLE_TAG_REGEXP%20%3D%20/%5E%3C%28%5Cw+%29%5Cs*%5C/%3F%3E%28%3F%3A%3C%5C/%5C1%3E%7C%29%24/%3B%0D%0Avar%20HTML_REGEXP%20%3D%20/%3C%7C%26%23%3F%5Cw+%3B/%3B%0D%0Avar%20TAG_NAME_REGEXP%20%3D%20/%3C%28%5B%5Cw%3A%5D+%29/%3B%0D%0Avar%20XHTML_TAG_REGEXP%20%3D%20/%3C%28%3F%21area%7Cbr%7Ccol%7Cembed%7Chr%7Cimg%7Cinput%7Clink%7Cmeta%7Cparam%29%28%28%5B%5Cw%3A%5D+%29%5B%5E%3E%5D*%29%5C/%3E/gi%3B%0D%0A%0D%0Avar%20wrapMap%20%3D%20%7B%0D%0A%20%20%27option%27%3A%20%5B1%2C%20%27%3Cselect%20multiple%3D%22multiple%22%3E%27%2C%20%27%3C/select%3E%27%5D%2C%0D%0A%0D%0A%20%20%27thead%27%3A%20%5B1%2C%20%27%3Ctable%3E%27%2C%20%27%3C/table%3E%27%5D%2C%0D%0A%20%20%27col%27%3A%20%5B2%2C%20%27%3Ctable%3E%3Ccolgroup%3E%27%2C%20%27%3C/colgroup%3E%3C/table%3E%27%5D%2C%0D%0A%20%20%27tr%27%3A%20%5B2%2C%20%27%3Ctable%3E%3Ctbody%3E%27%2C%20%27%3C/tbody%3E%3C/table%3E%27%5D%2C%0D%0A%20%20%27td%27%3A%20%5B3%2C%20%27%3Ctable%3E%3Ctbody%3E%3Ctr%3E%27%2C%20%27%3C/tr%3E%3C/tbody%3E%3C/table%3E%27%5D%2C%0D%0A%20%20%27_default%27%3A%20%5B0%2C%20%22%22%2C%20%22%22%5D%0D%0A%7D%3B%0D%0A%0D%0AwrapMap.optgroup%20%3D%20wrapMap.option%3B%0D%0AwrapMap.tbody%20%3D%20wrapMap.tfoot%20%3D%20wrapMap.colgroup%20%3D%20wrapMap.caption%20%3D%20wrapMap.thead%3B%0D%0AwrapMap.th%20%3D%20wrapMap.td%3B%0D%0A%0D%0A%0D%0Afunction%20jqLiteIsTextNode%28html%29%20%7B%0D%0A%20%20return%20%21HTML_REGEXP.test%28html%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteAcceptsData%28node%29%20%7B%0D%0A%20%20//%20The%20window%20object%20can%20accept%20data%20but%20has%20no%20nodeType%0D%0A%20%20//%20Otherwise%20we%20are%20only%20interested%20in%20elements%20%281%29%20and%20documents%20%289%29%0D%0A%20%20var%20nodeType%20%3D%20node.nodeType%3B%0D%0A%20%20return%20nodeType%20%3D%3D%3D%20NODE_TYPE_ELEMENT%20%7C%7C%20%21nodeType%20%7C%7C%20nodeType%20%3D%3D%3D%20NODE_TYPE_DOCUMENT%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteBuildFragment%28html%2C%20context%29%20%7B%0D%0A%20%20var%20tmp%2C%20tag%2C%20wrap%2C%0D%0A%20%20%20%20%20%20fragment%20%3D%20context.createDocumentFragment%28%29%2C%0D%0A%20%20%20%20%20%20nodes%20%3D%20%5B%5D%2C%20i%3B%0D%0A%0D%0A%20%20if%20%28jqLiteIsTextNode%28html%29%29%20%7B%0D%0A%20%20%20%20//%20Convert%20non-html%20into%20a%20text%20node%0D%0A%20%20%20%20nodes.push%28context.createTextNode%28html%29%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20//%20Convert%20html%20into%20DOM%20nodes%0D%0A%20%20%20%20tmp%20%3D%20tmp%20%7C%7C%20fragment.appendChild%28context.createElement%28%22div%22%29%29%3B%0D%0A%20%20%20%20tag%20%3D%20%28TAG_NAME_REGEXP.exec%28html%29%20%7C%7C%20%5B%22%22%2C%20%22%22%5D%29%5B1%5D.toLowerCase%28%29%3B%0D%0A%20%20%20%20wrap%20%3D%20wrapMap%5Btag%5D%20%7C%7C%20wrapMap._default%3B%0D%0A%20%20%20%20tmp.innerHTML%20%3D%20wrap%5B1%5D%20+%20html.replace%28XHTML_TAG_REGEXP%2C%20%22%3C%241%3E%3C/%242%3E%22%29%20+%20wrap%5B2%5D%3B%0D%0A%0D%0A%20%20%20%20//%20Descend%20through%20wrappers%20to%20the%20right%20content%0D%0A%20%20%20%20i%20%3D%20wrap%5B0%5D%3B%0D%0A%20%20%20%20while%20%28i--%29%20%7B%0D%0A%20%20%20%20%20%20tmp%20%3D%20tmp.lastChild%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20nodes%20%3D%20concat%28nodes%2C%20tmp.childNodes%29%3B%0D%0A%0D%0A%20%20%20%20tmp%20%3D%20fragment.firstChild%3B%0D%0A%20%20%20%20tmp.textContent%20%3D%20%22%22%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20Remove%20wrapper%20from%20fragment%0D%0A%20%20fragment.textContent%20%3D%20%22%22%3B%0D%0A%20%20fragment.innerHTML%20%3D%20%22%22%3B%20//%20Clear%20inner%20HTML%0D%0A%20%20forEach%28nodes%2C%20function%28node%29%20%7B%0D%0A%20%20%20%20fragment.appendChild%28node%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20return%20fragment%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteParseHTML%28html%2C%20context%29%20%7B%0D%0A%20%20context%20%3D%20context%20%7C%7C%20document%3B%0D%0A%20%20var%20parsed%3B%0D%0A%0D%0A%20%20if%20%28%28parsed%20%3D%20SINGLE_TAG_REGEXP.exec%28html%29%29%29%20%7B%0D%0A%20%20%20%20return%20%5Bcontext.createElement%28parsed%5B1%5D%29%5D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28%28parsed%20%3D%20jqLiteBuildFragment%28html%2C%20context%29%29%29%20%7B%0D%0A%20%20%20%20return%20parsed.childNodes%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20%5B%5D%3B%0D%0A%7D%0D%0A%0D%0A/////////////////////////////////////////////%0D%0Afunction%20JQLite%28element%29%20%7B%0D%0A%20%20if%20%28element%20instanceof%20JQLite%29%20%7B%0D%0A%20%20%20%20return%20element%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20argIsString%3B%0D%0A%0D%0A%20%20if%20%28isString%28element%29%29%20%7B%0D%0A%20%20%20%20element%20%3D%20trim%28element%29%3B%0D%0A%20%20%20%20argIsString%20%3D%20true%3B%0D%0A%20%20%7D%0D%0A%20%20if%20%28%21%28this%20instanceof%20JQLite%29%29%20%7B%0D%0A%20%20%20%20if%20%28argIsString%20%26%26%20element.charAt%280%29%20%21%3D%20%27%3C%27%29%20%7B%0D%0A%20%20%20%20%20%20throw%20jqLiteMinErr%28%27nosel%27%2C%20%27Looking%20up%20elements%20via%20selectors%20is%20not%20supported%20by%20jqLite%21%20See%3A%20http%3A//docs.angularjs.org/api/angular.element%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20new%20JQLite%28element%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28argIsString%29%20%7B%0D%0A%20%20%20%20jqLiteAddNodes%28this%2C%20jqLiteParseHTML%28element%29%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20jqLiteAddNodes%28this%2C%20element%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteClone%28element%29%20%7B%0D%0A%20%20return%20element.cloneNode%28true%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteDealoc%28element%2C%20onlyDescendants%29%20%7B%0D%0A%20%20if%20%28%21onlyDescendants%29%20jqLiteRemoveData%28element%29%3B%0D%0A%0D%0A%20%20if%20%28element.querySelectorAll%29%20%7B%0D%0A%20%20%20%20var%20descendants%20%3D%20element.querySelectorAll%28%27*%27%29%3B%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20l%20%3D%20descendants.length%3B%20i%20%3C%20l%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20jqLiteRemoveData%28descendants%5Bi%5D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteOff%28element%2C%20type%2C%20fn%2C%20unsupported%29%20%7B%0D%0A%20%20if%20%28isDefined%28unsupported%29%29%20throw%20jqLiteMinErr%28%27offargs%27%2C%20%27jqLite%23off%28%29%20does%20not%20support%20the%20%60selector%60%20argument%27%29%3B%0D%0A%0D%0A%20%20var%20expandoStore%20%3D%20jqLiteExpandoStore%28element%29%3B%0D%0A%20%20var%20events%20%3D%20expandoStore%20%26%26%20expandoStore.events%3B%0D%0A%20%20var%20handle%20%3D%20expandoStore%20%26%26%20expandoStore.handle%3B%0D%0A%0D%0A%20%20if%20%28%21handle%29%20return%3B%20//no%20listeners%20registered%0D%0A%0D%0A%20%20if%20%28%21type%29%20%7B%0D%0A%20%20%20%20for%20%28type%20in%20events%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28type%20%21%3D%3D%20%27%24destroy%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20removeEventListenerFn%28element%2C%20type%2C%20handle%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20delete%20events%5Btype%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20forEach%28type.split%28%27%20%27%29%2C%20function%28type%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28fn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20listenerFns%20%3D%20events%5Btype%5D%3B%0D%0A%20%20%20%20%20%20%20%20arrayRemove%28listenerFns%20%7C%7C%20%5B%5D%2C%20fn%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28listenerFns%20%26%26%20listenerFns.length%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20removeEventListenerFn%28element%2C%20type%2C%20handle%29%3B%0D%0A%20%20%20%20%20%20delete%20events%5Btype%5D%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteRemoveData%28element%2C%20name%29%20%7B%0D%0A%20%20var%20expandoId%20%3D%20element.ng339%3B%0D%0A%20%20var%20expandoStore%20%3D%20expandoId%20%26%26%20jqCache%5BexpandoId%5D%3B%0D%0A%0D%0A%20%20if%20%28expandoStore%29%20%7B%0D%0A%20%20%20%20if%20%28name%29%20%7B%0D%0A%20%20%20%20%20%20delete%20expandoStore.data%5Bname%5D%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28expandoStore.handle%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28expandoStore.events.%24destroy%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expandoStore.handle%28%7B%7D%2C%20%27%24destroy%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20jqLiteOff%28element%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20delete%20jqCache%5BexpandoId%5D%3B%0D%0A%20%20%20%20element.ng339%20%3D%20undefined%3B%20//%20don%27t%20delete%20DOM%20expandos.%20IE%20and%20Chrome%20don%27t%20like%20it%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20jqLiteExpandoStore%28element%2C%20createIfNecessary%29%20%7B%0D%0A%20%20var%20expandoId%20%3D%20element.ng339%2C%0D%0A%20%20%20%20%20%20expandoStore%20%3D%20expandoId%20%26%26%20jqCache%5BexpandoId%5D%3B%0D%0A%0D%0A%20%20if%20%28createIfNecessary%20%26%26%20%21expandoStore%29%20%7B%0D%0A%20%20%20%20element.ng339%20%3D%20expandoId%20%3D%20jqNextId%28%29%3B%0D%0A%20%20%20%20expandoStore%20%3D%20jqCache%5BexpandoId%5D%20%3D%20%7Bevents%3A%20%7B%7D%2C%20data%3A%20%7B%7D%2C%20handle%3A%20undefined%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20expandoStore%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20jqLiteData%28element%2C%20key%2C%20value%29%20%7B%0D%0A%20%20if%20%28jqLiteAcceptsData%28element%29%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20isSimpleSetter%20%3D%20isDefined%28value%29%3B%0D%0A%20%20%20%20var%20isSimpleGetter%20%3D%20%21isSimpleSetter%20%26%26%20key%20%26%26%20%21isObject%28key%29%3B%0D%0A%20%20%20%20var%20massGetter%20%3D%20%21key%3B%0D%0A%20%20%20%20var%20expandoStore%20%3D%20jqLiteExpandoStore%28element%2C%20%21isSimpleGetter%29%3B%0D%0A%20%20%20%20var%20data%20%3D%20expandoStore%20%26%26%20expandoStore.data%3B%0D%0A%0D%0A%20%20%20%20if%20%28isSimpleSetter%29%20%7B%20//%20data%28%27key%27%2C%20value%29%0D%0A%20%20%20%20%20%20data%5Bkey%5D%20%3D%20value%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20if%20%28massGetter%29%20%7B%20%20//%20data%28%29%0D%0A%20%20%20%20%20%20%20%20return%20data%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isSimpleGetter%29%20%7B%20//%20data%28%27key%27%29%0D%0A%20%20%20%20%20%20%20%20%20%20//%20don%27t%20force%20creation%20of%20expandoStore%20if%20it%20doesn%27t%20exist%20yet%0D%0A%20%20%20%20%20%20%20%20%20%20return%20data%20%26%26%20data%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%20//%20mass-setter%3A%20data%28%7Bkey1%3A%20val1%2C%20key2%3A%20val2%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20extend%28data%2C%20key%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteHasClass%28element%2C%20selector%29%20%7B%0D%0A%20%20if%20%28%21element.getAttribute%29%20return%20false%3B%0D%0A%20%20return%20%28%28%22%20%22%20+%20%28element.getAttribute%28%27class%27%29%20%7C%7C%20%27%27%29%20+%20%22%20%22%29.replace%28/%5B%5Cn%5Ct%5D/g%2C%20%22%20%22%29.%0D%0A%20%20%20%20%20%20indexOf%28%22%20%22%20+%20selector%20+%20%22%20%22%29%20%3E%20-1%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteRemoveClass%28element%2C%20cssClasses%29%20%7B%0D%0A%20%20if%20%28cssClasses%20%26%26%20element.setAttribute%29%20%7B%0D%0A%20%20%20%20forEach%28cssClasses.split%28%27%20%27%29%2C%20function%28cssClass%29%20%7B%0D%0A%20%20%20%20%20%20element.setAttribute%28%27class%27%2C%20trim%28%0D%0A%20%20%20%20%20%20%20%20%20%20%28%22%20%22%20+%20%28element.getAttribute%28%27class%27%29%20%7C%7C%20%27%27%29%20+%20%22%20%22%29%0D%0A%20%20%20%20%20%20%20%20%20%20.replace%28/%5B%5Cn%5Ct%5D/g%2C%20%22%20%22%29%0D%0A%20%20%20%20%20%20%20%20%20%20.replace%28%22%20%22%20+%20trim%28cssClass%29%20+%20%22%20%22%2C%20%22%20%22%29%29%0D%0A%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteAddClass%28element%2C%20cssClasses%29%20%7B%0D%0A%20%20if%20%28cssClasses%20%26%26%20element.setAttribute%29%20%7B%0D%0A%20%20%20%20var%20existingClasses%20%3D%20%28%27%20%27%20+%20%28element.getAttribute%28%27class%27%29%20%7C%7C%20%27%27%29%20+%20%27%20%27%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%5B%5Cn%5Ct%5D/g%2C%20%22%20%22%29%3B%0D%0A%0D%0A%20%20%20%20forEach%28cssClasses.split%28%27%20%27%29%2C%20function%28cssClass%29%20%7B%0D%0A%20%20%20%20%20%20cssClass%20%3D%20trim%28cssClass%29%3B%0D%0A%20%20%20%20%20%20if%20%28existingClasses.indexOf%28%27%20%27%20+%20cssClass%20+%20%27%20%27%29%20%3D%3D%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20existingClasses%20+%3D%20cssClass%20+%20%27%20%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20element.setAttribute%28%27class%27%2C%20trim%28existingClasses%29%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20jqLiteAddNodes%28root%2C%20elements%29%20%7B%0D%0A%20%20//%20THIS%20CODE%20IS%20VERY%20HOT.%20Don%27t%20make%20changes%20without%20benchmarking.%0D%0A%0D%0A%20%20if%20%28elements%29%20%7B%0D%0A%0D%0A%20%20%20%20//%20if%20a%20Node%20%28the%20most%20common%20case%29%0D%0A%20%20%20%20if%20%28elements.nodeType%29%20%7B%0D%0A%20%20%20%20%20%20root%5Broot.length++%5D%20%3D%20elements%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20var%20length%20%3D%20elements.length%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20if%20an%20Array%20or%20NodeList%20and%20not%20a%20Window%0D%0A%20%20%20%20%20%20if%20%28typeof%20length%20%3D%3D%3D%20%27number%27%20%26%26%20elements.window%20%21%3D%3D%20elements%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20root%5Broot.length++%5D%20%3D%20elements%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20root%5Broot.length++%5D%20%3D%20elements%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20jqLiteController%28element%2C%20name%29%20%7B%0D%0A%20%20return%20jqLiteInheritedData%28element%2C%20%27%24%27%20+%20%28name%20%7C%7C%20%27ngController%27%29%20+%20%27Controller%27%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteInheritedData%28element%2C%20name%2C%20value%29%20%7B%0D%0A%20%20//%20if%20element%20is%20the%20document%20object%20work%20with%20the%20html%20element%20instead%0D%0A%20%20//%20this%20makes%20%24%28document%29.scope%28%29%20possible%0D%0A%20%20if%20%28element.nodeType%20%3D%3D%20NODE_TYPE_DOCUMENT%29%20%7B%0D%0A%20%20%20%20element%20%3D%20element.documentElement%3B%0D%0A%20%20%7D%0D%0A%20%20var%20names%20%3D%20isArray%28name%29%20%3F%20name%20%3A%20%5Bname%5D%3B%0D%0A%0D%0A%20%20while%20%28element%29%20%7B%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20names.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%28value%20%3D%20jqLite.data%28element%2C%20names%5Bi%5D%29%29%20%21%3D%3D%20undefined%29%20return%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20If%20dealing%20with%20a%20document%20fragment%20node%20with%20a%20host%20element%2C%20and%20no%20parent%2C%20use%20the%20host%0D%0A%20%20%20%20//%20element%20as%20the%20parent.%20This%20enables%20directives%20within%20a%20Shadow%20DOM%20or%20polyfilled%20Shadow%20DOM%0D%0A%20%20%20%20//%20to%20lookup%20parent%20controllers.%0D%0A%20%20%20%20element%20%3D%20element.parentNode%20%7C%7C%20%28element.nodeType%20%3D%3D%3D%20NODE_TYPE_DOCUMENT_FRAGMENT%20%26%26%20element.host%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteEmpty%28element%29%20%7B%0D%0A%20%20jqLiteDealoc%28element%2C%20true%29%3B%0D%0A%20%20while%20%28element.firstChild%29%20%7B%0D%0A%20%20%20%20element.removeChild%28element.firstChild%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20jqLiteRemove%28element%2C%20keepData%29%20%7B%0D%0A%20%20if%20%28%21keepData%29%20jqLiteDealoc%28element%29%3B%0D%0A%20%20var%20parent%20%3D%20element.parentNode%3B%0D%0A%20%20if%20%28parent%29%20parent.removeChild%28element%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20jqLiteDocumentLoaded%28action%2C%20win%29%20%7B%0D%0A%20%20win%20%3D%20win%20%7C%7C%20window%3B%0D%0A%20%20if%20%28win.document.readyState%20%3D%3D%3D%20%27complete%27%29%20%7B%0D%0A%20%20%20%20//%20Force%20the%20action%20to%20be%20run%20async%20for%20consistent%20behaviour%0D%0A%20%20%20%20//%20from%20the%20action%27s%20point%20of%20view%0D%0A%20%20%20%20//%20i.e.%20it%20will%20definitely%20not%20be%20in%20a%20%24apply%0D%0A%20%20%20%20win.setTimeout%28action%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20//%20No%20need%20to%20unbind%20this%20handler%20as%20load%20is%20only%20ever%20called%20once%0D%0A%20%20%20%20jqLite%28win%29.on%28%27load%27%2C%20action%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A//////////////////////////////////////////%0D%0A//%20Functions%20which%20are%20declared%20directly.%0D%0A//////////////////////////////////////////%0D%0Avar%20JQLitePrototype%20%3D%20JQLite.prototype%20%3D%20%7B%0D%0A%20%20ready%3A%20function%28fn%29%20%7B%0D%0A%20%20%20%20var%20fired%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20function%20trigger%28%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28fired%29%20return%3B%0D%0A%20%20%20%20%20%20fired%20%3D%20true%3B%0D%0A%20%20%20%20%20%20fn%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20check%20if%20document%20is%20already%20loaded%0D%0A%20%20%20%20if%20%28document.readyState%20%3D%3D%3D%20%27complete%27%29%20%7B%0D%0A%20%20%20%20%20%20setTimeout%28trigger%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20this.on%28%27DOMContentLoaded%27%2C%20trigger%29%3B%20//%20works%20for%20modern%20browsers%20and%20IE9%0D%0A%20%20%20%20%20%20//%20we%20can%20not%20use%20jqLite%20since%20we%20are%20not%20done%20loading%20and%20jQuery%20could%20be%20loaded%20later.%0D%0A%20%20%20%20%20%20//%20jshint%20-W064%0D%0A%20%20%20%20%20%20JQLite%28window%29.on%28%27load%27%2C%20trigger%29%3B%20//%20fallback%20to%20window.onload%20for%20others%0D%0A%20%20%20%20%20%20//%20jshint%20+W064%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%20%20toString%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28this%2C%20function%28e%29%20%7B%20value.push%28%27%27%20+%20e%29%3B%7D%29%3B%0D%0A%20%20%20%20return%20%27%5B%27%20+%20value.join%28%27%2C%20%27%29%20+%20%27%5D%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20eq%3A%20function%28index%29%20%7B%0D%0A%20%20%20%20%20%20return%20%28index%20%3E%3D%200%29%20%3F%20jqLite%28this%5Bindex%5D%29%20%3A%20jqLite%28this%5Bthis.length%20+%20index%5D%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20length%3A%200%2C%0D%0A%20%20push%3A%20push%2C%0D%0A%20%20sort%3A%20%5B%5D.sort%2C%0D%0A%20%20splice%3A%20%5B%5D.splice%0D%0A%7D%3B%0D%0A%0D%0A//////////////////////////////////////////%0D%0A//%20Functions%20iterating%20getter/setters.%0D%0A//%20these%20functions%20return%20self%20on%20setter%20and%0D%0A//%20value%20on%20get.%0D%0A//////////////////////////////////////////%0D%0Avar%20BOOLEAN_ATTR%20%3D%20%7B%7D%3B%0D%0AforEach%28%27multiple%2Cselected%2Cchecked%2Cdisabled%2CreadOnly%2Crequired%2Copen%27.split%28%27%2C%27%29%2C%20function%28value%29%20%7B%0D%0A%20%20BOOLEAN_ATTR%5Blowercase%28value%29%5D%20%3D%20value%3B%0D%0A%7D%29%3B%0D%0Avar%20BOOLEAN_ELEMENTS%20%3D%20%7B%7D%3B%0D%0AforEach%28%27input%2Cselect%2Coption%2Ctextarea%2Cbutton%2Cform%2Cdetails%27.split%28%27%2C%27%29%2C%20function%28value%29%20%7B%0D%0A%20%20BOOLEAN_ELEMENTS%5Bvalue%5D%20%3D%20true%3B%0D%0A%7D%29%3B%0D%0Avar%20ALIASED_ATTR%20%3D%20%7B%0D%0A%20%20%27ngMinlength%27%3A%20%27minlength%27%2C%0D%0A%20%20%27ngMaxlength%27%3A%20%27maxlength%27%2C%0D%0A%20%20%27ngMin%27%3A%20%27min%27%2C%0D%0A%20%20%27ngMax%27%3A%20%27max%27%2C%0D%0A%20%20%27ngPattern%27%3A%20%27pattern%27%0D%0A%7D%3B%0D%0A%0D%0Afunction%20getBooleanAttrName%28element%2C%20name%29%20%7B%0D%0A%20%20//%20check%20dom%20last%20since%20we%20will%20most%20likely%20fail%20on%20name%0D%0A%20%20var%20booleanAttr%20%3D%20BOOLEAN_ATTR%5Bname.toLowerCase%28%29%5D%3B%0D%0A%0D%0A%20%20//%20booleanAttr%20is%20here%20twice%20to%20minimize%20DOM%20access%0D%0A%20%20return%20booleanAttr%20%26%26%20BOOLEAN_ELEMENTS%5BnodeName_%28element%29%5D%20%26%26%20booleanAttr%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getAliasedAttrName%28element%2C%20name%29%20%7B%0D%0A%20%20var%20nodeName%20%3D%20element.nodeName%3B%0D%0A%20%20return%20%28nodeName%20%3D%3D%3D%20%27INPUT%27%20%7C%7C%20nodeName%20%3D%3D%3D%20%27TEXTAREA%27%29%20%26%26%20ALIASED_ATTR%5Bname%5D%3B%0D%0A%7D%0D%0A%0D%0AforEach%28%7B%0D%0A%20%20data%3A%20jqLiteData%2C%0D%0A%20%20removeData%3A%20jqLiteRemoveData%0D%0A%7D%2C%20function%28fn%2C%20name%29%20%7B%0D%0A%20%20JQLite%5Bname%5D%20%3D%20fn%3B%0D%0A%7D%29%3B%0D%0A%0D%0AforEach%28%7B%0D%0A%20%20data%3A%20jqLiteData%2C%0D%0A%20%20inheritedData%3A%20jqLiteInheritedData%2C%0D%0A%0D%0A%20%20scope%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20//%20Can%27t%20use%20jqLiteData%20here%20directly%20so%20we%20stay%20compatible%20with%20jQuery%21%0D%0A%20%20%20%20return%20jqLite.data%28element%2C%20%27%24scope%27%29%20%7C%7C%20jqLiteInheritedData%28element.parentNode%20%7C%7C%20element%2C%20%5B%27%24isolateScope%27%2C%20%27%24scope%27%5D%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20isolateScope%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20//%20Can%27t%20use%20jqLiteData%20here%20directly%20so%20we%20stay%20compatible%20with%20jQuery%21%0D%0A%20%20%20%20return%20jqLite.data%28element%2C%20%27%24isolateScope%27%29%20%7C%7C%20jqLite.data%28element%2C%20%27%24isolateScopeNoTemplate%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20controller%3A%20jqLiteController%2C%0D%0A%0D%0A%20%20injector%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20return%20jqLiteInheritedData%28element%2C%20%27%24injector%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20removeAttr%3A%20function%28element%2C%20name%29%20%7B%0D%0A%20%20%20%20element.removeAttribute%28name%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20hasClass%3A%20jqLiteHasClass%2C%0D%0A%0D%0A%20%20css%3A%20function%28element%2C%20name%2C%20value%29%20%7B%0D%0A%20%20%20%20name%20%3D%20camelCase%28name%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20element.style%5Bname%5D%20%3D%20value%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20element.style%5Bname%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20attr%3A%20function%28element%2C%20name%2C%20value%29%20%7B%0D%0A%20%20%20%20var%20nodeType%20%3D%20element.nodeType%3B%0D%0A%20%20%20%20if%20%28nodeType%20%3D%3D%3D%20NODE_TYPE_TEXT%20%7C%7C%20nodeType%20%3D%3D%3D%20NODE_TYPE_ATTRIBUTE%20%7C%7C%20nodeType%20%3D%3D%3D%20NODE_TYPE_COMMENT%29%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20lowercasedName%20%3D%20lowercase%28name%29%3B%0D%0A%20%20%20%20if%20%28BOOLEAN_ATTR%5BlowercasedName%5D%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21%21value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%5Bname%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element.setAttribute%28name%2C%20lowercasedName%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%5Bname%5D%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element.removeAttribute%28lowercasedName%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%28element%5Bname%5D%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28element.attributes.getNamedItem%28name%29%20%7C%7C%20noop%29.specified%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20lowercasedName%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20element.setAttribute%28name%2C%20value%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28element.getAttribute%29%20%7B%0D%0A%20%20%20%20%20%20//%20the%20extra%20argument%20%222%22%20is%20to%20get%20the%20right%20thing%20for%20a.href%20in%20IE%2C%20see%20jQuery%20code%0D%0A%20%20%20%20%20%20//%20some%20elements%20%28e.g.%20Document%29%20don%27t%20have%20get%20attribute%2C%20so%20return%20undefined%0D%0A%20%20%20%20%20%20var%20ret%20%3D%20element.getAttribute%28name%2C%202%29%3B%0D%0A%20%20%20%20%20%20//%20normalize%20non-existing%20attributes%20to%20undefined%20%28as%20jQuery%29%0D%0A%20%20%20%20%20%20return%20ret%20%3D%3D%3D%20null%20%3F%20undefined%20%3A%20ret%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20prop%3A%20function%28element%2C%20name%2C%20value%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20element%5Bname%5D%20%3D%20value%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20element%5Bname%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20text%3A%20%28function%28%29%20%7B%0D%0A%20%20%20%20getText.%24dv%20%3D%20%27%27%3B%0D%0A%20%20%20%20return%20getText%3B%0D%0A%0D%0A%20%20%20%20function%20getText%28element%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nodeType%20%3D%20element.nodeType%3B%0D%0A%20%20%20%20%20%20%20%20return%20%28nodeType%20%3D%3D%3D%20NODE_TYPE_ELEMENT%20%7C%7C%20nodeType%20%3D%3D%3D%20NODE_TYPE_TEXT%29%20%3F%20element.textContent%20%3A%20%27%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20element.textContent%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%28%29%2C%0D%0A%0D%0A%20%20val%3A%20function%28element%2C%20value%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28element.multiple%20%26%26%20nodeName_%28element%29%20%3D%3D%3D%20%27select%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20forEach%28element.options%2C%20function%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28option.selected%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20result.push%28option.value%20%7C%7C%20option.text%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20result.length%20%3D%3D%3D%200%20%3F%20null%20%3A%20result%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20element.value%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20element.value%20%3D%20value%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20html%3A%20function%28element%2C%20value%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20element.innerHTML%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20jqLiteDealoc%28element%2C%20true%29%3B%0D%0A%20%20%20%20element.innerHTML%20%3D%20value%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20empty%3A%20jqLiteEmpty%0D%0A%7D%2C%20function%28fn%2C%20name%29%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20Properties%3A%20writes%20return%20selection%2C%20reads%20return%20first%20value%0D%0A%20%20%20*/%0D%0A%20%20JQLite.prototype%5Bname%5D%20%3D%20function%28arg1%2C%20arg2%29%20%7B%0D%0A%20%20%20%20var%20i%2C%20key%3B%0D%0A%20%20%20%20var%20nodeCount%20%3D%20this.length%3B%0D%0A%0D%0A%20%20%20%20//%20jqLiteHasClass%20has%20only%20two%20arguments%2C%20but%20is%20a%20getter-only%20fn%2C%20so%20we%20need%20to%20special-case%20it%0D%0A%20%20%20%20//%20in%20a%20way%20that%20survives%20minification.%0D%0A%20%20%20%20//%20jqLiteEmpty%20takes%20no%20arguments%20but%20is%20a%20setter.%0D%0A%20%20%20%20if%20%28fn%20%21%3D%3D%20jqLiteEmpty%20%26%26%0D%0A%20%20%20%20%20%20%20%20%28%28%28fn.length%20%3D%3D%202%20%26%26%20%28fn%20%21%3D%3D%20jqLiteHasClass%20%26%26%20fn%20%21%3D%3D%20jqLiteController%29%29%20%3F%20arg1%20%3A%20arg2%29%20%3D%3D%3D%20undefined%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isObject%28arg1%29%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20we%20are%20a%20write%2C%20but%20the%20object%20properties%20are%20the%20key/values%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20nodeCount%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28fn%20%3D%3D%3D%20jqLiteData%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20data%28%29%20takes%20the%20whole%20object%20in%20jQuery%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fn%28this%5Bi%5D%2C%20arg1%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28key%20in%20arg1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fn%28this%5Bi%5D%2C%20key%2C%20arg1%5Bkey%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20return%20self%20for%20chaining%0D%0A%20%20%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20we%20are%20a%20read%2C%20so%20read%20the%20first%20child.%0D%0A%20%20%20%20%20%20%20%20//%20TODO%3A%20do%20we%20still%20need%20this%3F%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20fn.%24dv%3B%0D%0A%20%20%20%20%20%20%20%20//%20Only%20if%20we%20have%20%24dv%20do%20we%20iterate%20over%20all%2C%20otherwise%20it%20is%20just%20the%20first%20element.%0D%0A%20%20%20%20%20%20%20%20var%20jj%20%3D%20%28value%20%3D%3D%3D%20undefined%29%20%3F%20Math.min%28nodeCount%2C%201%29%20%3A%20nodeCount%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%20jj%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20nodeValue%20%3D%20fn%28this%5Bj%5D%2C%20arg1%2C%20arg2%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%3F%20value%20+%20nodeValue%20%3A%20nodeValue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20//%20we%20are%20a%20write%2C%20so%20apply%20to%20all%20children%0D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20nodeCount%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20fn%28this%5Bi%5D%2C%20arg1%2C%20arg2%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20//%20return%20self%20for%20chaining%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%29%3B%0D%0A%0D%0Afunction%20createEventHandler%28element%2C%20events%29%20%7B%0D%0A%20%20var%20eventHandler%20%3D%20function%28event%2C%20type%29%20%7B%0D%0A%20%20%20%20//%20jQuery%20specific%20api%0D%0A%20%20%20%20event.isDefaultPrevented%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20event.defaultPrevented%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20var%20eventFns%20%3D%20events%5Btype%20%7C%7C%20event.type%5D%3B%0D%0A%20%20%20%20var%20eventFnsLength%20%3D%20eventFns%20%3F%20eventFns.length%20%3A%200%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21eventFnsLength%29%20return%3B%0D%0A%0D%0A%20%20%20%20if%20%28isUndefined%28event.immediatePropagationStopped%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20originalStopImmediatePropagation%20%3D%20event.stopImmediatePropagation%3B%0D%0A%20%20%20%20%20%20event.stopImmediatePropagation%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20event.immediatePropagationStopped%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28event.stopPropagation%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20event.stopPropagation%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28originalStopImmediatePropagation%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20originalStopImmediatePropagation.call%28event%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20event.isImmediatePropagationStopped%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20event.immediatePropagationStopped%20%3D%3D%3D%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20//%20Copy%20event%20handlers%20in%20case%20event%20handlers%20array%20is%20modified%20during%20execution.%0D%0A%20%20%20%20if%20%28%28eventFnsLength%20%3E%201%29%29%20%7B%0D%0A%20%20%20%20%20%20eventFns%20%3D%20shallowCopy%28eventFns%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20eventFnsLength%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21event.isImmediatePropagationStopped%28%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20eventFns%5Bi%5D.call%28element%2C%20event%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20TODO%3A%20this%20is%20a%20hack%20for%20angularMocks/clearDataCache%20that%20makes%20it%20possible%20to%20deregister%20all%0D%0A%20%20//%20%20%20%20%20%20%20events%20on%20%60element%60%0D%0A%20%20eventHandler.elem%20%3D%20element%3B%0D%0A%20%20return%20eventHandler%3B%0D%0A%7D%0D%0A%0D%0A//////////////////////////////////////////%0D%0A//%20Functions%20iterating%20traversal.%0D%0A//%20These%20functions%20chain%20results%20into%20a%20single%0D%0A//%20selector.%0D%0A//////////////////////////////////////////%0D%0AforEach%28%7B%0D%0A%20%20removeData%3A%20jqLiteRemoveData%2C%0D%0A%0D%0A%20%20on%3A%20function%20jqLiteOn%28element%2C%20type%2C%20fn%2C%20unsupported%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28unsupported%29%29%20throw%20jqLiteMinErr%28%27onargs%27%2C%20%27jqLite%23on%28%29%20does%20not%20support%20the%20%60selector%60%20or%20%60eventData%60%20parameters%27%29%3B%0D%0A%0D%0A%20%20%20%20//%20Do%20not%20add%20event%20handlers%20to%20non-elements%20because%20they%20will%20not%20be%20cleaned%20up.%0D%0A%20%20%20%20if%20%28%21jqLiteAcceptsData%28element%29%29%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20expandoStore%20%3D%20jqLiteExpandoStore%28element%2C%20true%29%3B%0D%0A%20%20%20%20var%20events%20%3D%20expandoStore.events%3B%0D%0A%20%20%20%20var%20handle%20%3D%20expandoStore.handle%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21handle%29%20%7B%0D%0A%20%20%20%20%20%20handle%20%3D%20expandoStore.handle%20%3D%20createEventHandler%28element%2C%20events%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20http%3A//jsperf.com/string-indexof-vs-split%0D%0A%20%20%20%20var%20types%20%3D%20type.indexOf%28%27%20%27%29%20%3E%3D%200%20%3F%20type.split%28%27%20%27%29%20%3A%20%5Btype%5D%3B%0D%0A%20%20%20%20var%20i%20%3D%20types.length%3B%0D%0A%0D%0A%20%20%20%20while%20%28i--%29%20%7B%0D%0A%20%20%20%20%20%20type%20%3D%20types%5Bi%5D%3B%0D%0A%20%20%20%20%20%20var%20eventFns%20%3D%20events%5Btype%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21eventFns%29%20%7B%0D%0A%20%20%20%20%20%20%20%20events%5Btype%5D%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%27mouseenter%27%20%7C%7C%20type%20%3D%3D%3D%20%27mouseleave%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Refer%20to%20jQuery%27s%20implementation%20of%20mouseenter%20%26%20mouseleave%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Read%20about%20mouseenter%20and%20mouseleave%3A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20http%3A//www.quirksmode.org/js/events_mouse.html%23link8%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20jqLiteOn%28element%2C%20MOUSE_EVENT_MAP%5Btype%5D%2C%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20target%20%3D%20this%2C%20related%20%3D%20event.relatedTarget%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20For%20mousenter/leave%20call%20the%20handler%20if%20related%20is%20outside%20the%20target.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20NB%3A%20No%20relatedTarget%20if%20the%20mouse%20left/entered%20the%20browser%20window%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21related%20%7C%7C%20%28related%20%21%3D%3D%20target%20%26%26%20%21target.contains%28related%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20handle%28event%2C%20type%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28type%20%21%3D%3D%20%27%24destroy%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20addEventListenerFn%28element%2C%20type%2C%20handle%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20eventFns%20%3D%20events%5Btype%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20eventFns.push%28fn%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20off%3A%20jqLiteOff%2C%0D%0A%0D%0A%20%20one%3A%20function%28element%2C%20type%2C%20fn%29%20%7B%0D%0A%20%20%20%20element%20%3D%20jqLite%28element%29%3B%0D%0A%0D%0A%20%20%20%20//add%20the%20listener%20twice%20so%20that%20when%20it%20is%20called%0D%0A%20%20%20%20//you%20can%20remove%20the%20original%20function%20and%20still%20be%0D%0A%20%20%20%20//able%20to%20call%20element.off%28ev%2C%20fn%29%20normally%0D%0A%20%20%20%20element.on%28type%2C%20function%20onFn%28%29%20%7B%0D%0A%20%20%20%20%20%20element.off%28type%2C%20fn%29%3B%0D%0A%20%20%20%20%20%20element.off%28type%2C%20onFn%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20element.on%28type%2C%20fn%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20replaceWith%3A%20function%28element%2C%20replaceNode%29%20%7B%0D%0A%20%20%20%20var%20index%2C%20parent%20%3D%20element.parentNode%3B%0D%0A%20%20%20%20jqLiteDealoc%28element%29%3B%0D%0A%20%20%20%20forEach%28new%20JQLite%28replaceNode%29%2C%20function%28node%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parent.insertBefore%28node%2C%20index.nextSibling%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20parent.replaceChild%28node%2C%20element%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20index%20%3D%20node%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20children%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20var%20children%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28element.childNodes%2C%20function%28element%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28element.nodeType%20%3D%3D%3D%20NODE_TYPE_ELEMENT%29%20%7B%0D%0A%20%20%20%20%20%20%20%20children.push%28element%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20return%20children%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20contents%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20return%20element.contentDocument%20%7C%7C%20element.childNodes%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20append%3A%20function%28element%2C%20node%29%20%7B%0D%0A%20%20%20%20var%20nodeType%20%3D%20element.nodeType%3B%0D%0A%20%20%20%20if%20%28nodeType%20%21%3D%3D%20NODE_TYPE_ELEMENT%20%26%26%20nodeType%20%21%3D%3D%20NODE_TYPE_DOCUMENT_FRAGMENT%29%20return%3B%0D%0A%0D%0A%20%20%20%20node%20%3D%20new%20JQLite%28node%29%3B%0D%0A%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20node.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20var%20child%20%3D%20node%5Bi%5D%3B%0D%0A%20%20%20%20%20%20element.appendChild%28child%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20prepend%3A%20function%28element%2C%20node%29%20%7B%0D%0A%20%20%20%20if%20%28element.nodeType%20%3D%3D%3D%20NODE_TYPE_ELEMENT%29%20%7B%0D%0A%20%20%20%20%20%20var%20index%20%3D%20element.firstChild%3B%0D%0A%20%20%20%20%20%20forEach%28new%20JQLite%28node%29%2C%20function%28child%29%20%7B%0D%0A%20%20%20%20%20%20%20%20element.insertBefore%28child%2C%20index%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20wrap%3A%20function%28element%2C%20wrapNode%29%20%7B%0D%0A%20%20%20%20wrapNode%20%3D%20jqLite%28wrapNode%29.eq%280%29.clone%28%29%5B0%5D%3B%0D%0A%20%20%20%20var%20parent%20%3D%20element.parentNode%3B%0D%0A%20%20%20%20if%20%28parent%29%20%7B%0D%0A%20%20%20%20%20%20parent.replaceChild%28wrapNode%2C%20element%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20wrapNode.appendChild%28element%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20remove%3A%20jqLiteRemove%2C%0D%0A%0D%0A%20%20detach%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20jqLiteRemove%28element%2C%20true%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20after%3A%20function%28element%2C%20newElement%29%20%7B%0D%0A%20%20%20%20var%20index%20%3D%20element%2C%20parent%20%3D%20element.parentNode%3B%0D%0A%20%20%20%20newElement%20%3D%20new%20JQLite%28newElement%29%3B%0D%0A%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20newElement.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20var%20node%20%3D%20newElement%5Bi%5D%3B%0D%0A%20%20%20%20%20%20parent.insertBefore%28node%2C%20index.nextSibling%29%3B%0D%0A%20%20%20%20%20%20index%20%3D%20node%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20addClass%3A%20jqLiteAddClass%2C%0D%0A%20%20removeClass%3A%20jqLiteRemoveClass%2C%0D%0A%0D%0A%20%20toggleClass%3A%20function%28element%2C%20selector%2C%20condition%29%20%7B%0D%0A%20%20%20%20if%20%28selector%29%20%7B%0D%0A%20%20%20%20%20%20forEach%28selector.split%28%27%20%27%29%2C%20function%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20classCondition%20%3D%20condition%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28classCondition%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20classCondition%20%3D%20%21jqLiteHasClass%28element%2C%20className%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%28classCondition%20%3F%20jqLiteAddClass%20%3A%20jqLiteRemoveClass%29%28element%2C%20className%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20parent%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20var%20parent%20%3D%20element.parentNode%3B%0D%0A%20%20%20%20return%20parent%20%26%26%20parent.nodeType%20%21%3D%3D%20NODE_TYPE_DOCUMENT_FRAGMENT%20%3F%20parent%20%3A%20null%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20next%3A%20function%28element%29%20%7B%0D%0A%20%20%20%20return%20element.nextElementSibling%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20find%3A%20function%28element%2C%20selector%29%20%7B%0D%0A%20%20%20%20if%20%28element.getElementsByTagName%29%20%7B%0D%0A%20%20%20%20%20%20return%20element.getElementsByTagName%28selector%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20clone%3A%20jqLiteClone%2C%0D%0A%0D%0A%20%20triggerHandler%3A%20function%28element%2C%20event%2C%20extraParameters%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20dummyEvent%2C%20eventFnsCopy%2C%20handlerArgs%3B%0D%0A%20%20%20%20var%20eventName%20%3D%20event.type%20%7C%7C%20event%3B%0D%0A%20%20%20%20var%20expandoStore%20%3D%20jqLiteExpandoStore%28element%29%3B%0D%0A%20%20%20%20var%20events%20%3D%20expandoStore%20%26%26%20expandoStore.events%3B%0D%0A%20%20%20%20var%20eventFns%20%3D%20events%20%26%26%20events%5BeventName%5D%3B%0D%0A%0D%0A%20%20%20%20if%20%28eventFns%29%20%7B%0D%0A%20%20%20%20%20%20//%20Create%20a%20dummy%20event%20to%20pass%20to%20the%20handlers%0D%0A%20%20%20%20%20%20dummyEvent%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20preventDefault%3A%20function%28%29%20%7B%20this.defaultPrevented%20%3D%20true%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20isDefaultPrevented%3A%20function%28%29%20%7B%20return%20this.defaultPrevented%20%3D%3D%3D%20true%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20stopImmediatePropagation%3A%20function%28%29%20%7B%20this.immediatePropagationStopped%20%3D%20true%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20isImmediatePropagationStopped%3A%20function%28%29%20%7B%20return%20this.immediatePropagationStopped%20%3D%3D%3D%20true%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20stopPropagation%3A%20noop%2C%0D%0A%20%20%20%20%20%20%20%20type%3A%20eventName%2C%0D%0A%20%20%20%20%20%20%20%20target%3A%20element%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20If%20a%20custom%20event%20was%20provided%20then%20extend%20our%20dummy%20event%20with%20it%0D%0A%20%20%20%20%20%20if%20%28event.type%29%20%7B%0D%0A%20%20%20%20%20%20%20%20dummyEvent%20%3D%20extend%28dummyEvent%2C%20event%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20Copy%20event%20handlers%20in%20case%20event%20handlers%20array%20is%20modified%20during%20execution.%0D%0A%20%20%20%20%20%20eventFnsCopy%20%3D%20shallowCopy%28eventFns%29%3B%0D%0A%20%20%20%20%20%20handlerArgs%20%3D%20extraParameters%20%3F%20%5BdummyEvent%5D.concat%28extraParameters%29%20%3A%20%5BdummyEvent%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20forEach%28eventFnsCopy%2C%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21dummyEvent.isImmediatePropagationStopped%28%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fn.apply%28element%2C%20handlerArgs%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%2C%20function%28fn%2C%20name%29%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20chaining%20functions%0D%0A%20%20%20*/%0D%0A%20%20JQLite.prototype%5Bname%5D%20%3D%20function%28arg1%2C%20arg2%2C%20arg3%29%20%7B%0D%0A%20%20%20%20var%20value%3B%0D%0A%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20this.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20fn%28this%5Bi%5D%2C%20arg1%2C%20arg2%2C%20arg3%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20any%20function%20which%20returns%20a%20value%20needs%20to%20be%20wrapped%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20jqLite%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20jqLiteAddNodes%28value%2C%20fn%28this%5Bi%5D%2C%20arg1%2C%20arg2%2C%20arg3%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20isDefined%28value%29%20%3F%20value%20%3A%20this%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20bind%20legacy%20bind/unbind%20to%20on/off%0D%0A%20%20JQLite.prototype.bind%20%3D%20JQLite.prototype.on%3B%0D%0A%20%20JQLite.prototype.unbind%20%3D%20JQLite.prototype.off%3B%0D%0A%7D%29%3B%0D%0A%0D%0A%0D%0A//%20Provider%20for%20private%20%24%24jqLite%20service%0D%0Afunction%20%24%24jqLiteProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20function%20%24%24jqLite%28%29%20%7B%0D%0A%20%20%20%20return%20extend%28JQLite%2C%20%7B%0D%0A%20%20%20%20%20%20hasClass%3A%20function%28node%2C%20classes%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28node.attr%29%20node%20%3D%20node%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20jqLiteHasClass%28node%2C%20classes%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20addClass%3A%20function%28node%2C%20classes%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28node.attr%29%20node%20%3D%20node%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20jqLiteAddClass%28node%2C%20classes%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20removeClass%3A%20function%28node%2C%20classes%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28node.attr%29%20node%20%3D%20node%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20jqLiteRemoveClass%28node%2C%20classes%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Computes%20a%20hash%20of%20an%20%27obj%27.%0D%0A%20*%20Hash%20of%20a%3A%0D%0A%20*%20%20string%20is%20string%0D%0A%20*%20%20number%20is%20number%20as%20string%0D%0A%20*%20%20object%20is%20either%20result%20of%20calling%20%24%24hashKey%20function%20on%20the%20object%20or%20uniquely%20generated%20id%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20that%20is%20also%20assigned%20to%20the%20%24%24hashKey%20property%20of%20the%20object.%0D%0A%20*%0D%0A%20*%20@param%20obj%0D%0A%20*%20@returns%20%7Bstring%7D%20hash%20string%20such%20that%20the%20same%20input%20will%20have%20the%20same%20hash%20string.%0D%0A%20*%20%20%20%20%20%20%20%20%20The%20resulting%20string%20key%20is%20in%20%27type%3AhashKey%27%20format.%0D%0A%20*/%0D%0Afunction%20hashKey%28obj%2C%20nextUidFn%29%20%7B%0D%0A%20%20var%20key%20%3D%20obj%20%26%26%20obj.%24%24hashKey%3B%0D%0A%0D%0A%20%20if%20%28key%29%20%7B%0D%0A%20%20%20%20if%20%28typeof%20key%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20%20%20key%20%3D%20obj.%24%24hashKey%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20key%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20objType%20%3D%20typeof%20obj%3B%0D%0A%20%20if%20%28objType%20%3D%3D%20%27function%27%20%7C%7C%20%28objType%20%3D%3D%20%27object%27%20%26%26%20obj%20%21%3D%3D%20null%29%29%20%7B%0D%0A%20%20%20%20key%20%3D%20obj.%24%24hashKey%20%3D%20objType%20+%20%27%3A%27%20+%20%28nextUidFn%20%7C%7C%20nextUid%29%28%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20key%20%3D%20objType%20+%20%27%3A%27%20+%20obj%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20key%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20HashMap%20which%20can%20use%20objects%20as%20keys%0D%0A%20*/%0D%0Afunction%20HashMap%28array%2C%20isolatedUid%29%20%7B%0D%0A%20%20if%20%28isolatedUid%29%20%7B%0D%0A%20%20%20%20var%20uid%20%3D%200%3B%0D%0A%20%20%20%20this.nextUid%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20++uid%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%20%20forEach%28array%2C%20this.put%2C%20this%29%3B%0D%0A%7D%0D%0AHashMap.prototype%20%3D%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20Store%20key%20value%20pair%0D%0A%20%20%20*%20@param%20key%20key%20to%20store%20can%20be%20any%20type%0D%0A%20%20%20*%20@param%20value%20value%20to%20store%20can%20be%20any%20type%0D%0A%20%20%20*/%0D%0A%20%20put%3A%20function%28key%2C%20value%29%20%7B%0D%0A%20%20%20%20this%5BhashKey%28key%2C%20this.nextUid%29%5D%20%3D%20value%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@param%20key%0D%0A%20%20%20*%20@returns%20%7BObject%7D%20the%20value%20for%20the%20key%0D%0A%20%20%20*/%0D%0A%20%20get%3A%20function%28key%29%20%7B%0D%0A%20%20%20%20return%20this%5BhashKey%28key%2C%20this.nextUid%29%5D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Remove%20the%20key/value%20pair%0D%0A%20%20%20*%20@param%20key%0D%0A%20%20%20*/%0D%0A%20%20remove%3A%20function%28key%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20this%5Bkey%20%3D%20hashKey%28key%2C%20this.nextUid%29%5D%3B%0D%0A%20%20%20%20delete%20this%5Bkey%5D%3B%0D%0A%20%20%20%20return%20value%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Avar%20%24%24HashMapProvider%20%3D%20%5Bfunction%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5Bfunction%28%29%20%7B%0D%0A%20%20%20%20return%20HashMap%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20function%0D%0A%20*%20@module%20ng%0D%0A%20*%20@name%20angular.injector%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Creates%20an%20injector%20object%20that%20can%20be%20used%20for%20retrieving%20services%20as%20well%20as%20for%0D%0A%20*%20dependency%20injection%20%28see%20%7B@link%20guide/di%20dependency%20injection%7D%29.%0D%0A%20*%0D%0A%20*%20@param%20%7BArray.%3Cstring%7CFunction%3E%7D%20modules%20A%20list%20of%20module%20functions%20or%20their%20aliases.%20See%0D%0A%20*%20%20%20%20%20%7B@link%20angular.module%7D.%20The%20%60ng%60%20module%20must%20be%20explicitly%20added.%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20%5BstrictDi%3Dfalse%5D%20Whether%20the%20injector%20should%20be%20in%20strict%20mode%2C%20which%0D%0A%20*%20%20%20%20%20disallows%20argument%20name%20annotation%20inference.%0D%0A%20*%20@returns%20%7Binjector%7D%20Injector%20object.%20See%20%7B@link%20auto.%24injector%20%24injector%7D.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Typical%20usage%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20create%20an%20injector%0D%0A%20*%20%20%20var%20%24injector%20%3D%20angular.injector%28%5B%27ng%27%5D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20use%20the%20injector%20to%20kick%20off%20your%20application%0D%0A%20*%20%20%20//%20use%20the%20type%20inference%20to%20auto%20inject%20arguments%2C%20or%20use%20implicit%20injection%0D%0A%20*%20%20%20%24injector.invoke%28function%28%24rootScope%2C%20%24compile%2C%20%24document%29%20%7B%0D%0A%20*%20%20%20%20%20%24compile%28%24document%29%28%24rootScope%29%3B%0D%0A%20*%20%20%20%20%20%24rootScope.%24digest%28%29%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Sometimes%20you%20want%20to%20get%20access%20to%20the%20injector%20of%20a%20currently%20running%20Angular%20app%0D%0A%20*%20from%20outside%20Angular.%20Perhaps%2C%20you%20want%20to%20inject%20and%20compile%20some%20markup%20after%20the%0D%0A%20*%20application%20has%20been%20bootstrapped.%20You%20can%20do%20this%20using%20the%20extra%20%60injector%28%29%60%20added%0D%0A%20*%20to%20JQuery/jqLite%20elements.%20See%20%7B@link%20angular.element%7D.%0D%0A%20*%0D%0A%20*%20*This%20is%20fairly%20rare%20but%20could%20be%20the%20case%20if%20a%20third%20party%20library%20is%20injecting%20the%0D%0A%20*%20markup.*%0D%0A%20*%0D%0A%20*%20In%20the%20following%20example%20a%20new%20block%20of%20HTML%20containing%20a%20%60ng-controller%60%0D%0A%20*%20directive%20is%20added%20to%20the%20end%20of%20the%20document%20body%20by%20JQuery.%20We%20then%20compile%20and%20link%0D%0A%20*%20it%20into%20the%20current%20AngularJS%20scope.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20var%20%24div%20%3D%20%24%28%27%3Cdiv%20ng-controller%3D%22MyCtrl%22%3E%7B%7Bcontent.label%7D%7D%3C/div%3E%27%29%3B%0D%0A%20*%20%24%28document.body%29.append%28%24div%29%3B%0D%0A%20*%0D%0A%20*%20angular.element%28document%29.injector%28%29.invoke%28function%28%24compile%29%20%7B%0D%0A%20*%20%20%20var%20scope%20%3D%20angular.element%28%24div%29.scope%28%29%3B%0D%0A%20*%20%20%20%24compile%28%24div%29%28scope%29%3B%0D%0A%20*%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20module%0D%0A%20*%20@name%20auto%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Implicit%20module%20which%20gets%20automatically%20added%20to%20each%20%7B@link%20auto.%24injector%20%24injector%7D.%0D%0A%20*/%0D%0A%0D%0Avar%20FN_ARGS%20%3D%20/%5Efunction%5Cs*%5B%5E%5C%28%5D*%5C%28%5Cs*%28%5B%5E%5C%29%5D*%29%5C%29/m%3B%0D%0Avar%20FN_ARG_SPLIT%20%3D%20/%2C/%3B%0D%0Avar%20FN_ARG%20%3D%20/%5E%5Cs*%28_%3F%29%28%5CS+%3F%29%5C1%5Cs*%24/%3B%0D%0Avar%20STRIP_COMMENTS%20%3D%20/%28%28%5C/%5C/.*%24%29%7C%28%5C/%5C*%5B%5Cs%5CS%5D*%3F%5C*%5C/%29%29/mg%3B%0D%0Avar%20%24injectorMinErr%20%3D%20minErr%28%27%24injector%27%29%3B%0D%0A%0D%0Afunction%20anonFn%28fn%29%20%7B%0D%0A%20%20//%20For%20anonymous%20functions%2C%20showing%20at%20the%20very%20least%20the%20function%20signature%20can%20help%20in%0D%0A%20%20//%20debugging.%0D%0A%20%20var%20fnText%20%3D%20fn.toString%28%29.replace%28STRIP_COMMENTS%2C%20%27%27%29%2C%0D%0A%20%20%20%20%20%20args%20%3D%20fnText.match%28FN_ARGS%29%3B%0D%0A%20%20if%20%28args%29%20%7B%0D%0A%20%20%20%20return%20%27function%28%27%20+%20%28args%5B1%5D%20%7C%7C%20%27%27%29.replace%28/%5B%5Cs%5Cr%5Cn%5D+/%2C%20%27%20%27%29%20+%20%27%29%27%3B%0D%0A%20%20%7D%0D%0A%20%20return%20%27fn%27%3B%0D%0A%7D%0D%0A%0D%0Afunction%20annotate%28fn%2C%20strictDi%2C%20name%29%20%7B%0D%0A%20%20var%20%24inject%2C%0D%0A%20%20%20%20%20%20fnText%2C%0D%0A%20%20%20%20%20%20argDecl%2C%0D%0A%20%20%20%20%20%20last%3B%0D%0A%0D%0A%20%20if%20%28typeof%20fn%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20if%20%28%21%28%24inject%20%3D%20fn.%24inject%29%29%20%7B%0D%0A%20%20%20%20%20%20%24inject%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20if%20%28fn.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28strictDi%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isString%28name%29%20%7C%7C%20%21name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20fn.name%20%7C%7C%20anonFn%28fn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27strictdi%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27%7B0%7D%20is%20not%20using%20explicit%20annotation%20and%20cannot%20be%20invoked%20in%20strict%20mode%27%2C%20name%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fnText%20%3D%20fn.toString%28%29.replace%28STRIP_COMMENTS%2C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20argDecl%20%3D%20fnText.match%28FN_ARGS%29%3B%0D%0A%20%20%20%20%20%20%20%20forEach%28argDecl%5B1%5D.split%28FN_ARG_SPLIT%29%2C%20function%28arg%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20arg.replace%28FN_ARG%2C%20function%28all%2C%20underscore%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24inject.push%28name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20fn.%24inject%20%3D%20%24inject%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%20else%20if%20%28isArray%28fn%29%29%20%7B%0D%0A%20%20%20%20last%20%3D%20fn.length%20-%201%3B%0D%0A%20%20%20%20assertArgFn%28fn%5Blast%5D%2C%20%27fn%27%29%3B%0D%0A%20%20%20%20%24inject%20%3D%20fn.slice%280%2C%20last%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20assertArgFn%28fn%2C%20%27fn%27%2C%20true%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20%24inject%3B%0D%0A%7D%0D%0A%0D%0A///////////////////////////////////////%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24injector%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20%60%24injector%60%20is%20used%20to%20retrieve%20object%20instances%20as%20defined%20by%0D%0A%20*%20%7B@link%20auto.%24provide%20provider%7D%2C%20instantiate%20types%2C%20invoke%20methods%2C%0D%0A%20*%20and%20load%20modules.%0D%0A%20*%0D%0A%20*%20The%20following%20always%20holds%20true%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20var%20%24injector%20%3D%20angular.injector%28%29%3B%0D%0A%20*%20%20%20expect%28%24injector.get%28%27%24injector%27%29%29.toBe%28%24injector%29%3B%0D%0A%20*%20%20%20expect%28%24injector.invoke%28function%28%24injector%29%20%7B%0D%0A%20*%20%20%20%20%20return%20%24injector%3B%0D%0A%20*%20%20%20%7D%29%29.toBe%28%24injector%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%20Injection%20Function%20Annotation%0D%0A%20*%0D%0A%20*%20JavaScript%20does%20not%20have%20annotations%2C%20and%20annotations%20are%20needed%20for%20dependency%20injection.%20The%0D%0A%20*%20following%20are%20all%20valid%20ways%20of%20annotating%20function%20with%20injection%20arguments%20and%20are%20equivalent.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20inferred%20%28only%20works%20if%20code%20not%20minified/obfuscated%29%0D%0A%20*%20%20%20%24injector.invoke%28function%28serviceA%29%7B%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20annotated%0D%0A%20*%20%20%20function%20explicit%28serviceA%29%20%7B%7D%3B%0D%0A%20*%20%20%20explicit.%24inject%20%3D%20%5B%27serviceA%27%5D%3B%0D%0A%20*%20%20%20%24injector.invoke%28explicit%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20inline%0D%0A%20*%20%20%20%24injector.invoke%28%5B%27serviceA%27%2C%20function%28serviceA%29%7B%7D%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%23%20Inference%0D%0A%20*%0D%0A%20*%20In%20JavaScript%20calling%20%60toString%28%29%60%20on%20a%20function%20returns%20the%20function%20definition.%20The%20definition%0D%0A%20*%20can%20then%20be%20parsed%20and%20the%20function%20arguments%20can%20be%20extracted.%20This%20method%20of%20discovering%0D%0A%20*%20annotations%20is%20disallowed%20when%20the%20injector%20is%20in%20strict%20mode.%0D%0A%20*%20*NOTE%3A*%20This%20does%20not%20work%20with%20minification%2C%20and%20obfuscation%20tools%20since%20these%20tools%20change%20the%0D%0A%20*%20argument%20names.%0D%0A%20*%0D%0A%20*%20%23%23%20%60%24inject%60%20Annotation%0D%0A%20*%20By%20adding%20an%20%60%24inject%60%20property%20onto%20a%20function%20the%20injection%20parameters%20can%20be%20specified.%0D%0A%20*%0D%0A%20*%20%23%23%20Inline%0D%0A%20*%20As%20an%20array%20of%20injection%20names%2C%20where%20the%20last%20item%20in%20the%20array%20is%20the%20function%20to%20call.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24injector%23get%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Return%20an%20instance%20of%20the%20service.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20instance%20to%20retrieve.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20caller%20An%20optional%20string%20to%20provide%20the%20origin%20of%20the%20function%20call%20for%20error%20messages.%0D%0A%20*%20@return%20%7B*%7D%20The%20instance.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24injector%23invoke%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Invoke%20the%20method%20and%20supply%20the%20method%20arguments%20from%20the%20%60%24injector%60.%0D%0A%20*%0D%0A%20*%20@param%20%7BFunction%7CArray.%3Cstring%7CFunction%3E%7D%20fn%20The%20injectable%20function%20to%20invoke.%20Function%20parameters%20are%0D%0A%20*%20%20%20injected%20according%20to%20the%20%7B@link%20guide/di%20%24inject%20Annotation%7D%20rules.%0D%0A%20*%20@param%20%7BObject%3D%7D%20self%20The%20%60this%60%20for%20the%20invoked%20method.%0D%0A%20*%20@param%20%7BObject%3D%7D%20locals%20Optional%20object.%20If%20preset%20then%20any%20argument%20names%20are%20read%20from%20this%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object%20first%2C%20before%20the%20%60%24injector%60%20is%20consulted.%0D%0A%20*%20@returns%20%7B*%7D%20the%20value%20returned%20by%20the%20invoked%20%60fn%60%20function.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24injector%23has%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Allows%20the%20user%20to%20query%20if%20the%20particular%20service%20exists.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20Name%20of%20the%20service%20to%20query.%0D%0A%20*%20@returns%20%7Bboolean%7D%20%60true%60%20if%20injector%20has%20given%20service.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24injector%23instantiate%0D%0A%20*%20@description%0D%0A%20*%20Create%20a%20new%20instance%20of%20JS%20type.%20The%20method%20takes%20a%20constructor%20function%2C%20invokes%20the%20new%0D%0A%20*%20operator%2C%20and%20supplies%20all%20of%20the%20arguments%20to%20the%20constructor%20function%20as%20specified%20by%20the%0D%0A%20*%20constructor%20annotation.%0D%0A%20*%0D%0A%20*%20@param%20%7BFunction%7D%20Type%20Annotated%20constructor%20function.%0D%0A%20*%20@param%20%7BObject%3D%7D%20locals%20Optional%20object.%20If%20preset%20then%20any%20argument%20names%20are%20read%20from%20this%0D%0A%20*%20object%20first%2C%20before%20the%20%60%24injector%60%20is%20consulted.%0D%0A%20*%20@returns%20%7BObject%7D%20new%20instance%20of%20%60Type%60.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24injector%23annotate%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Returns%20an%20array%20of%20service%20names%20which%20the%20function%20is%20requesting%20for%20injection.%20This%20API%20is%0D%0A%20*%20used%20by%20the%20injector%20to%20determine%20which%20services%20need%20to%20be%20injected%20into%20the%20function%20when%20the%0D%0A%20*%20function%20is%20invoked.%20There%20are%20three%20ways%20in%20which%20the%20function%20can%20be%20annotated%20with%20the%20needed%0D%0A%20*%20dependencies.%0D%0A%20*%0D%0A%20*%20%23%20Argument%20names%0D%0A%20*%0D%0A%20*%20The%20simplest%20form%20is%20to%20extract%20the%20dependencies%20from%20the%20arguments%20of%20the%20function.%20This%20is%20done%0D%0A%20*%20by%20converting%20the%20function%20into%20a%20string%20using%20%60toString%28%29%60%20method%20and%20extracting%20the%20argument%0D%0A%20*%20names.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20Given%0D%0A%20*%20%20%20function%20MyController%28%24scope%2C%20%24route%29%20%7B%0D%0A%20*%20%20%20%20%20//%20...%0D%0A%20*%20%20%20%7D%0D%0A%20*%0D%0A%20*%20%20%20//%20Then%0D%0A%20*%20%20%20expect%28injector.annotate%28MyController%29%29.toEqual%28%5B%27%24scope%27%2C%20%27%24route%27%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20You%20can%20disallow%20this%20method%20by%20using%20strict%20injection%20mode.%0D%0A%20*%0D%0A%20*%20This%20method%20does%20not%20work%20with%20code%20minification%20/%20obfuscation.%20For%20this%20reason%20the%20following%0D%0A%20*%20annotation%20strategies%20are%20supported.%0D%0A%20*%0D%0A%20*%20%23%20The%20%60%24inject%60%20property%0D%0A%20*%0D%0A%20*%20If%20a%20function%20has%20an%20%60%24inject%60%20property%20and%20its%20value%20is%20an%20array%20of%20strings%2C%20then%20the%20strings%0D%0A%20*%20represent%20names%20of%20services%20to%20be%20injected%20into%20the%20function.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20Given%0D%0A%20*%20%20%20var%20MyController%20%3D%20function%28obfuscatedScope%2C%20obfuscatedRoute%29%20%7B%0D%0A%20*%20%20%20%20%20//%20...%0D%0A%20*%20%20%20%7D%0D%0A%20*%20%20%20//%20Define%20function%20dependencies%0D%0A%20*%20%20%20MyController%5B%27%24inject%27%5D%20%3D%20%5B%27%24scope%27%2C%20%27%24route%27%5D%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20Then%0D%0A%20*%20%20%20expect%28injector.annotate%28MyController%29%29.toEqual%28%5B%27%24scope%27%2C%20%27%24route%27%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%20The%20array%20notation%0D%0A%20*%0D%0A%20*%20It%20is%20often%20desirable%20to%20inline%20Injected%20functions%20and%20that%27s%20when%20setting%20the%20%60%24inject%60%20property%0D%0A%20*%20is%20very%20inconvenient.%20In%20these%20situations%20using%20the%20array%20notation%20to%20specify%20the%20dependencies%20in%0D%0A%20*%20a%20way%20that%20survives%20minification%20is%20a%20better%20choice%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20We%20wish%20to%20write%20this%20%28not%20minification%20/%20obfuscation%20safe%29%0D%0A%20*%20%20%20injector.invoke%28function%28%24compile%2C%20%24rootScope%29%20%7B%0D%0A%20*%20%20%20%20%20//%20...%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20We%20are%20forced%20to%20write%20break%20inlining%0D%0A%20*%20%20%20var%20tmpFn%20%3D%20function%28obfuscatedCompile%2C%20obfuscatedRootScope%29%20%7B%0D%0A%20*%20%20%20%20%20//%20...%0D%0A%20*%20%20%20%7D%3B%0D%0A%20*%20%20%20tmpFn.%24inject%20%3D%20%5B%27%24compile%27%2C%20%27%24rootScope%27%5D%3B%0D%0A%20*%20%20%20injector.invoke%28tmpFn%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20To%20better%20support%20inline%20function%20the%20inline%20annotation%20is%20supported%0D%0A%20*%20%20%20injector.invoke%28%5B%27%24compile%27%2C%20%27%24rootScope%27%2C%20function%28obfCompile%2C%20obfRootScope%29%20%7B%0D%0A%20*%20%20%20%20%20//%20...%0D%0A%20*%20%20%20%7D%5D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20Therefore%0D%0A%20*%20%20%20expect%28injector.annotate%28%0D%0A%20*%20%20%20%20%20%20%5B%27%24compile%27%2C%20%27%24rootScope%27%2C%20function%28obfus_%24compile%2C%20obfus_%24rootScope%29%20%7B%7D%5D%29%0D%0A%20*%20%20%20%20%29.toEqual%28%5B%27%24compile%27%2C%20%27%24rootScope%27%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@param%20%7BFunction%7CArray.%3Cstring%7CFunction%3E%7D%20fn%20Function%20for%20which%20dependent%20service%20names%20need%20to%0D%0A%20*%20be%20retrieved%20as%20described%20above.%0D%0A%20*%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20%5BstrictDi%3Dfalse%5D%20Disallow%20argument%20name%20annotation%20inference.%0D%0A%20*%0D%0A%20*%20@returns%20%7BArray.%3Cstring%3E%7D%20The%20names%20of%20the%20services%20which%20the%20function%20requires.%0D%0A%20*/%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24provide%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20The%20%7B@link%20auto.%24provide%20%24provide%7D%20service%20has%20a%20number%20of%20methods%20for%20registering%20components%0D%0A%20*%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%20Many%20of%20these%20functions%20are%20also%20exposed%20on%0D%0A%20*%20%7B@link%20angular.Module%7D.%0D%0A%20*%0D%0A%20*%20An%20Angular%20**service**%20is%20a%20singleton%20object%20created%20by%20a%20**service%20factory**.%20%20These%20**service%0D%0A%20*%20factories**%20are%20functions%20which%2C%20in%20turn%2C%20are%20created%20by%20a%20**service%20provider**.%0D%0A%20*%20The%20**service%20providers**%20are%20constructor%20functions.%20When%20instantiated%20they%20must%20contain%20a%0D%0A%20*%20property%20called%20%60%24get%60%2C%20which%20holds%20the%20**service%20factory**%20function.%0D%0A%20*%0D%0A%20*%20When%20you%20request%20a%20service%2C%20the%20%7B@link%20auto.%24injector%20%24injector%7D%20is%20responsible%20for%20finding%20the%0D%0A%20*%20correct%20**service%20provider**%2C%20instantiating%20it%20and%20then%20calling%20its%20%60%24get%60%20**service%20factory**%0D%0A%20*%20function%20to%20get%20the%20instance%20of%20the%20**service**.%0D%0A%20*%0D%0A%20*%20Often%20services%20have%20no%20configuration%20options%20and%20there%20is%20no%20need%20to%20add%20methods%20to%20the%20service%0D%0A%20*%20provider.%20%20The%20provider%20will%20be%20no%20more%20than%20a%20constructor%20function%20with%20a%20%60%24get%60%20property.%20For%0D%0A%20*%20these%20cases%20the%20%7B@link%20auto.%24provide%20%24provide%7D%20service%20has%20additional%20helper%20methods%20to%20register%0D%0A%20*%20services%20without%20specifying%20a%20provider.%0D%0A%20*%0D%0A%20*%20*%20%7B@link%20auto.%24provide%23provider%20provider%28provider%29%7D%20-%20registers%20a%20**service%20provider**%20with%20the%0D%0A%20*%20%20%20%20%20%7B@link%20auto.%24injector%20%24injector%7D%0D%0A%20*%20*%20%7B@link%20auto.%24provide%23constant%20constant%28obj%29%7D%20-%20registers%20a%20value/object%20that%20can%20be%20accessed%20by%0D%0A%20*%20%20%20%20%20providers%20and%20services.%0D%0A%20*%20*%20%7B@link%20auto.%24provide%23value%20value%28obj%29%7D%20-%20registers%20a%20value/object%20that%20can%20only%20be%20accessed%20by%0D%0A%20*%20%20%20%20%20services%2C%20not%20providers.%0D%0A%20*%20*%20%7B@link%20auto.%24provide%23factory%20factory%28fn%29%7D%20-%20registers%20a%20service%20**factory%20function**%2C%20%60fn%60%2C%0D%0A%20*%20%20%20%20%20that%20will%20be%20wrapped%20in%20a%20**service%20provider**%20object%2C%20whose%20%60%24get%60%20property%20will%20contain%20the%0D%0A%20*%20%20%20%20%20given%20factory%20function.%0D%0A%20*%20*%20%7B@link%20auto.%24provide%23service%20service%28class%29%7D%20-%20registers%20a%20**constructor%20function**%2C%20%60class%60%0D%0A%20*%20%20%20%20%20that%20will%20be%20wrapped%20in%20a%20**service%20provider**%20object%2C%20whose%20%60%24get%60%20property%20will%20instantiate%0D%0A%20*%20%20%20%20%20%20a%20new%20object%20using%20the%20given%20constructor%20function.%0D%0A%20*%0D%0A%20*%20See%20the%20individual%20methods%20for%20more%20information%20and%20examples.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23provider%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**provider%20function**%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%20Provider%20functions%0D%0A%20*%20are%20constructor%20functions%2C%20whose%20instances%20are%20responsible%20for%20%22providing%22%20a%20factory%20for%20a%0D%0A%20*%20service.%0D%0A%20*%0D%0A%20*%20Service%20provider%20names%20start%20with%20the%20name%20of%20the%20service%20they%20provide%20followed%20by%20%60Provider%60.%0D%0A%20*%20For%20example%2C%20the%20%7B@link%20ng.%24log%20%24log%7D%20service%20has%20a%20provider%20called%0D%0A%20*%20%7B@link%20ng.%24logProvider%20%24logProvider%7D.%0D%0A%20*%0D%0A%20*%20Service%20provider%20objects%20can%20have%20additional%20methods%20which%20allow%20configuration%20of%20the%20provider%0D%0A%20*%20and%20its%20service.%20Importantly%2C%20you%20can%20configure%20what%20kind%20of%20service%20is%20created%20by%20the%20%60%24get%60%0D%0A%20*%20method%2C%20or%20how%20that%20service%20will%20act.%20For%20example%2C%20the%20%7B@link%20ng.%24logProvider%20%24logProvider%7D%20has%20a%0D%0A%20*%20method%20%7B@link%20ng.%24logProvider%23debugEnabled%20debugEnabled%7D%0D%0A%20*%20which%20lets%20you%20specify%20whether%20the%20%7B@link%20ng.%24log%20%24log%7D%20service%20will%20log%20debug%20messages%20to%20the%0D%0A%20*%20console%20or%20not.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20instance.%20NOTE%3A%20the%20provider%20will%20be%20available%20under%20%60name%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Provider%27%60%20key.%0D%0A%20*%20@param%20%7B%28Object%7Cfunction%28%29%29%7D%20provider%20If%20the%20provider%20is%3A%0D%0A%20*%0D%0A%20*%20%20%20-%20%60Object%60%3A%20then%20it%20should%20have%20a%20%60%24get%60%20method.%20The%20%60%24get%60%20method%20will%20be%20invoked%20using%0D%0A%20*%20%20%20%20%20%7B@link%20auto.%24injector%23invoke%20%24injector.invoke%28%29%7D%20when%20an%20instance%20needs%20to%20be%20created.%0D%0A%20*%20%20%20-%20%60Constructor%60%3A%20a%20new%20instance%20of%20the%20provider%20will%20be%20created%20using%0D%0A%20*%20%20%20%20%20%7B@link%20auto.%24injector%23instantiate%20%24injector.instantiate%28%29%7D%2C%20then%20treated%20as%20%60object%60.%0D%0A%20*%0D%0A%20*%20@returns%20%7BObject%7D%20registered%20provider%20instance%0D%0A%0D%0A%20*%20@example%0D%0A%20*%0D%0A%20*%20The%20following%20example%20shows%20how%20to%20create%20a%20simple%20event%20tracking%20service%20and%20register%20it%20using%0D%0A%20*%20%7B@link%20auto.%24provide%23provider%20%24provide.provider%28%29%7D.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20//%20Define%20the%20eventTracker%20provider%0D%0A%20*%20%20function%20EventTrackerProvider%28%29%20%7B%0D%0A%20*%20%20%20%20var%20trackingUrl%20%3D%20%27/track%27%3B%0D%0A%20*%0D%0A%20*%20%20%20%20//%20A%20provider%20method%20for%20configuring%20where%20the%20tracked%20events%20should%20been%20saved%0D%0A%20*%20%20%20%20this.setTrackingUrl%20%3D%20function%28url%29%20%7B%0D%0A%20*%20%20%20%20%20%20trackingUrl%20%3D%20url%3B%0D%0A%20*%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20//%20The%20service%20factory%20function%0D%0A%20*%20%20%20%20this.%24get%20%3D%20%5B%27%24http%27%2C%20function%28%24http%29%20%7B%0D%0A%20*%20%20%20%20%20%20var%20trackedEvents%20%3D%20%7B%7D%3B%0D%0A%20*%20%20%20%20%20%20return%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20//%20Call%20this%20to%20track%20an%20event%0D%0A%20*%20%20%20%20%20%20%20%20event%3A%20function%28event%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20var%20count%20%3D%20trackedEvents%5Bevent%5D%20%7C%7C%200%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20count%20+%3D%201%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20trackedEvents%5Bevent%5D%20%3D%20count%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20return%20count%3B%0D%0A%20*%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20%20//%20Call%20this%20to%20save%20the%20tracked%20events%20to%20the%20trackingUrl%0D%0A%20*%20%20%20%20%20%20%20%20save%3A%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%24http.post%28trackingUrl%2C%20trackedEvents%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%7D%0D%0A%20*%20%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%7D%5D%3B%0D%0A%20*%20%20%7D%0D%0A%20*%0D%0A%20*%20%20describe%28%27eventTracker%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20var%20postSpy%3B%0D%0A%20*%0D%0A%20*%20%20%20%20beforeEach%28module%28function%28%24provide%29%20%7B%0D%0A%20*%20%20%20%20%20%20//%20Register%20the%20eventTracker%20provider%0D%0A%20*%20%20%20%20%20%20%24provide.provider%28%27eventTracker%27%2C%20EventTrackerProvider%29%3B%0D%0A%20*%20%20%20%20%7D%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20beforeEach%28module%28function%28eventTrackerProvider%29%20%7B%0D%0A%20*%20%20%20%20%20%20//%20Configure%20eventTracker%20provider%0D%0A%20*%20%20%20%20%20%20eventTrackerProvider.setTrackingUrl%28%27/custom-track%27%29%3B%0D%0A%20*%20%20%20%20%7D%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20it%28%27tracks%20events%27%2C%20inject%28function%28eventTracker%29%20%7B%0D%0A%20*%20%20%20%20%20%20expect%28eventTracker.event%28%27login%27%29%29.toEqual%281%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28eventTracker.event%28%27login%27%29%29.toEqual%282%29%3B%0D%0A%20*%20%20%20%20%7D%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20it%28%27saves%20to%20the%20tracking%20url%27%2C%20inject%28function%28eventTracker%2C%20%24http%29%20%7B%0D%0A%20*%20%20%20%20%20%20postSpy%20%3D%20spyOn%28%24http%2C%20%27post%27%29%3B%0D%0A%20*%20%20%20%20%20%20eventTracker.event%28%27login%27%29%3B%0D%0A%20*%20%20%20%20%20%20eventTracker.save%28%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28postSpy%29.toHaveBeenCalled%28%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28postSpy.mostRecentCall.args%5B0%5D%29.not.toEqual%28%27/track%27%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28postSpy.mostRecentCall.args%5B0%5D%29.toEqual%28%27/custom-track%27%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28postSpy.mostRecentCall.args%5B1%5D%29.toEqual%28%7B%20%27login%27%3A%201%20%7D%29%3B%0D%0A%20*%20%20%20%20%7D%29%29%3B%0D%0A%20*%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23factory%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**service%20factory**%2C%20which%20will%20be%20called%20to%20return%20the%20service%20instance.%0D%0A%20*%20This%20is%20short%20for%20registering%20a%20service%20where%20its%20provider%20consists%20of%20only%20a%20%60%24get%60%20property%2C%0D%0A%20*%20which%20is%20the%20given%20service%20factory%20function.%0D%0A%20*%20You%20should%20use%20%7B@link%20auto.%24provide%23factory%20%24provide.factory%28getFn%29%7D%20if%20you%20do%20not%20need%20to%0D%0A%20*%20configure%20your%20service%20in%20a%20provider.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20instance.%0D%0A%20*%20@param%20%7BFunction%7CArray.%3Cstring%7CFunction%3E%7D%20%24getFn%20The%20injectable%20%24getFn%20for%20the%20instance%20creation.%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Internally%20this%20is%20a%20short%20hand%20for%20%60%24provide.provider%28name%2C%20%7B%24get%3A%20%24getFn%7D%29%60.%0D%0A%20*%20@returns%20%7BObject%7D%20registered%20provider%20instance%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20is%20an%20example%20of%20registering%20a%20service%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20%24provide.factory%28%27ping%27%2C%20%5B%27%24http%27%2C%20function%28%24http%29%20%7B%0D%0A%20*%20%20%20%20%20return%20function%20ping%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20return%20%24http.send%28%27/ping%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%7D%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%20You%20would%20then%20inject%20and%20use%20this%20service%20like%20this%3A%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20someModule.controller%28%27Ctrl%27%2C%20%5B%27ping%27%2C%20function%28ping%29%20%7B%0D%0A%20*%20%20%20%20%20ping%28%29%3B%0D%0A%20*%20%20%20%7D%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23service%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**service%20constructor**%2C%20which%20will%20be%20invoked%20with%20%60new%60%20to%20create%20the%20service%0D%0A%20*%20instance.%0D%0A%20*%20This%20is%20short%20for%20registering%20a%20service%20where%20its%20provider%27s%20%60%24get%60%20property%20is%20the%20service%0D%0A%20*%20constructor%20function%20that%20will%20be%20used%20to%20instantiate%20the%20service%20instance.%0D%0A%20*%0D%0A%20*%20You%20should%20use%20%7B@link%20auto.%24provide%23service%20%24provide.service%28class%29%7D%20if%20you%20define%20your%20service%0D%0A%20*%20as%20a%20type/class.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20instance.%0D%0A%20*%20@param%20%7BFunction%7CArray.%3Cstring%7CFunction%3E%7D%20constructor%20An%20injectable%20class%20%28constructor%20function%29%0D%0A%20*%20%20%20%20%20that%20will%20be%20instantiated.%0D%0A%20*%20@returns%20%7BObject%7D%20registered%20provider%20instance%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20is%20an%20example%20of%20registering%20a%20service%20using%0D%0A%20*%20%7B@link%20auto.%24provide%23service%20%24provide.service%28class%29%7D.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20var%20Ping%20%3D%20function%28%24http%29%20%7B%0D%0A%20*%20%20%20%20%20this.%24http%20%3D%20%24http%3B%0D%0A%20*%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20Ping.%24inject%20%3D%20%5B%27%24http%27%5D%3B%0D%0A%20*%0D%0A%20*%20%20%20Ping.prototype.send%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20return%20this.%24http.get%28%27/ping%27%29%3B%0D%0A%20*%20%20%20%7D%3B%0D%0A%20*%20%20%20%24provide.service%28%27ping%27%2C%20Ping%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%20You%20would%20then%20inject%20and%20use%20this%20service%20like%20this%3A%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20someModule.controller%28%27Ctrl%27%2C%20%5B%27ping%27%2C%20function%28ping%29%20%7B%0D%0A%20*%20%20%20%20%20ping.send%28%29%3B%0D%0A%20*%20%20%20%7D%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23value%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**value%20service**%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D%2C%20such%20as%20a%20string%2C%20a%0D%0A%20*%20number%2C%20an%20array%2C%20an%20object%20or%20a%20function.%20%20This%20is%20short%20for%20registering%20a%20service%20where%20its%0D%0A%20*%20provider%27s%20%60%24get%60%20property%20is%20a%20factory%20function%20that%20takes%20no%20arguments%20and%20returns%20the%20**value%0D%0A%20*%20service**.%0D%0A%20*%0D%0A%20*%20Value%20services%20are%20similar%20to%20constant%20services%2C%20except%20that%20they%20cannot%20be%20injected%20into%20a%0D%0A%20*%20module%20configuration%20function%20%28see%20%7B@link%20angular.Module%23config%7D%29%20but%20they%20can%20be%20overridden%20by%0D%0A%20*%20an%20Angular%0D%0A%20*%20%7B@link%20auto.%24provide%23decorator%20decorator%7D.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20instance.%0D%0A%20*%20@param%20%7B*%7D%20value%20The%20value.%0D%0A%20*%20@returns%20%7BObject%7D%20registered%20provider%20instance%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20are%20some%20examples%20of%20creating%20value%20services.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20%24provide.value%28%27ADMIN_USER%27%2C%20%27admin%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%24provide.value%28%27RoleLookup%27%2C%20%7B%20admin%3A%200%2C%20writer%3A%201%2C%20reader%3A%202%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%24provide.value%28%27halfOf%27%2C%20function%28value%29%20%7B%0D%0A%20*%20%20%20%20%20return%20value%20/%202%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23constant%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**constant%20service**%2C%20such%20as%20a%20string%2C%20a%20number%2C%20an%20array%2C%20an%20object%20or%20a%20function%2C%0D%0A%20*%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%20Unlike%20%7B@link%20auto.%24provide%23value%20value%7D%20it%20can%20be%0D%0A%20*%20injected%20into%20a%20module%20configuration%20function%20%28see%20%7B@link%20angular.Module%23config%7D%29%20and%20it%20cannot%0D%0A%20*%20be%20overridden%20by%20an%20Angular%20%7B@link%20auto.%24provide%23decorator%20decorator%7D.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20constant.%0D%0A%20*%20@param%20%7B*%7D%20value%20The%20constant%20value.%0D%0A%20*%20@returns%20%7BObject%7D%20registered%20instance%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20a%20some%20examples%20of%20creating%20constants%3A%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20%24provide.constant%28%27SHARD_HEIGHT%27%2C%20306%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%24provide.constant%28%27MY_COLOURS%27%2C%20%5B%27red%27%2C%20%27blue%27%2C%20%27grey%27%5D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%24provide.constant%28%27double%27%2C%20function%28value%29%20%7B%0D%0A%20*%20%20%20%20%20return%20value%20*%202%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24provide%23decorator%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Register%20a%20**service%20decorator**%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%20A%20service%20decorator%0D%0A%20*%20intercepts%20the%20creation%20of%20a%20service%2C%20allowing%20it%20to%20override%20or%20modify%20the%20behaviour%20of%20the%0D%0A%20*%20service.%20The%20object%20returned%20by%20the%20decorator%20may%20be%20the%20original%20service%2C%20or%20a%20new%20service%0D%0A%20*%20object%20which%20replaces%20or%20wraps%20and%20delegates%20to%20the%20original%20service.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20service%20to%20decorate.%0D%0A%20*%20@param%20%7BFunction%7CArray.%3Cstring%7CFunction%3E%7D%20decorator%20This%20function%20will%20be%20invoked%20when%20the%20service%20needs%20to%20be%0D%0A%20*%20%20%20%20instantiated%20and%20should%20return%20the%20decorated%20service%20instance.%20The%20function%20is%20called%20using%0D%0A%20*%20%20%20%20the%20%7B@link%20auto.%24injector%23invoke%20injector.invoke%7D%20method%20and%20is%20therefore%20fully%20injectable.%0D%0A%20*%20%20%20%20Local%20injection%20arguments%3A%0D%0A%20*%0D%0A%20*%20%20%20%20*%20%60%24delegate%60%20-%20The%20original%20service%20instance%2C%20which%20can%20be%20monkey%20patched%2C%20configured%2C%0D%0A%20*%20%20%20%20%20%20decorated%20or%20delegated%20to.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20we%20decorate%20the%20%7B@link%20ng.%24log%20%24log%7D%20service%20to%20convert%20warnings%20to%20errors%20by%20intercepting%0D%0A%20*%20calls%20to%20%7B@link%20ng.%24log%23error%20%24log.warn%28%29%7D.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20%24provide.decorator%28%27%24log%27%2C%20%5B%27%24delegate%27%2C%20function%28%24delegate%29%20%7B%0D%0A%20*%20%20%20%20%20%24delegate.warn%20%3D%20%24delegate.error%3B%0D%0A%20*%20%20%20%20%20return%20%24delegate%3B%0D%0A%20*%20%20%20%7D%5D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A%0D%0Afunction%20createInjector%28modulesToLoad%2C%20strictDi%29%20%7B%0D%0A%20%20strictDi%20%3D%20%28strictDi%20%3D%3D%3D%20true%29%3B%0D%0A%20%20var%20INSTANTIATING%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20providerSuffix%20%3D%20%27Provider%27%2C%0D%0A%20%20%20%20%20%20path%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20loadedModules%20%3D%20new%20HashMap%28%5B%5D%2C%20true%29%2C%0D%0A%20%20%20%20%20%20providerCache%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%24provide%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20provider%3A%20supportObject%28provider%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20factory%3A%20supportObject%28factory%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20service%3A%20supportObject%28service%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20supportObject%28value%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20constant%3A%20supportObject%28constant%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decorator%3A%20decorator%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20providerInjector%20%3D%20%28providerCache.%24injector%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20createInternalInjector%28providerCache%2C%20function%28serviceName%2C%20caller%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28angular.isString%28caller%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path.push%28caller%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27unpr%27%2C%20%22Unknown%20provider%3A%20%7B0%7D%22%2C%20path.join%28%27%20%3C-%20%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%29%2C%0D%0A%20%20%20%20%20%20instanceCache%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20instanceInjector%20%3D%20%28instanceCache.%24injector%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20createInternalInjector%28instanceCache%2C%20function%28serviceName%2C%20caller%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20provider%20%3D%20providerInjector.get%28serviceName%20+%20providerSuffix%2C%20caller%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20instanceInjector.invoke%28provider.%24get%2C%20provider%2C%20undefined%2C%20serviceName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%29%3B%0D%0A%0D%0A%0D%0A%20%20forEach%28loadModules%28modulesToLoad%29%2C%20function%28fn%29%20%7B%20instanceInjector.invoke%28fn%20%7C%7C%20noop%29%3B%20%7D%29%3B%0D%0A%0D%0A%20%20return%20instanceInjector%3B%0D%0A%0D%0A%20%20////////////////////////////////////%0D%0A%20%20//%20%24provider%0D%0A%20%20////////////////////////////////////%0D%0A%0D%0A%20%20function%20supportObject%28delegate%29%20%7B%0D%0A%20%20%20%20return%20function%28key%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isObject%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28key%2C%20reverseParams%28delegate%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20delegate%28key%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20provider%28name%2C%20provider_%29%20%7B%0D%0A%20%20%20%20assertNotHasOwnProperty%28name%2C%20%27service%27%29%3B%0D%0A%20%20%20%20if%20%28isFunction%28provider_%29%20%7C%7C%20isArray%28provider_%29%29%20%7B%0D%0A%20%20%20%20%20%20provider_%20%3D%20providerInjector.instantiate%28provider_%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28%21provider_.%24get%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24injectorMinErr%28%27pget%27%2C%20%22Provider%20%27%7B0%7D%27%20must%20define%20%24get%20factory%20method.%22%2C%20name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20providerCache%5Bname%20+%20providerSuffix%5D%20%3D%20provider_%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20enforceReturnValue%28name%2C%20factory%29%20%7B%0D%0A%20%20%20%20return%20function%20enforcedReturnValue%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20instanceInjector.invoke%28factory%2C%20this%29%3B%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28result%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27undef%27%2C%20%22Provider%20%27%7B0%7D%27%20must%20return%20a%20value%20from%20%24get%20factory%20method.%22%2C%20name%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20factory%28name%2C%20factoryFn%2C%20enforce%29%20%7B%0D%0A%20%20%20%20return%20provider%28name%2C%20%7B%0D%0A%20%20%20%20%20%20%24get%3A%20enforce%20%21%3D%3D%20false%20%3F%20enforceReturnValue%28name%2C%20factoryFn%29%20%3A%20factoryFn%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20service%28name%2C%20constructor%29%20%7B%0D%0A%20%20%20%20return%20factory%28name%2C%20%5B%27%24injector%27%2C%20function%28%24injector%29%20%7B%0D%0A%20%20%20%20%20%20return%20%24injector.instantiate%28constructor%29%3B%0D%0A%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20value%28name%2C%20val%29%20%7B%20return%20factory%28name%2C%20valueFn%28val%29%2C%20false%29%3B%20%7D%0D%0A%0D%0A%20%20function%20constant%28name%2C%20value%29%20%7B%0D%0A%20%20%20%20assertNotHasOwnProperty%28name%2C%20%27constant%27%29%3B%0D%0A%20%20%20%20providerCache%5Bname%5D%20%3D%20value%3B%0D%0A%20%20%20%20instanceCache%5Bname%5D%20%3D%20value%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20decorator%28serviceName%2C%20decorFn%29%20%7B%0D%0A%20%20%20%20var%20origProvider%20%3D%20providerInjector.get%28serviceName%20+%20providerSuffix%29%2C%0D%0A%20%20%20%20%20%20%20%20orig%24get%20%3D%20origProvider.%24get%3B%0D%0A%0D%0A%20%20%20%20origProvider.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20origInstance%20%3D%20instanceInjector.invoke%28orig%24get%2C%20origProvider%29%3B%0D%0A%20%20%20%20%20%20return%20instanceInjector.invoke%28decorFn%2C%20null%2C%20%7B%24delegate%3A%20origInstance%7D%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20////////////////////////////////////%0D%0A%20%20//%20Module%20Loading%0D%0A%20%20////////////////////////////////////%0D%0A%20%20function%20loadModules%28modulesToLoad%29%20%7B%0D%0A%20%20%20%20var%20runBlocks%20%3D%20%5B%5D%2C%20moduleFn%3B%0D%0A%20%20%20%20forEach%28modulesToLoad%2C%20function%28module%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28loadedModules.get%28module%29%29%20return%3B%0D%0A%20%20%20%20%20%20loadedModules.put%28module%2C%20true%29%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20runInvokeQueue%28queue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20i%2C%20ii%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20queue.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20invokeArgs%20%3D%20queue%5Bi%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20provider%20%3D%20providerInjector.get%28invokeArgs%5B0%5D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20provider%5BinvokeArgs%5B1%5D%5D.apply%28provider%2C%20invokeArgs%5B2%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isString%28module%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20moduleFn%20%3D%20angularModule%28module%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20runBlocks%20%3D%20runBlocks.concat%28loadModules%28moduleFn.requires%29%29.concat%28moduleFn._runBlocks%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20runInvokeQueue%28moduleFn._invokeQueue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20runInvokeQueue%28moduleFn._configBlocks%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isFunction%28module%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runBlocks.push%28providerInjector.invoke%28module%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArray%28module%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runBlocks.push%28providerInjector.invoke%28module%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20assertArgFn%28module%2C%20%27module%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isArray%28module%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20module%20%3D%20module%5Bmodule.length%20-%201%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28e.message%20%26%26%20e.stack%20%26%26%20e.stack.indexOf%28e.message%29%20%3D%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Safari%20%26%20FF%27s%20stack%20traces%20don%27t%20contain%20error.message%20content%0D%0A%20%20%20%20%20%20%20%20%20%20//%20unlike%20those%20of%20Chrome%20and%20IE%0D%0A%20%20%20%20%20%20%20%20%20%20//%20So%20if%20stack%20doesn%27t%20contain%20message%2C%20we%20create%20a%20new%20string%20that%20contains%20both.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Since%20error.stack%20is%20read-only%20in%20Safari%2C%20I%27m%20overriding%20e%20and%20not%20e.stack%20here.%0D%0A%20%20%20%20%20%20%20%20%20%20/*%20jshint%20-W022%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20e%20%3D%20e.message%20+%20%27%5Cn%27%20+%20e.stack%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27modulerr%27%2C%20%22Failed%20to%20instantiate%20module%20%7B0%7D%20due%20to%3A%5Cn%7B1%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20module%2C%20e.stack%20%7C%7C%20e.message%20%7C%7C%20e%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20return%20runBlocks%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20////////////////////////////////////%0D%0A%20%20//%20internal%20Injector%0D%0A%20%20////////////////////////////////////%0D%0A%0D%0A%20%20function%20createInternalInjector%28cache%2C%20factory%29%20%7B%0D%0A%0D%0A%20%20%20%20function%20getService%28serviceName%2C%20caller%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28cache.hasOwnProperty%28serviceName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28cache%5BserviceName%5D%20%3D%3D%3D%20INSTANTIATING%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27cdep%27%2C%20%27Circular%20dependency%20found%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20serviceName%20+%20%27%20%3C-%20%27%20+%20path.join%28%27%20%3C-%20%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20cache%5BserviceName%5D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20path.unshift%28serviceName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cache%5BserviceName%5D%20%3D%20INSTANTIATING%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20cache%5BserviceName%5D%20%3D%20factory%28serviceName%2C%20caller%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28cache%5BserviceName%5D%20%3D%3D%3D%20INSTANTIATING%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20cache%5BserviceName%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20err%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20finally%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20path.shift%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20invoke%28fn%2C%20self%2C%20locals%2C%20serviceName%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28typeof%20locals%20%3D%3D%3D%20%27string%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20serviceName%20%3D%20locals%3B%0D%0A%20%20%20%20%20%20%20%20locals%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20args%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24inject%20%3D%20createInjector.%24%24annotate%28fn%2C%20strictDi%2C%20serviceName%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20length%2C%20i%2C%0D%0A%20%20%20%20%20%20%20%20%20%20key%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20length%20%3D%20%24inject.length%3B%20i%20%3C%20length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20key%20%3D%20%24inject%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20key%20%21%3D%3D%20%27string%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24injectorMinErr%28%27itkn%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Incorrect%20injection%20token%21%20Expected%20service%20name%20as%20string%2C%20got%20%7B0%7D%27%2C%20key%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20args.push%28%0D%0A%20%20%20%20%20%20%20%20%20%20locals%20%26%26%20locals.hasOwnProperty%28key%29%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20locals%5Bkey%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20getService%28key%2C%20serviceName%29%0D%0A%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28isArray%28fn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20fn%20%3D%20fn%5Blength%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20http%3A//jsperf.com/angularjs-invoke-apply-vs-switch%0D%0A%20%20%20%20%20%20//%20%235388%0D%0A%20%20%20%20%20%20return%20fn.apply%28self%2C%20args%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20instantiate%28Type%2C%20locals%2C%20serviceName%29%20%7B%0D%0A%20%20%20%20%20%20//%20Check%20if%20Type%20is%20annotated%20and%20use%20just%20the%20given%20function%20at%20n-1%20as%20parameter%0D%0A%20%20%20%20%20%20//%20e.g.%20someModule.factory%28%27greeter%27%2C%20%5B%27%24window%27%2C%20function%28renamed%24window%29%20%7B%7D%5D%29%3B%0D%0A%20%20%20%20%20%20//%20Object%20creation%3A%20http%3A//jsperf.com/create-constructor/2%0D%0A%20%20%20%20%20%20var%20instance%20%3D%20Object.create%28%28isArray%28Type%29%20%3F%20Type%5BType.length%20-%201%5D%20%3A%20Type%29.prototype%20%7C%7C%20null%29%3B%0D%0A%20%20%20%20%20%20var%20returnedValue%20%3D%20invoke%28Type%2C%20instance%2C%20locals%2C%20serviceName%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20isObject%28returnedValue%29%20%7C%7C%20isFunction%28returnedValue%29%20%3F%20returnedValue%20%3A%20instance%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20invoke%3A%20invoke%2C%0D%0A%20%20%20%20%20%20instantiate%3A%20instantiate%2C%0D%0A%20%20%20%20%20%20get%3A%20getService%2C%0D%0A%20%20%20%20%20%20annotate%3A%20createInjector.%24%24annotate%2C%0D%0A%20%20%20%20%20%20has%3A%20function%28name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20providerCache.hasOwnProperty%28name%20+%20providerSuffix%29%20%7C%7C%20cache.hasOwnProperty%28name%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0AcreateInjector.%24%24annotate%20%3D%20annotate%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24anchorScrollProvider%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Use%20%60%24anchorScrollProvider%60%20to%20disable%20automatic%20scrolling%20whenever%0D%0A%20*%20%7B@link%20ng.%24location%23hash%20%24location.hash%28%29%7D%20changes.%0D%0A%20*/%0D%0Afunction%20%24AnchorScrollProvider%28%29%20%7B%0D%0A%0D%0A%20%20var%20autoScrollingEnabled%20%3D%20true%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24anchorScrollProvider%23disableAutoScrolling%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20By%20default%2C%20%7B@link%20ng.%24anchorScroll%20%24anchorScroll%28%29%7D%20will%20automatically%20detect%20changes%20to%0D%0A%20%20%20*%20%7B@link%20ng.%24location%23hash%20%24location.hash%28%29%7D%20and%20scroll%20to%20the%20element%20matching%20the%20new%20hash.%3Cbr%20/%3E%0D%0A%20%20%20*%20Use%20this%20method%20to%20disable%20automatic%20scrolling.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20automatic%20scrolling%20is%20disabled%2C%20one%20must%20explicitly%20call%0D%0A%20%20%20*%20%7B@link%20ng.%24anchorScroll%20%24anchorScroll%28%29%7D%20in%20order%20to%20scroll%20to%20the%20element%20related%20to%20the%0D%0A%20%20%20*%20current%20hash.%0D%0A%20%20%20*/%0D%0A%20%20this.disableAutoScrolling%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20autoScrollingEnabled%20%3D%20false%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20*%20@name%20%24anchorScroll%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%20@requires%20%24window%0D%0A%20%20%20*%20@requires%20%24location%0D%0A%20%20%20*%20@requires%20%24rootScope%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20When%20called%2C%20it%20scrolls%20to%20the%20element%20related%20to%20the%20specified%20%60hash%60%20or%20%28if%20omitted%29%20to%20the%0D%0A%20%20%20*%20current%20value%20of%20%7B@link%20ng.%24location%23hash%20%24location.hash%28%29%7D%2C%20according%20to%20the%20rules%20specified%0D%0A%20%20%20*%20in%20the%0D%0A%20%20%20*%20%5BHTML5%20spec%5D%28http%3A//dev.w3.org/html5/spec/Overview.html%23the-indicated-part-of-the-document%29.%0D%0A%20%20%20*%0D%0A%20%20%20*%20It%20also%20watches%20the%20%7B@link%20ng.%24location%23hash%20%24location.hash%28%29%7D%20and%20automatically%20scrolls%20to%0D%0A%20%20%20*%20match%20any%20anchor%20whenever%20it%20changes.%20This%20can%20be%20disabled%20by%20calling%0D%0A%20%20%20*%20%7B@link%20ng.%24anchorScrollProvider%23disableAutoScrolling%20%24anchorScrollProvider.disableAutoScrolling%28%29%7D.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Additionally%2C%20you%20can%20use%20its%20%7B@link%20ng.%24anchorScroll%23yOffset%20yOffset%7D%20property%20to%20specify%20a%0D%0A%20%20%20*%20vertical%20scroll-offset%20%28either%20fixed%20or%20dynamic%29.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20hash%20The%20hash%20specifying%20the%20element%20to%20scroll%20to.%20If%20omitted%2C%20the%20value%20of%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B@link%20ng.%24location%23hash%20%24location.hash%28%29%7D%20will%20be%20used.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@property%20%7B%28number%7Cfunction%7CjqLite%29%7D%20yOffset%0D%0A%20%20%20*%20If%20set%2C%20specifies%20a%20vertical%20scroll-offset.%20This%20is%20often%20useful%20when%20there%20are%20fixed%0D%0A%20%20%20*%20positioned%20elements%20at%20the%20top%20of%20the%20page%2C%20such%20as%20navbars%2C%20headers%20etc.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60yOffset%60%20can%20be%20specified%20in%20various%20ways%3A%0D%0A%20%20%20*%20-%20**number**%3A%20A%20fixed%20number%20of%20pixels%20to%20be%20used%20as%20offset.%3Cbr%20/%3E%3Cbr%20/%3E%0D%0A%20%20%20*%20-%20**function**%3A%20A%20getter%20function%20called%20everytime%20%60%24anchorScroll%28%29%60%20is%20executed.%20Must%20return%0D%0A%20%20%20*%20%20%20a%20number%20representing%20the%20offset%20%28in%20pixels%29.%3Cbr%20/%3E%3Cbr%20/%3E%0D%0A%20%20%20*%20-%20**jqLite**%3A%20A%20jqLite/jQuery%20element%20to%20be%20used%20for%20specifying%20the%20offset.%20The%20distance%20from%0D%0A%20%20%20*%20%20%20the%20top%20of%20the%20page%20to%20the%20element%27s%20bottom%20will%20be%20used%20as%20offset.%3Cbr%20/%3E%0D%0A%20%20%20*%20%20%20**Note**%3A%20The%20element%20will%20be%20taken%20into%20account%20only%20as%20long%20as%20its%20%60position%60%20is%20set%20to%0D%0A%20%20%20*%20%20%20%60fixed%60.%20This%20option%20is%20useful%2C%20when%20dealing%20with%20responsive%20navbars/headers%20that%20adjust%0D%0A%20%20%20*%20%20%20their%20height%20and/or%20positioning%20according%20to%20the%20viewport%27s%20size.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Cbr%20/%3E%0D%0A%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20*%20In%20order%20for%20%60yOffset%60%20to%20work%20properly%2C%20scrolling%20should%20take%20place%20on%20the%20document%27s%20root%20and%0D%0A%20%20%20*%20not%20some%20child%20element.%0D%0A%20%20%20*%20%3C/div%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%3Cexample%20module%3D%22anchorScrollExample%22%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22scrollArea%22%20ng-controller%3D%22ScrollController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ca%20ng-click%3D%22gotoBottom%28%29%22%3EGo%20to%20bottom%3C/a%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ca%20id%3D%22bottom%22%3E%3C/a%3E%20You%27re%20at%20the%20bottom%21%0D%0A%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27anchorScrollExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ScrollController%27%2C%20%5B%27%24scope%27%2C%20%27%24location%27%2C%20%27%24anchorScroll%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20function%20%28%24scope%2C%20%24location%2C%20%24anchorScroll%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.gotoBottom%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20set%20the%20location.hash%20to%20the%20id%20of%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20element%20you%20wish%20to%20scroll%20to.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24location.hash%28%27bottom%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20call%20%24anchorScroll%28%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24anchorScroll%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%23scrollArea%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20height%3A%20280px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20auto%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%23bottom%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%202000px%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Chr%20/%3E%0D%0A%20%20%20*%20The%20example%20below%20illustrates%20the%20use%20of%20a%20vertical%20scroll-offset%20%28specified%20as%20a%20fixed%20value%29.%0D%0A%20%20%20*%20See%20%7B@link%20ng.%24anchorScroll%23yOffset%20%24anchorScroll.yOffset%7D%20for%20more%20details.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%3Cexample%20module%3D%22anchorScrollOffsetExample%22%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22fixed-header%22%20ng-controller%3D%22headerCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%22%20ng-click%3D%22gotoAnchor%28x%29%22%20ng-repeat%3D%22x%20in%20%5B1%2C2%2C3%2C4%2C5%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Go%20to%20anchor%20%7B%7Bx%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22anchor%7B%7Bx%7D%7D%22%20class%3D%22anchor%22%20ng-repeat%3D%22x%20in%20%5B1%2C2%2C3%2C4%2C5%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20Anchor%20%7B%7Bx%7D%7D%20of%205%0D%0A%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27anchorScrollOffsetExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.run%28%5B%27%24anchorScroll%27%2C%20function%28%24anchorScroll%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24anchorScroll.yOffset%20%3D%2050%3B%20%20%20//%20always%20scroll%20by%2050%20extra%20pixels%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27headerCtrl%27%2C%20%5B%27%24anchorScroll%27%2C%20%27%24location%27%2C%20%27%24scope%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20function%20%28%24anchorScroll%2C%20%24location%2C%20%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.gotoAnchor%20%3D%20function%28x%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20newHash%20%3D%20%27anchor%27%20+%20x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24location.hash%28%29%20%21%3D%3D%20newHash%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20set%20the%20%24location.hash%20to%20%60newHash%60%20and%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%24anchorScroll%20will%20automatically%20scroll%20to%20it%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24location.hash%28%27anchor%27%20+%20x%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20call%20%24anchorScroll%28%29%20explicitly%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20since%20%24location.hash%20hasn%27t%20changed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24anchorScroll%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20%20%20body%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20padding-top%3A%2050px%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20.anchor%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20dashed%20DarkOrchid%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%2010px%20200px%2010px%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20.fixed-header%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba%280%2C%200%2C%200%2C%200.2%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20height%3A%2050px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20.fixed-header%20%3E%20a%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20margin%3A%205px%2015px%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20%27%24location%27%2C%20%27%24rootScope%27%2C%20function%28%24window%2C%20%24location%2C%20%24rootScope%29%20%7B%0D%0A%20%20%20%20var%20document%20%3D%20%24window.document%3B%0D%0A%0D%0A%20%20%20%20//%20Helper%20function%20to%20get%20first%20anchor%20from%20a%20NodeList%0D%0A%20%20%20%20//%20%28using%20%60Array%23some%28%29%60%20instead%20of%20%60angular%23forEach%28%29%60%20since%20it%27s%20more%20performant%0D%0A%20%20%20%20//%20%20and%20working%20in%20all%20supported%20browsers.%29%0D%0A%20%20%20%20function%20getFirstAnchor%28list%29%20%7B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20null%3B%0D%0A%20%20%20%20%20%20Array.prototype.some.call%28list%2C%20function%28element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28nodeName_%28element%29%20%3D%3D%3D%20%27a%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20element%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20getYOffset%28%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20var%20offset%20%3D%20scroll.yOffset%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isFunction%28offset%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20offset%20%3D%20offset%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isElement%28offset%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20elem%20%3D%20offset%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20style%20%3D%20%24window.getComputedStyle%28elem%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28style.position%20%21%3D%3D%20%27fixed%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20offset%20%3D%20elem.getBoundingClientRect%28%29.bottom%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21isNumber%28offset%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20offset%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20scrollTo%28elem%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28elem%29%20%7B%0D%0A%20%20%20%20%20%20%20%20elem.scrollIntoView%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20offset%20%3D%20getYOffset%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28offset%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%60offset%60%20is%20the%20number%20of%20pixels%20we%20should%20scroll%20UP%20in%20order%20to%20align%20%60elem%60%20properly.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20This%20is%20true%20ONLY%20if%20the%20call%20to%20%60elem.scrollIntoView%28%29%60%20initially%20aligns%20%60elem%60%20at%20the%0D%0A%20%20%20%20%20%20%20%20%20%20//%20top%20of%20the%20viewport.%0D%0A%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20//%20IF%20the%20number%20of%20pixels%20from%20the%20top%20of%20%60elem%60%20to%20the%20end%20of%20the%20page%27s%20content%20is%20less%0D%0A%20%20%20%20%20%20%20%20%20%20//%20than%20the%20height%20of%20the%20viewport%2C%20then%20%60elem.scrollIntoView%28%29%60%20will%20align%20the%20%60elem%60%20some%0D%0A%20%20%20%20%20%20%20%20%20%20//%20way%20down%20the%20page.%0D%0A%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20//%20This%20is%20often%20the%20case%20for%20elements%20near%20the%20bottom%20of%20the%20page.%0D%0A%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20//%20In%20such%20cases%20we%20do%20not%20need%20to%20scroll%20the%20whole%20%60offset%60%20up%2C%20just%20the%20difference%20between%0D%0A%20%20%20%20%20%20%20%20%20%20//%20the%20top%20of%20the%20element%20and%20the%20offset%2C%20which%20is%20enough%20to%20align%20the%20top%20of%20%60elem%60%20at%20the%0D%0A%20%20%20%20%20%20%20%20%20%20//%20desired%20position.%0D%0A%20%20%20%20%20%20%20%20%20%20var%20elemTop%20%3D%20elem.getBoundingClientRect%28%29.top%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24window.scrollBy%280%2C%20elemTop%20-%20offset%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%24window.scrollTo%280%2C%200%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20scroll%28hash%29%20%7B%0D%0A%20%20%20%20%20%20hash%20%3D%20isString%28hash%29%20%3F%20hash%20%3A%20%24location.hash%28%29%3B%0D%0A%20%20%20%20%20%20var%20elm%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20empty%20hash%2C%20scroll%20to%20the%20top%20of%20the%20page%0D%0A%20%20%20%20%20%20if%20%28%21hash%29%20scrollTo%28null%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20element%20with%20given%20id%0D%0A%20%20%20%20%20%20else%20if%20%28%28elm%20%3D%20document.getElementById%28hash%29%29%29%20scrollTo%28elm%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20first%20anchor%20with%20given%20name%20%3A-D%0D%0A%20%20%20%20%20%20else%20if%20%28%28elm%20%3D%20getFirstAnchor%28document.getElementsByName%28hash%29%29%29%29%20scrollTo%28elm%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20no%20element%20and%20hash%20%3D%3D%20%27top%27%2C%20scroll%20to%20the%20top%20of%20the%20page%0D%0A%20%20%20%20%20%20else%20if%20%28hash%20%3D%3D%3D%20%27top%27%29%20scrollTo%28null%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20does%20not%20scroll%20when%20user%20clicks%20on%20anchor%20link%20that%20is%20currently%20on%0D%0A%20%20%20%20//%20%28no%20url%20change%2C%20no%20%24location.hash%28%29%20change%29%2C%20browser%20native%20does%20scroll%0D%0A%20%20%20%20if%20%28autoScrollingEnabled%29%20%7B%0D%0A%20%20%20%20%20%20%24rootScope.%24watch%28function%20autoScrollWatch%28%29%20%7Breturn%20%24location.hash%28%29%3B%7D%2C%0D%0A%20%20%20%20%20%20%20%20function%20autoScrollWatchAction%28newVal%2C%20oldVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20skip%20the%20initial%20scroll%20if%20%24location.hash%20is%20empty%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28newVal%20%3D%3D%3D%20oldVal%20%26%26%20newVal%20%3D%3D%3D%20%27%27%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20jqLiteDocumentLoaded%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24rootScope.%24evalAsync%28scroll%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20scroll%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Avar%20%24animateMinErr%20%3D%20minErr%28%27%24animate%27%29%3B%0D%0Avar%20ELEMENT_NODE%20%3D%201%3B%0D%0Avar%20NG_ANIMATE_CLASSNAME%20%3D%20%27ng-animate%27%3B%0D%0A%0D%0Afunction%20mergeClasses%28a%2Cb%29%20%7B%0D%0A%20%20if%20%28%21a%20%26%26%20%21b%29%20return%20%27%27%3B%0D%0A%20%20if%20%28%21a%29%20return%20b%3B%0D%0A%20%20if%20%28%21b%29%20return%20a%3B%0D%0A%20%20if%20%28isArray%28a%29%29%20a%20%3D%20a.join%28%27%20%27%29%3B%0D%0A%20%20if%20%28isArray%28b%29%29%20b%20%3D%20b.join%28%27%20%27%29%3B%0D%0A%20%20return%20a%20+%20%27%20%27%20+%20b%3B%0D%0A%7D%0D%0A%0D%0Afunction%20extractElementNode%28element%29%20%7B%0D%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20element.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20var%20elm%20%3D%20element%5Bi%5D%3B%0D%0A%20%20%20%20if%20%28elm.nodeType%20%3D%3D%3D%20ELEMENT_NODE%29%20%7B%0D%0A%20%20%20%20%20%20return%20elm%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20splitClasses%28classes%29%20%7B%0D%0A%20%20if%20%28isString%28classes%29%29%20%7B%0D%0A%20%20%20%20classes%20%3D%20classes.split%28%27%20%27%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20Use%20createMap%28%29%20to%20prevent%20class%20assumptions%20involving%20property%20names%20in%0D%0A%20%20//%20Object.prototype%0D%0A%20%20var%20obj%20%3D%20createMap%28%29%3B%0D%0A%20%20forEach%28classes%2C%20function%28klass%29%20%7B%0D%0A%20%20%20%20//%20sometimes%20the%20split%20leaves%20empty%20string%20values%0D%0A%20%20%20%20//%20incase%20extra%20spaces%20were%20applied%20to%20the%20options%0D%0A%20%20%20%20if%20%28klass.length%29%20%7B%0D%0A%20%20%20%20%20%20obj%5Bklass%5D%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%29%3B%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0A//%20if%20any%20other%20type%20of%20options%20value%20besides%20an%20Object%20value%20is%0D%0A//%20passed%20into%20the%20%24animate.method%28%29%20animation%20then%20this%20helper%20code%0D%0A//%20will%20be%20run%20which%20will%20ignore%20it.%20While%20this%20patch%20is%20not%20the%0D%0A//%20greatest%20solution%20to%20this%2C%20a%20lot%20of%20existing%20plugins%20depend%20on%0D%0A//%20%24animate%20to%20either%20call%20the%20callback%20%28%3C%201.2%29%20or%20return%20a%20promise%0D%0A//%20that%20can%20be%20changed.%20This%20helper%20function%20ensures%20that%20the%20options%0D%0A//%20are%20wiped%20clean%20incase%20a%20callback%20function%20is%20provided.%0D%0Afunction%20prepareAnimateOptions%28options%29%20%7B%0D%0A%20%20return%20isObject%28options%29%0D%0A%20%20%20%20%20%20%3F%20options%0D%0A%20%20%20%20%20%20%3A%20%7B%7D%3B%0D%0A%7D%0D%0A%0D%0Avar%20%24%24CoreAnimateRunnerProvider%20%3D%20function%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24q%27%2C%20%27%24%24rAF%27%2C%20function%28%24q%2C%20%24%24rAF%29%20%7B%0D%0A%20%20%20%20function%20AnimateRunner%28%29%20%7B%7D%0D%0A%20%20%20%20AnimateRunner.all%20%3D%20noop%3B%0D%0A%20%20%20%20AnimateRunner.chain%20%3D%20noop%3B%0D%0A%20%20%20%20AnimateRunner.prototype%20%3D%20%7B%0D%0A%20%20%20%20%20%20end%3A%20noop%2C%0D%0A%20%20%20%20%20%20cancel%3A%20noop%2C%0D%0A%20%20%20%20%20%20resume%3A%20noop%2C%0D%0A%20%20%20%20%20%20pause%3A%20noop%2C%0D%0A%20%20%20%20%20%20complete%3A%20noop%2C%0D%0A%20%20%20%20%20%20then%3A%20function%28pass%2C%20fail%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24q%28function%28resolve%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24%24rAF%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29.then%28pass%2C%20fail%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20return%20AnimateRunner%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%3B%0D%0A%0D%0A//%20this%20is%20prefixed%20with%20Core%20since%20it%20conflicts%20with%0D%0A//%20the%20animateQueueProvider%20defined%20in%20ngAnimate/animateQueue.js%0D%0Avar%20%24%24CoreAnimateQueueProvider%20%3D%20function%28%29%20%7B%0D%0A%20%20var%20postDigestQueue%20%3D%20new%20HashMap%28%29%3B%0D%0A%20%20var%20postDigestElements%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24%24AnimateRunner%27%2C%20%27%24rootScope%27%2C%0D%0A%20%20%20%20%20%20%20function%28%24%24AnimateRunner%2C%20%20%20%24rootScope%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20enabled%3A%20noop%2C%0D%0A%20%20%20%20%20%20on%3A%20noop%2C%0D%0A%20%20%20%20%20%20off%3A%20noop%2C%0D%0A%20%20%20%20%20%20pin%3A%20noop%2C%0D%0A%0D%0A%20%20%20%20%20%20push%3A%20function%28element%2C%20event%2C%20options%2C%20domOperation%29%20%7B%0D%0A%20%20%20%20%20%20%20%20domOperation%20%20%20%20%20%20%20%20%26%26%20domOperation%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20options%20%7C%7C%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20options.from%20%20%20%20%20%20%20%20%26%26%20element.css%28options.from%29%3B%0D%0A%20%20%20%20%20%20%20%20options.to%20%20%20%20%20%20%20%20%20%20%26%26%20element.css%28options.to%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28options.addClass%20%7C%7C%20options.removeClass%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20addRemoveClassesPostDigest%28element%2C%20options.addClass%2C%20options.removeClass%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20new%20%24%24AnimateRunner%28%29%3B%20//%20jshint%20ignore%3Aline%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20function%20addRemoveClassesPostDigest%28element%2C%20add%2C%20remove%29%20%7B%0D%0A%20%20%20%20%20%20var%20data%20%3D%20postDigestQueue.get%28element%29%3B%0D%0A%20%20%20%20%20%20var%20classVal%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21data%29%20%7B%0D%0A%20%20%20%20%20%20%20%20postDigestQueue.put%28element%2C%20data%20%3D%20%7B%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20postDigestElements.push%28element%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28add%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28add.split%28%27%20%27%29%2C%20function%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20data%5BclassName%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28remove%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28remove.split%28%27%20%27%29%2C%20function%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20data%5BclassName%5D%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28postDigestElements.length%20%3E%201%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%24rootScope.%24%24postDigest%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28postDigestElements%2C%20function%28element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20data%20%3D%20postDigestQueue.get%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28data%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20existing%20%3D%20splitClasses%28element.attr%28%27class%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20toAdd%20%3D%20%27%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20toRemove%20%3D%20%27%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20forEach%28data%2C%20function%28status%2C%20className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20%21%21existing%5BclassName%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28status%20%21%3D%3D%20hasClass%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28status%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toAdd%20+%3D%20%28toAdd.length%20%3F%20%27%20%27%20%3A%20%27%27%29%20+%20className%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toRemove%20+%3D%20%28toRemove.length%20%3F%20%27%20%27%20%3A%20%27%27%29%20+%20className%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20forEach%28element%2C%20function%28elm%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toAdd%20%20%20%20%26%26%20jqLiteAddClass%28elm%2C%20toAdd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toRemove%20%26%26%20jqLiteRemoveClass%28elm%2C%20toRemove%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20postDigestQueue.remove%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20postDigestElements.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24animateProvider%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Default%20implementation%20of%20%24animate%20that%20doesn%27t%20perform%20any%20animations%2C%20instead%20just%0D%0A%20*%20synchronously%20performs%20DOM%20updates%20and%20resolves%20the%20returned%20runner%20promise.%0D%0A%20*%0D%0A%20*%20In%20order%20to%20enable%20animations%20the%20%60ngAnimate%60%20module%20has%20to%20be%20loaded.%0D%0A%20*%0D%0A%20*%20To%20see%20the%20functional%20implementation%20check%20out%20%60src/ngAnimate/animate.js%60.%0D%0A%20*/%0D%0Avar%20%24AnimateProvider%20%3D%20%5B%27%24provide%27%2C%20function%28%24provide%29%20%7B%0D%0A%20%20var%20provider%20%3D%20this%3B%0D%0A%0D%0A%20%20this.%24%24registeredAnimations%20%3D%20Object.create%28null%29%3B%0D%0A%0D%0A%20%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24animateProvider%23register%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Registers%20a%20new%20injectable%20animation%20factory%20function.%20The%20factory%20function%20produces%20the%0D%0A%20%20%20*%20animation%20object%20which%20contains%20callback%20functions%20for%20each%20event%20that%20is%20expected%20to%20be%0D%0A%20%20%20*%20animated.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20*%20%60eventFn%60%3A%20%60function%28element%2C%20...%20%2C%20doneFunction%2C%20options%29%60%0D%0A%20%20%20*%20%20%20The%20element%20to%20animate%2C%20the%20%60doneFunction%60%20and%20the%20options%20fed%20into%20the%20animation.%20Depending%0D%0A%20%20%20*%20%20%20on%20the%20type%20of%20animation%20additional%20arguments%20will%20be%20injected%20into%20the%20animation%20function.%20The%0D%0A%20%20%20*%20%20%20list%20below%20explains%20the%20function%20signatures%20for%20the%20different%20animation%20methods%3A%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20-%20setClass%3A%20function%28element%2C%20addedClasses%2C%20removedClasses%2C%20doneFunction%2C%20options%29%0D%0A%20%20%20*%20%20%20-%20addClass%3A%20function%28element%2C%20addedClasses%2C%20doneFunction%2C%20options%29%0D%0A%20%20%20*%20%20%20-%20removeClass%3A%20function%28element%2C%20removedClasses%2C%20doneFunction%2C%20options%29%0D%0A%20%20%20*%20%20%20-%20enter%2C%20leave%2C%20move%3A%20function%28element%2C%20doneFunction%2C%20options%29%0D%0A%20%20%20*%20%20%20-%20animate%3A%20function%28element%2C%20fromStyles%2C%20toStyles%2C%20doneFunction%2C%20options%29%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20Make%20sure%20to%20trigger%20the%20%60doneFunction%60%20once%20the%20animation%20is%20fully%20complete.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20%20%20return%20%7B%0D%0A%20%20%20*%20%20%20%20%20//enter%2C%20leave%2C%20move%20signature%0D%0A%20%20%20*%20%20%20%20%20eventFn%20%3A%20function%28element%2C%20done%2C%20options%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20//code%20to%20run%20the%20animation%0D%0A%20%20%20*%20%20%20%20%20%20%20//once%20complete%2C%20then%20run%20done%28%29%0D%0A%20%20%20*%20%20%20%20%20%20%20return%20function%20endFunction%28wasCancelled%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20//code%20to%20cancel%20the%20animation%0D%0A%20%20%20*%20%20%20%20%20%20%20%7D%0D%0A%20%20%20*%20%20%20%20%20%7D%0D%0A%20%20%20*%20%20%20%7D%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20name%20The%20name%20of%20the%20animation%20%28this%20is%20what%20the%20class-based%20CSS%20value%20will%20be%20compared%20to%29.%0D%0A%20%20%20*%20@param%20%7BFunction%7D%20factory%20The%20factory%20function%20that%20will%20be%20executed%20to%20return%20the%20animation%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.%0D%0A%20%20%20*/%0D%0A%20%20this.register%20%3D%20function%28name%2C%20factory%29%20%7B%0D%0A%20%20%20%20if%20%28name%20%26%26%20name.charAt%280%29%20%21%3D%3D%20%27.%27%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24animateMinErr%28%27notcsel%27%2C%20%22Expecting%20class%20selector%20starting%20with%20%27.%27%20got%20%27%7B0%7D%27.%22%2C%20name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20key%20%3D%20name%20+%20%27-animation%27%3B%0D%0A%20%20%20%20provider.%24%24registeredAnimations%5Bname.substr%281%29%5D%20%3D%20key%3B%0D%0A%20%20%20%20%24provide.factory%28key%2C%20factory%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24animateProvider%23classNameFilter%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20and/or%20returns%20the%20CSS%20class%20regular%20expression%20that%20is%20checked%20when%20performing%0D%0A%20%20%20*%20an%20animation.%20Upon%20bootstrap%20the%20classNameFilter%20value%20is%20not%20set%20at%20all%20and%20will%0D%0A%20%20%20*%20therefore%20enable%20%24animate%20to%20attempt%20to%20perform%20an%20animation%20on%20any%20element%20that%20is%20triggered.%0D%0A%20%20%20*%20When%20setting%20the%20%60classNameFilter%60%20value%2C%20animations%20will%20only%20be%20performed%20on%20elements%0D%0A%20%20%20*%20that%20successfully%20match%20the%20filter%20expression.%20This%20in%20turn%20can%20boost%20performance%0D%0A%20%20%20*%20for%20low-powered%20devices%20as%20well%20as%20applications%20containing%20a%20lot%20of%20structural%20operations.%0D%0A%20%20%20*%20@param%20%7BRegExp%3D%7D%20expression%20The%20className%20expression%20which%20will%20be%20checked%20against%20all%20animations%0D%0A%20%20%20*%20@return%20%7BRegExp%7D%20The%20current%20CSS%20className%20expression%20value.%20If%20null%20then%20there%20is%20no%20expression%20value%0D%0A%20%20%20*/%0D%0A%20%20this.classNameFilter%20%3D%20function%28expression%29%20%7B%0D%0A%20%20%20%20if%20%28arguments.length%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24classNameFilter%20%3D%20%28expression%20instanceof%20RegExp%29%20%3F%20expression%20%3A%20null%3B%0D%0A%20%20%20%20%20%20if%20%28this.%24%24classNameFilter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20reservedRegex%20%3D%20new%20RegExp%28%22%28%5C%5Cs+%7C%5C%5C/%29%22%20+%20NG_ANIMATE_CLASSNAME%20+%20%22%28%5C%5Cs+%7C%5C%5C/%29%22%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28reservedRegex.test%28this.%24%24classNameFilter.toString%28%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24animateMinErr%28%27nongcls%27%2C%27%24animateProvider.classNameFilter%28regex%29%20prohibits%20accepting%20a%20regex%20value%20which%20matches/contains%20the%20%22%7B0%7D%22%20CSS%20class.%27%2C%20NG_ANIMATE_CLASSNAME%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20this.%24%24classNameFilter%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24%24animateQueue%27%2C%20function%28%24%24animateQueue%29%20%7B%0D%0A%20%20%20%20function%20domInsert%28element%2C%20parentElement%2C%20afterElement%29%20%7B%0D%0A%20%20%20%20%20%20//%20if%20for%20some%20reason%20the%20previous%20element%20was%20removed%0D%0A%20%20%20%20%20%20//%20from%20the%20dom%20sometime%20before%20this%20code%20runs%20then%20let%27s%0D%0A%20%20%20%20%20%20//%20just%20stick%20to%20using%20the%20parent%20element%20as%20the%20anchor%0D%0A%20%20%20%20%20%20if%20%28afterElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20afterNode%20%3D%20extractElementNode%28afterElement%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28afterNode%20%26%26%20%21afterNode.parentNode%20%26%26%20%21afterNode.previousElementSibling%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20afterElement%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20afterElement%20%3F%20afterElement.after%28element%29%20%3A%20parentElement.prepend%28element%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20*%20@name%20%24animate%0D%0A%20%20%20%20%20*%20@description%20The%20%24animate%20service%20exposes%20a%20series%20of%20DOM%20utility%20methods%20that%20provide%20support%0D%0A%20%20%20%20%20*%20for%20animation%20hooks.%20The%20default%20behavior%20is%20the%20application%20of%20DOM%20operations%2C%20however%2C%0D%0A%20%20%20%20%20*%20when%20an%20animation%20is%20detected%20%28and%20animations%20are%20enabled%29%2C%20%24animate%20will%20do%20the%20heavy%20lifting%0D%0A%20%20%20%20%20*%20to%20ensure%20that%20animation%20runs%20with%20the%20triggered%20DOM%20operation.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20By%20default%20%24animate%20doesn%27t%20trigger%20an%20animations.%20This%20is%20because%20the%20%60ngAnimate%60%20module%20isn%27t%0D%0A%20%20%20%20%20*%20included%20and%20only%20when%20it%20is%20active%20then%20the%20animation%20hooks%20that%20%60%24animate%60%20triggers%20will%20be%0D%0A%20%20%20%20%20*%20functional.%20Once%20active%20then%20all%20structural%20%60ng-%60%20directives%20will%20trigger%20animations%20as%20they%20perform%0D%0A%20%20%20%20%20*%20their%20DOM-related%20operations%20%28enter%2C%20leave%20and%20move%29.%20Other%20directives%20such%20as%20%60ngClass%60%2C%0D%0A%20%20%20%20%20*%20%60ngShow%60%2C%20%60ngHide%60%20and%20%60ngMessages%60%20also%20provide%20support%20for%20animations.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20It%20is%20recommended%20that%20the%60%24animate%60%20service%20is%20always%20used%20when%20executing%20DOM-related%20procedures%20within%20directives.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20To%20learn%20more%20about%20enabling%20animation%20support%2C%20click%20here%20to%20visit%20the%0D%0A%20%20%20%20%20*%20%7B@link%20ngAnimate%20ngAnimate%20module%20page%7D.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20//%20we%20don%27t%20call%20it%20directly%20since%20non-existant%20arguments%20may%0D%0A%20%20%20%20%20%20//%20be%20interpreted%20as%20null%20within%20the%20sub%20enabled%20function%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23on%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Sets%20up%20an%20event%20listener%20to%20fire%20whenever%20the%20animation%20event%20%28enter%2C%20leave%2C%20move%2C%20etc...%29%0D%0A%20%20%20%20%20%20%20*%20%20%20%20has%20fired%20on%20the%20given%20element%20or%20among%20any%20of%20its%20children.%20Once%20the%20listener%20is%20fired%2C%20the%20provided%20callback%0D%0A%20%20%20%20%20%20%20*%20%20%20%20is%20fired%20with%20the%20following%20params%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20*%20%24animate.on%28%27enter%27%2C%20container%2C%0D%0A%20%20%20%20%20%20%20*%20%20%20%20function%20callback%28element%2C%20phase%29%20%7B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20//%20cool%20we%20detected%20an%20enter%20animation%20within%20the%20container%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20*%20%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20event%20the%20animation%20event%20that%20will%20be%20captured%20%28e.g.%20enter%2C%20leave%2C%20move%2C%20addClass%2C%20removeClass%2C%20etc...%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20container%20the%20container%20element%20that%20will%20capture%20each%20of%20the%20animation%20events%20that%20are%20fired%20on%20itself%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20as%20well%20as%20among%20its%20children%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BFunction%7D%20callback%20the%20callback%20function%20that%20will%20be%20fired%20when%20the%20listener%20is%20triggered%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20arguments%20present%20in%20the%20callback%20function%20are%3A%0D%0A%20%20%20%20%20%20%20*%20*%20%60element%60%20-%20The%20captured%20DOM%20element%20that%20the%20animation%20was%20fired%20on.%0D%0A%20%20%20%20%20%20%20*%20*%20%60phase%60%20-%20The%20phase%20of%20the%20animation.%20The%20two%20possible%20phases%20are%20**start**%20%28when%20the%20animation%20starts%29%20and%20**close**%20%28when%20it%20ends%29.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20on%3A%20%24%24animateQueue.on%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23off%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Deregisters%20an%20event%20listener%20based%20on%20the%20event%20which%20has%20been%20associated%20with%20the%20provided%20element.%20This%20method%0D%0A%20%20%20%20%20%20%20*%20can%20be%20used%20in%20three%20different%20ways%20depending%20on%20the%20arguments%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20*%20//%20remove%20all%20the%20animation%20event%20listeners%20listening%20for%20%60enter%60%0D%0A%20%20%20%20%20%20%20*%20%24animate.off%28%27enter%27%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20//%20remove%20all%20the%20animation%20event%20listeners%20listening%20for%20%60enter%60%20on%20the%20given%20element%20and%20its%20children%0D%0A%20%20%20%20%20%20%20*%20%24animate.off%28%27enter%27%2C%20container%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20//%20remove%20the%20event%20listener%20function%20provided%20by%20%60listenerFn%60%20that%20is%20set%0D%0A%20%20%20%20%20%20%20*%20//%20to%20listen%20for%20%60enter%60%20on%20the%20given%20%60element%60%20as%20well%20as%20its%20children%0D%0A%20%20%20%20%20%20%20*%20%24animate.off%28%27enter%27%2C%20container%2C%20callback%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20event%20the%20animation%20event%20%28e.g.%20enter%2C%20leave%2C%20move%2C%20addClass%2C%20removeClass%2C%20etc...%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%3D%7D%20container%20the%20container%20element%20the%20event%20listener%20was%20placed%20on%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BFunction%3D%7D%20callback%20the%20callback%20function%20that%20was%20registered%20as%20the%20listener%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20off%3A%20%24%24animateQueue.off%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23pin%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Associates%20the%20provided%20element%20with%20a%20host%20parent%20element%20to%20allow%20the%20element%20to%20be%20animated%20even%20if%20it%20exists%0D%0A%20%20%20%20%20%20%20*%20%20%20%20outside%20of%20the%20DOM%20structure%20of%20the%20Angular%20application.%20By%20doing%20so%2C%20any%20animation%20triggered%20via%20%60%24animate%60%20can%20be%20issued%20on%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20element%20despite%20being%20outside%20the%20realm%20of%20the%20application%20or%20within%20another%20application.%20Say%20for%20example%20if%20the%20application%0D%0A%20%20%20%20%20%20%20*%20%20%20%20was%20bootstrapped%20on%20an%20element%20that%20is%20somewhere%20inside%20of%20the%20%60%3Cbody%3E%60%20tag%2C%20but%20we%20wanted%20to%20allow%20for%20an%20element%20to%20be%20situated%0D%0A%20%20%20%20%20%20%20*%20%20%20%20as%20a%20direct%20child%20of%20%60document.body%60%2C%20then%20this%20can%20be%20achieved%20by%20pinning%20the%20element%20via%20%60%24animate.pin%28element%29%60.%20Keep%20in%20mind%0D%0A%20%20%20%20%20%20%20*%20%20%20%20that%20calling%20%60%24animate.pin%28element%2C%20parentElement%29%60%20will%20not%20actually%20insert%20into%20the%20DOM%20anywhere%3B%20it%20will%20just%20create%20the%20association.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20Note%20that%20this%20feature%20is%20only%20active%20when%20the%20%60ngAnimate%60%20module%20is%20used.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20external%20element%20that%20will%20be%20pinned%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20parentElement%20the%20host%20parent%20element%20that%20will%20be%20associated%20with%20the%20external%20element%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20pin%3A%20%24%24animateQueue.pin%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23enabled%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Used%20to%20get%20and%20set%20whether%20animations%20are%20enabled%20or%20not%20on%20the%20entire%20application%20or%20on%20an%20element%20and%20its%20children.%20This%0D%0A%20%20%20%20%20%20%20*%20function%20can%20be%20called%20in%20four%20ways%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20*%20//%20returns%20true%20or%20false%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20//%20changes%20the%20enabled%20state%20for%20all%20animations%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28false%29%3B%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28true%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20//%20returns%20true%20or%20false%20if%20animations%20are%20enabled%20for%20an%20element%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28element%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20//%20changes%20the%20enabled%20state%20for%20an%20element%20and%20its%20children%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28element%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20*%20%24animate.enabled%28element%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%3D%7D%20element%20the%20element%20that%20will%20be%20considered%20for%20checking/setting%20the%20enabled%20state%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20enabled%20whether%20or%20not%20the%20animations%20will%20be%20enabled%20for%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7Bboolean%7D%20whether%20or%20not%20animations%20are%20enabled%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20enabled%3A%20%24%24animateQueue.enabled%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23cancel%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Cancels%20the%20provided%20animation.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BPromise%7D%20animationPromise%20The%20animation%20promise%20that%20is%20returned%20when%20an%20animation%20is%20started.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20cancel%3A%20function%28runner%29%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.end%20%26%26%20runner.end%28%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23enter%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Inserts%20the%20element%20into%20the%20DOM%20either%20after%20the%20%60after%60%20element%20%28if%20provided%29%20or%0D%0A%20%20%20%20%20%20%20*%20%20%20as%20the%20first%20child%20within%20the%20%60parent%60%20element%20and%20then%20triggers%20an%20animation.%0D%0A%20%20%20%20%20%20%20*%20%20%20A%20promise%20is%20returned%20that%20will%20be%20resolved%20during%20the%20next%20digest%20once%20the%20animation%0D%0A%20%20%20%20%20%20%20*%20%20%20has%20completed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20will%20be%20inserted%20into%20the%20DOM%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20parent%20the%20parent%20element%20which%20will%20append%20the%20element%20as%0D%0A%20%20%20%20%20%20%20*%20%20%20a%20child%20%28so%20long%20as%20the%20after%20element%20is%20not%20present%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%3D%7D%20after%20the%20sibling%20element%20after%20which%20the%20element%20will%20be%20appended%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20enter%3A%20function%28element%2C%20parent%2C%20after%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parent%20%3D%20parent%20%26%26%20jqLite%28parent%29%3B%0D%0A%20%20%20%20%20%20%20%20after%20%3D%20after%20%26%26%20jqLite%28after%29%3B%0D%0A%20%20%20%20%20%20%20%20parent%20%3D%20parent%20%7C%7C%20after.parent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20domInsert%28element%2C%20parent%2C%20after%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27enter%27%2C%20prepareAnimateOptions%28options%29%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23move%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Inserts%20%28moves%29%20the%20element%20into%20its%20new%20position%20in%20the%20DOM%20either%20after%0D%0A%20%20%20%20%20%20%20*%20%20%20the%20%60after%60%20element%20%28if%20provided%29%20or%20as%20the%20first%20child%20within%20the%20%60parent%60%20element%0D%0A%20%20%20%20%20%20%20*%20%20%20and%20then%20triggers%20an%20animation.%20A%20promise%20is%20returned%20that%20will%20be%20resolved%0D%0A%20%20%20%20%20%20%20*%20%20%20during%20the%20next%20digest%20once%20the%20animation%20has%20completed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20will%20be%20moved%20into%20the%20new%20DOM%20position%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20parent%20the%20parent%20element%20which%20will%20append%20the%20element%20as%0D%0A%20%20%20%20%20%20%20*%20%20%20a%20child%20%28so%20long%20as%20the%20after%20element%20is%20not%20present%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%3D%7D%20after%20the%20sibling%20element%20after%20which%20the%20element%20will%20be%20appended%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20move%3A%20function%28element%2C%20parent%2C%20after%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parent%20%3D%20parent%20%26%26%20jqLite%28parent%29%3B%0D%0A%20%20%20%20%20%20%20%20after%20%3D%20after%20%26%26%20jqLite%28after%29%3B%0D%0A%20%20%20%20%20%20%20%20parent%20%3D%20parent%20%7C%7C%20after.parent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20domInsert%28element%2C%20parent%2C%20after%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27move%27%2C%20prepareAnimateOptions%28options%29%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23leave%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%20@description%20Triggers%20an%20animation%20and%20then%20removes%20the%20element%20from%20the%20DOM.%0D%0A%20%20%20%20%20%20%20*%20When%20the%20function%20is%20called%20a%20promise%20is%20returned%20that%20will%20be%20resolved%20during%20the%20next%0D%0A%20%20%20%20%20%20%20*%20digest%20once%20the%20animation%20has%20completed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20will%20be%20removed%20from%20the%20DOM%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20leave%3A%20function%28element%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27leave%27%2C%20prepareAnimateOptions%28options%29%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.remove%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23addClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%20Triggers%20an%20addClass%20animation%20surrounding%20the%20addition%20of%20the%20provided%20CSS%20class%28es%29.%20Upon%0D%0A%20%20%20%20%20%20%20*%20%20%20execution%2C%20the%20addClass%20operation%20will%20only%20be%20handled%20after%20the%20next%20digest%20and%20it%20will%20not%20trigger%20an%0D%0A%20%20%20%20%20%20%20*%20%20%20animation%20if%20element%20already%20contains%20the%20CSS%20class%20or%20if%20the%20class%20is%20removed%20at%20a%20later%20step.%0D%0A%20%20%20%20%20%20%20*%20%20%20Note%20that%20class-based%20animations%20are%20treated%20differently%20compared%20to%20structural%20animations%0D%0A%20%20%20%20%20%20%20*%20%20%20%28like%20enter%2C%20move%20and%20leave%29%20since%20the%20CSS%20classes%20may%20be%20added/removed%20at%20different%20points%0D%0A%20%20%20%20%20%20%20*%20%20%20depending%20if%20CSS%20or%20JavaScript%20animations%20are%20used.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20the%20CSS%20classes%20will%20be%20applied%20to%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20className%20the%20CSS%20class%28es%29%20that%20will%20be%20added%20%28multiple%20classes%20are%20separated%20via%20spaces%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20addClass%3A%20function%28element%2C%20className%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20prepareAnimateOptions%28options%29%3B%0D%0A%20%20%20%20%20%20%20%20options.addClass%20%3D%20mergeClasses%28options.addclass%2C%20className%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27addClass%27%2C%20options%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23removeClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%20Triggers%20a%20removeClass%20animation%20surrounding%20the%20removal%20of%20the%20provided%20CSS%20class%28es%29.%20Upon%0D%0A%20%20%20%20%20%20%20*%20%20%20execution%2C%20the%20removeClass%20operation%20will%20only%20be%20handled%20after%20the%20next%20digest%20and%20it%20will%20not%20trigger%20an%0D%0A%20%20%20%20%20%20%20*%20%20%20animation%20if%20element%20does%20not%20contain%20the%20CSS%20class%20or%20if%20the%20class%20is%20added%20at%20a%20later%20step.%0D%0A%20%20%20%20%20%20%20*%20%20%20Note%20that%20class-based%20animations%20are%20treated%20differently%20compared%20to%20structural%20animations%0D%0A%20%20%20%20%20%20%20*%20%20%20%28like%20enter%2C%20move%20and%20leave%29%20since%20the%20CSS%20classes%20may%20be%20added/removed%20at%20different%20points%0D%0A%20%20%20%20%20%20%20*%20%20%20depending%20if%20CSS%20or%20JavaScript%20animations%20are%20used.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20the%20CSS%20classes%20will%20be%20applied%20to%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20className%20the%20CSS%20class%28es%29%20that%20will%20be%20removed%20%28multiple%20classes%20are%20separated%20via%20spaces%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20removeClass%3A%20function%28element%2C%20className%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20prepareAnimateOptions%28options%29%3B%0D%0A%20%20%20%20%20%20%20%20options.removeClass%20%3D%20mergeClasses%28options.removeClass%2C%20className%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27removeClass%27%2C%20options%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23setClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%20Performs%20both%20the%20addition%20and%20removal%20of%20a%20CSS%20classes%20on%20an%20element%20and%20%28during%20the%20process%29%0D%0A%20%20%20%20%20%20%20*%20%20%20%20triggers%20an%20animation%20surrounding%20the%20class%20addition/removal.%20Much%20like%20%60%24animate.addClass%60%20and%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%60%24animate.removeClass%60%2C%20%60setClass%60%20will%20only%20evaluate%20the%20classes%20being%20added/removed%20once%20a%20digest%20has%0D%0A%20%20%20%20%20%20%20*%20%20%20%20passed.%20Note%20that%20class-based%20animations%20are%20treated%20differently%20compared%20to%20structural%20animations%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%28like%20enter%2C%20move%20and%20leave%29%20since%20the%20CSS%20classes%20may%20be%20added/removed%20at%20different%20points%0D%0A%20%20%20%20%20%20%20*%20%20%20%20depending%20if%20CSS%20or%20JavaScript%20animations%20are%20used.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20the%20CSS%20classes%20will%20be%20applied%20to%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20add%20the%20CSS%20class%28es%29%20that%20will%20be%20added%20%28multiple%20classes%20are%20separated%20via%20spaces%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20remove%20the%20CSS%20class%28es%29%20that%20will%20be%20removed%20%28multiple%20classes%20are%20separated%20via%20spaces%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20setClass%3A%20function%28element%2C%20add%2C%20remove%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20prepareAnimateOptions%28options%29%3B%0D%0A%20%20%20%20%20%20%20%20options.addClass%20%3D%20mergeClasses%28options.addClass%2C%20add%29%3B%0D%0A%20%20%20%20%20%20%20%20options.removeClass%20%3D%20mergeClasses%28options.removeClass%2C%20remove%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27setClass%27%2C%20options%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24animate%23animate%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%20Performs%20an%20inline%20animation%20on%20the%20element%20which%20applies%20the%20provided%20to%20and%20from%20CSS%20styles%20to%20the%20element.%0D%0A%20%20%20%20%20%20%20*%20If%20any%20detected%20CSS%20transition%2C%20keyframe%20or%20JavaScript%20matches%20the%20provided%20className%20value%20then%20the%20animation%20will%20take%0D%0A%20%20%20%20%20%20%20*%20on%20the%20provided%20styles.%20For%20example%2C%20if%20a%20transition%20animation%20is%20set%20for%20the%20given%20className%20then%20the%20provided%20from%20and%0D%0A%20%20%20%20%20%20%20*%20to%20styles%20will%20be%20applied%20alongside%20the%20given%20transition.%20If%20a%20JavaScript%20animation%20is%20detected%20then%20the%20provided%20styles%0D%0A%20%20%20%20%20%20%20*%20will%20be%20given%20in%20as%20function%20paramters%20into%20the%20%60animate%60%20method%20%28or%20as%20apart%20of%20the%20%60options%60%20parameter%29.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BDOMElement%7D%20element%20the%20element%20which%20the%20CSS%20styles%20will%20be%20applied%20to%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%7D%20from%20the%20from%20%28starting%29%20CSS%20styles%20that%20will%20be%20applied%20to%20the%20element%20and%20across%20the%20animation.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%7D%20to%20the%20to%20%28destination%29%20CSS%20styles%20that%20will%20be%20applied%20to%20the%20element%20and%20across%20the%20animation.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20className%20an%20optional%20CSS%20class%20that%20will%20be%20applied%20to%20the%20element%20for%20the%20duration%20of%20the%20animation.%20If%0D%0A%20%20%20%20%20%20%20*%20%20%20%20this%20value%20is%20left%20as%20empty%20then%20a%20CSS%20class%20of%20%60ng-inline-animate%60%20will%20be%20applied%20to%20the%20element.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%28Note%20that%20if%20no%20animation%20is%20detected%20then%20this%20value%20will%20not%20be%20appplied%20to%20the%20element.%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bobject%3D%7D%20options%20an%20optional%20collection%20of%20options/styles%20that%20will%20be%20applied%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BPromise%7D%20the%20animation%20callback%20promise%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20animate%3A%20function%28element%2C%20from%2C%20to%2C%20className%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20prepareAnimateOptions%28options%29%3B%0D%0A%20%20%20%20%20%20%20%20options.from%20%3D%20options.from%20%3F%20extend%28options.from%2C%20from%29%20%3A%20from%3B%0D%0A%20%20%20%20%20%20%20%20options.to%20%20%20%3D%20options.to%20%20%20%3F%20extend%28options.to%2C%20to%29%20%20%20%20%20%3A%20to%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20className%20%3D%20className%20%7C%7C%20%27ng-inline-animate%27%3B%0D%0A%20%20%20%20%20%20%20%20options.tempClasses%20%3D%20mergeClasses%28options.tempClasses%2C%20className%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24%24animateQueue.push%28element%2C%20%27animate%27%2C%20options%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Afunction%20%24%24AsyncCallbackProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24%24rAF%27%2C%20%27%24timeout%27%2C%20function%28%24%24rAF%2C%20%24timeout%29%20%7B%0D%0A%20%20%20%20return%20%24%24rAF.supported%0D%0A%20%20%20%20%20%20%3F%20function%28fn%29%20%7B%20return%20%24%24rAF%28fn%29%3B%20%7D%0D%0A%20%20%20%20%20%20%3A%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24timeout%28fn%2C%200%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/*%20global%20stripHash%3A%20true%20*/%0D%0A%0D%0A/**%0D%0A%20*%20%21%20This%20is%20a%20private%20undocumented%20service%20%21%0D%0A%20*%0D%0A%20*%20@name%20%24browser%0D%0A%20*%20@requires%20%24log%0D%0A%20*%20@description%0D%0A%20*%20This%20object%20has%20two%20goals%3A%0D%0A%20*%0D%0A%20*%20-%20hide%20all%20the%20global%20state%20in%20the%20browser%20caused%20by%20the%20window%20object%0D%0A%20*%20-%20abstract%20away%20all%20the%20browser%20specific%20features%20and%20inconsistencies%0D%0A%20*%0D%0A%20*%20For%20tests%20we%20provide%20%7B@link%20ngMock.%24browser%20mock%20implementation%7D%20of%20the%20%60%24browser%60%0D%0A%20*%20service%2C%20which%20can%20be%20used%20for%20convenient%20testing%20of%20the%20application%20without%20the%20interaction%20with%0D%0A%20*%20the%20real%20browser%20apis.%0D%0A%20*/%0D%0A/**%0D%0A%20*%20@param%20%7Bobject%7D%20window%20The%20global%20window%20object.%0D%0A%20*%20@param%20%7Bobject%7D%20document%20jQuery%20wrapped%20document.%0D%0A%20*%20@param%20%7Bobject%7D%20%24log%20window.console%20or%20an%20object%20with%20the%20same%20interface.%0D%0A%20*%20@param%20%7Bobject%7D%20%24sniffer%20%24sniffer%20service%0D%0A%20*/%0D%0Afunction%20Browser%28window%2C%20document%2C%20%24log%2C%20%24sniffer%29%20%7B%0D%0A%20%20var%20self%20%3D%20this%2C%0D%0A%20%20%20%20%20%20rawDocument%20%3D%20document%5B0%5D%2C%0D%0A%20%20%20%20%20%20location%20%3D%20window.location%2C%0D%0A%20%20%20%20%20%20history%20%3D%20window.history%2C%0D%0A%20%20%20%20%20%20setTimeout%20%3D%20window.setTimeout%2C%0D%0A%20%20%20%20%20%20clearTimeout%20%3D%20window.clearTimeout%2C%0D%0A%20%20%20%20%20%20pendingDeferIds%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20self.isMock%20%3D%20false%3B%0D%0A%0D%0A%20%20var%20outstandingRequestCount%20%3D%200%3B%0D%0A%20%20var%20outstandingRequestCallbacks%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20//%20TODO%28vojta%29%3A%20remove%20this%20temporary%20api%0D%0A%20%20self.%24%24completeOutstandingRequest%20%3D%20completeOutstandingRequest%3B%0D%0A%20%20self.%24%24incOutstandingRequestCount%20%3D%20function%28%29%20%7B%20outstandingRequestCount++%3B%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Executes%20the%20%60fn%60%20function%28supports%20currying%29%20and%20decrements%20the%20%60outstandingRequestCallbacks%60%0D%0A%20%20%20*%20counter.%20If%20the%20counter%20reaches%200%2C%20all%20the%20%60outstandingRequestCallbacks%60%20are%20executed.%0D%0A%20%20%20*/%0D%0A%20%20function%20completeOutstandingRequest%28fn%29%20%7B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20fn.apply%28null%2C%20sliceArgs%28arguments%2C%201%29%29%3B%0D%0A%20%20%20%20%7D%20finally%20%7B%0D%0A%20%20%20%20%20%20outstandingRequestCount--%3B%0D%0A%20%20%20%20%20%20if%20%28outstandingRequestCount%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20while%20%28outstandingRequestCallbacks.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20outstandingRequestCallbacks.pop%28%29%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24log.error%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20getHash%28url%29%20%7B%0D%0A%20%20%20%20var%20index%20%3D%20url.indexOf%28%27%23%27%29%3B%0D%0A%20%20%20%20return%20index%20%3D%3D%3D%20-1%20%3F%20%27%27%20%3A%20url.substr%28index%20+%201%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*%20Note%3A%20this%20method%20is%20used%20only%20by%20scenario%20runner%0D%0A%20%20%20*%20TODO%28vojta%29%3A%20prefix%20this%20method%20with%20%24%24%20%3F%0D%0A%20%20%20*%20@param%20%7Bfunction%28%29%7D%20callback%20Function%20that%20will%20be%20called%20when%20no%20outstanding%20request%0D%0A%20%20%20*/%0D%0A%20%20self.notifyWhenNoOutstandingRequests%20%3D%20function%28callback%29%20%7B%0D%0A%20%20%20%20if%20%28outstandingRequestCount%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20callback%28%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20outstandingRequestCallbacks.push%28callback%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//////////////////////////////////////////////////////////////%0D%0A%20%20//%20URL%20API%0D%0A%20%20//////////////////////////////////////////////////////////////%0D%0A%0D%0A%20%20var%20cachedState%2C%20lastHistoryState%2C%0D%0A%20%20%20%20%20%20lastBrowserUrl%20%3D%20location.href%2C%0D%0A%20%20%20%20%20%20baseElement%20%3D%20document.find%28%27base%27%29%2C%0D%0A%20%20%20%20%20%20reloadLocation%20%3D%20null%3B%0D%0A%0D%0A%20%20cacheState%28%29%3B%0D%0A%20%20lastHistoryState%20%3D%20cachedState%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23url%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20GETTER%3A%0D%0A%20%20%20*%20Without%20any%20argument%2C%20this%20method%20just%20returns%20current%20value%20of%20location.href.%0D%0A%20%20%20*%0D%0A%20%20%20*%20SETTER%3A%0D%0A%20%20%20*%20With%20at%20least%20one%20argument%2C%20this%20method%20sets%20url%20to%20new%20value.%0D%0A%20%20%20*%20If%20html5%20history%20api%20supported%2C%20pushState/replaceState%20is%20used%2C%20otherwise%0D%0A%20%20%20*%20location.href/location.replace%20is%20used.%0D%0A%20%20%20*%20Returns%20its%20own%20instance%20to%20allow%20chaining%0D%0A%20%20%20*%0D%0A%20%20%20*%20NOTE%3A%20this%20api%20is%20intended%20for%20use%20only%20by%20the%20%24location%20service.%20Please%20use%20the%0D%0A%20%20%20*%20%7B@link%20ng.%24location%20%24location%20service%7D%20to%20change%20url.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20url%20New%20url%20%28when%20used%20as%20setter%29%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20replace%20Should%20new%20url%20replace%20current%20history%20record%3F%0D%0A%20%20%20*%20@param%20%7Bobject%3D%7D%20state%20object%20to%20use%20with%20pushState/replaceState%0D%0A%20%20%20*/%0D%0A%20%20self.url%20%3D%20function%28url%2C%20replace%2C%20state%29%20%7B%0D%0A%20%20%20%20//%20In%20modern%20browsers%20%60history.state%60%20is%20%60null%60%20by%20default%3B%20treating%20it%20separately%0D%0A%20%20%20%20//%20from%20%60undefined%60%20would%20cause%20%60%24browser.url%28%27/foo%27%29%60%20to%20change%20%60history.state%60%0D%0A%20%20%20%20//%20to%20undefined%20via%20%60pushState%60.%20Instead%2C%20let%27s%20change%20%60undefined%60%20to%20%60null%60%20here.%0D%0A%20%20%20%20if%20%28isUndefined%28state%29%29%20%7B%0D%0A%20%20%20%20%20%20state%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20Android%20Browser%20BFCache%20causes%20location%2C%20history%20reference%20to%20become%20stale.%0D%0A%20%20%20%20if%20%28location%20%21%3D%3D%20window.location%29%20location%20%3D%20window.location%3B%0D%0A%20%20%20%20if%20%28history%20%21%3D%3D%20window.history%29%20history%20%3D%20window.history%3B%0D%0A%0D%0A%20%20%20%20//%20setter%0D%0A%20%20%20%20if%20%28url%29%20%7B%0D%0A%20%20%20%20%20%20var%20sameState%20%3D%20lastHistoryState%20%3D%3D%3D%20state%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Don%27t%20change%20anything%20if%20previous%20and%20current%20URLs%20and%20states%20match.%20This%20also%20prevents%0D%0A%20%20%20%20%20%20//%20IE%3C10%20from%20getting%20into%20redirect%20loop%20when%20in%20LocationHashbangInHtml5Url%20mode.%0D%0A%20%20%20%20%20%20//%20See%20https%3A//github.com/angular/angular.js/commit/ffb2701%0D%0A%20%20%20%20%20%20if%20%28lastBrowserUrl%20%3D%3D%3D%20url%20%26%26%20%28%21%24sniffer.history%20%7C%7C%20sameState%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20self%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20sameBase%20%3D%20lastBrowserUrl%20%26%26%20stripHash%28lastBrowserUrl%29%20%3D%3D%3D%20stripHash%28url%29%3B%0D%0A%20%20%20%20%20%20lastBrowserUrl%20%3D%20url%3B%0D%0A%20%20%20%20%20%20lastHistoryState%20%3D%20state%3B%0D%0A%20%20%20%20%20%20//%20Don%27t%20use%20history%20API%20if%20only%20the%20hash%20changed%0D%0A%20%20%20%20%20%20//%20due%20to%20a%20bug%20in%20IE10/IE11%20which%20leads%0D%0A%20%20%20%20%20%20//%20to%20not%20firing%20a%20%60hashchange%60%20nor%20%60popstate%60%20event%0D%0A%20%20%20%20%20%20//%20in%20some%20cases%20%28see%20%239143%29.%0D%0A%20%20%20%20%20%20if%20%28%24sniffer.history%20%26%26%20%28%21sameBase%20%7C%7C%20%21sameState%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20history%5Breplace%20%3F%20%27replaceState%27%20%3A%20%27pushState%27%5D%28state%2C%20%27%27%2C%20url%29%3B%0D%0A%20%20%20%20%20%20%20%20cacheState%28%29%3B%0D%0A%20%20%20%20%20%20%20%20//%20Do%20the%20assignment%20again%20so%20that%20those%20two%20variables%20are%20referentially%20identical.%0D%0A%20%20%20%20%20%20%20%20lastHistoryState%20%3D%20cachedState%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21sameBase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20reloadLocation%20%3D%20url%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28replace%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20location.replace%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21sameBase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20location.href%20%3D%20url%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20location.hash%20%3D%20getHash%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20self%3B%0D%0A%20%20%20%20//%20getter%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20//%20-%20reloadLocation%20is%20needed%20as%20browsers%20don%27t%20allow%20to%20read%20out%0D%0A%20%20%20%20%20%20//%20%20%20the%20new%20location.href%20if%20a%20reload%20happened.%0D%0A%20%20%20%20%20%20//%20-%20the%20replacement%20is%20a%20workaround%20for%20https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D407172%0D%0A%20%20%20%20%20%20return%20reloadLocation%20%7C%7C%20location.href.replace%28/%2527/g%2C%22%27%22%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23state%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20a%20getter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20history.state%20or%20null%20if%20history.state%20is%20undefined.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7Bobject%7D%20state%0D%0A%20%20%20*/%0D%0A%20%20self.state%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20cachedState%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20urlChangeListeners%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20urlChangeInit%20%3D%20false%3B%0D%0A%0D%0A%20%20function%20cacheStateAndFireUrlChange%28%29%20%7B%0D%0A%20%20%20%20cacheState%28%29%3B%0D%0A%20%20%20%20fireUrlChange%28%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20getCurrentState%28%29%20%7B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20return%20history.state%3B%0D%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20//%20MSIE%20can%20reportedly%20throw%20when%20there%20is%20no%20state%20%28UNCONFIRMED%29.%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20This%20variable%20should%20be%20used%20*only*%20inside%20the%20cacheState%20function.%0D%0A%20%20var%20lastCachedState%20%3D%20null%3B%0D%0A%20%20function%20cacheState%28%29%20%7B%0D%0A%20%20%20%20//%20This%20should%20be%20the%20only%20place%20in%20%24browser%20where%20%60history.state%60%20is%20read.%0D%0A%20%20%20%20cachedState%20%3D%20getCurrentState%28%29%3B%0D%0A%20%20%20%20cachedState%20%3D%20isUndefined%28cachedState%29%20%3F%20null%20%3A%20cachedState%3B%0D%0A%0D%0A%20%20%20%20//%20Prevent%20callbacks%20fo%20fire%20twice%20if%20both%20hashchange%20%26%20popstate%20were%20fired.%0D%0A%20%20%20%20if%20%28equals%28cachedState%2C%20lastCachedState%29%29%20%7B%0D%0A%20%20%20%20%20%20cachedState%20%3D%20lastCachedState%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastCachedState%20%3D%20cachedState%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20fireUrlChange%28%29%20%7B%0D%0A%20%20%20%20if%20%28lastBrowserUrl%20%3D%3D%3D%20self.url%28%29%20%26%26%20lastHistoryState%20%3D%3D%3D%20cachedState%29%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastBrowserUrl%20%3D%20self.url%28%29%3B%0D%0A%20%20%20%20lastHistoryState%20%3D%20cachedState%3B%0D%0A%20%20%20%20forEach%28urlChangeListeners%2C%20function%28listener%29%20%7B%0D%0A%20%20%20%20%20%20listener%28self.url%28%29%2C%20cachedState%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23onUrlChange%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Register%20callback%20function%20that%20will%20be%20called%2C%20when%20url%20changes.%0D%0A%20%20%20*%0D%0A%20%20%20*%20It%27s%20only%20called%20when%20the%20url%20is%20changed%20from%20outside%20of%20angular%3A%0D%0A%20%20%20*%20-%20user%20types%20different%20url%20into%20address%20bar%0D%0A%20%20%20*%20-%20user%20clicks%20on%20history%20%28forward/back%29%20button%0D%0A%20%20%20*%20-%20user%20clicks%20on%20a%20link%0D%0A%20%20%20*%0D%0A%20%20%20*%20It%27s%20not%20called%20when%20url%20is%20changed%20by%20%24browser.url%28%29%20method%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20listener%20gets%20called%20with%20new%20url%20as%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20NOTE%3A%20this%20api%20is%20intended%20for%20use%20only%20by%20the%20%24location%20service.%20Please%20use%20the%0D%0A%20%20%20*%20%7B@link%20ng.%24location%20%24location%20service%7D%20to%20monitor%20url%20changes%20in%20angular%20apps.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bfunction%28string%29%7D%20listener%20Listener%20function%20to%20be%20called%20when%20url%20changes.%0D%0A%20%20%20*%20@return%20%7Bfunction%28string%29%7D%20Returns%20the%20registered%20listener%20fn%20-%20handy%20if%20the%20fn%20is%20anonymous.%0D%0A%20%20%20*/%0D%0A%20%20self.onUrlChange%20%3D%20function%28callback%29%20%7B%0D%0A%20%20%20%20//%20TODO%28vojta%29%3A%20refactor%20to%20use%20node%27s%20syntax%20for%20events%0D%0A%20%20%20%20if%20%28%21urlChangeInit%29%20%7B%0D%0A%20%20%20%20%20%20//%20We%20listen%20on%20both%20%28hashchange/popstate%29%20when%20available%2C%20as%20some%20browsers%20%28e.g.%20Opera%29%0D%0A%20%20%20%20%20%20//%20don%27t%20fire%20popstate%20when%20user%20change%20the%20address%20bar%20and%20don%27t%20fire%20hashchange%20when%20url%0D%0A%20%20%20%20%20%20//%20changed%20by%20push/replaceState%0D%0A%0D%0A%20%20%20%20%20%20//%20html5%20history%20api%20-%20popstate%20event%0D%0A%20%20%20%20%20%20if%20%28%24sniffer.history%29%20jqLite%28window%29.on%28%27popstate%27%2C%20cacheStateAndFireUrlChange%29%3B%0D%0A%20%20%20%20%20%20//%20hashchange%20event%0D%0A%20%20%20%20%20%20jqLite%28window%29.on%28%27hashchange%27%2C%20cacheStateAndFireUrlChange%29%3B%0D%0A%0D%0A%20%20%20%20%20%20urlChangeInit%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20urlChangeListeners.push%28callback%29%3B%0D%0A%20%20%20%20return%20callback%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*%20Remove%20popstate%20and%20hashchange%20handler%20from%20window.%0D%0A%20%20%20*%0D%0A%20%20%20*%20NOTE%3A%20this%20api%20is%20intended%20for%20use%20only%20by%20%24rootScope.%0D%0A%20%20%20*/%0D%0A%20%20self.%24%24applicationDestroyed%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20jqLite%28window%29.off%28%27hashchange%20popstate%27%2C%20cacheStateAndFireUrlChange%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Checks%20whether%20the%20url%20has%20changed%20outside%20of%20Angular.%0D%0A%20%20%20*%20Needs%20to%20be%20exported%20to%20be%20able%20to%20check%20for%20changes%20that%20have%20been%20done%20in%20sync%2C%0D%0A%20%20%20*%20as%20hashchange/popstate%20events%20fire%20in%20async.%0D%0A%20%20%20*/%0D%0A%20%20self.%24%24checkUrlChange%20%3D%20fireUrlChange%3B%0D%0A%0D%0A%20%20//////////////////////////////////////////////////////////////%0D%0A%20%20//%20Misc%20API%0D%0A%20%20//////////////////////////////////////////////////////////////%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23baseHref%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Returns%20current%20%3Cbase%20href%3E%0D%0A%20%20%20*%20%28always%20relative%20-%20without%20domain%29%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7Bstring%7D%20The%20current%20base%20href%0D%0A%20%20%20*/%0D%0A%20%20self.baseHref%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20href%20%3D%20baseElement.attr%28%27href%27%29%3B%0D%0A%20%20%20%20return%20href%20%3F%20href.replace%28/%5E%28https%3F%5C%3A%29%3F%5C/%5C/%5B%5E%5C/%5D*/%2C%20%27%27%29%20%3A%20%27%27%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23defer%0D%0A%20%20%20*%20@param%20%7Bfunction%28%29%7D%20fn%20A%20function%2C%20who%27s%20execution%20should%20be%20deferred.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20%5Bdelay%3D0%5D%20of%20milliseconds%20to%20defer%20the%20function%20execution.%0D%0A%20%20%20*%20@returns%20%7B*%7D%20DeferId%20that%20can%20be%20used%20to%20cancel%20the%20task%20via%20%60%24browser.defer.cancel%28%29%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Executes%20a%20fn%20asynchronously%20via%20%60setTimeout%28fn%2C%20delay%29%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Unlike%20when%20calling%20%60setTimeout%60%20directly%2C%20in%20test%20this%20function%20is%20mocked%20and%20instead%20of%20using%0D%0A%20%20%20*%20%60setTimeout%60%20in%20tests%2C%20the%20fns%20are%20queued%20in%20an%20array%2C%20which%20can%20be%20programmatically%20flushed%0D%0A%20%20%20*%20via%20%60%24browser.defer.flush%28%29%60.%0D%0A%20%20%20*%0D%0A%20%20%20*/%0D%0A%20%20self.defer%20%3D%20function%28fn%2C%20delay%29%20%7B%0D%0A%20%20%20%20var%20timeoutId%3B%0D%0A%20%20%20%20outstandingRequestCount++%3B%0D%0A%20%20%20%20timeoutId%20%3D%20setTimeout%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20delete%20pendingDeferIds%5BtimeoutId%5D%3B%0D%0A%20%20%20%20%20%20completeOutstandingRequest%28fn%29%3B%0D%0A%20%20%20%20%7D%2C%20delay%20%7C%7C%200%29%3B%0D%0A%20%20%20%20pendingDeferIds%5BtimeoutId%5D%20%3D%20true%3B%0D%0A%20%20%20%20return%20timeoutId%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@name%20%24browser%23defer.cancel%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Cancels%20a%20deferred%20task%20identified%20with%20%60deferId%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B*%7D%20deferId%20Token%20returned%20by%20the%20%60%24browser.defer%60%20function.%0D%0A%20%20%20*%20@returns%20%7Bboolean%7D%20Returns%20%60true%60%20if%20the%20task%20hasn%27t%20executed%20yet%20and%20was%20successfully%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20canceled.%0D%0A%20%20%20*/%0D%0A%20%20self.defer.cancel%20%3D%20function%28deferId%29%20%7B%0D%0A%20%20%20%20if%20%28pendingDeferIds%5BdeferId%5D%29%20%7B%0D%0A%20%20%20%20%20%20delete%20pendingDeferIds%5BdeferId%5D%3B%0D%0A%20%20%20%20%20%20clearTimeout%28deferId%29%3B%0D%0A%20%20%20%20%20%20completeOutstandingRequest%28noop%29%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20false%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%7D%0D%0A%0D%0Afunction%20%24BrowserProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20%27%24log%27%2C%20%27%24sniffer%27%2C%20%27%24document%27%2C%0D%0A%20%20%20%20%20%20function%28%24window%2C%20%24log%2C%20%24sniffer%2C%20%24document%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20new%20Browser%28%24window%2C%20%24document%2C%20%24log%2C%20%24sniffer%29%3B%0D%0A%20%20%20%20%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24cacheFactory%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Factory%20that%20constructs%20%7B@link%20%24cacheFactory.Cache%20Cache%7D%20objects%20and%20gives%20access%20to%0D%0A%20*%20them.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%0D%0A%20*%20%20var%20cache%20%3D%20%24cacheFactory%28%27cacheId%27%29%3B%0D%0A%20*%20%20expect%28%24cacheFactory.get%28%27cacheId%27%29%29.toBe%28cache%29%3B%0D%0A%20*%20%20expect%28%24cacheFactory.get%28%27noSuchCacheId%27%29%29.not.toBeDefined%28%29%3B%0D%0A%20*%0D%0A%20*%20%20cache.put%28%22key%22%2C%20%22value%22%29%3B%0D%0A%20*%20%20cache.put%28%22another%20key%22%2C%20%22another%20value%22%29%3B%0D%0A%20*%0D%0A%20*%20%20//%20We%27ve%20specified%20no%20options%20on%20creation%0D%0A%20*%20%20expect%28cache.info%28%29%29.toEqual%28%7Bid%3A%20%27cacheId%27%2C%20size%3A%202%7D%29%3B%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20cacheId%20Name%20or%20id%20of%20the%20newly%20created%20cache.%0D%0A%20*%20@param%20%7Bobject%3D%7D%20options%20Options%20object%20that%20specifies%20the%20cache%20behavior.%20Properties%3A%0D%0A%20*%0D%0A%20*%20%20%20-%20%60%7Bnumber%3D%7D%60%20%60capacity%60%20%u2014%20turns%20the%20cache%20into%20LRU%20cache.%0D%0A%20*%0D%0A%20*%20@returns%20%7Bobject%7D%20Newly%20created%20cache%20object%20with%20the%20following%20set%20of%20methods%3A%0D%0A%20*%0D%0A%20*%20-%20%60%7Bobject%7D%60%20%60info%28%29%60%20%u2014%20Returns%20id%2C%20size%2C%20and%20options%20of%20cache.%0D%0A%20*%20-%20%60%7B%7B*%7D%7D%60%20%60put%28%7Bstring%7D%20key%2C%20%7B*%7D%20value%29%60%20%u2014%20Puts%20a%20new%20key-value%20pair%20into%20the%20cache%20and%20returns%0D%0A%20*%20%20%20it.%0D%0A%20*%20-%20%60%7B%7B*%7D%7D%60%20%60get%28%7Bstring%7D%20key%29%60%20%u2014%20Returns%20cached%20value%20for%20%60key%60%20or%20undefined%20for%20cache%20miss.%0D%0A%20*%20-%20%60%7Bvoid%7D%60%20%60remove%28%7Bstring%7D%20key%29%60%20%u2014%20Removes%20a%20key-value%20pair%20from%20the%20cache.%0D%0A%20*%20-%20%60%7Bvoid%7D%60%20%60removeAll%28%29%60%20%u2014%20Removes%20all%20cached%20values.%0D%0A%20*%20-%20%60%7Bvoid%7D%60%20%60destroy%28%29%60%20%u2014%20Removes%20references%20to%20this%20cache%20from%20%24cacheFactory.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22cacheExampleApp%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22CacheController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22newCacheKey%22%20placeholder%3D%22Key%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22newCacheValue%22%20placeholder%3D%22Value%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22put%28newCacheKey%2C%20newCacheValue%29%22%3ECache%3C/button%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%20ng-if%3D%22keys.length%22%3ECached%20Values%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20ng-repeat%3D%22key%20in%20keys%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20ng-bind%3D%22key%22%3E%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%3A%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cb%20ng-bind%3D%22cache.get%28key%29%22%3E%3C/b%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3ECache%20Info%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20ng-repeat%3D%22%28key%2C%20value%29%20in%20cache.info%28%29%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20ng-bind%3D%22key%22%3E%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%3A%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cb%20ng-bind%3D%22value%22%3E%3C/b%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20angular.module%28%27cacheExampleApp%27%2C%20%5B%5D%29.%0D%0A%20%20%20%20%20%20%20%20%20controller%28%27CacheController%27%2C%20%5B%27%24scope%27%2C%20%27%24cacheFactory%27%2C%20function%28%24scope%2C%20%24cacheFactory%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.keys%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.cache%20%3D%20%24cacheFactory%28%27cacheId%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.put%20%3D%20function%28key%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24scope.cache.get%28key%29%20%3D%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.keys.push%28key%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.cache.put%28key%2C%20value%20%3D%3D%3D%20undefined%20%3F%20null%20%3A%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20p%20%7B%0D%0A%20%20%20%20%20%20%20%20%20margin%3A%2010px%200%203px%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20%24CacheFactoryProvider%28%29%20%7B%0D%0A%0D%0A%20%20this.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20caches%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20function%20cacheFactory%28cacheId%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28cacheId%20in%20caches%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20minErr%28%27%24cacheFactory%27%29%28%27iid%27%2C%20%22CacheId%20%27%7B0%7D%27%20is%20already%20taken%21%22%2C%20cacheId%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20size%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20stats%20%3D%20extend%28%7B%7D%2C%20options%2C%20%7Bid%3A%20cacheId%7D%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20capacity%20%3D%20%28options%20%26%26%20options.capacity%29%20%7C%7C%20Number.MAX_VALUE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20lruHash%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20freshEnd%20%3D%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20staleEnd%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20type%0D%0A%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20A%20cache%20object%20used%20to%20store%20and%20retrieve%20data%2C%20primarily%20used%20by%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20%24http%20%24http%7D%20and%20the%20%7B@link%20ng.directive%3Ascript%20script%7D%20directive%20to%20cache%0D%0A%20%20%20%20%20%20%20*%20templates%20and%20other%20data.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20*%20%20angular.module%28%27superCache%27%29%0D%0A%20%20%20%20%20%20%20*%20%20%20%20.factory%28%27superCache%27%2C%20%5B%27%24cacheFactory%27%2C%20function%28%24cacheFactory%29%20%7B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20return%20%24cacheFactory%28%27super-cache%27%29%3B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Example%20test%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20*%20%20it%28%27should%20behave%20like%20a%20cache%27%2C%20inject%28function%28superCache%29%20%7B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20superCache.put%28%27key%27%2C%20%27value%27%29%3B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20superCache.put%28%27another%20key%27%2C%20%27another%20value%27%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expect%28superCache.info%28%29%29.toEqual%28%7B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20id%3A%20%27super-cache%27%2C%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20size%3A%202%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20superCache.remove%28%27another%20key%27%29%3B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expect%28superCache.get%28%27another%20key%27%29%29.toBeUndefined%28%29%3B%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20superCache.removeAll%28%29%3B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expect%28superCache.info%28%29%29.toEqual%28%7B%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20id%3A%20%27super-cache%27%2C%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20size%3A%200%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20*%20%20%7D%29%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20return%20caches%5BcacheId%5D%20%3D%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23put%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Inserts%20a%20named%20entry%20into%20the%20%7B@link%20%24cacheFactory.Cache%20Cache%7D%20object%20to%20be%0D%0A%20%20%20%20%20%20%20%20%20*%20retrieved%20later%2C%20and%20incrementing%20the%20size%20of%20the%20cache%20if%20the%20key%20was%20not%20already%0D%0A%20%20%20%20%20%20%20%20%20*%20present%20in%20the%20cache.%20If%20behaving%20like%20an%20LRU%20cache%2C%20it%20will%20also%20remove%20stale%0D%0A%20%20%20%20%20%20%20%20%20*%20entries%20from%20the%20set.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20It%20will%20not%20insert%20undefined%20values%20into%20the%20cache.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20key%20the%20key%20under%20which%20the%20cached%20data%20is%20stored.%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7B*%7D%20value%20the%20value%20to%20store%20alongside%20the%20key.%20If%20it%20is%20undefined%2C%20the%20key%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%20will%20not%20be%20stored.%0D%0A%20%20%20%20%20%20%20%20%20*%20@returns%20%7B*%7D%20the%20value%20stored.%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20put%3A%20function%28key%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isUndefined%28value%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28capacity%20%3C%20Number.MAX_VALUE%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lruEntry%20%3D%20lruHash%5Bkey%5D%20%7C%7C%20%28lruHash%5Bkey%5D%20%3D%20%7Bkey%3A%20key%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20refresh%28lruEntry%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28key%20in%20data%29%29%20size++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20data%5Bkey%5D%20%3D%20value%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28size%20%3E%20capacity%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.remove%28staleEnd.key%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23get%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Retrieves%20named%20data%20stored%20in%20the%20%7B@link%20%24cacheFactory.Cache%20Cache%7D%20object.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20key%20the%20key%20of%20the%20data%20to%20be%20retrieved%0D%0A%20%20%20%20%20%20%20%20%20*%20@returns%20%7B*%7D%20the%20value%20stored.%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20get%3A%20function%28key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28capacity%20%3C%20Number.MAX_VALUE%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lruEntry%20%3D%20lruHash%5Bkey%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21lruEntry%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20refresh%28lruEntry%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20data%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23remove%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Removes%20an%20entry%20from%20the%20%7B@link%20%24cacheFactory.Cache%20Cache%7D%20object.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20key%20the%20key%20of%20the%20entry%20to%20be%20removed%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20remove%3A%20function%28key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28capacity%20%3C%20Number.MAX_VALUE%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lruEntry%20%3D%20lruHash%5Bkey%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21lruEntry%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lruEntry%20%3D%3D%20freshEnd%29%20freshEnd%20%3D%20lruEntry.p%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lruEntry%20%3D%3D%20staleEnd%29%20staleEnd%20%3D%20lruEntry.n%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20link%28lruEntry.n%2ClruEntry.p%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20lruHash%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20data%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20size--%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23removeAll%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Clears%20the%20cache%20object%20of%20any%20entries.%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20removeAll%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20size%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lruHash%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20freshEnd%20%3D%20staleEnd%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23destroy%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Destroys%20the%20%7B@link%20%24cacheFactory.Cache%20Cache%7D%20object%20entirely%2C%0D%0A%20%20%20%20%20%20%20%20%20*%20removing%20it%20from%20the%20%7B@link%20%24cacheFactory%20%24cacheFactory%7D%20set.%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20destroy%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20stats%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lruHash%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20caches%5BcacheId%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24cacheFactory.Cache%23info%0D%0A%20%20%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Retrieve%20information%20regarding%20a%20particular%20%7B@link%20%24cacheFactory.Cache%20Cache%7D.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@returns%20%7Bobject%7D%20an%20object%20with%20the%20following%20properties%3A%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%3Cul%3E%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%3Cli%3E**id**%3A%20the%20id%20of%20the%20cache%20instance%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%3Cli%3E**size**%3A%20the%20number%20of%20entries%20kept%20in%20the%20cache%20instance%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%3Cli%3E**...**%3A%20any%20additional%20properties%20from%20the%20options%20object%20when%20creating%20the%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%20%20%20%20cache.%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20*%20%20%20%3C/ul%3E%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%20%20info%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20extend%28%7B%7D%2C%20stats%2C%20%7Bsize%3A%20size%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20makes%20the%20%60entry%60%20the%20freshEnd%20of%20the%20LRU%20linked%20list%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20function%20refresh%28entry%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28entry%20%21%3D%20freshEnd%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21staleEnd%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20staleEnd%20%3D%20entry%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28staleEnd%20%3D%3D%20entry%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20staleEnd%20%3D%20entry.n%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20link%28entry.n%2C%20entry.p%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20link%28entry%2C%20freshEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20freshEnd%20%3D%20entry%3B%0D%0A%20%20%20%20%20%20%20%20%20%20freshEnd.n%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20bidirectionally%20links%20two%20entries%20of%20the%20LRU%20linked%20list%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20function%20link%28nextEntry%2C%20prevEntry%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28nextEntry%20%21%3D%20prevEntry%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28nextEntry%29%20nextEntry.p%20%3D%20prevEntry%3B%20//p%20stands%20for%20previous%2C%20%27prev%27%20didn%27t%20minify%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28prevEntry%29%20prevEntry.n%20%3D%20nextEntry%3B%20//n%20stands%20for%20next%2C%20%27next%27%20didn%27t%20minify%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24cacheFactory%23info%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Get%20information%20about%20all%20the%20caches%20that%20have%20been%20created%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7BObject%7D%20-%20key-value%20map%20of%20%60cacheId%60%20to%20the%20result%20of%20calling%20%60cache%23info%60%0D%0A%20%20%20*/%0D%0A%20%20%20%20cacheFactory.info%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20info%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20forEach%28caches%2C%20function%28cache%2C%20cacheId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20info%5BcacheId%5D%20%3D%20cache.info%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20info%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24cacheFactory%23get%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Get%20access%20to%20a%20cache%20object%20by%20the%20%60cacheId%60%20used%20when%20it%20was%20created.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20cacheId%20Name%20or%20id%20of%20a%20cache%20to%20access.%0D%0A%20%20%20*%20@returns%20%7Bobject%7D%20Cache%20object%20identified%20by%20the%20cacheId%20or%20undefined%20if%20no%20such%20cache.%0D%0A%20%20%20*/%0D%0A%20%20%20%20cacheFactory.get%20%3D%20function%28cacheId%29%20%7B%0D%0A%20%20%20%20%20%20return%20caches%5BcacheId%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20return%20cacheFactory%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24templateCache%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20first%20time%20a%20template%20is%20used%2C%20it%20is%20loaded%20in%20the%20template%20cache%20for%20quick%20retrieval.%20You%0D%0A%20*%20can%20load%20templates%20directly%20into%20the%20cache%20in%20a%20%60script%60%20tag%2C%20or%20by%20consuming%20the%0D%0A%20*%20%60%24templateCache%60%20service%20directly.%0D%0A%20*%0D%0A%20*%20Adding%20via%20the%20%60script%60%20tag%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%3Cscript%20type%3D%22text/ng-template%22%20id%3D%22templateId.html%22%3E%0D%0A%20*%20%20%20%20%20%3Cp%3EThis%20is%20the%20content%20of%20the%20template%3C/p%3E%0D%0A%20*%20%20%20%3C/script%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20**Note%3A**%20the%20%60script%60%20tag%20containing%20the%20template%20does%20not%20need%20to%20be%20included%20in%20the%20%60head%60%20of%0D%0A%20*%20the%20document%2C%20but%20it%20must%20be%20a%20descendent%20of%20the%20%7B@link%20ng.%24rootElement%20%24rootElement%7D%20%28IE%2C%0D%0A%20*%20element%20with%20ng-app%20attribute%29%2C%20otherwise%20the%20template%20will%20be%20ignored.%0D%0A%20*%0D%0A%20*%20Adding%20via%20the%20%60%24templateCache%60%20service%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20var%20myApp%20%3D%20angular.module%28%27myApp%27%2C%20%5B%5D%29%3B%0D%0A%20*%20myApp.run%28function%28%24templateCache%29%20%7B%0D%0A%20*%20%20%20%24templateCache.put%28%27templateId.html%27%2C%20%27This%20is%20the%20content%20of%20the%20template%27%29%3B%0D%0A%20*%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20To%20retrieve%20the%20template%20later%2C%20simply%20use%20it%20in%20your%20HTML%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cdiv%20ng-include%3D%22%20%27templateId.html%27%20%22%3E%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20or%20get%20it%20via%20Javascript%3A%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%24templateCache.get%28%27templateId.html%27%29%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20See%20%7B@link%20ng.%24cacheFactory%20%24cacheFactory%7D.%0D%0A%20*%0D%0A%20*/%0D%0Afunction%20%24TemplateCacheProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24cacheFactory%27%2C%20function%28%24cacheFactory%29%20%7B%0D%0A%20%20%20%20return%20%24cacheFactory%28%27templates%27%29%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%0D%0A%20*%20%20%20%20%20Any%20commits%20to%20this%20file%20should%20be%20reviewed%20with%20security%20in%20mind.%20%20*%0D%0A%20*%20%20%20Changes%20to%20this%20file%20can%20potentially%20create%20security%20vulnerabilities.%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20An%20approval%20from%202%20Core%20members%20with%20history%20of%20modifying%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%20file%20is%20required.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20Does%20the%20change%20somehow%20allow%20for%20arbitrary%20javascript%20to%20be%20executed%3F%20*%0D%0A%20*%20%20%20%20Or%20allows%20for%20someone%20to%20change%20the%20prototype%20of%20built-in%20objects%3F%20%20%20*%0D%0A%20*%20%20%20%20%20Or%20gives%20undesired%20access%20to%20variables%20likes%20document%20or%20window%3F%20%20%20%20*%0D%0A%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*/%0D%0A%0D%0A/*%20%21%20VARIABLE/FUNCTION%20NAMING%20CONVENTIONS%20THAT%20APPLY%20TO%20THIS%20FILE%21%0D%0A%20*%0D%0A%20*%20DOM-related%20variables%3A%0D%0A%20*%0D%0A%20*%20-%20%22node%22%20-%20DOM%20Node%0D%0A%20*%20-%20%22element%22%20-%20DOM%20Element%20or%20Node%0D%0A%20*%20-%20%22%24node%22%20or%20%22%24element%22%20-%20jqLite-wrapped%20node%20or%20element%0D%0A%20*%0D%0A%20*%0D%0A%20*%20Compiler%20related%20stuff%3A%0D%0A%20*%0D%0A%20*%20-%20%22linkFn%22%20-%20linking%20fn%20of%20a%20single%20directive%0D%0A%20*%20-%20%22nodeLinkFn%22%20-%20function%20that%20aggregates%20all%20linking%20fns%20for%20a%20particular%20node%0D%0A%20*%20-%20%22childLinkFn%22%20-%20%20function%20that%20aggregates%20all%20linking%20fns%20for%20child%20nodes%20of%20a%20particular%20node%0D%0A%20*%20-%20%22compositeLinkFn%22%20-%20function%20that%20aggregates%20all%20linking%20fns%20for%20a%20compilation%20root%20%28nodeList%29%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24compile%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Compiles%20an%20HTML%20string%20or%20DOM%20into%20a%20template%20and%20produces%20a%20template%20function%2C%20which%0D%0A%20*%20can%20then%20be%20used%20to%20link%20%7B@link%20ng.%24rootScope.Scope%20%60scope%60%7D%20and%20the%20template%20together.%0D%0A%20*%0D%0A%20*%20The%20compilation%20is%20a%20process%20of%20walking%20the%20DOM%20tree%20and%20matching%20DOM%20elements%20to%0D%0A%20*%20%7B@link%20ng.%24compileProvider%23directive%20directives%7D.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20This%20document%20is%20an%20in-depth%20reference%20of%20all%20directive%20options.%0D%0A%20*%20For%20a%20gentle%20introduction%20to%20directives%20with%20examples%20of%20common%20use%20cases%2C%0D%0A%20*%20see%20the%20%7B@link%20guide/directive%20directive%20guide%7D.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%23%23%20Comprehensive%20Directive%20API%0D%0A%20*%0D%0A%20*%20There%20are%20many%20different%20options%20for%20a%20directive.%0D%0A%20*%0D%0A%20*%20The%20difference%20resides%20in%20the%20return%20value%20of%20the%20factory%20function.%0D%0A%20*%20You%20can%20either%20return%20a%20%22Directive%20Definition%20Object%22%20%28see%20below%29%20that%20defines%20the%20directive%20properties%2C%0D%0A%20*%20or%20just%20the%20%60postLink%60%20function%20%28all%20other%20properties%20will%20have%20the%20default%20values%29.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-success%22%3E%0D%0A%20*%20**Best%20Practice%3A**%20It%27s%20recommended%20to%20use%20the%20%22directive%20definition%20object%22%20form.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20Here%27s%20an%20example%20directive%20declared%20with%20a%20Directive%20Definition%20Object%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20var%20myModule%20%3D%20angular.module%28...%29%3B%0D%0A%20*%0D%0A%20*%20%20%20myModule.directive%28%27directiveName%27%2C%20function%20factory%28injectables%29%20%7B%0D%0A%20*%20%20%20%20%20var%20directiveDefinitionObject%20%3D%20%7B%0D%0A%20*%20%20%20%20%20%20%20priority%3A%200%2C%0D%0A%20*%20%20%20%20%20%20%20template%3A%20%27%3Cdiv%3E%3C/div%3E%27%2C%20//%20or%20//%20function%28tElement%2C%20tAttrs%29%20%7B%20...%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20//%20or%0D%0A%20*%20%20%20%20%20%20%20//%20templateUrl%3A%20%27directive.html%27%2C%20//%20or%20//%20function%28tElement%2C%20tAttrs%29%20%7B%20...%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20transclude%3A%20false%2C%0D%0A%20*%20%20%20%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20*%20%20%20%20%20%20%20templateNamespace%3A%20%27html%27%2C%0D%0A%20*%20%20%20%20%20%20%20scope%3A%20false%2C%0D%0A%20*%20%20%20%20%20%20%20controller%3A%20function%28%24scope%2C%20%24element%2C%20%24attrs%2C%20%24transclude%2C%20otherInjectables%29%20%7B%20...%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20controllerAs%3A%20%27stringIdentifier%27%2C%0D%0A%20*%20%20%20%20%20%20%20bindToController%3A%20false%2C%0D%0A%20*%20%20%20%20%20%20%20require%3A%20%27siblingDirectiveName%27%2C%20//%20or%20//%20%5B%27%5EparentDirectiveName%27%2C%20%27%3FoptionalDirectiveName%27%2C%20%27%3F%5EoptionalParent%27%5D%2C%0D%0A%20*%20%20%20%20%20%20%20compile%3A%20function%20compile%28tElement%2C%20tAttrs%2C%20transclude%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20pre%3A%20function%20preLink%28scope%2C%20iElement%2C%20iAttrs%2C%20controller%29%20%7B%20...%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20post%3A%20function%20postLink%28scope%2C%20iElement%2C%20iAttrs%2C%20controller%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20*%20%20%20%20%20%20%20%20%20//%20or%0D%0A%20*%20%20%20%20%20%20%20%20%20//%20return%20function%20postLink%28%20...%20%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%20%20%20%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20//%20or%0D%0A%20*%20%20%20%20%20%20%20//%20link%3A%20%7B%0D%0A%20*%20%20%20%20%20%20%20//%20%20pre%3A%20function%20preLink%28scope%2C%20iElement%2C%20iAttrs%2C%20controller%29%20%7B%20...%20%7D%2C%0D%0A%20*%20%20%20%20%20%20%20//%20%20post%3A%20function%20postLink%28scope%2C%20iElement%2C%20iAttrs%2C%20controller%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%20%20%20%20//%20%7D%0D%0A%20*%20%20%20%20%20%20%20//%20or%0D%0A%20*%20%20%20%20%20%20%20//%20link%3A%20function%20postLink%28%20...%20%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%20return%20directiveDefinitionObject%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20Any%20unspecified%20options%20will%20use%20the%20default%20value.%20You%20can%20see%20the%20default%20values%20below.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20Therefore%20the%20above%20can%20be%20simplified%20as%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20var%20myModule%20%3D%20angular.module%28...%29%3B%0D%0A%20*%0D%0A%20*%20%20%20myModule.directive%28%27directiveName%27%2C%20function%20factory%28injectables%29%20%7B%0D%0A%20*%20%20%20%20%20var%20directiveDefinitionObject%20%3D%20%7B%0D%0A%20*%20%20%20%20%20%20%20link%3A%20function%20postLink%28scope%2C%20iElement%2C%20iAttrs%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%20return%20directiveDefinitionObject%3B%0D%0A%20*%20%20%20%20%20//%20or%0D%0A%20*%20%20%20%20%20//%20return%20function%20postLink%28scope%2C%20iElement%2C%20iAttrs%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%20Directive%20Definition%20Object%0D%0A%20*%0D%0A%20*%20The%20directive%20definition%20object%20provides%20instructions%20to%20the%20%7B@link%20ng.%24compile%0D%0A%20*%20compiler%7D.%20The%20attributes%20are%3A%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60multiElement%60%0D%0A%20*%20When%20this%20property%20is%20set%20to%20true%2C%20the%20HTML%20compiler%20will%20collect%20DOM%20nodes%20between%0D%0A%20*%20nodes%20with%20the%20attributes%20%60directive-name-start%60%20and%20%60directive-name-end%60%2C%20and%20group%20them%0D%0A%20*%20together%20as%20the%20directive%20elements.%20It%20is%20recommended%20that%20this%20feature%20be%20used%20on%20directives%0D%0A%20*%20which%20are%20not%20strictly%20behavioural%20%28such%20as%20%7B@link%20ngClick%7D%29%2C%20and%20which%0D%0A%20*%20do%20not%20manipulate%20or%20replace%20child%20nodes%20%28such%20as%20%7B@link%20ngInclude%7D%29.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60priority%60%0D%0A%20*%20When%20there%20are%20multiple%20directives%20defined%20on%20a%20single%20DOM%20element%2C%20sometimes%20it%0D%0A%20*%20is%20necessary%20to%20specify%20the%20order%20in%20which%20the%20directives%20are%20applied.%20The%20%60priority%60%20is%20used%0D%0A%20*%20to%20sort%20the%20directives%20before%20their%20%60compile%60%20functions%20get%20called.%20Priority%20is%20defined%20as%20a%0D%0A%20*%20number.%20Directives%20with%20greater%20numerical%20%60priority%60%20are%20compiled%20first.%20Pre-link%20functions%0D%0A%20*%20are%20also%20run%20in%20priority%20order%2C%20but%20post-link%20functions%20are%20run%20in%20reverse%20order.%20The%20order%0D%0A%20*%20of%20directives%20with%20the%20same%20priority%20is%20undefined.%20The%20default%20priority%20is%20%600%60.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60terminal%60%0D%0A%20*%20If%20set%20to%20true%20then%20the%20current%20%60priority%60%20will%20be%20the%20last%20set%20of%20directives%0D%0A%20*%20which%20will%20execute%20%28any%20directives%20at%20the%20current%20priority%20will%20still%20execute%0D%0A%20*%20as%20the%20order%20of%20execution%20on%20same%20%60priority%60%20is%20undefined%29.%20Note%20that%20expressions%0D%0A%20*%20and%20other%20directives%20used%20in%20the%20directive%27s%20template%20will%20also%20be%20excluded%20from%20execution.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60scope%60%0D%0A%20*%20**If%20set%20to%20%60true%60%2C**%20then%20a%20new%20scope%20will%20be%20created%20for%20this%20directive.%20If%20multiple%20directives%20on%20the%0D%0A%20*%20same%20element%20request%20a%20new%20scope%2C%20only%20one%20new%20scope%20is%20created.%20The%20new%20scope%20rule%20does%20not%0D%0A%20*%20apply%20for%20the%20root%20of%20the%20template%20since%20the%20root%20of%20the%20template%20always%20gets%20a%20new%20scope.%0D%0A%20*%0D%0A%20*%20**If%20set%20to%20%60%7B%7D%60%20%28object%20hash%29%2C**%20then%20a%20new%20%22isolate%22%20scope%20is%20created.%20The%20%27isolate%27%20scope%20differs%20from%0D%0A%20*%20normal%20scope%20in%20that%20it%20does%20not%20prototypically%20inherit%20from%20the%20parent%20scope.%20This%20is%20useful%0D%0A%20*%20when%20creating%20reusable%20components%2C%20which%20should%20not%20accidentally%20read%20or%20modify%20data%20in%20the%0D%0A%20*%20parent%20scope.%0D%0A%20*%0D%0A%20*%20The%20%27isolate%27%20scope%20takes%20an%20object%20hash%20which%20defines%20a%20set%20of%20local%20scope%20properties%0D%0A%20*%20derived%20from%20the%20parent%20scope.%20These%20local%20properties%20are%20useful%20for%20aliasing%20values%20for%0D%0A%20*%20templates.%20Locals%20definition%20is%20a%20hash%20of%20local%20scope%20property%20to%20its%20source%3A%0D%0A%20*%0D%0A%20*%20*%20%60@%60%20or%20%60@attr%60%20-%20bind%20a%20local%20scope%20property%20to%20the%20value%20of%20DOM%20attribute.%20The%20result%20is%0D%0A%20*%20%20%20always%20a%20string%20since%20DOM%20attributes%20are%20strings.%20If%20no%20%60attr%60%20name%20is%20specified%20%20then%20the%0D%0A%20*%20%20%20attribute%20name%20is%20assumed%20to%20be%20the%20same%20as%20the%20local%20name.%0D%0A%20*%20%20%20Given%20%60%3Cwidget%20my-attr%3D%22hello%20%7B%7Bname%7D%7D%22%3E%60%20and%20widget%20definition%0D%0A%20*%20%20%20of%20%60scope%3A%20%7B%20localName%3A%27@myAttr%27%20%7D%60%2C%20then%20widget%20scope%20property%20%60localName%60%20will%20reflect%0D%0A%20*%20%20%20the%20interpolated%20value%20of%20%60hello%20%7B%7Bname%7D%7D%60.%20As%20the%20%60name%60%20attribute%20changes%20so%20will%20the%0D%0A%20*%20%20%20%60localName%60%20property%20on%20the%20widget%20scope.%20The%20%60name%60%20is%20read%20from%20the%20parent%20scope%20%28not%0D%0A%20*%20%20%20component%20scope%29.%0D%0A%20*%0D%0A%20*%20*%20%60%3D%60%20or%20%60%3Dattr%60%20-%20set%20up%20bi-directional%20binding%20between%20a%20local%20scope%20property%20and%20the%0D%0A%20*%20%20%20parent%20scope%20property%20of%20name%20defined%20via%20the%20value%20of%20the%20%60attr%60%20attribute.%20If%20no%20%60attr%60%0D%0A%20*%20%20%20name%20is%20specified%20then%20the%20attribute%20name%20is%20assumed%20to%20be%20the%20same%20as%20the%20local%20name.%0D%0A%20*%20%20%20Given%20%60%3Cwidget%20my-attr%3D%22parentModel%22%3E%60%20and%20widget%20definition%20of%0D%0A%20*%20%20%20%60scope%3A%20%7B%20localModel%3A%27%3DmyAttr%27%20%7D%60%2C%20then%20widget%20scope%20property%20%60localModel%60%20will%20reflect%20the%0D%0A%20*%20%20%20value%20of%20%60parentModel%60%20on%20the%20parent%20scope.%20Any%20changes%20to%20%60parentModel%60%20will%20be%20reflected%0D%0A%20*%20%20%20in%20%60localModel%60%20and%20any%20changes%20in%20%60localModel%60%20will%20reflect%20in%20%60parentModel%60.%20If%20the%20parent%0D%0A%20*%20%20%20scope%20property%20doesn%27t%20exist%2C%20it%20will%20throw%20a%20NON_ASSIGNABLE_MODEL_EXPRESSION%20exception.%20You%0D%0A%20*%20%20%20can%20avoid%20this%20behavior%20using%20%60%3D%3F%60%20or%20%60%3D%3Fattr%60%20in%20order%20to%20flag%20the%20property%20as%20optional.%20If%0D%0A%20*%20%20%20you%20want%20to%20shallow%20watch%20for%20changes%20%28i.e.%20%24watchCollection%20instead%20of%20%24watch%29%20you%20can%20use%0D%0A%20*%20%20%20%60%3D*%60%20or%20%60%3D*attr%60%20%28%60%3D*%3F%60%20or%20%60%3D*%3Fattr%60%20if%20the%20property%20is%20optional%29.%0D%0A%20*%0D%0A%20*%20*%20%60%26%60%20or%20%60%26attr%60%20-%20provides%20a%20way%20to%20execute%20an%20expression%20in%20the%20context%20of%20the%20parent%20scope.%0D%0A%20*%20%20%20If%20no%20%60attr%60%20name%20is%20specified%20then%20the%20attribute%20name%20is%20assumed%20to%20be%20the%20same%20as%20the%0D%0A%20*%20%20%20local%20name.%20Given%20%60%3Cwidget%20my-attr%3D%22count%20%3D%20count%20+%20value%22%3E%60%20and%20widget%20definition%20of%0D%0A%20*%20%20%20%60scope%3A%20%7B%20localFn%3A%27%26myAttr%27%20%7D%60%2C%20then%20isolate%20scope%20property%20%60localFn%60%20will%20point%20to%0D%0A%20*%20%20%20a%20function%20wrapper%20for%20the%20%60count%20%3D%20count%20+%20value%60%20expression.%20Often%20it%27s%20desirable%20to%0D%0A%20*%20%20%20pass%20data%20from%20the%20isolated%20scope%20via%20an%20expression%20to%20the%20parent%20scope%2C%20this%20can%20be%0D%0A%20*%20%20%20done%20by%20passing%20a%20map%20of%20local%20variable%20names%20and%20values%20into%20the%20expression%20wrapper%20fn.%0D%0A%20*%20%20%20For%20example%2C%20if%20the%20expression%20is%20%60increment%28amount%29%60%20then%20we%20can%20specify%20the%20amount%20value%0D%0A%20*%20%20%20by%20calling%20the%20%60localFn%60%20as%20%60localFn%28%7Bamount%3A%2022%7D%29%60.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60bindToController%60%0D%0A%20*%20When%20an%20isolate%20scope%20is%20used%20for%20a%20component%20%28see%20above%29%2C%20and%20%60controllerAs%60%20is%20used%2C%20%60bindToController%3A%20true%60%20will%0D%0A%20*%20allow%20a%20component%20to%20have%20its%20properties%20bound%20to%20the%20controller%2C%20rather%20than%20to%20scope.%20When%20the%20controller%0D%0A%20*%20is%20instantiated%2C%20the%20initial%20values%20of%20the%20isolate%20scope%20bindings%20are%20already%20available.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60controller%60%0D%0A%20*%20Controller%20constructor%20function.%20The%20controller%20is%20instantiated%20before%20the%0D%0A%20*%20pre-linking%20phase%20and%20it%20is%20shared%20with%20other%20directives%20%28see%0D%0A%20*%20%60require%60%20attribute%29.%20This%20allows%20the%20directives%20to%20communicate%20with%20each%20other%20and%20augment%0D%0A%20*%20each%20other%27s%20behavior.%20The%20controller%20is%20injectable%20%28and%20supports%20bracket%20notation%29%20with%20the%20following%20locals%3A%0D%0A%20*%0D%0A%20*%20*%20%60%24scope%60%20-%20Current%20scope%20associated%20with%20the%20element%0D%0A%20*%20*%20%60%24element%60%20-%20Current%20element%0D%0A%20*%20*%20%60%24attrs%60%20-%20Current%20attributes%20object%20for%20the%20element%0D%0A%20*%20*%20%60%24transclude%60%20-%20A%20transclude%20linking%20function%20pre-bound%20to%20the%20correct%20transclusion%20scope%3A%0D%0A%20*%20%20%20%60function%28%5Bscope%5D%2C%20cloneLinkingFn%2C%20futureParentElement%29%60.%0D%0A%20*%20%20%20%20*%20%60scope%60%3A%20optional%20argument%20to%20override%20the%20scope.%0D%0A%20*%20%20%20%20*%20%60cloneLinkingFn%60%3A%20optional%20argument%20to%20create%20clones%20of%20the%20original%20transcluded%20content.%0D%0A%20*%20%20%20%20*%20%60futureParentElement%60%3A%0D%0A%20*%20%20%20%20%20%20%20%20*%20defines%20the%20parent%20to%20which%20the%20%60cloneLinkingFn%60%20will%20add%20the%20cloned%20elements.%0D%0A%20*%20%20%20%20%20%20%20%20*%20default%3A%20%60%24element.parent%28%29%60%20resp.%20%60%24element%60%20for%20%60transclude%3A%27element%27%60%20resp.%20%60transclude%3Atrue%60.%0D%0A%20*%20%20%20%20%20%20%20%20*%20only%20needed%20for%20transcludes%20that%20are%20allowed%20to%20contain%20non%20html%20elements%20%28e.g.%20SVG%20elements%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20and%20when%20the%20%60cloneLinkinFn%60%20is%20passed%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20as%20those%20elements%20need%20to%20created%20and%20cloned%20in%20a%20special%20way%20when%20they%20are%20defined%20outside%20their%0D%0A%20*%20%20%20%20%20%20%20%20%20%20usual%20containers%20%28e.g.%20like%20%60%3Csvg%3E%60%29.%0D%0A%20*%20%20%20%20%20%20%20%20*%20See%20also%20the%20%60directive.templateNamespace%60%20property.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60require%60%0D%0A%20*%20Require%20another%20directive%20and%20inject%20its%20controller%20as%20the%20fourth%20argument%20to%20the%20linking%20function.%20The%0D%0A%20*%20%60require%60%20takes%20a%20string%20name%20%28or%20array%20of%20strings%29%20of%20the%20directive%28s%29%20to%20pass%20in.%20If%20an%20array%20is%20used%2C%20the%0D%0A%20*%20injected%20argument%20will%20be%20an%20array%20in%20corresponding%20order.%20If%20no%20such%20directive%20can%20be%0D%0A%20*%20found%2C%20or%20if%20the%20directive%20does%20not%20have%20a%20controller%2C%20then%20an%20error%20is%20raised%20%28unless%20no%20link%20function%0D%0A%20*%20is%20specified%2C%20in%20which%20case%20error%20checking%20is%20skipped%29.%20The%20name%20can%20be%20prefixed%20with%3A%0D%0A%20*%0D%0A%20*%20*%20%28no%20prefix%29%20-%20Locate%20the%20required%20controller%20on%20the%20current%20element.%20Throw%20an%20error%20if%20not%20found.%0D%0A%20*%20*%20%60%3F%60%20-%20Attempt%20to%20locate%20the%20required%20controller%20or%20pass%20%60null%60%20to%20the%20%60link%60%20fn%20if%20not%20found.%0D%0A%20*%20*%20%60%5E%60%20-%20Locate%20the%20required%20controller%20by%20searching%20the%20element%20and%20its%20parents.%20Throw%20an%20error%20if%20not%20found.%0D%0A%20*%20*%20%60%5E%5E%60%20-%20Locate%20the%20required%20controller%20by%20searching%20the%20element%27s%20parents.%20Throw%20an%20error%20if%20not%20found.%0D%0A%20*%20*%20%60%3F%5E%60%20-%20Attempt%20to%20locate%20the%20required%20controller%20by%20searching%20the%20element%20and%20its%20parents%20or%20pass%0D%0A%20*%20%20%20%60null%60%20to%20the%20%60link%60%20fn%20if%20not%20found.%0D%0A%20*%20*%20%60%3F%5E%5E%60%20-%20Attempt%20to%20locate%20the%20required%20controller%20by%20searching%20the%20element%27s%20parents%2C%20or%20pass%0D%0A%20*%20%20%20%60null%60%20to%20the%20%60link%60%20fn%20if%20not%20found.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60controllerAs%60%0D%0A%20*%20Identifier%20name%20for%20a%20reference%20to%20the%20controller%20in%20the%20directive%27s%20scope.%0D%0A%20*%20This%20allows%20the%20controller%20to%20be%20referenced%20from%20the%20directive%20template.%20The%20directive%0D%0A%20*%20needs%20to%20define%20a%20scope%20for%20this%20configuration%20to%20be%20used.%20Useful%20in%20the%20case%20when%0D%0A%20*%20directive%20is%20used%20as%20component.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60restrict%60%0D%0A%20*%20String%20of%20subset%20of%20%60EACM%60%20which%20restricts%20the%20directive%20to%20a%20specific%20directive%0D%0A%20*%20declaration%20style.%20If%20omitted%2C%20the%20defaults%20%28elements%20and%20attributes%29%20are%20used.%0D%0A%20*%0D%0A%20*%20*%20%60E%60%20-%20Element%20name%20%28default%29%3A%20%60%3Cmy-directive%3E%3C/my-directive%3E%60%0D%0A%20*%20*%20%60A%60%20-%20Attribute%20%28default%29%3A%20%60%3Cdiv%20my-directive%3D%22exp%22%3E%3C/div%3E%60%0D%0A%20*%20*%20%60C%60%20-%20Class%3A%20%60%3Cdiv%20class%3D%22my-directive%3A%20exp%3B%22%3E%3C/div%3E%60%0D%0A%20*%20*%20%60M%60%20-%20Comment%3A%20%60%3C%21--%20directive%3A%20my-directive%20exp%20--%3E%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60templateNamespace%60%0D%0A%20*%20String%20representing%20the%20document%20type%20used%20by%20the%20markup%20in%20the%20template.%0D%0A%20*%20AngularJS%20needs%20this%20information%20as%20those%20elements%20need%20to%20be%20created%20and%20cloned%0D%0A%20*%20in%20a%20special%20way%20when%20they%20are%20defined%20outside%20their%20usual%20containers%20like%20%60%3Csvg%3E%60%20and%20%60%3Cmath%3E%60.%0D%0A%20*%0D%0A%20*%20*%20%60html%60%20-%20All%20root%20nodes%20in%20the%20template%20are%20HTML.%20Root%20nodes%20may%20also%20be%0D%0A%20*%20%20%20top-level%20elements%20such%20as%20%60%3Csvg%3E%60%20or%20%60%3Cmath%3E%60.%0D%0A%20*%20*%20%60svg%60%20-%20The%20root%20nodes%20in%20the%20template%20are%20SVG%20elements%20%28excluding%20%60%3Cmath%3E%60%29.%0D%0A%20*%20*%20%60math%60%20-%20The%20root%20nodes%20in%20the%20template%20are%20MathML%20elements%20%28excluding%20%60%3Csvg%3E%60%29.%0D%0A%20*%0D%0A%20*%20If%20no%20%60templateNamespace%60%20is%20specified%2C%20then%20the%20namespace%20is%20considered%20to%20be%20%60html%60.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60template%60%0D%0A%20*%20HTML%20markup%20that%20may%3A%0D%0A%20*%20*%20Replace%20the%20contents%20of%20the%20directive%27s%20element%20%28default%29.%0D%0A%20*%20*%20Replace%20the%20directive%27s%20element%20itself%20%28if%20%60replace%60%20is%20true%20-%20DEPRECATED%29.%0D%0A%20*%20*%20Wrap%20the%20contents%20of%20the%20directive%27s%20element%20%28if%20%60transclude%60%20is%20true%29.%0D%0A%20*%0D%0A%20*%20Value%20may%20be%3A%0D%0A%20*%0D%0A%20*%20*%20A%20string.%20For%20example%20%60%3Cdiv%20red-on-hover%3E%7B%7Bdelete_str%7D%7D%3C/div%3E%60.%0D%0A%20*%20*%20A%20function%20which%20takes%20two%20arguments%20%60tElement%60%20and%20%60tAttrs%60%20%28described%20in%20the%20%60compile%60%0D%0A%20*%20%20%20function%20api%20below%29%20and%20returns%20a%20string%20value.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60templateUrl%60%0D%0A%20*%20This%20is%20similar%20to%20%60template%60%20but%20the%20template%20is%20loaded%20from%20the%20specified%20URL%2C%20asynchronously.%0D%0A%20*%0D%0A%20*%20Because%20template%20loading%20is%20asynchronous%20the%20compiler%20will%20suspend%20compilation%20of%20directives%20on%20that%20element%0D%0A%20*%20for%20later%20when%20the%20template%20has%20been%20resolved.%20%20In%20the%20meantime%20it%20will%20continue%20to%20compile%20and%20link%0D%0A%20*%20sibling%20and%20parent%20elements%20as%20though%20this%20element%20had%20not%20contained%20any%20directives.%0D%0A%20*%0D%0A%20*%20The%20compiler%20does%20not%20suspend%20the%20entire%20compilation%20to%20wait%20for%20templates%20to%20be%20loaded%20because%20this%0D%0A%20*%20would%20result%20in%20the%20whole%20app%20%22stalling%22%20until%20all%20templates%20are%20loaded%20asynchronously%20-%20even%20in%20the%0D%0A%20*%20case%20when%20only%20one%20deeply%20nested%20directive%20has%20%60templateUrl%60.%0D%0A%20*%0D%0A%20*%20Template%20loading%20is%20asynchronous%20even%20if%20the%20template%20has%20been%20preloaded%20into%20the%20%7B@link%20%24templateCache%7D%0D%0A%20*%0D%0A%20*%20You%20can%20specify%20%60templateUrl%60%20as%20a%20string%20representing%20the%20URL%20or%20as%20a%20function%20which%20takes%20two%0D%0A%20*%20arguments%20%60tElement%60%20and%20%60tAttrs%60%20%28described%20in%20the%20%60compile%60%20function%20api%20below%29%20and%20returns%0D%0A%20*%20a%20string%20value%20representing%20the%20url.%20%20In%20either%20case%2C%20the%20template%20URL%20is%20passed%20through%20%7B@link%0D%0A%20*%20%24sce%23getTrustedResourceUrl%20%24sce.getTrustedResourceUrl%7D.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60replace%60%20%28%5B*DEPRECATED*%21%5D%2C%20will%20be%20removed%20in%20next%20major%20release%20-%20i.e.%20v2.0%29%0D%0A%20*%20specify%20what%20the%20template%20should%20replace.%20Defaults%20to%20%60false%60.%0D%0A%20*%0D%0A%20*%20*%20%60true%60%20-%20the%20template%20will%20replace%20the%20directive%27s%20element.%0D%0A%20*%20*%20%60false%60%20-%20the%20template%20will%20replace%20the%20contents%20of%20the%20directive%27s%20element.%0D%0A%20*%0D%0A%20*%20The%20replacement%20process%20migrates%20all%20of%20the%20attributes%20/%20classes%20from%20the%20old%20element%20to%20the%20new%0D%0A%20*%20one.%20See%20the%20%7B@link%20guide/directive%23template-expanding-directive%0D%0A%20*%20Directives%20Guide%7D%20for%20an%20example.%0D%0A%20*%0D%0A%20*%20There%20are%20very%20few%20scenarios%20where%20element%20replacement%20is%20required%20for%20the%20application%20function%2C%0D%0A%20*%20the%20main%20one%20being%20reusable%20custom%20components%20that%20are%20used%20within%20SVG%20contexts%0D%0A%20*%20%28because%20SVG%20doesn%27t%20work%20with%20custom%20elements%20in%20the%20DOM%20tree%29.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60transclude%60%0D%0A%20*%20Extract%20the%20contents%20of%20the%20element%20where%20the%20directive%20appears%20and%20make%20it%20available%20to%20the%20directive.%0D%0A%20*%20The%20contents%20are%20compiled%20and%20provided%20to%20the%20directive%20as%20a%20**transclusion%20function**.%20See%20the%0D%0A%20*%20%7B@link%20%24compile%23transclusion%20Transclusion%7D%20section%20below.%0D%0A%20*%0D%0A%20*%20There%20are%20two%20kinds%20of%20transclusion%20depending%20upon%20whether%20you%20want%20to%20transclude%20just%20the%20contents%20of%20the%0D%0A%20*%20directive%27s%20element%20or%20the%20entire%20element%3A%0D%0A%20*%0D%0A%20*%20*%20%60true%60%20-%20transclude%20the%20content%20%28i.e.%20the%20child%20nodes%29%20of%20the%20directive%27s%20element.%0D%0A%20*%20*%20%60%27element%27%60%20-%20transclude%20the%20whole%20of%20the%20directive%27s%20element%20including%20any%20directives%20on%20this%0D%0A%20*%20%20%20element%20that%20defined%20at%20a%20lower%20priority%20than%20this%20directive.%20When%20used%2C%20the%20%60template%60%0D%0A%20*%20%20%20property%20is%20ignored.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60compile%60%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20function%20compile%28tElement%2C%20tAttrs%2C%20transclude%29%20%7B%20...%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20compile%20function%20deals%20with%20transforming%20the%20template%20DOM.%20Since%20most%20directives%20do%20not%20do%0D%0A%20*%20template%20transformation%2C%20it%20is%20not%20used%20often.%20The%20compile%20function%20takes%20the%20following%20arguments%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20%60tElement%60%20-%20template%20element%20-%20The%20element%20where%20the%20directive%20has%20been%20declared.%20It%20is%0D%0A%20*%20%20%20%20%20safe%20to%20do%20template%20transformation%20on%20the%20element%20and%20child%20elements%20only.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60tAttrs%60%20-%20template%20attributes%20-%20Normalized%20list%20of%20attributes%20declared%20on%20this%20element%20shared%0D%0A%20*%20%20%20%20%20between%20all%20directive%20compile%20functions.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60transclude%60%20-%20%20%5B*DEPRECATED*%21%5D%20A%20transclude%20linking%20function%3A%20%60function%28scope%2C%20cloneLinkingFn%29%60%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20The%20template%20instance%20and%20the%20link%20instance%20may%20be%20different%20objects%20if%20the%20template%20has%0D%0A%20*%20been%20cloned.%20For%20this%20reason%20it%20is%20**not**%20safe%20to%20do%20anything%20other%20than%20DOM%20transformations%20that%0D%0A%20*%20apply%20to%20all%20cloned%20DOM%20nodes%20within%20the%20compile%20function.%20Specifically%2C%20DOM%20listener%20registration%0D%0A%20*%20should%20be%20done%20in%20a%20linking%20function%20rather%20than%20in%20a%20compile%20function.%0D%0A%20*%20%3C/div%3E%0D%0A%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20The%20compile%20function%20cannot%20handle%20directives%20that%20recursively%20use%20themselves%20in%20their%0D%0A%20*%20own%20templates%20or%20compile%20functions.%20Compiling%20these%20directives%20results%20in%20an%20infinite%20loop%20and%20a%0D%0A%20*%20stack%20overflow%20errors.%0D%0A%20*%0D%0A%20*%20This%20can%20be%20avoided%20by%20manually%20using%20%24compile%20in%20the%20postLink%20function%20to%20imperatively%20compile%0D%0A%20*%20a%20directive%27s%20template%20instead%20of%20relying%20on%20automatic%20template%20compilation%20via%20%60template%60%20or%0D%0A%20*%20%60templateUrl%60%20declaration%20or%20manual%20compilation%20inside%20the%20compile%20function.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-danger%22%3E%0D%0A%20*%20**Note%3A**%20The%20%60transclude%60%20function%20that%20is%20passed%20to%20the%20compile%20function%20is%20deprecated%2C%20as%20it%0D%0A%20*%20%20%20e.g.%20does%20not%20know%20about%20the%20right%20outer%20scope.%20Please%20use%20the%20transclude%20function%20that%20is%20passed%0D%0A%20*%20%20%20to%20the%20link%20function%20instead.%0D%0A%20*%20%3C/div%3E%0D%0A%0D%0A%20*%20A%20compile%20function%20can%20have%20a%20return%20value%20which%20can%20be%20either%20a%20function%20or%20an%20object.%0D%0A%20*%0D%0A%20*%20*%20returning%20a%20%28post-link%29%20function%20-%20is%20equivalent%20to%20registering%20the%20linking%20function%20via%20the%0D%0A%20*%20%20%20%60link%60%20property%20of%20the%20config%20object%20when%20the%20compile%20function%20is%20empty.%0D%0A%20*%0D%0A%20*%20*%20returning%20an%20object%20with%20function%28s%29%20registered%20via%20%60pre%60%20and%20%60post%60%20properties%20-%20allows%20you%20to%0D%0A%20*%20%20%20control%20when%20a%20linking%20function%20should%20be%20called%20during%20the%20linking%20phase.%20See%20info%20about%0D%0A%20*%20%20%20pre-linking%20and%20post-linking%20functions%20below.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20%60link%60%0D%0A%20*%20This%20property%20is%20used%20only%20if%20the%20%60compile%60%20property%20is%20not%20defined.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20function%20link%28scope%2C%20iElement%2C%20iAttrs%2C%20controller%2C%20transcludeFn%29%20%7B%20...%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20link%20function%20is%20responsible%20for%20registering%20DOM%20listeners%20as%20well%20as%20updating%20the%20DOM.%20It%20is%0D%0A%20*%20executed%20after%20the%20template%20has%20been%20cloned.%20This%20is%20where%20most%20of%20the%20directive%20logic%20will%20be%0D%0A%20*%20put.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60scope%60%20-%20%7B@link%20ng.%24rootScope.Scope%20Scope%7D%20-%20The%20scope%20to%20be%20used%20by%20the%0D%0A%20*%20%20%20%20%20directive%20for%20registering%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20watches%7D.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60iElement%60%20-%20instance%20element%20-%20The%20element%20where%20the%20directive%20is%20to%20be%20used.%20It%20is%20safe%20to%0D%0A%20*%20%20%20%20%20manipulate%20the%20children%20of%20the%20element%20only%20in%20%60postLink%60%20function%20since%20the%20children%20have%0D%0A%20*%20%20%20%20%20already%20been%20linked.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60iAttrs%60%20-%20instance%20attributes%20-%20Normalized%20list%20of%20attributes%20declared%20on%20this%20element%20shared%0D%0A%20*%20%20%20%20%20between%20all%20directive%20linking%20functions.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60controller%60%20-%20the%20directive%27s%20required%20controller%20instance%28s%29%20-%20Instances%20are%20shared%0D%0A%20*%20%20%20%20%20among%20all%20directives%2C%20which%20allows%20the%20directives%20to%20use%20the%20controllers%20as%20a%20communication%0D%0A%20*%20%20%20%20%20channel.%20The%20exact%20value%20depends%20on%20the%20directive%27s%20%60require%60%20property%3A%0D%0A%20*%20%20%20%20%20%20%20*%20%60string%60%3A%20the%20controller%20instance%0D%0A%20*%20%20%20%20%20%20%20*%20%60array%60%3A%20array%20of%20controller%20instances%0D%0A%20*%20%20%20%20%20%20%20*%20no%20controller%28s%29%20required%3A%20%60undefined%60%0D%0A%20*%0D%0A%20*%20%20%20%20%20If%20a%20required%20controller%20cannot%20be%20found%2C%20and%20it%20is%20optional%2C%20the%20instance%20is%20%60null%60%2C%0D%0A%20*%20%20%20%20%20otherwise%20the%20%7B@link%20error%3A%24compile%3Actreq%20Missing%20Required%20Controller%7D%20error%20is%20thrown.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60transcludeFn%60%20-%20A%20transclude%20linking%20function%20pre-bound%20to%20the%20correct%20transclusion%20scope.%0D%0A%20*%20%20%20%20%20This%20is%20the%20same%20as%20the%20%60%24transclude%60%0D%0A%20*%20%20%20%20%20parameter%20of%20directive%20controllers%2C%20see%20there%20for%20details.%0D%0A%20*%20%20%20%20%20%60function%28%5Bscope%5D%2C%20cloneLinkingFn%2C%20futureParentElement%29%60.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20Pre-linking%20function%0D%0A%20*%0D%0A%20*%20Executed%20before%20the%20child%20elements%20are%20linked.%20Not%20safe%20to%20do%20DOM%20transformation%20since%20the%0D%0A%20*%20compiler%20linking%20function%20will%20fail%20to%20locate%20the%20correct%20elements%20for%20linking.%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20Post-linking%20function%0D%0A%20*%0D%0A%20*%20Executed%20after%20the%20child%20elements%20are%20linked.%0D%0A%20*%0D%0A%20*%20Note%20that%20child%20elements%20that%20contain%20%60templateUrl%60%20directives%20will%20not%20have%20been%20compiled%0D%0A%20*%20and%20linked%20since%20they%20are%20waiting%20for%20their%20template%20to%20load%20asynchronously%20and%20their%20own%0D%0A%20*%20compilation%20and%20linking%20has%20been%20suspended%20until%20that%20occurs.%0D%0A%20*%0D%0A%20*%20It%20is%20safe%20to%20do%20DOM%20transformation%20in%20the%20post-linking%20function%20on%20elements%20that%20are%20not%20waiting%0D%0A%20*%20for%20their%20async%20templates%20to%20be%20resolved.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%20Transclusion%0D%0A%20*%0D%0A%20*%20Transclusion%20is%20the%20process%20of%20extracting%20a%20collection%20of%20DOM%20element%20from%20one%20part%20of%20the%20DOM%20and%0D%0A%20*%20copying%20them%20to%20another%20part%20of%20the%20DOM%2C%20while%20maintaining%20their%20connection%20to%20the%20original%20AngularJS%0D%0A%20*%20scope%20from%20where%20they%20were%20taken.%0D%0A%20*%0D%0A%20*%20Transclusion%20is%20used%20%28often%20with%20%7B@link%20ngTransclude%7D%29%20to%20insert%20the%0D%0A%20*%20original%20contents%20of%20a%20directive%27s%20element%20into%20a%20specified%20place%20in%20the%20template%20of%20the%20directive.%0D%0A%20*%20The%20benefit%20of%20transclusion%2C%20over%20simply%20moving%20the%20DOM%20elements%20manually%2C%20is%20that%20the%20transcluded%0D%0A%20*%20content%20has%20access%20to%20the%20properties%20on%20the%20scope%20from%20which%20it%20was%20taken%2C%20even%20if%20the%20directive%0D%0A%20*%20has%20isolated%20scope.%0D%0A%20*%20See%20the%20%7B@link%20guide/directive%23creating-a-directive-that-wraps-other-elements%20Directives%20Guide%7D.%0D%0A%20*%0D%0A%20*%20This%20makes%20it%20possible%20for%20the%20widget%20to%20have%20private%20state%20for%20its%20template%2C%20while%20the%20transcluded%0D%0A%20*%20content%20has%20access%20to%20its%20originating%20scope.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20When%20testing%20an%20element%20transclude%20directive%20you%20must%20not%20place%20the%20directive%20at%20the%20root%20of%20the%0D%0A%20*%20DOM%20fragment%20that%20is%20being%20compiled.%20See%20%7B@link%20guide/unit-testing%23testing-transclusion-directives%0D%0A%20*%20Testing%20Transclusion%20Directives%7D.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20Transclusion%20Functions%0D%0A%20*%0D%0A%20*%20When%20a%20directive%20requests%20transclusion%2C%20the%20compiler%20extracts%20its%20contents%20and%20provides%20a%20**transclusion%0D%0A%20*%20function**%20to%20the%20directive%27s%20%60link%60%20function%20and%20%60controller%60.%20This%20transclusion%20function%20is%20a%20special%0D%0A%20*%20**linking%20function**%20that%20will%20return%20the%20compiled%20contents%20linked%20to%20a%20new%20transclusion%20scope.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-info%22%3E%0D%0A%20*%20If%20you%20are%20just%20using%20%7B@link%20ngTransclude%7D%20then%20you%20don%27t%20need%20to%20worry%20about%20this%20function%2C%20since%0D%0A%20*%20ngTransclude%20will%20deal%20with%20it%20for%20us.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20If%20you%20want%20to%20manually%20control%20the%20insertion%20and%20removal%20of%20the%20transcluded%20content%20in%20your%20directive%0D%0A%20*%20then%20you%20must%20use%20this%20transclude%20function.%20When%20you%20call%20a%20transclude%20function%20it%20returns%20a%20a%20jqLite/JQuery%0D%0A%20*%20object%20that%20contains%20the%20compiled%20DOM%2C%20which%20is%20linked%20to%20the%20correct%20transclusion%20scope.%0D%0A%20*%0D%0A%20*%20When%20you%20call%20a%20transclusion%20function%20you%20can%20pass%20in%20a%20**clone%20attach%20function**.%20This%20function%20accepts%0D%0A%20*%20two%20parameters%2C%20%60function%28clone%2C%20scope%29%20%7B%20...%20%7D%60%2C%20where%20the%20%60clone%60%20is%20a%20fresh%20compiled%20copy%20of%20your%20transcluded%0D%0A%20*%20content%20and%20the%20%60scope%60%20is%20the%20newly%20created%20transclusion%20scope%2C%20to%20which%20the%20clone%20is%20bound.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-info%22%3E%0D%0A%20*%20**Best%20Practice**%3A%20Always%20provide%20a%20%60cloneFn%60%20%28clone%20attach%20function%29%20when%20you%20call%20a%20translude%20function%0D%0A%20*%20since%20you%20then%20get%20a%20fresh%20clone%20of%20the%20original%20DOM%20and%20also%20have%20access%20to%20the%20new%20transclusion%20scope.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20It%20is%20normal%20practice%20to%20attach%20your%20transcluded%20content%20%28%60clone%60%29%20to%20the%20DOM%20inside%20your%20**clone%0D%0A%20*%20attach%20function**%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20var%20transcludedContent%2C%20transclusionScope%3B%0D%0A%20*%0D%0A%20*%20%24transclude%28function%28clone%2C%20scope%29%20%7B%0D%0A%20*%20%20%20element.append%28clone%29%3B%0D%0A%20*%20%20%20transcludedContent%20%3D%20clone%3B%0D%0A%20*%20%20%20transclusionScope%20%3D%20scope%3B%0D%0A%20*%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Later%2C%20if%20you%20want%20to%20remove%20the%20transcluded%20content%20from%20your%20DOM%20then%20you%20should%20also%20destroy%20the%0D%0A%20*%20associated%20transclusion%20scope%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20transcludedContent.remove%28%29%3B%0D%0A%20*%20transclusionScope.%24destroy%28%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-info%22%3E%0D%0A%20*%20**Best%20Practice**%3A%20if%20you%20intend%20to%20add%20and%20remove%20transcluded%20content%20manually%20in%20your%20directive%0D%0A%20*%20%28by%20calling%20the%20transclude%20function%20to%20get%20the%20DOM%20and%20calling%20%60element.remove%28%29%60%20to%20remove%20it%29%2C%0D%0A%20*%20then%20you%20are%20also%20responsible%20for%20calling%20%60%24destroy%60%20on%20the%20transclusion%20scope.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20The%20built-in%20DOM%20manipulation%20directives%2C%20such%20as%20%7B@link%20ngIf%7D%2C%20%7B@link%20ngSwitch%7D%20and%20%7B@link%20ngRepeat%7D%0D%0A%20*%20automatically%20destroy%20their%20transluded%20clones%20as%20necessary%20so%20you%20do%20not%20need%20to%20worry%20about%20this%20if%0D%0A%20*%20you%20are%20simply%20using%20%7B@link%20ngTransclude%7D%20to%20inject%20the%20transclusion%20into%20your%20directive.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%23%20Transclusion%20Scopes%0D%0A%20*%0D%0A%20*%20When%20you%20call%20a%20transclude%20function%20it%20returns%20a%20DOM%20fragment%20that%20is%20pre-bound%20to%20a%20**transclusion%0D%0A%20*%20scope**.%20This%20scope%20is%20special%2C%20in%20that%20it%20is%20a%20child%20of%20the%20directive%27s%20scope%20%28and%20so%20gets%20destroyed%0D%0A%20*%20when%20the%20directive%27s%20scope%20gets%20destroyed%29%20but%20it%20inherits%20the%20properties%20of%20the%20scope%20from%20which%20it%0D%0A%20*%20was%20taken.%0D%0A%20*%0D%0A%20*%20For%20example%20consider%20a%20directive%20that%20uses%20transclusion%20and%20isolated%20scope.%20The%20DOM%20hierarchy%20might%20look%0D%0A%20*%20like%20this%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cdiv%20ng-app%3E%0D%0A%20*%20%20%20%3Cdiv%20isolate%3E%0D%0A%20*%20%20%20%20%20%3Cdiv%20transclusion%3E%0D%0A%20*%20%20%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20%60%24parent%60%20scope%20hierarchy%20will%20look%20like%20this%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20-%20%24rootScope%0D%0A%20*%20%20%20-%20isolate%0D%0A%20*%20%20%20%20%20-%20transclusion%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20but%20the%20scopes%20will%20inherit%20prototypically%20from%20different%20scopes%20to%20their%20%60%24parent%60.%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20-%20%24rootScope%0D%0A%20*%20%20%20-%20transclusion%0D%0A%20*%20-%20isolate%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%20Attributes%0D%0A%20*%0D%0A%20*%20The%20%7B@link%20ng.%24compile.directive.Attributes%20Attributes%7D%20object%20-%20passed%20as%20a%20parameter%20in%20the%0D%0A%20*%20%60link%28%29%60%20or%20%60compile%28%29%60%20functions.%20It%20has%20a%20variety%20of%20uses.%0D%0A%20*%0D%0A%20*%20accessing%20*Normalized%20attribute%20names%3A*%0D%0A%20*%20Directives%20like%20%27ngBind%27%20can%20be%20expressed%20in%20many%20ways%3A%20%27ng%3Abind%27%2C%20%60data-ng-bind%60%2C%20or%20%27x-ng-bind%27.%0D%0A%20*%20the%20attributes%20object%20allows%20for%20normalized%20access%20to%0D%0A%20*%20%20%20the%20attributes.%0D%0A%20*%0D%0A%20*%20*%20*Directive%20inter-communication%3A*%20All%20directives%20share%20the%20same%20instance%20of%20the%20attributes%0D%0A%20*%20%20%20object%20which%20allows%20the%20directives%20to%20use%20the%20attributes%20object%20as%20inter%20directive%0D%0A%20*%20%20%20communication.%0D%0A%20*%0D%0A%20*%20*%20*Supports%20interpolation%3A*%20Interpolation%20attributes%20are%20assigned%20to%20the%20attribute%20object%0D%0A%20*%20%20%20allowing%20other%20directives%20to%20read%20the%20interpolated%20value.%0D%0A%20*%0D%0A%20*%20*%20*Observing%20interpolated%20attributes%3A*%20Use%20%60%24observe%60%20to%20observe%20the%20value%20changes%20of%20attributes%0D%0A%20*%20%20%20that%20contain%20interpolation%20%28e.g.%20%60src%3D%22%7B%7Bbar%7D%7D%22%60%29.%20Not%20only%20is%20this%20very%20efficient%20but%20it%27s%20also%0D%0A%20*%20%20%20the%20only%20way%20to%20easily%20get%20the%20actual%20value%20because%20during%20the%20linking%20phase%20the%20interpolation%0D%0A%20*%20%20%20hasn%27t%20been%20evaluated%20yet%20and%20so%20the%20value%20is%20at%20this%20time%20set%20to%20%60undefined%60.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20function%20linkingFn%28scope%2C%20elm%2C%20attrs%2C%20ctrl%29%20%7B%0D%0A%20*%20%20%20//%20get%20the%20attribute%20value%0D%0A%20*%20%20%20console.log%28attrs.ngModel%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20change%20the%20attribute%0D%0A%20*%20%20%20attrs.%24set%28%27ngModel%27%2C%20%27new%20value%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20observe%20changes%20to%20interpolated%20attribute%0D%0A%20*%20%20%20attrs.%24observe%28%27ngModel%27%2C%20function%28value%29%20%7B%0D%0A%20*%20%20%20%20%20console.log%28%27ngModel%20has%20changed%20value%20to%20%27%20+%20value%29%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%23%20Example%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note**%3A%20Typically%20directives%20are%20registered%20with%20%60module.directive%60.%20The%20example%20below%20is%0D%0A%20*%20to%20illustrate%20how%20%60%24compile%60%20works.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20%3Cexample%20module%3D%22compileExample%22%3E%0D%0A%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20angular.module%28%27compileExample%27%2C%20%5B%5D%2C%20function%28%24compileProvider%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20configure%20new%20%27compile%27%20directive%20by%20passing%20a%20directive%0D%0A%20%20%20%20%20%20%20%20//%20factory%20function.%20The%20factory%20function%20injects%20the%20%27%24compile%27%0D%0A%20%20%20%20%20%20%20%20%24compileProvider.directive%28%27compile%27%2C%20function%28%24compile%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20directive%20factory%20creates%20a%20link%20function%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%28scope%2C%20element%2C%20attrs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20watch%20the%20%27compile%27%20expression%20for%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20scope.%24eval%28attrs.compile%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20when%20the%20%27compile%27%20expression%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20assign%20it%20into%20the%20current%20DOM%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.html%28value%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20compile%20the%20new%20DOM%20and%20link%20it%20to%20the%20current%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20scope.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20NOTE%3A%20we%20only%20compile%20.childNodes%20so%20that%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20don%27t%20get%20into%20infinite%20loop%20compiling%20ourselves%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24compile%28element.contents%28%29%29%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20.controller%28%27GreeterController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24scope.name%20%3D%20%27Angular%27%3B%0D%0A%20%20%20%20%20%20%20%20%24scope.html%20%3D%20%27Hello%20%7B%7Bname%7D%7D%27%3B%0D%0A%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%3Cdiv%20ng-controller%3D%22GreeterController%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-model%3D%22name%22%3E%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3Ctextarea%20ng-model%3D%22html%22%3E%3C/textarea%3E%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20compile%3D%22html%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20it%28%27should%20auto%20compile%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20var%20textarea%20%3D%20%24%28%27textarea%27%29%3B%0D%0A%20%20%20%20%20%20%20var%20output%20%3D%20%24%28%27div%5Bcompile%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20The%20initial%20state%20reads%20%27Hello%20Angular%27.%0D%0A%20%20%20%20%20%20%20expect%28output.getText%28%29%29.toBe%28%27Hello%20Angular%27%29%3B%0D%0A%20%20%20%20%20%20%20textarea.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20textarea.sendKeys%28%27%7B%7Bname%7D%7D%21%27%29%3B%0D%0A%20%20%20%20%20%20%20expect%28output.getText%28%29%29.toBe%28%27Angular%21%27%29%3B%0D%0A%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%3C/file%3E%0D%0A%20%3C/example%3E%0D%0A%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7CDOMElement%7D%20element%20Element%20or%20HTML%20string%20to%20compile%20into%20a%20template%20function.%0D%0A%20*%20@param%20%7Bfunction%28angular.Scope%2C%20cloneAttachFn%3D%29%7D%20transclude%20function%20available%20to%20directives%20-%20DEPRECATED.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-danger%22%3E%0D%0A%20*%20**Note%3A**%20Passing%20a%20%60transclude%60%20function%20to%20the%20%24compile%20function%20is%20deprecated%2C%20as%20it%0D%0A%20*%20%20%20e.g.%20will%20not%20use%20the%20right%20outer%20scope.%20Please%20pass%20the%20transclude%20function%20as%20a%0D%0A%20*%20%20%20%60parentBoundTranscludeFn%60%20to%20the%20link%20function%20instead.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20@param%20%7Bnumber%7D%20maxPriority%20only%20apply%20directives%20lower%20than%20given%20priority%20%28Only%20effects%20the%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20root%20element%28s%29%2C%20not%20their%20children%29%0D%0A%20*%20@returns%20%7Bfunction%28scope%2C%20cloneAttachFn%3D%2C%20options%3D%29%7D%20a%20link%20function%20which%20is%20used%20to%20bind%20template%0D%0A%20*%20%28a%20DOM%20element/tree%29%20to%20a%20scope.%20Where%3A%0D%0A%20*%0D%0A%20*%20%20*%20%60scope%60%20-%20A%20%7B@link%20ng.%24rootScope.Scope%20Scope%7D%20to%20bind%20to.%0D%0A%20*%20%20*%20%60cloneAttachFn%60%20-%20If%20%60cloneAttachFn%60%20is%20provided%2C%20then%20the%20link%20function%20will%20clone%20the%0D%0A%20*%20%20%60template%60%20and%20call%20the%20%60cloneAttachFn%60%20function%20allowing%20the%20caller%20to%20attach%20the%0D%0A%20*%20%20cloned%20elements%20to%20the%20DOM%20document%20at%20the%20appropriate%20place.%20The%20%60cloneAttachFn%60%20is%0D%0A%20*%20%20called%20as%3A%20%3Cbr/%3E%20%60cloneAttachFn%28clonedElement%2C%20scope%29%60%20where%3A%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20*%20%60clonedElement%60%20-%20is%20a%20clone%20of%20the%20original%20%60element%60%20passed%20into%20the%20compiler.%0D%0A%20*%20%20%20%20%20%20*%20%60scope%60%20-%20is%20the%20current%20scope%20with%20which%20the%20linking%20function%20is%20working%20with.%0D%0A%20*%0D%0A%20*%20%20*%20%60options%60%20-%20An%20optional%20object%20hash%20with%20linking%20options.%20If%20%60options%60%20is%20provided%2C%20then%20the%20following%0D%0A%20*%20%20keys%20may%20be%20used%20to%20control%20linking%20behavior%3A%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20*%20%60parentBoundTranscludeFn%60%20-%20the%20transclude%20function%20made%20available%20to%0D%0A%20*%20%20%20%20%20%20%20%20directives%3B%20if%20given%2C%20it%20will%20be%20passed%20through%20to%20the%20link%20functions%20of%0D%0A%20*%20%20%20%20%20%20%20%20directives%20found%20in%20%60element%60%20during%20compilation.%0D%0A%20*%20%20%20%20%20%20*%20%60transcludeControllers%60%20-%20an%20object%20hash%20with%20keys%20that%20map%20controller%20names%0D%0A%20*%20%20%20%20%20%20%20%20to%20controller%20instances%3B%20if%20given%2C%20it%20will%20make%20the%20controllers%0D%0A%20*%20%20%20%20%20%20%20%20available%20to%20directives.%0D%0A%20*%20%20%20%20%20%20*%20%60futureParentElement%60%20-%20defines%20the%20parent%20to%20which%20the%20%60cloneAttachFn%60%20will%20add%0D%0A%20*%20%20%20%20%20%20%20%20the%20cloned%20elements%3B%20only%20needed%20for%20transcludes%20that%20are%20allowed%20to%20contain%20non%20html%0D%0A%20*%20%20%20%20%20%20%20%20elements%20%28e.g.%20SVG%20elements%29.%20See%20also%20the%20directive.controller%20property.%0D%0A%20*%0D%0A%20*%20Calling%20the%20linking%20function%20returns%20the%20element%20of%20the%20template.%20It%20is%20either%20the%20original%0D%0A%20*%20element%20passed%20in%2C%20or%20the%20clone%20of%20the%20element%20if%20the%20%60cloneAttachFn%60%20is%20provided.%0D%0A%20*%0D%0A%20*%20After%20linking%20the%20view%20is%20not%20updated%20until%20after%20a%20call%20to%20%24digest%20which%20typically%20is%20done%20by%0D%0A%20*%20Angular%20automatically.%0D%0A%20*%0D%0A%20*%20If%20you%20need%20access%20to%20the%20bound%20view%2C%20there%20are%20two%20ways%20to%20do%20it%3A%0D%0A%20*%0D%0A%20*%20-%20If%20you%20are%20not%20asking%20the%20linking%20function%20to%20clone%20the%20template%2C%20create%20the%20DOM%20element%28s%29%0D%0A%20*%20%20%20before%20you%20send%20them%20to%20the%20compiler%20and%20keep%20this%20reference%20around.%0D%0A%20*%20%20%20%60%60%60js%0D%0A%20*%20%20%20%20%20var%20element%20%3D%20%24compile%28%27%3Cp%3E%7B%7Btotal%7D%7D%3C/p%3E%27%29%28scope%29%3B%0D%0A%20*%20%20%20%60%60%60%0D%0A%20*%0D%0A%20*%20-%20if%20on%20the%20other%20hand%2C%20you%20need%20the%20element%20to%20be%20cloned%2C%20the%20view%20reference%20from%20the%20original%0D%0A%20*%20%20%20example%20would%20not%20point%20to%20the%20clone%2C%20but%20rather%20to%20the%20original%20template%20that%20was%20cloned.%20In%0D%0A%20*%20%20%20this%20case%2C%20you%20can%20access%20the%20clone%20via%20the%20cloneAttachFn%3A%0D%0A%20*%20%20%20%60%60%60js%0D%0A%20*%20%20%20%20%20var%20templateElement%20%3D%20angular.element%28%27%3Cp%3E%7B%7Btotal%7D%7D%3C/p%3E%27%29%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20scope%20%3D%20....%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20var%20clonedElement%20%3D%20%24compile%28templateElement%29%28scope%2C%20function%28clonedElement%2C%20scope%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20//attach%20the%20clone%20to%20DOM%20document%20at%20the%20right%20place%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20//now%20we%20have%20reference%20to%20the%20cloned%20DOM%20via%20%60clonedElement%60%0D%0A%20*%20%20%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20For%20information%20on%20how%20the%20compiler%20works%2C%20see%20the%0D%0A%20*%20%7B@link%20guide/compiler%20Angular%20HTML%20Compiler%7D%20section%20of%20the%20Developer%20Guide.%0D%0A%20*/%0D%0A%0D%0Avar%20%24compileMinErr%20%3D%20minErr%28%27%24compile%27%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24compileProvider%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*/%0D%0A%24CompileProvider.%24inject%20%3D%20%5B%27%24provide%27%2C%20%27%24%24sanitizeUriProvider%27%5D%3B%0D%0Afunction%20%24CompileProvider%28%24provide%2C%20%24%24sanitizeUriProvider%29%20%7B%0D%0A%20%20var%20hasDirectives%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20Suffix%20%3D%20%27Directive%27%2C%0D%0A%20%20%20%20%20%20COMMENT_DIRECTIVE_REGEXP%20%3D%20/%5E%5Cs*directive%5C%3A%5Cs*%28%5B%5Cw%5C-%5D+%29%5Cs+%28.*%29%24/%2C%0D%0A%20%20%20%20%20%20CLASS_DIRECTIVE_REGEXP%20%3D%20/%28%28%5B%5Cw%5C-%5D+%29%28%3F%3A%5C%3A%28%5B%5E%3B%5D+%29%29%3F%3B%3F%29/%2C%0D%0A%20%20%20%20%20%20ALL_OR_NOTHING_ATTRS%20%3D%20makeMap%28%27ngSrc%2CngSrcset%2Csrc%2Csrcset%27%29%2C%0D%0A%20%20%20%20%20%20REQUIRE_PREFIX_REGEXP%20%3D%20/%5E%28%3F%3A%28%5C%5E%5C%5E%3F%29%3F%28%5C%3F%29%3F%28%5C%5E%5C%5E%3F%29%3F%29%3F/%3B%0D%0A%0D%0A%20%20//%20Ref%3A%20http%3A//developers.whatwg.org/webappapis.html%23event-handler-idl-attributes%0D%0A%20%20//%20The%20assumption%20is%20that%20future%20DOM%20event%20attribute%20names%20will%20begin%20with%0D%0A%20%20//%20%27on%27%20and%20be%20composed%20of%20only%20English%20letters.%0D%0A%20%20var%20EVENT_HANDLER_ATTR_REGEXP%20%3D%20/%5E%28on%5Ba-z%5D+%7Cformaction%29%24/%3B%0D%0A%0D%0A%20%20function%20parseIsolateBindings%28scope%2C%20directiveName%2C%20isController%29%20%7B%0D%0A%20%20%20%20var%20LOCAL_REGEXP%20%3D%20/%5E%5Cs*%28%5B@%26%5D%7C%3D%28%5C*%3F%29%29%28%5C%3F%3F%29%5Cs*%28%5Cw*%29%5Cs*%24/%3B%0D%0A%0D%0A%20%20%20%20var%20bindings%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20forEach%28scope%2C%20function%28definition%2C%20scopeName%29%20%7B%0D%0A%20%20%20%20%20%20var%20match%20%3D%20definition.match%28LOCAL_REGEXP%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27iscp%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Invalid%20%7B3%7D%20for%20directive%20%27%7B0%7D%27.%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%20Definition%3A%20%7B...%20%7B1%7D%3A%20%27%7B2%7D%27%20...%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20directiveName%2C%20scopeName%2C%20definition%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%28isController%20%3F%20%22controller%20bindings%20definition%22%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22isolate%20scope%20definition%22%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20bindings%5BscopeName%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%3A%20match%5B1%5D%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20collection%3A%20match%5B2%5D%20%3D%3D%3D%20%27*%27%2C%0D%0A%20%20%20%20%20%20%20%20optional%3A%20match%5B3%5D%20%3D%3D%3D%20%27%3F%27%2C%0D%0A%20%20%20%20%20%20%20%20attrName%3A%20match%5B4%5D%20%7C%7C%20scopeName%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20return%20bindings%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20parseDirectiveBindings%28directive%2C%20directiveName%29%20%7B%0D%0A%20%20%20%20var%20bindings%20%3D%20%7B%0D%0A%20%20%20%20%20%20isolateScope%3A%20null%2C%0D%0A%20%20%20%20%20%20bindToController%3A%20null%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20if%20%28isObject%28directive.scope%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28directive.bindToController%20%3D%3D%3D%20true%29%20%7B%0D%0A%20%20%20%20%20%20%20%20bindings.bindToController%20%3D%20parseIsolateBindings%28directive.scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveName%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20bindings.isolateScope%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20bindings.isolateScope%20%3D%20parseIsolateBindings%28directive.scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveName%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isObject%28directive.bindToController%29%29%20%7B%0D%0A%20%20%20%20%20%20bindings.bindToController%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20parseIsolateBindings%28directive.bindToController%2C%20directiveName%2C%20true%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isObject%28bindings.bindToController%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20controller%20%3D%20directive.controller%3B%0D%0A%20%20%20%20%20%20var%20controllerAs%20%3D%20directive.controllerAs%3B%0D%0A%20%20%20%20%20%20if%20%28%21controller%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20There%20is%20no%20controller%2C%20there%20may%20or%20may%20not%20be%20a%20controllerAs%20property%0D%0A%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27noctrl%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Cannot%20bind%20to%20controller%20without%20directive%20%27%7B0%7D%27s%20controller.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveName%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21identifierForController%28controller%2C%20controllerAs%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20There%20is%20a%20controller%2C%20but%20no%20identifier%20or%20controllerAs%20property%0D%0A%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27noident%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Cannot%20bind%20to%20controller%20without%20identifier%20for%20directive%20%27%7B0%7D%27.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveName%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20bindings%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20assertValidDirectiveName%28name%29%20%7B%0D%0A%20%20%20%20var%20letter%20%3D%20name.charAt%280%29%3B%0D%0A%20%20%20%20if%20%28%21letter%20%7C%7C%20letter%20%21%3D%3D%20lowercase%28letter%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24compileMinErr%28%27baddir%27%2C%20%22Directive%20name%20%27%7B0%7D%27%20is%20invalid.%20The%20first%20character%20must%20be%20a%20lowercase%20letter%22%2C%20name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28name%20%21%3D%3D%20name.trim%28%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24compileMinErr%28%27baddir%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Directive%20name%20%27%7B0%7D%27%20is%20invalid.%20The%20name%20should%20not%20contain%20leading%20or%20trailing%20whitespaces%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24compileProvider%23directive%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Register%20a%20new%20directive%20with%20the%20compiler.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7CObject%7D%20name%20Name%20of%20the%20directive%20in%20camel-case%20%28i.e.%20%3Ccode%3EngBind%3C/code%3E%20which%0D%0A%20%20%20*%20%20%20%20will%20match%20as%20%3Ccode%3Eng-bind%3C/code%3E%29%2C%20or%20an%20object%20map%20of%20directives%20where%20the%20keys%20are%20the%0D%0A%20%20%20*%20%20%20%20names%20and%20the%20values%20are%20the%20factories.%0D%0A%20%20%20*%20@param%20%7BFunction%7CArray%7D%20directiveFactory%20An%20injectable%20directive%20factory%20function.%20See%0D%0A%20%20%20*%20%20%20%20%7B@link%20guide/directive%7D%20for%20more%20info.%0D%0A%20%20%20*%20@returns%20%7Bng.%24compileProvider%7D%20Self%20for%20chaining.%0D%0A%20%20%20*/%0D%0A%20%20%20this.directive%20%3D%20function%20registerDirective%28name%2C%20directiveFactory%29%20%7B%0D%0A%20%20%20%20assertNotHasOwnProperty%28name%2C%20%27directive%27%29%3B%0D%0A%20%20%20%20if%20%28isString%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20assertValidDirectiveName%28name%29%3B%0D%0A%20%20%20%20%20%20assertArg%28directiveFactory%2C%20%27directiveFactory%27%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21hasDirectives.hasOwnProperty%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20hasDirectives%5Bname%5D%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%24provide.factory%28name%20+%20Suffix%2C%20%5B%27%24injector%27%2C%20%27%24exceptionHandler%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20function%28%24injector%2C%20%24exceptionHandler%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20directives%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20forEach%28hasDirectives%5Bname%5D%2C%20function%28directiveFactory%2C%20index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20directive%20%3D%20%24injector.invoke%28directiveFactory%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isFunction%28directive%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive%20%3D%20%7B%20compile%3A%20valueFn%28directive%29%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21directive.compile%20%26%26%20directive.link%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.compile%20%3D%20valueFn%28directive.link%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.priority%20%3D%20directive.priority%20%7C%7C%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.index%20%3D%20index%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.name%20%3D%20directive.name%20%7C%7C%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.require%20%3D%20directive.require%20%7C%7C%20%28directive.controller%20%26%26%20directive.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.restrict%20%3D%20directive.restrict%20%7C%7C%20%27EA%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20bindings%20%3D%20directive.%24%24bindings%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parseDirectiveBindings%28directive%2C%20directive.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isObject%28bindings.isolateScope%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.%24%24isolateBindings%20%3D%20bindings.isolateScope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directives.push%28directive%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20directives%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20hasDirectives%5Bname%5D.push%28directiveFactory%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20forEach%28name%2C%20reverseParams%28registerDirective%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24compileProvider%23aHrefSanitizationWhitelist%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Retrieves%20or%20overrides%20the%20default%20regular%20expression%20that%20is%20used%20for%20whitelisting%20of%20safe%0D%0A%20%20%20*%20urls%20during%20a%5Bhref%5D%20sanitization.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20sanitization%20is%20a%20security%20measure%20aimed%20at%20preventing%20XSS%20attacks%20via%20html%20links.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Any%20url%20about%20to%20be%20assigned%20to%20a%5Bhref%5D%20via%20data-binding%20is%20first%20normalized%20and%20turned%20into%0D%0A%20%20%20*%20an%20absolute%20url.%20Afterwards%2C%20the%20url%20is%20matched%20against%20the%20%60aHrefSanitizationWhitelist%60%0D%0A%20%20%20*%20regular%20expression.%20If%20a%20match%20is%20found%2C%20the%20original%20url%20is%20written%20into%20the%20dom.%20Otherwise%2C%0D%0A%20%20%20*%20the%20absolute%20url%20is%20prefixed%20with%20%60%27unsafe%3A%27%60%20string%20and%20only%20then%20is%20it%20written%20into%20the%20DOM.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BRegExp%3D%7D%20regexp%20New%20regexp%20to%20whitelist%20urls%20with.%0D%0A%20%20%20*%20@returns%20%7BRegExp%7Cng.%24compileProvider%7D%20Current%20RegExp%20if%20called%20without%20value%20or%20self%20for%0D%0A%20%20%20*%20%20%20%20chaining%20otherwise.%0D%0A%20%20%20*/%0D%0A%20%20this.aHrefSanitizationWhitelist%20%3D%20function%28regexp%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28regexp%29%29%20%7B%0D%0A%20%20%20%20%20%20%24%24sanitizeUriProvider.aHrefSanitizationWhitelist%28regexp%29%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20%24%24sanitizeUriProvider.aHrefSanitizationWhitelist%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24compileProvider%23imgSrcSanitizationWhitelist%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Retrieves%20or%20overrides%20the%20default%20regular%20expression%20that%20is%20used%20for%20whitelisting%20of%20safe%0D%0A%20%20%20*%20urls%20during%20img%5Bsrc%5D%20sanitization.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20sanitization%20is%20a%20security%20measure%20aimed%20at%20prevent%20XSS%20attacks%20via%20html%20links.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Any%20url%20about%20to%20be%20assigned%20to%20img%5Bsrc%5D%20via%20data-binding%20is%20first%20normalized%20and%20turned%20into%0D%0A%20%20%20*%20an%20absolute%20url.%20Afterwards%2C%20the%20url%20is%20matched%20against%20the%20%60imgSrcSanitizationWhitelist%60%0D%0A%20%20%20*%20regular%20expression.%20If%20a%20match%20is%20found%2C%20the%20original%20url%20is%20written%20into%20the%20dom.%20Otherwise%2C%0D%0A%20%20%20*%20the%20absolute%20url%20is%20prefixed%20with%20%60%27unsafe%3A%27%60%20string%20and%20only%20then%20is%20it%20written%20into%20the%20DOM.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BRegExp%3D%7D%20regexp%20New%20regexp%20to%20whitelist%20urls%20with.%0D%0A%20%20%20*%20@returns%20%7BRegExp%7Cng.%24compileProvider%7D%20Current%20RegExp%20if%20called%20without%20value%20or%20self%20for%0D%0A%20%20%20*%20%20%20%20chaining%20otherwise.%0D%0A%20%20%20*/%0D%0A%20%20this.imgSrcSanitizationWhitelist%20%3D%20function%28regexp%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28regexp%29%29%20%7B%0D%0A%20%20%20%20%20%20%24%24sanitizeUriProvider.imgSrcSanitizationWhitelist%28regexp%29%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20%24%24sanitizeUriProvider.imgSrcSanitizationWhitelist%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%20%24compileProvider%23debugInfoEnabled%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20enabled%20update%20the%20debugInfoEnabled%20state%20if%20provided%2C%20otherwise%20just%20return%20the%0D%0A%20%20%20*%20current%20debugInfoEnabled%20state%0D%0A%20%20%20*%20@returns%20%7B*%7D%20current%20value%20if%20used%20as%20getter%20or%20itself%20%28chaining%29%20if%20used%20as%20setter%0D%0A%20%20%20*%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Call%20this%20method%20to%20enable/disable%20various%20debug%20runtime%20information%20in%20the%20compiler%20such%20as%20adding%0D%0A%20%20%20*%20binding%20information%20and%20a%20reference%20to%20the%20current%20scope%20on%20to%20DOM%20elements.%0D%0A%20%20%20*%20If%20enabled%2C%20the%20compiler%20will%20add%20the%20following%20to%20DOM%20elements%20that%20have%20been%20bound%20to%20the%20scope%0D%0A%20%20%20*%20*%20%60ng-binding%60%20CSS%20class%0D%0A%20%20%20*%20*%20%60%24binding%60%20data%20property%20containing%20an%20array%20of%20the%20binding%20expressions%0D%0A%20%20%20*%0D%0A%20%20%20*%20You%20may%20want%20to%20disable%20this%20in%20production%20for%20a%20significant%20performance%20boost.%20See%0D%0A%20%20%20*%20%7B@link%20guide/production%23disabling-debug-data%20Disabling%20Debug%20Data%7D%20for%20more.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20default%20value%20is%20true.%0D%0A%20%20%20*/%0D%0A%20%20var%20debugInfoEnabled%20%3D%20true%3B%0D%0A%20%20this.debugInfoEnabled%20%3D%20function%28enabled%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28enabled%29%29%20%7B%0D%0A%20%20%20%20%20%20debugInfoEnabled%20%3D%20enabled%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20debugInfoEnabled%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27%24injector%27%2C%20%27%24interpolate%27%2C%20%27%24exceptionHandler%27%2C%20%27%24templateRequest%27%2C%20%27%24parse%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27%24controller%27%2C%20%27%24rootScope%27%2C%20%27%24document%27%2C%20%27%24sce%27%2C%20%27%24animate%27%2C%20%27%24%24sanitizeUri%27%2C%0D%0A%20%20%20%20function%28%24injector%2C%20%20%20%24interpolate%2C%20%20%20%24exceptionHandler%2C%20%20%20%24templateRequest%2C%20%20%20%24parse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24controller%2C%20%20%20%24rootScope%2C%20%20%20%24document%2C%20%20%20%24sce%2C%20%20%20%24animate%2C%20%20%20%24%24sanitizeUri%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20Attributes%20%3D%20function%28element%2C%20attributesToCopy%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28attributesToCopy%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20keys%20%3D%20Object.keys%28attributesToCopy%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20i%2C%20l%2C%20key%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20l%20%3D%20keys.length%3B%20i%20%3C%20l%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20key%20%3D%20keys%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this%5Bkey%5D%20%3D%20attributesToCopy%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24attr%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20this.%24%24element%20%3D%20element%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20Attributes.prototype%20%3D%20%7B%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24compile.directive.Attributes%23%24normalize%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Converts%20an%20attribute%20name%20%28e.g.%20dash/colon/underscore-delimited%20string%2C%20optionally%20prefixed%20with%20%60x-%60%20or%0D%0A%20%20%20%20%20%20%20*%20%60data-%60%29%20to%20its%20normalized%2C%20camelCase%20form.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Also%20there%20is%20special%20case%20for%20Moz%20prefix%20starting%20with%20upper%20case%20letter.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20For%20further%20information%20check%20out%20the%20guide%20on%20%7B@link%20guide/directive%23matching-directives%20Matching%20Directives%7D%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20Name%20to%20normalize%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24normalize%3A%20directiveNormalize%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24compile.directive.Attributes%23%24addClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Adds%20the%20CSS%20class%20value%20specified%20by%20the%20classVal%20parameter%20to%20the%20element.%20If%20animations%0D%0A%20%20%20%20%20%20%20*%20are%20enabled%20then%20an%20animation%20will%20be%20triggered%20for%20the%20class%20addition.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20classVal%20The%20className%20value%20that%20will%20be%20added%20to%20the%20element%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24addClass%3A%20function%28classVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28classVal%20%26%26%20classVal.length%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24animate.addClass%28this.%24%24element%2C%20classVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24compile.directive.Attributes%23%24removeClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Removes%20the%20CSS%20class%20value%20specified%20by%20the%20classVal%20parameter%20from%20the%20element.%20If%0D%0A%20%20%20%20%20%20%20*%20animations%20are%20enabled%20then%20an%20animation%20will%20be%20triggered%20for%20the%20class%20removal.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20classVal%20The%20className%20value%20that%20will%20be%20removed%20from%20the%20element%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24removeClass%3A%20function%28classVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28classVal%20%26%26%20classVal.length%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24animate.removeClass%28this.%24%24element%2C%20classVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24compile.directive.Attributes%23%24updateClass%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Adds%20and%20removes%20the%20appropriate%20CSS%20class%20values%20to%20the%20element%20based%20on%20the%20difference%0D%0A%20%20%20%20%20%20%20*%20between%20the%20new%20and%20old%20CSS%20class%20values%20%28specified%20as%20newClasses%20and%20oldClasses%29.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20newClasses%20The%20current%20CSS%20className%20value%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20oldClasses%20The%20former%20CSS%20className%20value%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24updateClass%3A%20function%28newClasses%2C%20oldClasses%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20toAdd%20%3D%20tokenDifference%28newClasses%2C%20oldClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28toAdd%20%26%26%20toAdd.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24animate.addClass%28this.%24%24element%2C%20toAdd%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20toRemove%20%3D%20tokenDifference%28oldClasses%2C%20newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28toRemove%20%26%26%20toRemove.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24animate.removeClass%28this.%24%24element%2C%20toRemove%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20Set%20a%20normalized%20attribute%20on%20the%20element%20in%20a%20way%20such%20that%20all%20directives%0D%0A%20%20%20%20%20%20%20*%20can%20share%20the%20attribute.%20This%20function%20properly%20handles%20boolean%20attributes.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20key%20Normalized%20key.%20%28ie%20ngAttribute%29%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7Cboolean%7D%20value%20The%20value%20to%20set.%20If%20%60null%60%20attribute%20will%20be%20deleted.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20writeAttr%20If%20false%2C%20does%20not%20write%20the%20value%20to%20DOM%20element%20attribute.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20Defaults%20to%20true.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20attrName%20Optional%20none%20normalized%20name.%20Defaults%20to%20key.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24set%3A%20function%28key%2C%20value%2C%20writeAttr%2C%20attrName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20TODO%3A%20decide%20whether%20or%20not%20to%20throw%20an%20error%20if%20%22class%22%0D%0A%20%20%20%20%20%20%20%20//is%20set%20through%20this%20function%20since%20it%20may%20cause%20%24updateClass%20to%0D%0A%20%20%20%20%20%20%20%20//become%20unstable.%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20this.%24%24element%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20booleanKey%20%3D%20getBooleanAttrName%28node%2C%20key%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aliasedKey%20%3D%20getAliasedAttrName%28node%2C%20key%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20observer%20%3D%20key%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nodeName%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28booleanKey%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24element.prop%28key%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20attrName%20%3D%20booleanKey%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28aliasedKey%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this%5BaliasedKey%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20observer%20%3D%20aliasedKey%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this%5Bkey%5D%20%3D%20value%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20translate%20normalized%20key%20to%20actual%20key%0D%0A%20%20%20%20%20%20%20%20if%20%28attrName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24attr%5Bkey%5D%20%3D%20attrName%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20attrName%20%3D%20this.%24attr%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21attrName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.%24attr%5Bkey%5D%20%3D%20attrName%20%3D%20snake_case%28key%2C%20%27-%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20nodeName%20%3D%20nodeName_%28this.%24%24element%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%28nodeName%20%3D%3D%3D%20%27a%27%20%26%26%20key%20%3D%3D%3D%20%27href%27%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%28nodeName%20%3D%3D%3D%20%27img%27%20%26%26%20key%20%3D%3D%3D%20%27src%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20sanitize%20a%5Bhref%5D%20and%20img%5Bsrc%5D%20values%0D%0A%20%20%20%20%20%20%20%20%20%20this%5Bkey%5D%20%3D%20value%20%3D%20%24%24sanitizeUri%28value%2C%20key%20%3D%3D%3D%20%27src%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28nodeName%20%3D%3D%3D%20%27img%27%20%26%26%20key%20%3D%3D%3D%20%27srcset%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20sanitize%20img%5Bsrcset%5D%20values%0D%0A%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20%22%22%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20first%20check%20if%20there%20are%20spaces%20because%20it%27s%20not%20the%20same%20pattern%0D%0A%20%20%20%20%20%20%20%20%20%20var%20trimmedSrcset%20%3D%20trim%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%20%20%20999x%20%20%20%2C%7C%20%20%20999w%20%20%20%2C%7C%20%20%20%2C%7C%2C%20%20%20%29%0D%0A%20%20%20%20%20%20%20%20%20%20var%20srcPattern%20%3D%20/%28%5Cs+%5Cd+x%5Cs*%2C%7C%5Cs+%5Cd+w%5Cs*%2C%7C%5Cs+%2C%7C%2C%5Cs+%29/%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20pattern%20%3D%20/%5Cs/.test%28trimmedSrcset%29%20%3F%20srcPattern%20%3A%20/%28%2C%29/%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20split%20srcset%20into%20tuple%20of%20uri%20and%20descriptor%20except%20for%20the%20last%20item%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rawUris%20%3D%20trimmedSrcset.split%28pattern%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20for%20each%20tuples%0D%0A%20%20%20%20%20%20%20%20%20%20var%20nbrUrisWith2parts%20%3D%20Math.floor%28rawUris.length%20/%202%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20nbrUrisWith2parts%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20innerIdx%20%3D%20i%20*%202%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20sanitize%20the%20uri%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20+%3D%20%24%24sanitizeUri%28trim%28rawUris%5BinnerIdx%5D%29%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20add%20the%20descriptor%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20+%3D%20%28%22%20%22%20+%20trim%28rawUris%5BinnerIdx%20+%201%5D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20split%20the%20last%20item%20into%20uri%20and%20descriptor%0D%0A%20%20%20%20%20%20%20%20%20%20var%20lastTuple%20%3D%20trim%28rawUris%5Bi%20*%202%5D%29.split%28/%5Cs/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20sanitize%20the%20last%20uri%0D%0A%20%20%20%20%20%20%20%20%20%20result%20+%3D%20%24%24sanitizeUri%28trim%28lastTuple%5B0%5D%29%2C%20true%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20and%20add%20the%20last%20descriptor%20if%20any%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28lastTuple.length%20%3D%3D%3D%202%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20+%3D%20%28%22%20%22%20+%20trim%28lastTuple%5B1%5D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20this%5Bkey%5D%20%3D%20value%20%3D%20result%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28writeAttr%20%21%3D%3D%20false%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20null%20%7C%7C%20value%20%3D%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24element.removeAttr%28attrName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24element.attr%28attrName%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20fire%20observers%0D%0A%20%20%20%20%20%20%20%20var%20%24%24observers%20%3D%20this.%24%24observers%3B%0D%0A%20%20%20%20%20%20%20%20%24%24observers%20%26%26%20forEach%28%24%24observers%5Bobserver%5D%2C%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fn%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24compile.directive.Attributes%23%24observe%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Observes%20an%20interpolated%20attribute.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20observer%20function%20will%20be%20invoked%20once%20during%20the%20next%20%60%24digest%60%20following%0D%0A%20%20%20%20%20%20%20*%20compilation.%20The%20observer%20is%20then%20invoked%20whenever%20the%20interpolated%20value%0D%0A%20%20%20%20%20%20%20*%20changes.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20key%20Normalized%20key.%20%28ie%20ngAttribute%29%20.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bfunction%28interpolatedValue%29%7D%20fn%20Function%20that%20will%20be%20called%20whenever%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20interpolated%20value%20of%20the%20attribute%20changes.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20See%20the%20%7B@link%20guide/directive%23text-and-attribute-bindings%20Directives%7D%20guide%20for%20more%20info.%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7Bfunction%28%29%7D%20Returns%20a%20deregistration%20function%20for%20this%20observer.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24observe%3A%20function%28key%2C%20fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20attrs%20%3D%20this%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%24observers%20%3D%20%28attrs.%24%24observers%20%7C%7C%20%28attrs.%24%24observers%20%3D%20createMap%28%29%29%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listeners%20%3D%20%28%24%24observers%5Bkey%5D%20%7C%7C%20%28%24%24observers%5Bkey%5D%20%3D%20%5B%5D%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20listeners.push%28fn%29%3B%0D%0A%20%20%20%20%20%20%20%20%24rootScope.%24evalAsync%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21listeners.%24%24inter%20%26%26%20attrs.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20no%20one%20registered%20attribute%20interpolation%20function%2C%20so%20lets%20call%20it%20manually%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fn%28attrs%5Bkey%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20arrayRemove%28listeners%2C%20fn%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20function%20safeAddClass%28%24element%2C%20className%29%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%24element.addClass%28className%29%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20ignore%2C%20since%20it%20means%20that%20we%20are%20trying%20to%20set%20class%20on%0D%0A%20%20%20%20%20%20%20%20//%20SVG%20element%2C%20where%20class%20name%20is%20read-only.%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20var%20startSymbol%20%3D%20%24interpolate.startSymbol%28%29%2C%0D%0A%20%20%20%20%20%20%20%20endSymbol%20%3D%20%24interpolate.endSymbol%28%29%2C%0D%0A%20%20%20%20%20%20%20%20denormalizeTemplate%20%3D%20%28startSymbol%20%3D%3D%20%27%7B%7B%27%20%7C%7C%20endSymbol%20%20%3D%3D%20%27%7D%7D%27%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20identity%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20function%20denormalizeTemplate%28template%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20template.replace%28/%5C%7B%5C%7B/g%2C%20startSymbol%29.replace%28/%7D%7D/g%2C%20endSymbol%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20NG_ATTR_BINDING%20%3D%20/%5EngAttr%5BA-Z%5D/%3B%0D%0A%0D%0A%20%20%20%20compile.%24%24addBindingInfo%20%3D%20debugInfoEnabled%20%3F%20function%20%24%24addBindingInfo%28%24element%2C%20binding%29%20%7B%0D%0A%20%20%20%20%20%20var%20bindings%20%3D%20%24element.data%28%27%24binding%27%29%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isArray%28binding%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20bindings%20%3D%20bindings.concat%28binding%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20bindings.push%28binding%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%24element.data%28%27%24binding%27%2C%20bindings%29%3B%0D%0A%20%20%20%20%7D%20%3A%20noop%3B%0D%0A%0D%0A%20%20%20%20compile.%24%24addBindingClass%20%3D%20debugInfoEnabled%20%3F%20function%20%24%24addBindingClass%28%24element%29%20%7B%0D%0A%20%20%20%20%20%20safeAddClass%28%24element%2C%20%27ng-binding%27%29%3B%0D%0A%20%20%20%20%7D%20%3A%20noop%3B%0D%0A%0D%0A%20%20%20%20compile.%24%24addScopeInfo%20%3D%20debugInfoEnabled%20%3F%20function%20%24%24addScopeInfo%28%24element%2C%20scope%2C%20isolated%2C%20noTemplate%29%20%7B%0D%0A%20%20%20%20%20%20var%20dataName%20%3D%20isolated%20%3F%20%28noTemplate%20%3F%20%27%24isolateScopeNoTemplate%27%20%3A%20%27%24isolateScope%27%29%20%3A%20%27%24scope%27%3B%0D%0A%20%20%20%20%20%20%24element.data%28dataName%2C%20scope%29%3B%0D%0A%20%20%20%20%7D%20%3A%20noop%3B%0D%0A%0D%0A%20%20%20%20compile.%24%24addScopeClass%20%3D%20debugInfoEnabled%20%3F%20function%20%24%24addScopeClass%28%24element%2C%20isolated%29%20%7B%0D%0A%20%20%20%20%20%20safeAddClass%28%24element%2C%20isolated%20%3F%20%27ng-isolate-scope%27%20%3A%20%27ng-scope%27%29%3B%0D%0A%20%20%20%20%7D%20%3A%20noop%3B%0D%0A%0D%0A%20%20%20%20return%20compile%3B%0D%0A%0D%0A%20%20%20%20//%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0D%0A%0D%0A%20%20%20%20function%20compile%28%24compileNodes%2C%20transcludeFn%2C%20maxPriority%2C%20ignoreDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousCompileContext%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21%28%24compileNodes%20instanceof%20jqLite%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20jquery%20always%20rewraps%2C%20whereas%20we%20need%20to%20preserve%20the%20original%20selector%20so%20that%20we%20can%0D%0A%20%20%20%20%20%20%20%20//%20modify%20it.%0D%0A%20%20%20%20%20%20%20%20%24compileNodes%20%3D%20jqLite%28%24compileNodes%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20//%20We%20can%20not%20compile%20top%20level%20text%20elements%20since%20text%20nodes%20can%20be%20merged%20and%20we%20will%0D%0A%20%20%20%20%20%20//%20not%20be%20able%20to%20attach%20scope%20data%20to%20them%2C%20so%20we%20will%20wrap%20them%20in%20%3Cspan%3E%0D%0A%20%20%20%20%20%20forEach%28%24compileNodes%2C%20function%28node%2C%20index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28node.nodeType%20%3D%3D%20NODE_TYPE_TEXT%20%26%26%20node.nodeValue.match%28/%5CS+/%29%20/*%20non-empty%20*/%20%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24compileNodes%5Bindex%5D%20%3D%20jqLite%28node%29.wrap%28%27%3Cspan%3E%3C/span%3E%27%29.parent%28%29%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20var%20compositeLinkFn%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compileNodes%28%24compileNodes%2C%20transcludeFn%2C%20%24compileNodes%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxPriority%2C%20ignoreDirective%2C%20previousCompileContext%29%3B%0D%0A%20%20%20%20%20%20compile.%24%24addScopeClass%28%24compileNodes%29%3B%0D%0A%20%20%20%20%20%20var%20namespace%20%3D%20null%3B%0D%0A%20%20%20%20%20%20return%20function%20publicLinkFn%28scope%2C%20cloneConnectFn%2C%20options%29%20%7B%0D%0A%20%20%20%20%20%20%20%20assertArg%28scope%2C%20%27scope%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20options%20%7C%7C%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20var%20parentBoundTranscludeFn%20%3D%20options.parentBoundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20transcludeControllers%20%3D%20options.transcludeControllers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20futureParentElement%20%3D%20options.futureParentElement%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20When%20%60parentBoundTranscludeFn%60%20is%20passed%2C%20it%20is%20a%0D%0A%20%20%20%20%20%20%20%20//%20%60controllersBoundTransclude%60%20function%20%28it%20was%20previously%20passed%0D%0A%20%20%20%20%20%20%20%20//%20as%20%60transclude%60%20to%20directive.link%29%20so%20we%20must%20unwrap%20it%20to%20get%0D%0A%20%20%20%20%20%20%20%20//%20its%20%60boundTranscludeFn%60%0D%0A%20%20%20%20%20%20%20%20if%20%28parentBoundTranscludeFn%20%26%26%20parentBoundTranscludeFn.%24%24boundTransclude%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parentBoundTranscludeFn%20%3D%20parentBoundTranscludeFn.%24%24boundTransclude%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21namespace%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20namespace%20%3D%20detectNamespaceForChildElements%28futureParentElement%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20%24linkNode%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28namespace%20%21%3D%3D%20%27html%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20When%20using%20a%20directive%20with%20replace%3Atrue%20and%20templateUrl%20the%20%24compileNodes%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%28or%20a%20child%20element%20inside%20of%20them%29%0D%0A%20%20%20%20%20%20%20%20%20%20//%20might%20change%2C%20so%20we%20need%20to%20recreate%20the%20namespace%20adapted%20compileNodes%0D%0A%20%20%20%20%20%20%20%20%20%20//%20for%20call%20to%20the%20link%20function.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Note%3A%20This%20will%20already%20clone%20the%20nodes...%0D%0A%20%20%20%20%20%20%20%20%20%20%24linkNode%20%3D%20jqLite%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20wrapTemplate%28namespace%2C%20jqLite%28%27%3Cdiv%3E%27%29.append%28%24compileNodes%29.html%28%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28cloneConnectFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20important%21%21%3A%20we%20must%20call%20our%20jqLite.clone%28%29%20since%20the%20jQuery%20one%20is%20trying%20to%20be%20smart%0D%0A%20%20%20%20%20%20%20%20%20%20//%20and%20sometimes%20changes%20the%20structure%20of%20the%20DOM.%0D%0A%20%20%20%20%20%20%20%20%20%20%24linkNode%20%3D%20JQLitePrototype.clone.call%28%24compileNodes%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24linkNode%20%3D%20%24compileNodes%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28transcludeControllers%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20controllerName%20in%20transcludeControllers%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24linkNode.data%28%27%24%27%20+%20controllerName%20+%20%27Controller%27%2C%20transcludeControllers%5BcontrollerName%5D.instance%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20compile.%24%24addScopeInfo%28%24linkNode%2C%20scope%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28cloneConnectFn%29%20cloneConnectFn%28%24linkNode%2C%20scope%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28compositeLinkFn%29%20compositeLinkFn%28scope%2C%20%24linkNode%2C%20%24linkNode%2C%20parentBoundTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24linkNode%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20detectNamespaceForChildElements%28parentElement%29%20%7B%0D%0A%20%20%20%20%20%20//%20TODO%3A%20Make%20this%20detect%20MathML%20as%20well...%0D%0A%20%20%20%20%20%20var%20node%20%3D%20parentElement%20%26%26%20parentElement%5B0%5D%3B%0D%0A%20%20%20%20%20%20if%20%28%21node%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%27html%27%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20nodeName_%28node%29%20%21%3D%3D%20%27foreignobject%27%20%26%26%20node.toString%28%29.match%28/SVG/%29%20%3F%20%27svg%27%20%3A%20%27html%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Compile%20function%20matches%20each%20node%20in%20nodeList%20against%20the%20directives.%20Once%20all%20directives%0D%0A%20%20%20%20%20*%20for%20a%20particular%20node%20are%20collected%20their%20compile%20functions%20are%20executed.%20The%20compile%0D%0A%20%20%20%20%20*%20functions%20return%20values%20-%20the%20linking%20functions%20-%20are%20combined%20into%20a%20composite%20linking%0D%0A%20%20%20%20%20*%20function%2C%20which%20is%20the%20a%20linking%20function%20for%20the%20node.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BNodeList%7D%20nodeList%20an%20array%20of%20nodes%20or%20NodeList%20to%20compile%0D%0A%20%20%20%20%20*%20@param%20%7Bfunction%28angular.Scope%2C%20cloneAttachFn%3D%29%7D%20transcludeFn%20A%20linking%20function%2C%20where%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20scope%20argument%20is%20auto-generated%20to%20the%20new%20child%20of%20the%20transcluded%20parent%20scope.%0D%0A%20%20%20%20%20*%20@param%20%7BDOMElement%3D%7D%20%24rootElement%20If%20the%20nodeList%20is%20the%20root%20of%20the%20compilation%20tree%20then%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20the%20rootElement%20must%20be%20set%20the%20jqLite%20collection%20of%20the%20compile%20root.%20This%20is%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20needed%20so%20that%20the%20jqLite%20collection%20items%20can%20be%20replaced%20with%20widgets.%0D%0A%20%20%20%20%20*%20@param%20%7Bnumber%3D%7D%20maxPriority%20Max%20directive%20priority.%0D%0A%20%20%20%20%20*%20@returns%20%7BFunction%7D%20A%20composite%20linking%20function%20of%20all%20of%20the%20matched%20directives%20or%20null.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20compileNodes%28nodeList%2C%20transcludeFn%2C%20%24rootElement%2C%20maxPriority%2C%20ignoreDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousCompileContext%29%20%7B%0D%0A%20%20%20%20%20%20var%20linkFns%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20attrs%2C%20directives%2C%20nodeLinkFn%2C%20childNodes%2C%20childLinkFn%2C%20linkFnFound%2C%20nodeLinkFnFound%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20nodeList.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20attrs%20%3D%20new%20Attributes%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20we%20must%20always%20refer%20to%20nodeList%5Bi%5D%20since%20the%20nodes%20can%20be%20replaced%20underneath%20us.%0D%0A%20%20%20%20%20%20%20%20directives%20%3D%20collectDirectives%28nodeList%5Bi%5D%2C%20%5B%5D%2C%20attrs%2C%20i%20%3D%3D%3D%200%20%3F%20maxPriority%20%3A%20undefined%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ignoreDirective%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20nodeLinkFn%20%3D%20%28directives.length%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20applyDirectivesToNode%28directives%2C%20nodeList%5Bi%5D%2C%20attrs%2C%20transcludeFn%2C%20%24rootElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20null%2C%20%5B%5D%2C%20%5B%5D%2C%20previousCompileContext%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28nodeLinkFn%20%26%26%20nodeLinkFn.scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20compile.%24%24addScopeClass%28attrs.%24%24element%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20childLinkFn%20%3D%20%28nodeLinkFn%20%26%26%20nodeLinkFn.terminal%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21%28childNodes%20%3D%20nodeList%5Bi%5D.childNodes%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21childNodes.length%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20compileNodes%28childNodes%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nodeLinkFn%20%3F%20%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28nodeLinkFn.transcludeOnThisElement%20%7C%7C%20%21nodeLinkFn.templateOnThisElement%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20nodeLinkFn.transclude%29%20%3A%20transcludeFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28nodeLinkFn%20%7C%7C%20childLinkFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20linkFns.push%28i%2C%20nodeLinkFn%2C%20childLinkFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linkFnFound%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20nodeLinkFnFound%20%3D%20nodeLinkFnFound%20%7C%7C%20nodeLinkFn%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//use%20the%20previous%20context%20only%20for%20the%20first%20element%20in%20the%20virtual%20group%0D%0A%20%20%20%20%20%20%20%20previousCompileContext%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20return%20a%20linking%20function%20if%20we%20have%20found%20anything%2C%20null%20otherwise%0D%0A%20%20%20%20%20%20return%20linkFnFound%20%3F%20compositeLinkFn%20%3A%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20compositeLinkFn%28scope%2C%20nodeList%2C%20%24rootElement%2C%20parentBoundTranscludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nodeLinkFn%2C%20childLinkFn%2C%20node%2C%20childScope%2C%20i%2C%20ii%2C%20idx%2C%20childBoundTranscludeFn%3B%0D%0A%20%20%20%20%20%20%20%20var%20stableNodeList%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28nodeLinkFnFound%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20copy%20nodeList%20so%20that%20if%20a%20nodeLinkFn%20removes%20or%20adds%20an%20element%20at%20this%20DOM%20level%20our%0D%0A%20%20%20%20%20%20%20%20%20%20//%20offsets%20don%27t%20get%20screwed%20up%0D%0A%20%20%20%20%20%20%20%20%20%20var%20nodeListLength%20%3D%20nodeList.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20stableNodeList%20%3D%20new%20Array%28nodeListLength%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20create%20a%20sparse%20array%20by%20only%20copying%20the%20elements%20which%20have%20a%20linkFn%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20linkFns.length%3B%20i+%3D3%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%20%3D%20linkFns%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stableNodeList%5Bidx%5D%20%3D%20nodeList%5Bidx%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20stableNodeList%20%3D%20nodeList%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20linkFns.length%3B%20i%20%3C%20ii%3B%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node%20%3D%20stableNodeList%5BlinkFns%5Bi++%5D%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20nodeLinkFn%20%3D%20linkFns%5Bi++%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20childLinkFn%20%3D%20linkFns%5Bi++%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28nodeLinkFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nodeLinkFn.scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope%20%3D%20scope.%24new%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compile.%24%24addScopeInfo%28jqLite%28node%29%2C%20childScope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20destroyBindings%20%3D%20nodeLinkFn.%24%24destroyBindings%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28destroyBindings%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nodeLinkFn.%24%24destroyBindings%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope.%24on%28%27%24destroyed%27%2C%20destroyBindings%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nodeLinkFn.transcludeOnThisElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20createBoundTranscludeFn%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope%2C%20nodeLinkFn.transclude%2C%20parentBoundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nodeLinkFn.elementTranscludeOnThisElement%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21nodeLinkFn.templateOnThisElement%20%26%26%20parentBoundTranscludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20parentBoundTranscludeFn%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21parentBoundTranscludeFn%20%26%26%20transcludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20createBoundTranscludeFn%28scope%2C%20transcludeFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nodeLinkFn%28childLinkFn%2C%20childScope%2C%20node%2C%20%24rootElement%2C%20childBoundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nodeLinkFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28childLinkFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20childLinkFn%28scope%2C%20node.childNodes%2C%20undefined%2C%20parentBoundTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20createBoundTranscludeFn%28scope%2C%20transcludeFn%2C%20previousBoundTranscludeFn%2C%20elementTransclusion%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20var%20boundTranscludeFn%20%3D%20function%28transcludedScope%2C%20cloneFn%2C%20controllers%2C%20futureParentElement%2C%20containingScope%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21transcludedScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20transcludedScope%20%3D%20scope.%24new%28false%2C%20containingScope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20transcludedScope.%24%24transcluded%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20transcludeFn%28transcludedScope%2C%20cloneFn%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parentBoundTranscludeFn%3A%20previousBoundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20transcludeControllers%3A%20controllers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20futureParentElement%3A%20futureParentElement%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20boundTranscludeFn%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Looks%20for%20directives%20on%20the%20given%20node%20and%20adds%20them%20to%20the%20directive%20collection%20which%20is%0D%0A%20%20%20%20%20*%20sorted.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20node%20Node%20to%20search.%0D%0A%20%20%20%20%20*%20@param%20directives%20An%20array%20to%20which%20the%20directives%20are%20added%20to.%20This%20array%20is%20sorted%20before%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20the%20function%20returns.%0D%0A%20%20%20%20%20*%20@param%20attrs%20The%20shared%20attrs%20object%20which%20is%20used%20to%20populate%20the%20normalized%20attributes.%0D%0A%20%20%20%20%20*%20@param%20%7Bnumber%3D%7D%20maxPriority%20Max%20directive%20priority.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20collectDirectives%28node%2C%20directives%2C%20attrs%2C%20maxPriority%2C%20ignoreDirective%29%20%7B%0D%0A%20%20%20%20%20%20var%20nodeType%20%3D%20node.nodeType%2C%0D%0A%20%20%20%20%20%20%20%20%20%20attrsMap%20%3D%20attrs.%24attr%2C%0D%0A%20%20%20%20%20%20%20%20%20%20match%2C%0D%0A%20%20%20%20%20%20%20%20%20%20className%3B%0D%0A%0D%0A%20%20%20%20%20%20switch%20%28nodeType%29%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20NODE_TYPE_ELEMENT%3A%20/*%20Element%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20//%20use%20the%20node%20name%3A%20%3Cdirective%3E%0D%0A%20%20%20%20%20%20%20%20%20%20addDirective%28directives%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveNormalize%28nodeName_%28node%29%29%2C%20%27E%27%2C%20maxPriority%2C%20ignoreDirective%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20iterate%20over%20the%20attributes%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20attr%2C%20name%2C%20nName%2C%20ngAttrName%2C%20value%2C%20isNgAttr%2C%20nAttrs%20%3D%20node.attributes%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%200%2C%20jj%20%3D%20nAttrs%20%26%26%20nAttrs.length%3B%20j%20%3C%20jj%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20attrStartName%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20attrEndName%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attr%20%3D%20nAttrs%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20attr.name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20trim%28attr.value%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20support%20ngAttr%20attribute%20binding%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngAttrName%20%3D%20directiveNormalize%28name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isNgAttr%20%3D%20NG_ATTR_BINDING.test%28ngAttrName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20name.replace%28PREFIX_REGEXP%2C%20%27%27%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.substr%288%29.replace%28/_%28.%29/g%2C%20function%28match%2C%20letter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20letter.toUpperCase%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20directiveNName%20%3D%20ngAttrName.replace%28/%28Start%7CEnd%29%24/%2C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28directiveIsMultiElement%28directiveNName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ngAttrName%20%3D%3D%3D%20directiveNName%20+%20%27Start%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrStartName%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrEndName%20%3D%20name.substr%280%2C%20name.length%20-%205%29%20+%20%27end%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20name.substr%280%2C%20name.length%20-%206%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nName%20%3D%20directiveNormalize%28name.toLowerCase%28%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attrsMap%5BnName%5D%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isNgAttr%20%7C%7C%20%21attrs.hasOwnProperty%28nName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%5BnName%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28getBooleanAttrName%28node%2C%20nName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%5BnName%5D%20%3D%20true%3B%20//%20presence%20means%20true%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20addAttrInterpolateDirective%28node%2C%20directives%2C%20value%2C%20nName%2C%20isNgAttr%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20addDirective%28directives%2C%20nName%2C%20%27A%27%2C%20maxPriority%2C%20ignoreDirective%2C%20attrStartName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrEndName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20use%20class%20as%20directive%0D%0A%20%20%20%20%20%20%20%20%20%20className%20%3D%20node.className%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isObject%28className%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Maybe%20SVGAnimatedString%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20className%20%3D%20className.animVal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isString%28className%29%20%26%26%20className%20%21%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28match%20%3D%20CLASS_DIRECTIVE_REGEXP.exec%28className%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nName%20%3D%20directiveNormalize%28match%5B2%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28addDirective%28directives%2C%20nName%2C%20%27C%27%2C%20maxPriority%2C%20ignoreDirective%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%5BnName%5D%20%3D%20trim%28match%5B3%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20className%20%3D%20className.substr%28match.index%20+%20match%5B0%5D.length%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20NODE_TYPE_TEXT%3A%20/*%20Text%20Node%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20addTextInterpolateDirective%28directives%2C%20node.nodeValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20NODE_TYPE_COMMENT%3A%20/*%20Comment%20*/%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20COMMENT_DIRECTIVE_REGEXP.exec%28node.nodeValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nName%20%3D%20directiveNormalize%28match%5B1%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28addDirective%28directives%2C%20nName%2C%20%27M%27%2C%20maxPriority%2C%20ignoreDirective%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%5BnName%5D%20%3D%20trim%28match%5B2%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20turns%20out%20that%20under%20some%20circumstances%20IE9%20throws%20errors%20when%20one%20attempts%20to%20read%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20comment%27s%20node%20value.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Just%20ignore%20it%20and%20continue.%20%28Can%27t%20seem%20to%20reproduce%20in%20test%20case.%29%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20directives.sort%28byPriority%29%3B%0D%0A%20%20%20%20%20%20return%20directives%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Given%20a%20node%20with%20an%20directive-start%20it%20collects%20all%20of%20the%20siblings%20until%20it%20finds%0D%0A%20%20%20%20%20*%20directive-end.%0D%0A%20%20%20%20%20*%20@param%20node%0D%0A%20%20%20%20%20*%20@param%20attrStart%0D%0A%20%20%20%20%20*%20@param%20attrEnd%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20groupScan%28node%2C%20attrStart%2C%20attrEnd%29%20%7B%0D%0A%20%20%20%20%20%20var%20nodes%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20var%20depth%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20%28attrStart%20%26%26%20node.hasAttribute%20%26%26%20node.hasAttribute%28attrStart%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21node%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27uterdir%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Unterminated%20attribute%2C%20found%20%27%7B0%7D%27%20but%20no%20matching%20%27%7B1%7D%27%20found.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28node.nodeType%20%3D%3D%20NODE_TYPE_ELEMENT%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28node.hasAttribute%28attrStart%29%29%20depth++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28node.hasAttribute%28attrEnd%29%29%20depth--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20nodes.push%28node%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node%20%3D%20node.nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20%28depth%20%3E%200%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20nodes.push%28node%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20jqLite%28nodes%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Wrapper%20for%20linking%20function%20which%20converts%20normal%20linking%20function%20into%20a%20grouped%0D%0A%20%20%20%20%20*%20linking%20function.%0D%0A%20%20%20%20%20*%20@param%20linkFn%0D%0A%20%20%20%20%20*%20@param%20attrStart%0D%0A%20%20%20%20%20*%20@param%20attrEnd%0D%0A%20%20%20%20%20*%20@returns%20%7BFunction%7D%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20groupElementsLinkFnWrapper%28linkFn%2C%20attrStart%2C%20attrEnd%29%20%7B%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20element%2C%20attrs%2C%20controllers%2C%20transcludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20element%20%3D%20groupScan%28element%5B0%5D%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20linkFn%28scope%2C%20element%2C%20attrs%2C%20controllers%2C%20transcludeFn%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Once%20the%20directives%20have%20been%20collected%2C%20their%20compile%20functions%20are%20executed.%20This%20method%0D%0A%20%20%20%20%20*%20is%20responsible%20for%20inlining%20directive%20templates%20as%20well%20as%20terminating%20the%20application%0D%0A%20%20%20%20%20*%20of%20the%20directives%20if%20the%20terminal%20directive%20has%20been%20reached.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BArray%7D%20directives%20Array%20of%20collected%20directives%20to%20execute%20their%20compile%20function.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20this%20needs%20to%20be%20pre-sorted%20by%20priority%20order.%0D%0A%20%20%20%20%20*%20@param%20%7BNode%7D%20compileNode%20The%20raw%20DOM%20node%20to%20apply%20the%20compile%20functions%20to%0D%0A%20%20%20%20%20*%20@param%20%7BObject%7D%20templateAttrs%20The%20shared%20attribute%20function%0D%0A%20%20%20%20%20*%20@param%20%7Bfunction%28angular.Scope%2C%20cloneAttachFn%3D%29%7D%20transcludeFn%20A%20linking%20function%2C%20where%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope%20argument%20is%20auto-generated%20to%20the%20new%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20child%20of%20the%20transcluded%20parent%20scope.%0D%0A%20%20%20%20%20*%20@param%20%7BJQLite%7D%20jqCollection%20If%20we%20are%20working%20on%20the%20root%20of%20the%20compile%20tree%20then%20this%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20argument%20has%20the%20root%20jqLite%20array%20so%20that%20we%20can%20replace%20nodes%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20on%20it.%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20originalReplaceDirective%20An%20optional%20directive%20that%20will%20be%20ignored%20when%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20compiling%20the%20transclusion.%0D%0A%20%20%20%20%20*%20@param%20%7BArray.%3CFunction%3E%7D%20preLinkFns%0D%0A%20%20%20%20%20*%20@param%20%7BArray.%3CFunction%3E%7D%20postLinkFns%0D%0A%20%20%20%20%20*%20@param%20%7BObject%7D%20previousCompileContext%20Context%20used%20for%20previous%20compilation%20of%20the%20current%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%0D%0A%20%20%20%20%20*%20@returns%20%7BFunction%7D%20linkFn%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20applyDirectivesToNode%28directives%2C%20compileNode%2C%20templateAttrs%2C%20transcludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jqCollection%2C%20originalReplaceDirective%2C%20preLinkFns%2C%20postLinkFns%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousCompileContext%29%20%7B%0D%0A%20%20%20%20%20%20previousCompileContext%20%3D%20previousCompileContext%20%7C%7C%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20terminalPriority%20%3D%20-Number.MAX_VALUE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20newScopeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20controllerDirectives%20%3D%20previousCompileContext.controllerDirectives%2C%0D%0A%20%20%20%20%20%20%20%20%20%20newIsolateScopeDirective%20%3D%20previousCompileContext.newIsolateScopeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20templateDirective%20%3D%20previousCompileContext.templateDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20nonTlbTranscludeDirective%20%3D%20previousCompileContext.nonTlbTranscludeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hasTranscludeDirective%20%3D%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hasTemplate%20%3D%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hasElementTranscludeDirective%20%3D%20previousCompileContext.hasElementTranscludeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24compileNode%20%3D%20templateAttrs.%24%24element%20%3D%20jqLite%28compileNode%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20directive%2C%0D%0A%20%20%20%20%20%20%20%20%20%20directiveName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24template%2C%0D%0A%20%20%20%20%20%20%20%20%20%20replaceDirective%20%3D%20originalReplaceDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20childTranscludeFn%20%3D%20transcludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20linkFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20directiveValue%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20executes%20all%20directives%20on%20the%20current%20element%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20directives.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20directive%20%3D%20directives%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20attrStart%20%3D%20directive.%24%24start%3B%0D%0A%20%20%20%20%20%20%20%20var%20attrEnd%20%3D%20directive.%24%24end%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20collect%20multiblock%20sections%0D%0A%20%20%20%20%20%20%20%20if%20%28attrStart%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24compileNode%20%3D%20groupScan%28compileNode%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%24template%20%3D%20undefined%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28terminalPriority%20%3E%20directive.priority%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%20//%20prevent%20further%20processing%20of%20directives%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28directiveValue%20%3D%20directive.scope%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20skip%20the%20check%20for%20directives%20with%20async%20templates%2C%20we%27ll%20check%20the%20derived%20sync%0D%0A%20%20%20%20%20%20%20%20%20%20//%20directive%20when%20the%20template%20arrives%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21directive.templateUrl%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isObject%28directiveValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20directive%20is%20trying%20to%20add%20an%20isolated%20scope.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Check%20that%20there%20is%20no%20scope%20of%20any%20kind%20already%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%27new/isolated%20scope%27%2C%20newIsolateScopeDirective%20%7C%7C%20newScopeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive%2C%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newIsolateScopeDirective%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20directive%20is%20trying%20to%20add%20a%20child%20scope.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Check%20that%20there%20is%20no%20isolated%20scope%20already%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%27new/isolated%20scope%27%2C%20newIsolateScopeDirective%2C%20directive%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20newScopeDirective%20%3D%20newScopeDirective%20%7C%7C%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20directiveName%20%3D%20directive.name%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21directive.templateUrl%20%26%26%20directive.controller%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20directiveValue%20%3D%20directive.controller%3B%0D%0A%20%20%20%20%20%20%20%20%20%20controllerDirectives%20%3D%20controllerDirectives%20%7C%7C%20createMap%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%22%27%22%20+%20directiveName%20+%20%22%27%20controller%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20controllerDirectives%5BdirectiveName%5D%2C%20directive%2C%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20controllerDirectives%5BdirectiveName%5D%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28directiveValue%20%3D%20directive.transclude%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasTranscludeDirective%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Special%20case%20ngIf%20and%20ngRepeat%20so%20that%20we%20don%27t%20complain%20about%20duplicate%20transclusion.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20This%20option%20should%20only%20be%20used%20by%20directives%20that%20know%20how%20to%20safely%20handle%20element%20transclusion%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20where%20the%20transcluded%20nodes%20are%20added%20or%20replaced%20after%20linking.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21directive.%24%24tlb%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%27transclusion%27%2C%20nonTlbTranscludeDirective%2C%20directive%2C%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nonTlbTranscludeDirective%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28directiveValue%20%3D%3D%20%27element%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hasElementTranscludeDirective%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terminalPriority%20%3D%20directive.priority%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20%24compileNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24compileNode%20%3D%20templateAttrs.%24%24element%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jqLite%28document.createComment%28%27%20%27%20+%20directiveName%20+%20%27%3A%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateAttrs%5BdirectiveName%5D%20+%20%27%20%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20compileNode%20%3D%20%24compileNode%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replaceWith%28jqCollection%2C%20sliceArgs%28%24template%29%2C%20compileNode%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20childTranscludeFn%20%3D%20compile%28%24template%2C%20transcludeFn%2C%20terminalPriority%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20replaceDirective%20%26%26%20replaceDirective.name%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Don%27t%20pass%20in%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20controllerDirectives%20-%20otherwise%20we%27ll%20create%20duplicates%20controllers%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20newIsolateScopeDirective%20or%20templateDirective%20-%20combining%20templates%20with%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20element%20transclusion%20doesn%27t%20make%20sense.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20We%20need%20only%20nonTlbTranscludeDirective%20so%20that%20we%20prevent%20putting%20transclusion%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20on%20the%20same%20element%20more%20than%20once.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nonTlbTranscludeDirective%3A%20nonTlbTranscludeDirective%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20jqLite%28jqLiteClone%28compileNode%29%29.contents%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24compileNode.empty%28%29%3B%20//%20clear%20contents%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20childTranscludeFn%20%3D%20compile%28%24template%2C%20transcludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28directive.template%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasTemplate%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%27template%27%2C%20templateDirective%2C%20directive%2C%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20templateDirective%20%3D%20directive%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20directiveValue%20%3D%20%28isFunction%28directive.template%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20directive.template%28%24compileNode%2C%20templateAttrs%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20directive.template%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20directiveValue%20%3D%20denormalizeTemplate%28directiveValue%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28directive.replace%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replaceDirective%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28jqLiteIsTextNode%28directiveValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20removeComments%28wrapTemplate%28directive.templateNamespace%2C%20trim%28directiveValue%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20compileNode%20%3D%20%24template%5B0%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24template.length%20%21%3D%201%20%7C%7C%20compileNode.nodeType%20%21%3D%3D%20NODE_TYPE_ELEMENT%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27tplrt%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Template%20for%20directive%20%27%7B0%7D%27%20must%20have%20exactly%20one%20root%20element.%20%7B1%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directiveName%2C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replaceWith%28jqCollection%2C%20%24compileNode%2C%20compileNode%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newTemplateAttrs%20%3D%20%7B%24attr%3A%20%7B%7D%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20combine%20directives%20from%20the%20original%20node%20and%20from%20the%20template%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20take%20the%20array%20of%20directives%20for%20this%20element%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20split%20it%20into%20two%20parts%2C%20those%20that%20already%20applied%20%28processed%29%20and%20those%20that%20weren%27t%20%28unprocessed%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20collect%20directives%20from%20the%20template%20and%20sort%20them%20by%20priority%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20-%20combine%20directives%20as%3A%20processed%20+%20template%20+%20unprocessed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20templateDirectives%20%3D%20collectDirectives%28compileNode%2C%20%5B%5D%2C%20newTemplateAttrs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20unprocessedDirectives%20%3D%20directives.splice%28i%20+%201%2C%20directives.length%20-%20%28i%20+%201%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20markDirectivesAsIsolate%28templateDirectives%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20directives%20%3D%20directives.concat%28templateDirectives%29.concat%28unprocessedDirectives%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20mergeTemplateAttributes%28templateAttrs%2C%20newTemplateAttrs%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ii%20%3D%20directives.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24compileNode.html%28directiveValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28directive.templateUrl%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasTemplate%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20assertNoDuplicate%28%27template%27%2C%20templateDirective%2C%20directive%2C%20%24compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20templateDirective%20%3D%20directive%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28directive.replace%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replaceDirective%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20nodeLinkFn%20%3D%20compileTemplateUrl%28directives.splice%28i%2C%20directives.length%20-%20i%29%2C%20%24compileNode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateAttrs%2C%20jqCollection%2C%20hasTranscludeDirective%20%26%26%20childTranscludeFn%2C%20preLinkFns%2C%20postLinkFns%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controllerDirectives%3A%20controllerDirectives%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newIsolateScopeDirective%3A%20newIsolateScopeDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateDirective%3A%20templateDirective%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nonTlbTranscludeDirective%3A%20nonTlbTranscludeDirective%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ii%20%3D%20directives.length%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28directive.compile%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20linkFn%20%3D%20directive.compile%28%24compileNode%2C%20templateAttrs%2C%20childTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isFunction%28linkFn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addLinkFns%28null%2C%20linkFn%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28linkFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addLinkFns%28linkFn.pre%2C%20linkFn.post%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%2C%20startingTag%28%24compileNode%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28directive.terminal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20nodeLinkFn.terminal%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20terminalPriority%20%3D%20Math.max%28terminalPriority%2C%20directive.priority%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20nodeLinkFn.scope%20%3D%20newScopeDirective%20%26%26%20newScopeDirective.scope%20%3D%3D%3D%20true%3B%0D%0A%20%20%20%20%20%20nodeLinkFn.transcludeOnThisElement%20%3D%20hasTranscludeDirective%3B%0D%0A%20%20%20%20%20%20nodeLinkFn.elementTranscludeOnThisElement%20%3D%20hasElementTranscludeDirective%3B%0D%0A%20%20%20%20%20%20nodeLinkFn.templateOnThisElement%20%3D%20hasTemplate%3B%0D%0A%20%20%20%20%20%20nodeLinkFn.transclude%20%3D%20childTranscludeFn%3B%0D%0A%0D%0A%20%20%20%20%20%20previousCompileContext.hasElementTranscludeDirective%20%3D%20hasElementTranscludeDirective%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20might%20be%20normal%20or%20delayed%20nodeLinkFn%20depending%20on%20if%20templateUrl%20is%20present%0D%0A%20%20%20%20%20%20return%20nodeLinkFn%3B%0D%0A%0D%0A%20%20%20%20%20%20////////////////////%0D%0A%0D%0A%20%20%20%20%20%20function%20addLinkFns%28pre%2C%20post%2C%20attrStart%2C%20attrEnd%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28pre%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28attrStart%29%20pre%20%3D%20groupElementsLinkFnWrapper%28pre%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pre.require%20%3D%20directive.require%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pre.directiveName%20%3D%20directiveName%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%20%3D%3D%3D%20directive%20%7C%7C%20directive.%24%24isolateScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pre%20%3D%20cloneAndAnnotateFn%28pre%2C%20%7BisolateScope%3A%20true%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20preLinkFns.push%28pre%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28post%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28attrStart%29%20post%20%3D%20groupElementsLinkFnWrapper%28post%2C%20attrStart%2C%20attrEnd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20post.require%20%3D%20directive.require%3B%0D%0A%20%20%20%20%20%20%20%20%20%20post.directiveName%20%3D%20directiveName%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%20%3D%3D%3D%20directive%20%7C%7C%20directive.%24%24isolateScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20post%20%3D%20cloneAndAnnotateFn%28post%2C%20%7BisolateScope%3A%20true%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20postLinkFns.push%28post%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20function%20getControllers%28directiveName%2C%20require%2C%20%24element%2C%20elementControllers%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28isString%28require%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20match%20%3D%20require.match%28REQUIRE_PREFIX_REGEXP%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20name%20%3D%20require.substring%28match%5B0%5D.length%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20inheritType%20%3D%20match%5B1%5D%20%7C%7C%20match%5B3%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20optional%20%3D%20match%5B2%5D%20%3D%3D%3D%20%27%3F%27%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//If%20only%20parents%20then%20start%20at%20the%20parent%20element%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28inheritType%20%3D%3D%3D%20%27%5E%5E%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24element%20%3D%20%24element.parent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//Otherwise%20attempt%20getting%20the%20controller%20from%20elementControllers%20in%20case%0D%0A%20%20%20%20%20%20%20%20%20%20//the%20element%20is%20transcluded%20%28and%20has%20no%20data%29%20and%20to%20avoid%20.data%20if%20possible%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20elementControllers%20%26%26%20elementControllers%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%26%26%20value.instance%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dataName%20%3D%20%27%24%27%20+%20name%20+%20%27Controller%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20inheritType%20%3F%20%24element.inheritedData%28dataName%29%20%3A%20%24element.data%28dataName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21value%20%26%26%20%21optional%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27ctreq%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Controller%20%27%7B0%7D%27%2C%20required%20by%20directive%20%27%7B1%7D%27%2C%20can%27t%20be%20found%21%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%2C%20directiveName%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArray%28require%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20require.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%5Bi%5D%20%3D%20getControllers%28directiveName%2C%20require%5Bi%5D%2C%20%24element%2C%20elementControllers%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20value%20%7C%7C%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20setupControllers%28%24element%2C%20attrs%2C%20transcludeFn%2C%20controllerDirectives%2C%20isolateScope%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20elementControllers%20%3D%20createMap%28%29%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20controllerKey%20in%20controllerDirectives%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20directive%20%3D%20controllerDirectives%5BcontrollerKey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20locals%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope%3A%20directive%20%3D%3D%3D%20newIsolateScopeDirective%20%7C%7C%20directive.%24%24isolateScope%20%3F%20isolateScope%20%3A%20scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24element%3A%20%24element%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24attrs%3A%20attrs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24transclude%3A%20transcludeFn%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20controller%20%3D%20directive.controller%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28controller%20%3D%3D%20%27@%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20controller%20%3D%20attrs%5Bdirective.name%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20controllerInstance%20%3D%20%24controller%28controller%2C%20locals%2C%20true%2C%20directive.controllerAs%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20For%20directives%20with%20element%20transclusion%20the%20element%20is%20a%20comment%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20but%20jQuery%20.data%20doesn%27t%20support%20attaching%20data%20to%20comment%20nodes%20as%20it%27s%20hard%20to%0D%0A%20%20%20%20%20%20%20%20%20%20//%20clean%20up%20%28http%3A//bugs.jquery.com/ticket/8335%29.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Instead%2C%20we%20save%20the%20controllers%20for%20the%20element%20in%20a%20local%20hash%20and%20attach%20to%20.data%0D%0A%20%20%20%20%20%20%20%20%20%20//%20later%2C%20once%20we%20have%20the%20actual%20element.%0D%0A%20%20%20%20%20%20%20%20%20%20elementControllers%5Bdirective.name%5D%20%3D%20controllerInstance%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21hasElementTranscludeDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24element.data%28%27%24%27%20+%20directive.name%20+%20%27Controller%27%2C%20controllerInstance.instance%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20elementControllers%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20nodeLinkFn%28childLinkFn%2C%20scope%2C%20linkNode%2C%20%24rootElement%2C%20boundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thisLinkFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20i%2C%20ii%2C%20linkFn%2C%20controller%2C%20isolateScope%2C%20elementControllers%2C%20transcludeFn%2C%20%24element%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attrs%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28compileNode%20%3D%3D%3D%20linkNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20attrs%20%3D%20templateAttrs%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24element%20%3D%20templateAttrs.%24%24element%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24element%20%3D%20jqLite%28linkNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20attrs%20%3D%20new%20Attributes%28%24element%2C%20templateAttrs%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20isolateScope%20%3D%20scope.%24new%28true%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28boundTranscludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20track%20%60boundTranscludeFn%60%20so%20it%20can%20be%20unwrapped%20if%20%60transcludeFn%60%0D%0A%20%20%20%20%20%20%20%20%20%20//%20is%20later%20passed%20as%20%60parentBoundTranscludeFn%60%20to%20%60publicLinkFn%60%0D%0A%20%20%20%20%20%20%20%20%20%20transcludeFn%20%3D%20controllersBoundTransclude%3B%0D%0A%20%20%20%20%20%20%20%20%20%20transcludeFn.%24%24boundTransclude%20%3D%20boundTranscludeFn%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28controllerDirectives%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20elementControllers%20%3D%20setupControllers%28%24element%2C%20attrs%2C%20transcludeFn%2C%20controllerDirectives%2C%20isolateScope%2C%20scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Initialize%20isolate%20scope%20bindings%20for%20new%20isolate%20scope%20directive.%0D%0A%20%20%20%20%20%20%20%20%20%20compile.%24%24addScopeInfo%28%24element%2C%20isolateScope%2C%20true%2C%20%21%28templateDirective%20%26%26%20%28templateDirective%20%3D%3D%3D%20newIsolateScopeDirective%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateDirective%20%3D%3D%3D%20newIsolateScopeDirective.%24%24originalDirective%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20compile.%24%24addScopeClass%28%24element%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20isolateScope.%24%24isolateBindings%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newIsolateScopeDirective.%24%24isolateBindings%3B%0D%0A%20%20%20%20%20%20%20%20%20%20initializeDirectiveBindings%28scope%2C%20attrs%2C%20isolateScope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isolateScope.%24%24isolateBindings%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newIsolateScopeDirective%2C%20isolateScope%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28elementControllers%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Initialize%20bindToController%20bindings%20for%20new/isolate%20scopes%0D%0A%20%20%20%20%20%20%20%20%20%20var%20scopeDirective%20%3D%20newIsolateScopeDirective%20%7C%7C%20newScopeDirective%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20bindings%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20controllerForBindings%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28scopeDirective%20%26%26%20elementControllers%5BscopeDirective.name%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bindings%20%3D%20scopeDirective.%24%24bindings.bindToController%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20controller%20%3D%20elementControllers%5BscopeDirective.name%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28controller%20%26%26%20controller.identifier%20%26%26%20bindings%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20controllerForBindings%20%3D%20controller%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thisLinkFn.%24%24destroyBindings%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initializeDirectiveBindings%28scope%2C%20attrs%2C%20controller.instance%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bindings%2C%20scopeDirective%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20in%20elementControllers%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20controller%20%3D%20elementControllers%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20controllerResult%20%3D%20controller%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28controllerResult%20%21%3D%3D%20controller.instance%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller.instance%20%3D%20controllerResult%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24element.data%28%27%24%27%20+%20directive.name%20+%20%27Controller%27%2C%20controllerResult%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28controller%20%3D%3D%3D%20controllerForBindings%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Remove%20and%20re-install%20bindToController%20bindings%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thisLinkFn.%24%24destroyBindings%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thisLinkFn.%24%24destroyBindings%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initializeDirectiveBindings%28scope%2C%20attrs%2C%20controllerResult%2C%20bindings%2C%20scopeDirective%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20PRELINKING%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20preLinkFns.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20linkFn%20%3D%20preLinkFns%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20invokeLinkFn%28linkFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkFn.isolateScope%20%3F%20isolateScope%20%3A%20scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24element%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkFn.require%20%26%26%20getControllers%28linkFn.directiveName%2C%20linkFn.require%2C%20%24element%2C%20elementControllers%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20transcludeFn%0D%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20RECURSION%0D%0A%20%20%20%20%20%20%20%20//%20We%20only%20pass%20the%20isolate%20scope%2C%20if%20the%20isolate%20directive%20has%20a%20template%2C%0D%0A%20%20%20%20%20%20%20%20//%20otherwise%20the%20child%20elements%20do%20not%20belong%20to%20the%20isolate%20directive.%0D%0A%20%20%20%20%20%20%20%20var%20scopeToChild%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28newIsolateScopeDirective%20%26%26%20%28newIsolateScopeDirective.template%20%7C%7C%20newIsolateScopeDirective.templateUrl%20%3D%3D%3D%20null%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scopeToChild%20%3D%20isolateScope%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20childLinkFn%20%26%26%20childLinkFn%28scopeToChild%2C%20linkNode.childNodes%2C%20undefined%2C%20boundTranscludeFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20POSTLINKING%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%20postLinkFns.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20linkFn%20%3D%20postLinkFns%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20invokeLinkFn%28linkFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkFn.isolateScope%20%3F%20isolateScope%20%3A%20scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24element%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkFn.require%20%26%26%20getControllers%28linkFn.directiveName%2C%20linkFn.require%2C%20%24element%2C%20elementControllers%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20transcludeFn%0D%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20This%20is%20the%20function%20that%20is%20injected%20as%20%60%24transclude%60.%0D%0A%20%20%20%20%20%20%20%20//%20Note%3A%20all%20arguments%20are%20optional%21%0D%0A%20%20%20%20%20%20%20%20function%20controllersBoundTransclude%28scope%2C%20cloneAttachFn%2C%20futureParentElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20transcludeControllers%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20No%20scope%20passed%20in%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isScope%28scope%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20futureParentElement%20%3D%20cloneAttachFn%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloneAttachFn%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scope%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28hasElementTranscludeDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transcludeControllers%20%3D%20elementControllers%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21futureParentElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20futureParentElement%20%3D%20hasElementTranscludeDirective%20%3F%20%24element.parent%28%29%20%3A%20%24element%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20boundTranscludeFn%28scope%2C%20cloneAttachFn%2C%20transcludeControllers%2C%20futureParentElement%2C%20scopeToChild%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20markDirectivesAsIsolate%28directives%29%20%7B%0D%0A%20%20%20%20%20%20//%20mark%20all%20directives%20as%20needing%20isolate%20scope.%0D%0A%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20jj%20%3D%20directives.length%3B%20j%20%3C%20jj%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20directives%5Bj%5D%20%3D%20inherit%28directives%5Bj%5D%2C%20%7B%24%24isolateScope%3A%20true%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20looks%20up%20the%20directive%20and%20decorates%20it%20with%20exception%20handling%20and%20proper%20parameters.%20We%0D%0A%20%20%20%20%20*%20call%20this%20the%20boundDirective.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20name%20of%20the%20directive%20to%20look%20up.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20location%20The%20directive%20must%20be%20found%20in%20specific%20format.%0D%0A%20%20%20%20%20*%20%20%20String%20containing%20any%20of%20theses%20characters%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20*%20%60E%60%3A%20element%20name%0D%0A%20%20%20%20%20*%20%20%20*%20%60A%27%3A%20attribute%0D%0A%20%20%20%20%20*%20%20%20*%20%60C%60%3A%20class%0D%0A%20%20%20%20%20*%20%20%20*%20%60M%60%3A%20comment%0D%0A%20%20%20%20%20*%20@returns%20%7Bboolean%7D%20true%20if%20directive%20was%20added.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20addDirective%28tDirectives%2C%20name%2C%20location%2C%20maxPriority%2C%20ignoreDirective%2C%20startAttrName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20endAttrName%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28name%20%3D%3D%3D%20ignoreDirective%29%20return%20null%3B%0D%0A%20%20%20%20%20%20var%20match%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20%28hasDirectives.hasOwnProperty%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20directive%2C%20directives%20%3D%20%24injector.get%28name%20+%20Suffix%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%200%2C%20ii%20%3D%20directives.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20directive%20%3D%20directives%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28maxPriority%20%3D%3D%3D%20undefined%20%7C%7C%20maxPriority%20%3E%20directive.priority%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive.restrict.indexOf%28location%29%20%21%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28startAttrName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive%20%3D%20inherit%28directive%2C%20%7B%24%24start%3A%20startAttrName%2C%20%24%24end%3A%20endAttrName%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tDirectives.push%28directive%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20directive%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%20%24exceptionHandler%28e%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20match%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20looks%20up%20the%20directive%20and%20returns%20true%20if%20it%20is%20a%20multi-element%20directive%2C%0D%0A%20%20%20%20%20*%20and%20therefore%20requires%20DOM%20nodes%20between%20-start%20and%20-end%20markers%20to%20be%20grouped%0D%0A%20%20%20%20%20*%20together.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20name%20of%20the%20directive%20to%20look%20up.%0D%0A%20%20%20%20%20*%20@returns%20true%20if%20directive%20was%20registered%20as%20multi-element.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20directiveIsMultiElement%28name%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28hasDirectives.hasOwnProperty%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20directive%2C%20directives%20%3D%20%24injector.get%28name%20+%20Suffix%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%200%2C%20ii%20%3D%20directives.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20directive%20%3D%20directives%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28directive.multiElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20When%20the%20element%20is%20replaced%20with%20HTML%20template%20then%20the%20new%20attributes%0D%0A%20%20%20%20%20*%20on%20the%20template%20need%20to%20be%20merged%20with%20the%20existing%20attributes%20in%20the%20DOM.%0D%0A%20%20%20%20%20*%20The%20desired%20effect%20is%20to%20have%20both%20of%20the%20attributes%20present.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bobject%7D%20dst%20destination%20attributes%20%28original%20DOM%29%0D%0A%20%20%20%20%20*%20@param%20%7Bobject%7D%20src%20source%20attributes%20%28from%20the%20directive%20template%29%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20mergeTemplateAttributes%28dst%2C%20src%29%20%7B%0D%0A%20%20%20%20%20%20var%20srcAttr%20%3D%20src.%24attr%2C%0D%0A%20%20%20%20%20%20%20%20%20%20dstAttr%20%3D%20dst.%24attr%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24element%20%3D%20dst.%24%24element%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20reapply%20the%20old%20attributes%20to%20the%20new%20element%0D%0A%20%20%20%20%20%20forEach%28dst%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28key.charAt%280%29%20%21%3D%20%27%24%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28src%5Bkey%5D%20%26%26%20src%5Bkey%5D%20%21%3D%3D%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20+%3D%20%28key%20%3D%3D%3D%20%27style%27%20%3F%20%27%3B%27%20%3A%20%27%20%27%29%20+%20src%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20dst.%24set%28key%2C%20value%2C%20true%2C%20srcAttr%5Bkey%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20copy%20the%20new%20attributes%20on%20the%20old%20attrs%20object%0D%0A%20%20%20%20%20%20forEach%28src%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28key%20%3D%3D%20%27class%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20safeAddClass%28%24element%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dst%5B%27class%27%5D%20%3D%20%28dst%5B%27class%27%5D%20%3F%20dst%5B%27class%27%5D%20+%20%27%20%27%20%3A%20%27%27%29%20+%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28key%20%3D%3D%20%27style%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24element.attr%28%27style%27%2C%20%24element.attr%28%27style%27%29%20+%20%27%3B%27%20+%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dst%5B%27style%27%5D%20%3D%20%28dst%5B%27style%27%5D%20%3F%20dst%5B%27style%27%5D%20+%20%27%3B%27%20%3A%20%27%27%29%20+%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%60dst%60%20will%20never%20contain%20hasOwnProperty%20as%20DOM%20parser%20won%27t%20let%20it.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20You%20will%20get%20an%20%22InvalidCharacterError%3A%20DOM%20Exception%205%22%20error%20if%20you%0D%0A%20%20%20%20%20%20%20%20%20%20//%20have%20an%20attribute%20like%20%22has-own-property%22%20or%20%22data-has-own-property%22%2C%20etc.%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28key.charAt%280%29%20%21%3D%20%27%24%27%20%26%26%20%21dst.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20dst%5Bkey%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dstAttr%5Bkey%5D%20%3D%20srcAttr%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20compileTemplateUrl%28directives%2C%20%24compileNode%2C%20tAttrs%2C%0D%0A%20%20%20%20%20%20%20%20%24rootElement%2C%20childTranscludeFn%2C%20preLinkFns%2C%20postLinkFns%2C%20previousCompileContext%29%20%7B%0D%0A%20%20%20%20%20%20var%20linkQueue%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20afterTemplateNodeLinkFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20afterTemplateChildLinkFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20beforeTemplateCompileNode%20%3D%20%24compileNode%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20origAsyncDirective%20%3D%20directives.shift%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20derivedSyncDirective%20%3D%20inherit%28origAsyncDirective%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20null%2C%20transclude%3A%20null%2C%20replace%3A%20null%2C%20%24%24originalDirective%3A%20origAsyncDirective%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20templateUrl%20%3D%20%28isFunction%28origAsyncDirective.templateUrl%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20origAsyncDirective.templateUrl%28%24compileNode%2C%20tAttrs%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20origAsyncDirective.templateUrl%2C%0D%0A%20%20%20%20%20%20%20%20%20%20templateNamespace%20%3D%20origAsyncDirective.templateNamespace%3B%0D%0A%0D%0A%20%20%20%20%20%20%24compileNode.empty%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%24templateRequest%28%24sce.getTrustedResourceUrl%28templateUrl%29%29%0D%0A%20%20%20%20%20%20%20%20.then%28function%28content%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20compileNode%2C%20tempTemplateAttrs%2C%20%24template%2C%20childBoundTranscludeFn%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20content%20%3D%20denormalizeTemplate%28content%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28origAsyncDirective.replace%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28jqLiteIsTextNode%28content%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24template%20%3D%20removeComments%28wrapTemplate%28templateNamespace%2C%20trim%28content%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20compileNode%20%3D%20%24template%5B0%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24template.length%20%21%3D%201%20%7C%7C%20compileNode.nodeType%20%21%3D%3D%20NODE_TYPE_ELEMENT%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27tplrt%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Template%20for%20directive%20%27%7B0%7D%27%20must%20have%20exactly%20one%20root%20element.%20%7B1%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20origAsyncDirective.name%2C%20templateUrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tempTemplateAttrs%20%3D%20%7B%24attr%3A%20%7B%7D%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replaceWith%28%24rootElement%2C%20%24compileNode%2C%20compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20templateDirectives%20%3D%20collectDirectives%28compileNode%2C%20%5B%5D%2C%20tempTemplateAttrs%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isObject%28origAsyncDirective.scope%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20markDirectivesAsIsolate%28templateDirectives%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20directives%20%3D%20templateDirectives.concat%28directives%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20mergeTemplateAttributes%28tAttrs%2C%20tempTemplateAttrs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20compileNode%20%3D%20beforeTemplateCompileNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24compileNode.html%28content%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20directives.unshift%28derivedSyncDirective%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20afterTemplateNodeLinkFn%20%3D%20applyDirectivesToNode%28directives%2C%20compileNode%2C%20tAttrs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childTranscludeFn%2C%20%24compileNode%2C%20origAsyncDirective%2C%20preLinkFns%2C%20postLinkFns%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousCompileContext%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28%24rootElement%2C%20function%28node%2C%20i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28node%20%3D%3D%20compileNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24rootElement%5Bi%5D%20%3D%20%24compileNode%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20afterTemplateChildLinkFn%20%3D%20compileNodes%28%24compileNode%5B0%5D.childNodes%2C%20childTranscludeFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20while%20%28linkQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20scope%20%3D%20linkQueue.shift%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20beforeTemplateLinkNode%20%3D%20linkQueue.shift%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkRootElement%20%3D%20linkQueue.shift%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20boundTranscludeFn%20%3D%20linkQueue.shift%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkNode%20%3D%20%24compileNode%5B0%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28scope.%24%24destroyed%29%20continue%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28beforeTemplateLinkNode%20%21%3D%3D%20beforeTemplateCompileNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20oldClasses%20%3D%20beforeTemplateLinkNode.className%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%28previousCompileContext.hasElementTranscludeDirective%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20origAsyncDirective.replace%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20it%20was%20cloned%20therefore%20we%20have%20to%20clone%20as%20well.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20linkNode%20%3D%20jqLiteClone%28compileNode%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20replaceWith%28linkRootElement%2C%20jqLite%28beforeTemplateLinkNode%29%2C%20linkNode%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Copy%20in%20CSS%20classes%20from%20original%20node%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20safeAddClass%28jqLite%28linkNode%29%2C%20oldClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28afterTemplateNodeLinkFn.transcludeOnThisElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20createBoundTranscludeFn%28scope%2C%20afterTemplateNodeLinkFn.transclude%2C%20boundTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20boundTranscludeFn%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20afterTemplateNodeLinkFn%28afterTemplateChildLinkFn%2C%20scope%2C%20linkNode%2C%20%24rootElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%2C%20afterTemplateNodeLinkFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20linkQueue%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20function%20delayedNodeLinkFn%28ignoreChildLinkFn%2C%20scope%2C%20node%2C%20rootElement%2C%20boundTranscludeFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20childBoundTranscludeFn%20%3D%20boundTranscludeFn%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28scope.%24%24destroyed%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28linkQueue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20linkQueue.push%28scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rootElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28afterTemplateNodeLinkFn.transcludeOnThisElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20childBoundTranscludeFn%20%3D%20createBoundTranscludeFn%28scope%2C%20afterTemplateNodeLinkFn.transclude%2C%20boundTranscludeFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20afterTemplateNodeLinkFn%28afterTemplateChildLinkFn%2C%20scope%2C%20node%2C%20rootElement%2C%20childBoundTranscludeFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20afterTemplateNodeLinkFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Sorting%20function%20for%20bound%20directives.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20byPriority%28a%2C%20b%29%20%7B%0D%0A%20%20%20%20%20%20var%20diff%20%3D%20b.priority%20-%20a.priority%3B%0D%0A%20%20%20%20%20%20if%20%28diff%20%21%3D%3D%200%29%20return%20diff%3B%0D%0A%20%20%20%20%20%20if%20%28a.name%20%21%3D%3D%20b.name%29%20return%20%28a.name%20%3C%20b.name%29%20%3F%20-1%20%3A%201%3B%0D%0A%20%20%20%20%20%20return%20a.index%20-%20b.index%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20assertNoDuplicate%28what%2C%20previousDirective%2C%20directive%2C%20element%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28previousDirective%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27multidir%27%2C%20%27Multiple%20directives%20%5B%7B0%7D%2C%20%7B1%7D%5D%20asking%20for%20%7B2%7D%20on%3A%20%7B3%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20previousDirective.name%2C%20directive.name%2C%20what%2C%20startingTag%28element%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20addTextInterpolateDirective%28directives%2C%20text%29%20%7B%0D%0A%20%20%20%20%20%20var%20interpolateFn%20%3D%20%24interpolate%28text%2C%20true%29%3B%0D%0A%20%20%20%20%20%20if%20%28interpolateFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20directives.push%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20priority%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20compile%3A%20function%20textInterpolateCompileFn%28templateNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20templateNodeParent%20%3D%20templateNode.parent%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hasCompileParent%20%3D%20%21%21templateNodeParent.length%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20When%20transcluding%20a%20template%20that%20has%20bindings%20in%20the%20root%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20don%27t%20have%20a%20parent%20and%20thus%20need%20to%20add%20the%20class%20during%20linking%20fn.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasCompileParent%29%20compile.%24%24addBindingClass%28templateNodeParent%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20function%20textInterpolateLinkFn%28scope%2C%20node%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20parent%20%3D%20node.parent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21hasCompileParent%29%20compile.%24%24addBindingClass%28parent%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compile.%24%24addBindingInfo%28parent%2C%20interpolateFn.expressions%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28interpolateFn%2C%20function%20interpolateFnWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%5B0%5D.nodeValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20wrapTemplate%28type%2C%20template%29%20%7B%0D%0A%20%20%20%20%20%20type%20%3D%20lowercase%28type%20%7C%7C%20%27html%27%29%3B%0D%0A%20%20%20%20%20%20switch%20%28type%29%20%7B%0D%0A%20%20%20%20%20%20case%20%27svg%27%3A%0D%0A%20%20%20%20%20%20case%20%27math%27%3A%0D%0A%20%20%20%20%20%20%20%20var%20wrapper%20%3D%20document.createElement%28%27div%27%29%3B%0D%0A%20%20%20%20%20%20%20%20wrapper.innerHTML%20%3D%20%27%3C%27%20+%20type%20+%20%27%3E%27%20+%20template%20+%20%27%3C/%27%20+%20type%20+%20%27%3E%27%3B%0D%0A%20%20%20%20%20%20%20%20return%20wrapper.childNodes%5B0%5D.childNodes%3B%0D%0A%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20return%20template%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20getTrustedContext%28node%2C%20attrNormalizedName%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28attrNormalizedName%20%3D%3D%20%22srcdoc%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24sce.HTML%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20tag%20%3D%20nodeName_%28node%29%3B%0D%0A%20%20%20%20%20%20//%20maction%5Bxlink%3Ahref%5D%20can%20source%20SVG.%20%20It%27s%20not%20limited%20to%20%3Cmaction%3E.%0D%0A%20%20%20%20%20%20if%20%28attrNormalizedName%20%3D%3D%20%22xlinkHref%22%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%28tag%20%3D%3D%20%22form%22%20%26%26%20attrNormalizedName%20%3D%3D%20%22action%22%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%28tag%20%21%3D%20%22img%22%20%26%26%20%28attrNormalizedName%20%3D%3D%20%22src%22%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrNormalizedName%20%3D%3D%20%22ngSrc%22%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24sce.RESOURCE_URL%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20addAttrInterpolateDirective%28node%2C%20directives%2C%20value%2C%20name%2C%20allOrNothing%29%20%7B%0D%0A%20%20%20%20%20%20var%20trustedContext%20%3D%20getTrustedContext%28node%2C%20name%29%3B%0D%0A%20%20%20%20%20%20allOrNothing%20%3D%20ALL_OR_NOTHING_ATTRS%5Bname%5D%20%7C%7C%20allOrNothing%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20interpolateFn%20%3D%20%24interpolate%28value%2C%20true%2C%20trustedContext%2C%20allOrNothing%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20no%20interpolation%20found%20-%3E%20ignore%0D%0A%20%20%20%20%20%20if%20%28%21interpolateFn%29%20return%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20if%20%28name%20%3D%3D%3D%20%22multiple%22%20%26%26%20nodeName_%28node%29%20%3D%3D%3D%20%22select%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%22selmulti%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Binding%20to%20the%20%27multiple%27%20attribute%20is%20not%20supported.%20Element%3A%20%7B0%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20startingTag%28node%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20directives.push%28%7B%0D%0A%20%20%20%20%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20compile%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pre%3A%20function%20attrInterpolatePreLinkFn%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20%24%24observers%20%3D%20%28attr.%24%24observers%20%7C%7C%20%28attr.%24%24observers%20%3D%20%7B%7D%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28EVENT_HANDLER_ATTR_REGEXP.test%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27nodomevents%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Interpolations%20for%20HTML%20DOM%20event%20attributes%20are%20disallowed.%20%20Please%20use%20the%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ng-%20versions%20%28such%20as%20ng-click%20instead%20of%20onclick%29%20instead.%22%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20the%20attribute%20has%20changed%20since%20last%20%24interpolate%28%29ed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20newValue%20%3D%20attr%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newValue%20%21%3D%3D%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20need%20to%20interpolate%20again%20since%20the%20attribute%20value%20has%20been%20updated%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%28e.g.%20by%20another%20directive%27s%20compile%20function%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20ensure%20unset/empty%20values%20make%20interpolateFn%20falsy%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20interpolateFn%20%3D%20newValue%20%26%26%20%24interpolate%28newValue%2C%20true%2C%20trustedContext%2C%20allOrNothing%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20newValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20attribute%20was%20updated%20so%20that%20there%20is%20no%20interpolation%20going%20on%20we%20don%27t%20want%20to%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20register%20any%20observers%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21interpolateFn%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20initialize%20attr%20object%20so%20that%20it%27s%20ready%20in%20case%20we%20need%20the%20value%20for%20isolate%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20scope%20initialization%2C%20otherwise%20the%20value%20would%20not%20be%20available%20from%20isolate%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20directive%27s%20linking%20fn%20during%20linking%20phase%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr%5Bname%5D%20%3D%20interpolateFn%28scope%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%24%24observers%5Bname%5D%20%7C%7C%20%28%24%24observers%5Bname%5D%20%3D%20%5B%5D%29%29.%24%24inter%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28attr.%24%24observers%20%26%26%20attr.%24%24observers%5Bname%5D.%24%24scope%20%7C%7C%20scope%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24watch%28interpolateFn%2C%20function%20interpolateFnWatchAction%28newValue%2C%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//special%20case%20for%20class%20attribute%20addition%20+%20removal%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//so%20that%20class%20changes%20can%20tap%20into%20the%20animation%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//hooks%20provided%20by%20the%20%24animate%20service.%20Be%20sure%20to%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//skip%20animations%20when%20the%20first%20digest%20occurs%20%28when%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//both%20the%20new%20and%20the%20old%20values%20are%20the%20same%29%20since%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//the%20CSS%20classes%20are%20the%20non-interpolated%20values%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28name%20%3D%3D%3D%20%27class%27%20%26%26%20newValue%20%21%3D%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr.%24updateClass%28newValue%2C%20oldValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr.%24set%28name%2C%20newValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20This%20is%20a%20special%20jqLite.replaceWith%2C%20which%20can%20replace%20items%20which%0D%0A%20%20%20%20%20*%20have%20no%20parents%2C%20provided%20that%20the%20containing%20jqLite%20collection%20is%20provided.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BJqLite%3D%7D%20%24rootElement%20The%20root%20of%20the%20compile%20tree.%20Used%20so%20that%20we%20can%20replace%20nodes%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20the%20root%20of%20the%20tree.%0D%0A%20%20%20%20%20*%20@param%20%7BJqLite%7D%20elementsToRemove%20The%20jqLite%20element%20which%20we%20are%20going%20to%20replace.%20We%20keep%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20shell%2C%20but%20replace%20its%20DOM%20node%20reference.%0D%0A%20%20%20%20%20*%20@param%20%7BNode%7D%20newNode%20The%20new%20DOM%20node.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20replaceWith%28%24rootElement%2C%20elementsToRemove%2C%20newNode%29%20%7B%0D%0A%20%20%20%20%20%20var%20firstElementToRemove%20%3D%20elementsToRemove%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20removeCount%20%3D%20elementsToRemove.length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20parent%20%3D%20firstElementToRemove.parentNode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20i%2C%20ii%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%24rootElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20%24rootElement.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%24rootElement%5Bi%5D%20%3D%3D%20firstElementToRemove%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24rootElement%5Bi++%5D%20%3D%20newNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%20i%2C%20j2%20%3D%20j%20+%20removeCount%20-%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jj%20%3D%20%24rootElement.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%3C%20jj%3B%20j++%2C%20j2++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28j2%20%3C%20jj%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24rootElement%5Bj%5D%20%3D%20%24rootElement%5Bj2%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20%24rootElement%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24rootElement.length%20-%3D%20removeCount%20-%201%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20the%20replaced%20element%20is%20also%20the%20jQuery%20.context%20then%20replace%20it%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20.context%20is%20a%20deprecated%20jQuery%20api%2C%20so%20we%20should%20set%20it%20only%20when%20jQuery%20set%20it%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20http%3A//api.jquery.com/context/%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24rootElement.context%20%3D%3D%3D%20firstElementToRemove%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24rootElement.context%20%3D%20newNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28parent%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parent.replaceChild%28newNode%2C%20firstElementToRemove%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20TODO%28perf%29%3A%20what%27s%20this%20document%20fragment%20for%3F%20is%20it%20needed%3F%20can%20we%20at%20least%20reuse%20it%3F%0D%0A%20%20%20%20%20%20var%20fragment%20%3D%20document.createDocumentFragment%28%29%3B%0D%0A%20%20%20%20%20%20fragment.appendChild%28firstElementToRemove%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Copy%20over%20user%20data%20%28that%20includes%20Angular%27s%20%24scope%20etc.%29.%20Don%27t%20copy%20private%0D%0A%20%20%20%20%20%20//%20data%20here%20because%20there%27s%20no%20public%20interface%20in%20jQuery%20to%20do%20that%20and%20copying%20over%0D%0A%20%20%20%20%20%20//%20event%20listeners%20%28which%20is%20the%20main%20use%20of%20private%20data%29%20wouldn%27t%20work%20anyway.%0D%0A%20%20%20%20%20%20jqLite%28newNode%29.data%28jqLite%28firstElementToRemove%29.data%28%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Remove%20data%20of%20the%20replaced%20element.%20We%20cannot%20just%20call%20.remove%28%29%0D%0A%20%20%20%20%20%20//%20on%20the%20element%20it%20since%20that%20would%20deallocate%20scope%20that%20is%20needed%0D%0A%20%20%20%20%20%20//%20for%20the%20new%20node.%20Instead%2C%20remove%20the%20data%20%22manually%22.%0D%0A%20%20%20%20%20%20if%20%28%21jQuery%29%20%7B%0D%0A%20%20%20%20%20%20%20%20delete%20jqLite.cache%5BfirstElementToRemove%5BjqLite.expando%5D%5D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20jQuery%202.x%20doesn%27t%20expose%20the%20data%20storage.%20Use%20jQuery.cleanData%20to%20clean%20up%20after%0D%0A%20%20%20%20%20%20%20%20//%20the%20replaced%20element.%20The%20cleanData%20version%20monkey-patched%20by%20Angular%20would%20cause%0D%0A%20%20%20%20%20%20%20%20//%20the%20scope%20to%20be%20trashed%20and%20we%20do%20need%20the%20very%20same%20scope%20to%20work%20with%20the%20new%0D%0A%20%20%20%20%20%20%20%20//%20element.%20However%2C%20we%20cannot%20just%20cache%20the%20non-patched%20version%20and%20use%20it%20here%20as%0D%0A%20%20%20%20%20%20%20%20//%20that%20would%20break%20if%20another%20library%20patches%20the%20method%20after%20Angular%20does%20%28one%0D%0A%20%20%20%20%20%20%20%20//%20example%20is%20jQuery%20UI%29.%20Instead%2C%20set%20a%20flag%20indicating%20scope%20destroying%20should%20be%0D%0A%20%20%20%20%20%20%20%20//%20skipped%20this%20one%20time.%0D%0A%20%20%20%20%20%20%20%20skipDestroyOnNextJQueryCleanData%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20jQuery.cleanData%28%5BfirstElementToRemove%5D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20for%20%28var%20k%20%3D%201%2C%20kk%20%3D%20elementsToRemove.length%3B%20k%20%3C%20kk%3B%20k++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20element%20%3D%20elementsToRemove%5Bk%5D%3B%0D%0A%20%20%20%20%20%20%20%20jqLite%28element%29.remove%28%29%3B%20//%20must%20do%20this%20way%20to%20clean%20up%20expando%0D%0A%20%20%20%20%20%20%20%20fragment.appendChild%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20delete%20elementsToRemove%5Bk%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20elementsToRemove%5B0%5D%20%3D%20newNode%3B%0D%0A%20%20%20%20%20%20elementsToRemove.length%20%3D%201%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20cloneAndAnnotateFn%28fn%2C%20annotation%29%20%7B%0D%0A%20%20%20%20%20%20return%20extend%28function%28%29%20%7B%20return%20fn.apply%28null%2C%20arguments%29%3B%20%7D%2C%20fn%2C%20annotation%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20invokeLinkFn%28linkFn%2C%20scope%2C%20%24element%2C%20attrs%2C%20controllers%2C%20transcludeFn%29%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20linkFn%28scope%2C%20%24element%2C%20attrs%2C%20controllers%2C%20transcludeFn%29%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24exceptionHandler%28e%2C%20startingTag%28%24element%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20//%20Set%20up%20%24watches%20for%20isolate%20scope%20and%20controller%20bindings.%20This%20process%0D%0A%20%20%20%20//%20only%20occurs%20for%20isolate%20scopes%20and%20new%20scopes%20with%20controllerAs.%0D%0A%20%20%20%20function%20initializeDirectiveBindings%28scope%2C%20attrs%2C%20destination%2C%20bindings%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20directive%2C%20newScope%29%20%7B%0D%0A%20%20%20%20%20%20var%20onNewScopeDestroyed%3B%0D%0A%20%20%20%20%20%20forEach%28bindings%2C%20function%28definition%2C%20scopeName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20attrName%20%3D%20definition.attrName%2C%0D%0A%20%20%20%20%20%20%20%20optional%20%3D%20definition.optional%2C%0D%0A%20%20%20%20%20%20%20%20mode%20%3D%20definition.mode%2C%20//%20@%2C%20%3D%2C%20or%20%26%0D%0A%20%20%20%20%20%20%20%20lastValue%2C%0D%0A%20%20%20%20%20%20%20%20parentGet%2C%20parentSet%2C%20compare%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20switch%20%28mode%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%27@%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attrs.%24observe%28attrName%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20destination%5BscopeName%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attrs.%24%24observers%5BattrName%5D.%24%24scope%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28attrs%5BattrName%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20the%20attribute%20has%20been%20provided%20then%20we%20trigger%20an%20interpolation%20to%20ensure%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20value%20is%20there%20for%20use%20in%20the%20link%20fn%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20destination%5BscopeName%5D%20%3D%20%24interpolate%28attrs%5BattrName%5D%29%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%27%3D%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28optional%20%26%26%20%21attrs%5BattrName%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parentGet%20%3D%20%24parse%28attrs%5BattrName%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parentGet.literal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compare%20%3D%20equals%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20compare%20%3D%20function%28a%2C%20b%29%20%7B%20return%20a%20%3D%3D%3D%20b%20%7C%7C%20%28a%20%21%3D%3D%20a%20%26%26%20b%20%21%3D%3D%20b%29%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parentSet%20%3D%20parentGet.assign%20%7C%7C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20reset%20the%20change%2C%20or%20we%20will%20throw%20this%20exception%20on%20every%20%24digest%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastValue%20%3D%20destination%5BscopeName%5D%20%3D%20parentGet%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27nonassign%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Expression%20%27%7B0%7D%27%20used%20with%20directive%20%27%7B1%7D%27%20is%20non-assignable%21%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attrs%5BattrName%5D%2C%20directive.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lastValue%20%3D%20destination%5BscopeName%5D%20%3D%20parentGet%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20parentValueWatch%20%3D%20function%20parentValueWatch%28parentValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21compare%28parentValue%2C%20destination%5BscopeName%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20are%20out%20of%20sync%20and%20need%20to%20copy%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21compare%28parentValue%2C%20lastValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20parent%20changed%20and%20it%20has%20precedence%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20destination%5BscopeName%5D%20%3D%20parentValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20the%20parent%20can%20be%20assigned%20then%20do%20so%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parentSet%28scope%2C%20parentValue%20%3D%20destination%5BscopeName%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20lastValue%20%3D%20parentValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parentValueWatch.%24stateful%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20unwatch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28definition.collection%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20unwatch%20%3D%20scope.%24watchCollection%28attrs%5BattrName%5D%2C%20parentValueWatch%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20unwatch%20%3D%20scope.%24watch%28%24parse%28attrs%5BattrName%5D%2C%20parentValueWatch%29%2C%20null%2C%20parentGet.literal%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20onNewScopeDestroyed%20%3D%20%28onNewScopeDestroyed%20%7C%7C%20%5B%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20onNewScopeDestroyed.push%28unwatch%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%27%26%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Don%27t%20assign%20Object.prototype%20method%20to%20scope%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21attrs.hasOwnProperty%28attrName%29%20%26%26%20optional%29%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parentGet%20%3D%20%24parse%28attrs%5BattrName%5D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Don%27t%20assign%20noop%20to%20destination%20if%20expression%20is%20not%20valid%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parentGet%20%3D%3D%3D%20noop%20%26%26%20optional%29%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20destination%5BscopeName%5D%20%3D%20function%28locals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parentGet%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20var%20destroyBindings%20%3D%20onNewScopeDestroyed%20%3F%20function%20destroyBindings%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20onNewScopeDestroyed.length%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20onNewScopeDestroyed%5Bi%5D%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20%3A%20noop%3B%0D%0A%20%20%20%20%20%20if%20%28newScope%20%26%26%20destroyBindings%20%21%3D%3D%20noop%29%20%7B%0D%0A%20%20%20%20%20%20%20%20newScope.%24on%28%27%24destroy%27%2C%20destroyBindings%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20noop%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20destroyBindings%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Avar%20PREFIX_REGEXP%20%3D%20/%5E%28%28%3F%3Ax%7Cdata%29%5B%5C%3A%5C-_%5D%29/i%3B%0D%0A/**%0D%0A%20*%20Converts%20all%20accepted%20directives%20format%20into%20proper%20directive%20name.%0D%0A%20*%20@param%20name%20Name%20to%20normalize%0D%0A%20*/%0D%0Afunction%20directiveNormalize%28name%29%20%7B%0D%0A%20%20return%20camelCase%28name.replace%28PREFIX_REGEXP%2C%20%27%27%29%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20type%0D%0A%20*%20@name%20%24compile.directive.Attributes%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20shared%20object%20between%20directive%20compile%20/%20linking%20functions%20which%20contains%20normalized%20DOM%0D%0A%20*%20element%20attributes.%20The%20values%20reflect%20current%20binding%20state%20%60%7B%7B%20%7D%7D%60.%20The%20normalization%20is%0D%0A%20*%20needed%20since%20all%20of%20these%20are%20treated%20as%20equivalent%20in%20Angular%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20%20%20%20%3Cspan%20ng%3Abind%3D%22a%22%20ng-bind%3D%22a%22%20data-ng-bind%3D%22a%22%20x-ng-bind%3D%22a%22%3E%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20property%0D%0A%20*%20@name%20%24compile.directive.Attributes%23%24attr%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20map%20of%20DOM%20element%20attribute%20names%20to%20the%20normalized%20name.%20This%20is%0D%0A%20*%20needed%20to%20do%20reverse%20lookup%20from%20normalized%20name%20back%20to%20actual%20name.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24compile.directive.Attributes%23%24set%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Set%20DOM%20element%20attribute%20value.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20name%20Normalized%20element%20attribute%20name%20of%20the%20property%20to%20modify.%20The%20name%20is%0D%0A%20*%20%20%20%20%20%20%20%20%20%20reverse-translated%20using%20the%20%7B@link%20ng.%24compile.directive.Attributes%23%24attr%20%24attr%7D%0D%0A%20*%20%20%20%20%20%20%20%20%20%20property%20to%20the%20original%20name.%0D%0A%20*%20@param%20%7Bstring%7D%20value%20Value%20to%20set%20the%20attribute%20to.%20The%20value%20can%20be%20an%20interpolated%20string.%0D%0A%20*/%0D%0A%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Closure%20compiler%20type%20information%0D%0A%20*/%0D%0A%0D%0Afunction%20nodesetLinkingFn%28%0D%0A%20%20/*%20angular.Scope%20*/%20scope%2C%0D%0A%20%20/*%20NodeList%20*/%20nodeList%2C%0D%0A%20%20/*%20Element%20*/%20rootElement%2C%0D%0A%20%20/*%20function%28Function%29%20*/%20boundTranscludeFn%0D%0A%29%20%7B%7D%0D%0A%0D%0Afunction%20directiveLinkingFn%28%0D%0A%20%20/*%20nodesetLinkingFn%20*/%20nodesetLinkingFn%2C%0D%0A%20%20/*%20angular.Scope%20*/%20scope%2C%0D%0A%20%20/*%20Node%20*/%20node%2C%0D%0A%20%20/*%20Element%20*/%20rootElement%2C%0D%0A%20%20/*%20function%28Function%29%20*/%20boundTranscludeFn%0D%0A%29%20%7B%7D%0D%0A%0D%0Afunction%20tokenDifference%28str1%2C%20str2%29%20%7B%0D%0A%20%20var%20values%20%3D%20%27%27%2C%0D%0A%20%20%20%20%20%20tokens1%20%3D%20str1.split%28/%5Cs+/%29%2C%0D%0A%20%20%20%20%20%20tokens2%20%3D%20str2.split%28/%5Cs+/%29%3B%0D%0A%0D%0A%20%20outer%3A%0D%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20tokens1.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20var%20token%20%3D%20tokens1%5Bi%5D%3B%0D%0A%20%20%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%20tokens2.length%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28token%20%3D%3D%20tokens2%5Bj%5D%29%20continue%20outer%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20values%20+%3D%20%28values.length%20%3E%200%20%3F%20%27%20%27%20%3A%20%27%27%29%20+%20token%3B%0D%0A%20%20%7D%0D%0A%20%20return%20values%3B%0D%0A%7D%0D%0A%0D%0Afunction%20removeComments%28jqNodes%29%20%7B%0D%0A%20%20jqNodes%20%3D%20jqLite%28jqNodes%29%3B%0D%0A%20%20var%20i%20%3D%20jqNodes.length%3B%0D%0A%0D%0A%20%20if%20%28i%20%3C%3D%201%29%20%7B%0D%0A%20%20%20%20return%20jqNodes%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20while%20%28i--%29%20%7B%0D%0A%20%20%20%20var%20node%20%3D%20jqNodes%5Bi%5D%3B%0D%0A%20%20%20%20if%20%28node.nodeType%20%3D%3D%3D%20NODE_TYPE_COMMENT%29%20%7B%0D%0A%20%20%20%20%20%20splice.call%28jqNodes%2C%20i%2C%201%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20jqNodes%3B%0D%0A%7D%0D%0A%0D%0Avar%20%24controllerMinErr%20%3D%20minErr%28%27%24controller%27%29%3B%0D%0A%0D%0A%0D%0Avar%20CNTRL_REG%20%3D%20/%5E%28%5CS+%29%28%5Cs+as%5Cs+%28%5Cw+%29%29%3F%24/%3B%0D%0Afunction%20identifierForController%28controller%2C%20ident%29%20%7B%0D%0A%20%20if%20%28ident%20%26%26%20isString%28ident%29%29%20return%20ident%3B%0D%0A%20%20if%20%28isString%28controller%29%29%20%7B%0D%0A%20%20%20%20var%20match%20%3D%20CNTRL_REG.exec%28controller%29%3B%0D%0A%20%20%20%20if%20%28match%29%20return%20match%5B3%5D%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24controllerProvider%0D%0A%20*%20@description%0D%0A%20*%20The%20%7B@link%20ng.%24controller%20%24controller%20service%7D%20is%20used%20by%20Angular%20to%20create%20new%0D%0A%20*%20controllers.%0D%0A%20*%0D%0A%20*%20This%20provider%20allows%20controller%20registration%20via%20the%0D%0A%20*%20%7B@link%20ng.%24controllerProvider%23register%20register%7D%20method.%0D%0A%20*/%0D%0Afunction%20%24ControllerProvider%28%29%20%7B%0D%0A%20%20var%20controllers%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20globals%20%3D%20false%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24controllerProvider%23register%0D%0A%20%20%20*%20@param%20%7Bstring%7CObject%7D%20name%20Controller%20name%2C%20or%20an%20object%20map%20of%20controllers%20where%20the%20keys%20are%0D%0A%20%20%20*%20%20%20%20the%20names%20and%20the%20values%20are%20the%20constructors.%0D%0A%20%20%20*%20@param%20%7BFunction%7CArray%7D%20constructor%20Controller%20constructor%20fn%20%28optionally%20decorated%20with%20DI%0D%0A%20%20%20*%20%20%20%20annotations%20in%20the%20array%20notation%29.%0D%0A%20%20%20*/%0D%0A%20%20this.register%20%3D%20function%28name%2C%20constructor%29%20%7B%0D%0A%20%20%20%20assertNotHasOwnProperty%28name%2C%20%27controller%27%29%3B%0D%0A%20%20%20%20if%20%28isObject%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20extend%28controllers%2C%20name%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20controllers%5Bname%5D%20%3D%20constructor%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24controllerProvider%23allowGlobals%0D%0A%20%20%20*%20@description%20If%20called%2C%20allows%20%60%24controller%60%20to%20find%20controller%20constructors%20on%20%60window%60%0D%0A%20%20%20*/%0D%0A%20%20this.allowGlobals%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20globals%20%3D%20true%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24injector%27%2C%20%27%24window%27%2C%20function%28%24injector%2C%20%24window%29%20%7B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20*%20@name%20%24controller%0D%0A%20%20%20%20%20*%20@requires%20%24injector%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BFunction%7Cstring%7D%20constructor%20If%20called%20with%20a%20function%20then%20it%27s%20considered%20to%20be%20the%0D%0A%20%20%20%20%20*%20%20%20%20controller%20constructor%20function.%20Otherwise%20it%27s%20considered%20to%20be%20a%20string%20which%20is%20used%0D%0A%20%20%20%20%20*%20%20%20%20to%20retrieve%20the%20controller%20constructor%20using%20the%20following%20steps%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20check%20if%20a%20controller%20with%20given%20name%20is%20registered%20via%20%60%24controllerProvider%60%0D%0A%20%20%20%20%20*%20%20%20%20*%20check%20if%20evaluating%20the%20string%20on%20the%20current%20scope%20returns%20a%20constructor%0D%0A%20%20%20%20%20*%20%20%20%20*%20if%20%24controllerProvider%23allowGlobals%2C%20check%20%60window%5Bconstructor%5D%60%20on%20the%20global%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60window%60%20object%20%28not%20recommended%29%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20The%20string%20can%20use%20the%20%60controller%20as%20property%60%20syntax%2C%20where%20the%20controller%20instance%20is%20published%0D%0A%20%20%20%20%20*%20%20%20%20as%20the%20specified%20property%20on%20the%20%60scope%60%3B%20the%20%60scope%60%20must%20be%20injected%20into%20%60locals%60%20param%20for%20this%0D%0A%20%20%20%20%20*%20%20%20%20to%20work%20correctly.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BObject%7D%20locals%20Injection%20locals%20for%20Controller.%0D%0A%20%20%20%20%20*%20@return%20%7BObject%7D%20Instance%20of%20given%20controller.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20%60%24controller%60%20service%20is%20responsible%20for%20instantiating%20controllers.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20It%27s%20just%20a%20simple%20call%20to%20%7B@link%20auto.%24injector%20%24injector%7D%2C%20but%20extracted%20into%0D%0A%20%20%20%20%20*%20a%20service%2C%20so%20that%20one%20can%20override%20this%20service%20with%20%5BBC%20version%5D%28https%3A//gist.github.com/1649788%29.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20return%20function%28expression%2C%20locals%2C%20later%2C%20ident%29%20%7B%0D%0A%20%20%20%20%20%20//%20PRIVATE%20API%3A%0D%0A%20%20%20%20%20%20//%20%20%20param%20%60later%60%20---%20indicates%20that%20the%20controller%27s%20constructor%20is%20invoked%20at%20a%20later%20time.%0D%0A%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20If%20true%2C%20%24controller%20will%20allocate%20the%20object%20with%20the%20correct%0D%0A%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prototype%20chain%2C%20but%20will%20not%20invoke%20the%20controller%20until%20a%20returned%0D%0A%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%20is%20invoked.%0D%0A%20%20%20%20%20%20//%20%20%20param%20%60ident%60%20---%20An%20optional%20label%20which%20overrides%20the%20label%20parsed%20from%20the%20controller%0D%0A%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20expression%2C%20if%20any.%0D%0A%20%20%20%20%20%20var%20instance%2C%20match%2C%20constructor%2C%20identifier%3B%0D%0A%20%20%20%20%20%20later%20%3D%20later%20%3D%3D%3D%20true%3B%0D%0A%20%20%20%20%20%20if%20%28ident%20%26%26%20isString%28ident%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20identifier%20%3D%20ident%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isString%28expression%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20match%20%3D%20expression.match%28CNTRL_REG%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24controllerMinErr%28%27ctrlfmt%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Badly%20formed%20controller%20string%20%27%7B0%7D%27.%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Must%20match%20%60__name__%20as%20__id__%60%20or%20%60__name__%60.%22%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20constructor%20%3D%20match%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20identifier%20%3D%20identifier%20%7C%7C%20match%5B3%5D%3B%0D%0A%20%20%20%20%20%20%20%20expression%20%3D%20controllers.hasOwnProperty%28constructor%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20controllers%5Bconstructor%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20getter%28locals.%24scope%2C%20constructor%2C%20true%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28globals%20%3F%20getter%28%24window%2C%20constructor%2C%20true%29%20%3A%20undefined%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20assertArgFn%28expression%2C%20constructor%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28later%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Instantiate%20controller%20later%3A%0D%0A%20%20%20%20%20%20%20%20//%20This%20machinery%20is%20used%20to%20create%20an%20instance%20of%20the%20object%20before%20calling%20the%0D%0A%20%20%20%20%20%20%20%20//%20controller%27s%20constructor%20itself.%0D%0A%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20//%20This%20allows%20properties%20to%20be%20added%20to%20the%20controller%20before%20the%20constructor%20is%0D%0A%20%20%20%20%20%20%20%20//%20invoked.%20Primarily%2C%20this%20is%20used%20for%20isolate%20scope%20bindings%20in%20%24compile.%0D%0A%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20//%20This%20feature%20is%20not%20intended%20for%20use%20by%20applications%2C%20and%20is%20thus%20not%20documented%0D%0A%20%20%20%20%20%20%20%20//%20publicly.%0D%0A%20%20%20%20%20%20%20%20//%20Object%20creation%3A%20http%3A//jsperf.com/create-constructor/2%0D%0A%20%20%20%20%20%20%20%20var%20controllerPrototype%20%3D%20%28isArray%28expression%29%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20expression%5Bexpression.length%20-%201%5D%20%3A%20expression%29.prototype%3B%0D%0A%20%20%20%20%20%20%20%20instance%20%3D%20Object.create%28controllerPrototype%20%7C%7C%20null%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28identifier%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20addIdentifier%28locals%2C%20identifier%2C%20instance%2C%20constructor%20%7C%7C%20expression.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20instantiate%3B%0D%0A%20%20%20%20%20%20%20%20return%20instantiate%20%3D%20extend%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20%24injector.invoke%28expression%2C%20instance%2C%20locals%2C%20constructor%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28result%20%21%3D%3D%20instance%20%26%26%20%28isObject%28result%29%20%7C%7C%20isFunction%28result%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%20%3D%20result%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28identifier%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20result%20changed%2C%20re-assign%20controllerAs%20value%20to%20scope.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addIdentifier%28locals%2C%20identifier%2C%20instance%2C%20constructor%20%7C%7C%20expression.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20instance%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20instance%3A%20instance%2C%0D%0A%20%20%20%20%20%20%20%20%20%20identifier%3A%20identifier%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20instance%20%3D%20%24injector.instantiate%28expression%2C%20locals%2C%20constructor%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28identifier%29%20%7B%0D%0A%20%20%20%20%20%20%20%20addIdentifier%28locals%2C%20identifier%2C%20instance%2C%20constructor%20%7C%7C%20expression.name%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20instance%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20function%20addIdentifier%28locals%2C%20identifier%2C%20instance%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21%28locals%20%26%26%20isObject%28locals.%24scope%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20minErr%28%27%24controller%27%29%28%27noscp%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22Cannot%20export%20controller%20%27%7B0%7D%27%20as%20%27%7B1%7D%27%21%20No%20%24scope%20object%20provided%20via%20%60locals%60.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20name%2C%20identifier%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20locals.%24scope%5Bidentifier%5D%20%3D%20instance%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24document%0D%0A%20*%20@requires%20%24window%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20%7B@link%20angular.element%20jQuery%20or%20jqLite%7D%20wrapper%20for%20the%20browser%27s%20%60window.document%60%20object.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22documentExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3E%24document%20title%3A%20%3Cb%20ng-bind%3D%22title%22%3E%3C/b%3E%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3Ewindow.document%20title%3A%20%3Cb%20ng-bind%3D%22windowTitle%22%3E%3C/b%3E%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20angular.module%28%27documentExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20%27%24document%27%2C%20function%28%24scope%2C%20%24document%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.title%20%3D%20%24document%5B0%5D.title%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.windowTitle%20%3D%20angular.element%28window.document%29%5B0%5D.title%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20%24DocumentProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20function%28window%29%20%7B%0D%0A%20%20%20%20return%20jqLite%28window.document%29%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24exceptionHandler%0D%0A%20*%20@requires%20ng.%24log%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Any%20uncaught%20exception%20in%20angular%20expressions%20is%20delegated%20to%20this%20service.%0D%0A%20*%20The%20default%20implementation%20simply%20delegates%20to%20%60%24log.error%60%20which%20logs%20it%20into%0D%0A%20*%20the%20browser%20console.%0D%0A%20*%0D%0A%20*%20In%20unit%20tests%2C%20if%20%60angular-mocks.js%60%20is%20loaded%2C%20this%20service%20is%20overridden%20by%0D%0A%20*%20%7B@link%20ngMock.%24exceptionHandler%20mock%20%24exceptionHandler%7D%20which%20aids%20in%20testing.%0D%0A%20*%0D%0A%20*%20%23%23%20Example%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20angular.module%28%27exceptionOverride%27%2C%20%5B%5D%29.factory%28%27%24exceptionHandler%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20return%20function%28exception%2C%20cause%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20exception.message%20+%3D%20%27%20%28caused%20by%20%22%27%20+%20cause%20+%20%27%22%29%27%3B%0D%0A%20*%20%20%20%20%20%20%20throw%20exception%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20This%20example%20will%20override%20the%20normal%20action%20of%20%60%24exceptionHandler%60%2C%20to%20make%20angular%0D%0A%20*%20exceptions%20fail%20hard%20when%20they%20happen%2C%20instead%20of%20just%20logging%20to%20the%20console.%0D%0A%20*%0D%0A%20*%20%3Chr%20/%3E%0D%0A%20*%20Note%2C%20that%20code%20executed%20in%20event-listeners%20%28even%20those%20registered%20using%20jqLite%27s%20%60on%60/%60bind%60%0D%0A%20*%20methods%29%20does%20not%20delegate%20exceptions%20to%20the%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%0D%0A%20*%20%28unless%20executed%20during%20a%20digest%29.%0D%0A%20*%0D%0A%20*%20If%20you%20wish%2C%20you%20can%20manually%20delegate%20exceptions%2C%20e.g.%0D%0A%20*%20%60try%20%7B%20...%20%7D%20catch%28e%29%20%7B%20%24exceptionHandler%28e%29%3B%20%7D%60%0D%0A%20*%0D%0A%20*%20@param%20%7BError%7D%20exception%20Exception%20associated%20with%20the%20error.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20cause%20optional%20information%20about%20the%20context%20in%20which%0D%0A%20*%20%20%20%20%20%20%20the%20error%20was%20thrown.%0D%0A%20*%0D%0A%20*/%0D%0Afunction%20%24ExceptionHandlerProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24log%27%2C%20function%28%24log%29%20%7B%0D%0A%20%20%20%20return%20function%28exception%2C%20cause%29%20%7B%0D%0A%20%20%20%20%20%20%24log.error.apply%28%24log%2C%20arguments%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Avar%20APPLICATION_JSON%20%3D%20%27application/json%27%3B%0D%0Avar%20CONTENT_TYPE_APPLICATION_JSON%20%3D%20%7B%27Content-Type%27%3A%20APPLICATION_JSON%20+%20%27%3Bcharset%3Dutf-8%27%7D%3B%0D%0Avar%20JSON_START%20%3D%20/%5E%5C%5B%7C%5E%5C%7B%28%3F%21%5C%7B%29/%3B%0D%0Avar%20JSON_ENDS%20%3D%20%7B%0D%0A%20%20%27%5B%27%3A%20/%5D%24/%2C%0D%0A%20%20%27%7B%27%3A%20/%7D%24/%0D%0A%7D%3B%0D%0Avar%20JSON_PROTECTION_PREFIX%20%3D%20/%5E%5C%29%5C%5D%5C%7D%27%2C%3F%5Cn/%3B%0D%0A%0D%0Afunction%20serializeValue%28v%29%20%7B%0D%0A%20%20if%20%28isObject%28v%29%29%20%7B%0D%0A%20%20%20%20return%20isDate%28v%29%20%3F%20v.toISOString%28%29%20%3A%20toJson%28v%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20v%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20%24HttpParamSerializerProvider%28%29%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20*%20@name%20%24httpParamSerializer%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%0D%0A%20%20%20*%20Default%20%24http%20params%20serializer%20that%20converts%20objects%20to%20a%20part%20of%20a%20request%20URL%0D%0A%20%20%20*%20according%20to%20the%20following%20rules%3A%0D%0A%20%20%20*%20*%20%60%7B%27foo%27%3A%20%27bar%27%7D%60%20results%20in%20%60foo%3Dbar%60%0D%0A%20%20%20*%20*%20%60%7B%27foo%27%3A%20Date.now%28%29%7D%60%20results%20in%20%60foo%3D2015-04-01T09%253A50%253A49.262Z%60%20%28%60toISOString%28%29%60%20and%20encoded%20representation%20of%20a%20Date%20object%29%0D%0A%20%20%20*%20*%20%60%7B%27foo%27%3A%20%5B%27bar%27%2C%20%27baz%27%5D%7D%60%20results%20in%20%60foo%3Dbar%26foo%3Dbaz%60%20%28repeated%20key%20for%20each%20array%20element%29%0D%0A%20%20%20*%20*%20%60%7B%27foo%27%3A%20%7B%27bar%27%3A%27baz%27%7D%7D%60%20results%20in%20%60foo%3D%257B%2522bar%2522%253A%2522baz%2522%257D%22%60%20%28stringified%20and%20encoded%20representation%20of%20an%20object%29%0D%0A%20%20%20*%20*/%0D%0A%20%20this.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20function%20ngParamSerializer%28params%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21params%29%20return%20%27%27%3B%0D%0A%20%20%20%20%20%20var%20parts%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEachSorted%28params%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20null%20%7C%7C%20isUndefined%28value%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isArray%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28value%2C%20function%28v%2C%20k%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parts.push%28encodeUriQuery%28key%29%20%20+%20%27%3D%27%20+%20encodeUriQuery%28serializeValue%28v%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parts.push%28encodeUriQuery%28key%29%20+%20%27%3D%27%20+%20encodeUriQuery%28serializeValue%28value%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20parts.join%28%27%26%27%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24HttpParamSerializerJQLikeProvider%28%29%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20*%20@name%20%24httpParamSerializerJQLike%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%0D%0A%20%20%20*%20Alternative%20%24http%20params%20serializer%20that%20follows%20jQuery%27s%20%5B%60param%28%29%60%5D%28http%3A//api.jquery.com/jquery.param/%29%20method%20logic.%0D%0A%20%20%20*%20*/%0D%0A%20%20this.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20function%20jQueryLikeParamSerializer%28params%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21params%29%20return%20%27%27%3B%0D%0A%20%20%20%20%20%20var%20parts%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20serialize%28params%2C%20%27%27%2C%20true%29%3B%0D%0A%20%20%20%20%20%20return%20parts.join%28%27%26%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20serialize%28toSerialize%2C%20prefix%2C%20topLevel%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28toSerialize%20%3D%3D%3D%20null%20%7C%7C%20isUndefined%28toSerialize%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isArray%28toSerialize%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28toSerialize%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20serialize%28value%2C%20prefix%20+%20%27%5B%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isObject%28toSerialize%29%20%26%26%20%21isDate%28toSerialize%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEachSorted%28toSerialize%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20serialize%28value%2C%20prefix%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28topLevel%20%3F%20%27%27%20%3A%20%27%5B%27%29%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28topLevel%20%3F%20%27%27%20%3A%20%27%5D%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parts.push%28encodeUriQuery%28prefix%29%20+%20%27%3D%27%20+%20encodeUriQuery%28serializeValue%28toSerialize%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20defaultHttpResponseTransform%28data%2C%20headers%29%20%7B%0D%0A%20%20if%20%28isString%28data%29%29%20%7B%0D%0A%20%20%20%20//%20Strip%20json%20vulnerability%20protection%20prefix%20and%20trim%20whitespace%0D%0A%20%20%20%20var%20tempData%20%3D%20data.replace%28JSON_PROTECTION_PREFIX%2C%20%27%27%29.trim%28%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28tempData%29%20%7B%0D%0A%20%20%20%20%20%20var%20contentType%20%3D%20headers%28%27Content-Type%27%29%3B%0D%0A%20%20%20%20%20%20if%20%28%28contentType%20%26%26%20%28contentType.indexOf%28APPLICATION_JSON%29%20%3D%3D%3D%200%29%29%20%7C%7C%20isJsonLike%28tempData%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20data%20%3D%20fromJson%28tempData%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20data%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isJsonLike%28str%29%20%7B%0D%0A%20%20%20%20var%20jsonStart%20%3D%20str.match%28JSON_START%29%3B%0D%0A%20%20%20%20return%20jsonStart%20%26%26%20JSON_ENDS%5BjsonStart%5B0%5D%5D.test%28str%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Parse%20headers%20into%20key%20value%20object%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20headers%20Raw%20headers%20as%20a%20string%0D%0A%20*%20@returns%20%7BObject%7D%20Parsed%20headers%20as%20key%20value%20object%0D%0A%20*/%0D%0Afunction%20parseHeaders%28headers%29%20%7B%0D%0A%20%20var%20parsed%20%3D%20createMap%28%29%2C%20i%3B%0D%0A%0D%0A%20%20function%20fillInParsed%28key%2C%20val%29%20%7B%0D%0A%20%20%20%20if%20%28key%29%20%7B%0D%0A%20%20%20%20%20%20parsed%5Bkey%5D%20%3D%20parsed%5Bkey%5D%20%3F%20parsed%5Bkey%5D%20+%20%27%2C%20%27%20+%20val%20%3A%20val%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28isString%28headers%29%29%20%7B%0D%0A%20%20%20%20forEach%28headers.split%28%27%5Cn%27%29%2C%20function%28line%29%20%7B%0D%0A%20%20%20%20%20%20i%20%3D%20line.indexOf%28%27%3A%27%29%3B%0D%0A%20%20%20%20%20%20fillInParsed%28lowercase%28trim%28line.substr%280%2C%20i%29%29%29%2C%20trim%28line.substr%28i%20+%201%29%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%20else%20if%20%28isObject%28headers%29%29%20%7B%0D%0A%20%20%20%20forEach%28headers%2C%20function%28headerVal%2C%20headerKey%29%20%7B%0D%0A%20%20%20%20%20%20fillInParsed%28lowercase%28headerKey%29%2C%20trim%28headerVal%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20parsed%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Returns%20a%20function%20that%20provides%20access%20to%20parsed%20headers.%0D%0A%20*%0D%0A%20*%20Headers%20are%20lazy%20parsed%20when%20first%20requested.%0D%0A%20*%20@see%20parseHeaders%0D%0A%20*%0D%0A%20*%20@param%20%7B%28string%7CObject%29%7D%20headers%20Headers%20to%20provide%20access%20to.%0D%0A%20*%20@returns%20%7Bfunction%28string%3D%29%7D%20Returns%20a%20getter%20function%20which%20if%20called%20with%3A%0D%0A%20*%0D%0A%20*%20%20%20-%20if%20called%20with%20single%20an%20argument%20returns%20a%20single%20header%20value%20or%20null%0D%0A%20*%20%20%20-%20if%20called%20with%20no%20arguments%20returns%20an%20object%20containing%20all%20headers.%0D%0A%20*/%0D%0Afunction%20headersGetter%28headers%29%20%7B%0D%0A%20%20var%20headersObj%3B%0D%0A%0D%0A%20%20return%20function%28name%29%20%7B%0D%0A%20%20%20%20if%20%28%21headersObj%29%20headersObj%20%3D%20%20parseHeaders%28headers%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28name%29%20%7B%0D%0A%20%20%20%20%20%20var%20value%20%3D%20headersObj%5Blowercase%28name%29%5D%3B%0D%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20void%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20headersObj%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Chain%20all%20given%20functions%0D%0A%20*%0D%0A%20*%20This%20function%20is%20used%20for%20both%20request%20and%20response%20transforming%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20data%20Data%20to%20transform.%0D%0A%20*%20@param%20%7Bfunction%28string%3D%29%7D%20headers%20HTTP%20headers%20getter%20fn.%0D%0A%20*%20@param%20%7Bnumber%7D%20status%20HTTP%20status%20code%20of%20the%20response.%0D%0A%20*%20@param%20%7B%28Function%7CArray.%3CFunction%3E%29%7D%20fns%20Function%20or%20an%20array%20of%20functions.%0D%0A%20*%20@returns%20%7B*%7D%20Transformed%20data.%0D%0A%20*/%0D%0Afunction%20transformData%28data%2C%20headers%2C%20status%2C%20fns%29%20%7B%0D%0A%20%20if%20%28isFunction%28fns%29%29%20%7B%0D%0A%20%20%20%20return%20fns%28data%2C%20headers%2C%20status%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20forEach%28fns%2C%20function%28fn%29%20%7B%0D%0A%20%20%20%20data%20%3D%20fn%28data%2C%20headers%2C%20status%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20return%20data%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20isSuccess%28status%29%20%7B%0D%0A%20%20return%20200%20%3C%3D%20status%20%26%26%20status%20%3C%20300%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24httpProvider%0D%0A%20*%20@description%0D%0A%20*%20Use%20%60%24httpProvider%60%20to%20change%20the%20default%20behavior%20of%20the%20%7B@link%20ng.%24http%20%24http%7D%20service.%0D%0A%20*%20*/%0D%0Afunction%20%24HttpProvider%28%29%20%7B%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20*%20@name%20%24httpProvider%23defaults%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%0D%0A%20%20%20*%20Object%20containing%20default%20values%20for%20all%20%7B@link%20ng.%24http%20%24http%7D%20requests.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20**%60defaults.cache%60**%20-%20%7BObject%7D%20-%20an%20object%20built%20with%20%7B@link%20ng.%24cacheFactory%20%60%24cacheFactory%60%7D%0D%0A%20%20%20*%20that%20will%20provide%20the%20cache%20for%20all%20requests%20who%20set%20their%20%60cache%60%20property%20to%20%60true%60.%0D%0A%20%20%20*%20If%20you%20set%20the%20%60default.cache%20%3D%20false%60%20then%20only%20requests%20that%20specify%20their%20own%20custom%0D%0A%20%20%20*%20cache%20object%20will%20be%20cached.%20See%20%7B@link%20%24http%23caching%20%24http%20Caching%7D%20for%20more%20information.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20**%60defaults.xsrfCookieName%60**%20-%20%7Bstring%7D%20-%20Name%20of%20cookie%20containing%20the%20XSRF%20token.%0D%0A%20%20%20*%20Defaults%20value%20is%20%60%27XSRF-TOKEN%27%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20**%60defaults.xsrfHeaderName%60**%20-%20%7Bstring%7D%20-%20Name%20of%20HTTP%20header%20to%20populate%20with%20the%0D%0A%20%20%20*%20XSRF%20token.%20Defaults%20value%20is%20%60%27X-XSRF-TOKEN%27%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20**%60defaults.headers%60**%20-%20%7BObject%7D%20-%20Default%20headers%20for%20all%20%24http%20requests.%0D%0A%20%20%20*%20Refer%20to%20%7B@link%20ng.%24http%23setting-http-headers%20%24http%7D%20for%20documentation%20on%0D%0A%20%20%20*%20setting%20default%20headers.%0D%0A%20%20%20*%20%20%20%20%20-%20**%60defaults.headers.common%60**%0D%0A%20%20%20*%20%20%20%20%20-%20**%60defaults.headers.post%60**%0D%0A%20%20%20*%20%20%20%20%20-%20**%60defaults.headers.put%60**%0D%0A%20%20%20*%20%20%20%20%20-%20**%60defaults.headers.patch%60**%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20**%60defaults.paramSerializer%60**%20-%20%7Bstring%7Cfunction%28Object%3Cstring%2Cstring%3E%29%3Astring%7D%20-%20A%20function%20used%20to%20prepare%20string%20representation%0D%0A%20%20%20*%20of%20request%20parameters%20%28specified%20as%20an%20object%29.%0D%0A%20%20%20*%20If%20specified%20as%20string%2C%20it%20is%20interpreted%20as%20a%20function%20registered%20with%20the%20%7B@link%20auto.%24injector%20%24injector%7D.%0D%0A%20%20%20*%20Defaults%20to%20%7B@link%20ng.%24httpParamSerializer%20%24httpParamSerializer%7D.%0D%0A%20%20%20*%0D%0A%20%20%20**/%0D%0A%20%20var%20defaults%20%3D%20this.defaults%20%3D%20%7B%0D%0A%20%20%20%20//%20transform%20incoming%20response%20data%0D%0A%20%20%20%20transformResponse%3A%20%5BdefaultHttpResponseTransform%5D%2C%0D%0A%0D%0A%20%20%20%20//%20transform%20outgoing%20request%20data%0D%0A%20%20%20%20transformRequest%3A%20%5Bfunction%28d%29%20%7B%0D%0A%20%20%20%20%20%20return%20isObject%28d%29%20%26%26%20%21isFile%28d%29%20%26%26%20%21isBlob%28d%29%20%26%26%20%21isFormData%28d%29%20%3F%20toJson%28d%29%20%3A%20d%3B%0D%0A%20%20%20%20%7D%5D%2C%0D%0A%0D%0A%20%20%20%20//%20default%20headers%0D%0A%20%20%20%20headers%3A%20%7B%0D%0A%20%20%20%20%20%20common%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%27Accept%27%3A%20%27application/json%2C%20text/plain%2C%20*/*%27%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20post%3A%20%20%20shallowCopy%28CONTENT_TYPE_APPLICATION_JSON%29%2C%0D%0A%20%20%20%20%20%20put%3A%20%20%20%20shallowCopy%28CONTENT_TYPE_APPLICATION_JSON%29%2C%0D%0A%20%20%20%20%20%20patch%3A%20%20shallowCopy%28CONTENT_TYPE_APPLICATION_JSON%29%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20xsrfCookieName%3A%20%27XSRF-TOKEN%27%2C%0D%0A%20%20%20%20xsrfHeaderName%3A%20%27X-XSRF-TOKEN%27%2C%0D%0A%0D%0A%20%20%20%20paramSerializer%3A%20%27%24httpParamSerializer%27%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20useApplyAsync%20%3D%20false%3B%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24httpProvider%23useApplyAsync%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%0D%0A%20%20%20*%20Configure%20%24http%20service%20to%20combine%20processing%20of%20multiple%20http%20responses%20received%20at%20around%0D%0A%20%20%20*%20the%20same%20time%20via%20%7B@link%20ng.%24rootScope.Scope%23%24applyAsync%20%24rootScope.%24applyAsync%7D.%20This%20can%20result%20in%0D%0A%20%20%20*%20significant%20performance%20improvement%20for%20bigger%20applications%20that%20make%20many%20HTTP%20requests%0D%0A%20%20%20*%20concurrently%20%28common%20during%20application%20bootstrap%29.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Defaults%20to%20false.%20If%20no%20value%20is%20specified%2C%20returns%20the%20current%20configured%20value.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20value%20If%20true%2C%20when%20requests%20are%20loaded%2C%20they%20will%20schedule%20a%20deferred%0D%0A%20%20%20*%20%20%20%20%22apply%22%20on%20the%20next%20tick%2C%20giving%20time%20for%20subsequent%20requests%20in%20a%20roughly%20%7E10ms%20window%0D%0A%20%20%20*%20%20%20%20to%20load%20and%20share%20the%20same%20digest%20cycle.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7Bboolean%7CObject%7D%20If%20a%20value%20is%20specified%2C%20returns%20the%20%24httpProvider%20for%20chaining.%0D%0A%20%20%20*%20%20%20%20otherwise%2C%20returns%20the%20current%20configured%20value.%0D%0A%20%20%20**/%0D%0A%20%20this.useApplyAsync%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20useApplyAsync%20%3D%20%21%21value%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20useApplyAsync%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20*%20@name%20%24httpProvider%23interceptors%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%0D%0A%20%20%20*%20Array%20containing%20service%20factories%20for%20all%20synchronous%20or%20asynchronous%20%7B@link%20ng.%24http%20%24http%7D%0D%0A%20%20%20*%20pre-processing%20of%20request%20or%20postprocessing%20of%20responses.%0D%0A%20%20%20*%0D%0A%20%20%20*%20These%20service%20factories%20are%20ordered%20by%20request%2C%20i.e.%20they%20are%20applied%20in%20the%20same%20order%20as%20the%0D%0A%20%20%20*%20array%2C%20on%20request%2C%20but%20reverse%20order%2C%20on%20response.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%7B@link%20ng.%24http%23interceptors%20Interceptors%20detailed%20info%7D%0D%0A%20%20%20**/%0D%0A%20%20var%20interceptorFactories%20%3D%20this.interceptors%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24httpBackend%27%2C%20%27%24%24cookieReader%27%2C%20%27%24cacheFactory%27%2C%20%27%24rootScope%27%2C%20%27%24q%27%2C%20%27%24injector%27%2C%0D%0A%20%20%20%20%20%20function%28%24httpBackend%2C%20%24%24cookieReader%2C%20%24cacheFactory%2C%20%24rootScope%2C%20%24q%2C%20%24injector%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20defaultCache%20%3D%20%24cacheFactory%28%27%24http%27%29%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Make%20sure%20that%20default%20param%20serializer%20is%20exposed%20as%20a%20function%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20defaults.paramSerializer%20%3D%20isString%28defaults.paramSerializer%29%20%3F%0D%0A%20%20%20%20%20%20%24injector.get%28defaults.paramSerializer%29%20%3A%20defaults.paramSerializer%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Interceptors%20stored%20in%20reverse%20order.%20Inner%20interceptors%20before%20outer%20interceptors.%0D%0A%20%20%20%20%20*%20The%20reversal%20is%20needed%20so%20that%20we%20can%20build%20up%20the%20interception%20chain%20around%20the%0D%0A%20%20%20%20%20*%20server%20request.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20var%20reversedInterceptors%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20forEach%28interceptorFactories%2C%20function%28interceptorFactory%29%20%7B%0D%0A%20%20%20%20%20%20reversedInterceptors.unshift%28isString%28interceptorFactory%29%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20%24injector.get%28interceptorFactory%29%20%3A%20%24injector.invoke%28interceptorFactory%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20*%20@name%20%24http%0D%0A%20%20%20%20%20*%20@requires%20ng.%24httpBackend%0D%0A%20%20%20%20%20*%20@requires%20%24cacheFactory%0D%0A%20%20%20%20%20*%20@requires%20%24rootScope%0D%0A%20%20%20%20%20*%20@requires%20%24q%0D%0A%20%20%20%20%20*%20@requires%20%24injector%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20The%20%60%24http%60%20service%20is%20a%20core%20Angular%20service%20that%20facilitates%20communication%20with%20the%20remote%0D%0A%20%20%20%20%20*%20HTTP%20servers%20via%20the%20browser%27s%20%5BXMLHttpRequest%5D%28https%3A//developer.mozilla.org/en/xmlhttprequest%29%0D%0A%20%20%20%20%20*%20object%20or%20via%20%5BJSONP%5D%28http%3A//en.wikipedia.org/wiki/JSONP%29.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20For%20unit%20testing%20applications%20that%20use%20%60%24http%60%20service%2C%20see%0D%0A%20%20%20%20%20*%20%7B@link%20ngMock.%24httpBackend%20%24httpBackend%20mock%7D.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20For%20a%20higher%20level%20of%20abstraction%2C%20please%20check%20out%20the%20%7B@link%20ngResource.%24resource%0D%0A%20%20%20%20%20*%20%24resource%7D%20service.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20%24http%20API%20is%20based%20on%20the%20%7B@link%20ng.%24q%20deferred/promise%20APIs%7D%20exposed%20by%0D%0A%20%20%20%20%20*%20the%20%24q%20service.%20While%20for%20simple%20usage%20patterns%20this%20doesn%27t%20matter%20much%2C%20for%20advanced%20usage%0D%0A%20%20%20%20%20*%20it%20is%20important%20to%20familiarize%20yourself%20with%20these%20APIs%20and%20the%20guarantees%20they%20provide.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20General%20usage%0D%0A%20%20%20%20%20*%20The%20%60%24http%60%20service%20is%20a%20function%20which%20takes%20a%20single%20argument%20%u2014%20a%20configuration%20object%20%u2014%0D%0A%20%20%20%20%20*%20that%20is%20used%20to%20generate%20an%20HTTP%20request%20and%20returns%20%20a%20%7B@link%20ng.%24q%20promise%7D%0D%0A%20%20%20%20%20*%20with%20two%20%24http%20specific%20methods%3A%20%60success%60%20and%20%60error%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20//%20Simple%20GET%20request%20example%20%3A%0D%0A%20%20%20%20%20*%20%20%20%24http.get%28%27/someUrl%27%29.%0D%0A%20%20%20%20%20*%20%20%20%20%20success%28function%28data%2C%20status%2C%20headers%2C%20config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20this%20callback%20will%20be%20called%20asynchronously%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20when%20the%20response%20is%20available%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%29.%0D%0A%20%20%20%20%20*%20%20%20%20%20error%28function%28data%2C%20status%2C%20headers%2C%20config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20called%20asynchronously%20if%20an%20error%20occurs%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20or%20server%20returns%20response%20with%20an%20error%20status.%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20//%20Simple%20POST%20request%20example%20%28passing%20data%29%20%3A%0D%0A%20%20%20%20%20*%20%20%20%24http.post%28%27/someUrl%27%2C%20%7Bmsg%3A%27hello%20word%21%27%7D%29.%0D%0A%20%20%20%20%20*%20%20%20%20%20success%28function%28data%2C%20status%2C%20headers%2C%20config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20this%20callback%20will%20be%20called%20asynchronously%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20when%20the%20response%20is%20available%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%29.%0D%0A%20%20%20%20%20*%20%20%20%20%20error%28function%28data%2C%20status%2C%20headers%2C%20config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20called%20asynchronously%20if%20an%20error%20occurs%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20or%20server%20returns%20response%20with%20an%20error%20status.%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Since%20the%20returned%20value%20of%20calling%20the%20%24http%20function%20is%20a%20%60promise%60%2C%20you%20can%20also%20use%0D%0A%20%20%20%20%20*%20the%20%60then%60%20method%20to%20register%20callbacks%2C%20and%20these%20callbacks%20will%20receive%20a%20single%20argument%20%u2013%0D%0A%20%20%20%20%20*%20an%20object%20representing%20the%20response.%20See%20the%20API%20signature%20and%20type%20info%20below%20for%20more%0D%0A%20%20%20%20%20*%20details.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20A%20response%20status%20code%20between%20200%20and%20299%20is%20considered%20a%20success%20status%20and%0D%0A%20%20%20%20%20*%20will%20result%20in%20the%20success%20callback%20being%20called.%20Note%20that%20if%20the%20response%20is%20a%20redirect%2C%0D%0A%20%20%20%20%20*%20XMLHttpRequest%20will%20transparently%20follow%20it%2C%20meaning%20that%20the%20error%20callback%20will%20not%20be%0D%0A%20%20%20%20%20*%20called%20for%20such%20responses.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Writing%20Unit%20Tests%20that%20use%20%24http%0D%0A%20%20%20%20%20*%20When%20unit%20testing%20%28using%20%7B@link%20ngMock%20ngMock%7D%29%2C%20it%20is%20necessary%20to%20call%0D%0A%20%20%20%20%20*%20%7B@link%20ngMock.%24httpBackend%23flush%20%24httpBackend.flush%28%29%7D%20to%20flush%20each%20pending%0D%0A%20%20%20%20%20*%20request%20using%20trained%20responses.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%20%24httpBackend.expectGET%28...%29%3B%0D%0A%20%20%20%20%20*%20%24http.get%28...%29%3B%0D%0A%20%20%20%20%20*%20%24httpBackend.flush%28%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Shortcut%20methods%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Shortcut%20methods%20are%20also%20available.%20All%20shortcut%20methods%20require%20passing%20in%20the%20URL%2C%20and%0D%0A%20%20%20%20%20*%20request%20data%20must%20be%20passed%20in%20for%20POST/PUT%20requests.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20%24http.get%28%27/someUrl%27%29.success%28successCallback%29%3B%0D%0A%20%20%20%20%20*%20%20%20%24http.post%28%27/someUrl%27%2C%20data%29.success%28successCallback%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Complete%20list%20of%20shortcut%20methods%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23get%20%24http.get%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23head%20%24http.head%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23post%20%24http.post%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23put%20%24http.put%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23delete%20%24http.delete%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23jsonp%20%24http.jsonp%7D%0D%0A%20%20%20%20%20*%20-%20%7B@link%20ng.%24http%23patch%20%24http.patch%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Setting%20HTTP%20Headers%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20%24http%20service%20will%20automatically%20add%20certain%20HTTP%20headers%20to%20all%20requests.%20These%20defaults%0D%0A%20%20%20%20%20*%20can%20be%20fully%20configured%20by%20accessing%20the%20%60%24httpProvider.defaults.headers%60%20configuration%0D%0A%20%20%20%20%20*%20object%2C%20which%20currently%20contains%20this%20default%20configuration%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20-%20%60%24httpProvider.defaults.headers.common%60%20%28headers%20that%20are%20common%20for%20all%20requests%29%3A%0D%0A%20%20%20%20%20*%20%20%20-%20%60Accept%3A%20application/json%2C%20text/plain%2C%20*%20/%20*%60%0D%0A%20%20%20%20%20*%20-%20%60%24httpProvider.defaults.headers.post%60%3A%20%28header%20defaults%20for%20POST%20requests%29%0D%0A%20%20%20%20%20*%20%20%20-%20%60Content-Type%3A%20application/json%60%0D%0A%20%20%20%20%20*%20-%20%60%24httpProvider.defaults.headers.put%60%20%28header%20defaults%20for%20PUT%20requests%29%0D%0A%20%20%20%20%20*%20%20%20-%20%60Content-Type%3A%20application/json%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20To%20add%20or%20overwrite%20these%20defaults%2C%20simply%20add%20or%20remove%20a%20property%20from%20these%20configuration%0D%0A%20%20%20%20%20*%20objects.%20To%20add%20headers%20for%20an%20HTTP%20method%20other%20than%20POST%20or%20PUT%2C%20simply%20add%20a%20new%20object%0D%0A%20%20%20%20%20*%20with%20the%20lowercased%20HTTP%20method%20name%20as%20the%20key%2C%20e.g.%0D%0A%20%20%20%20%20*%20%60%24httpProvider.defaults.headers.get%20%3D%20%7B%20%27My-Header%27%20%3A%20%27value%27%20%7D%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20defaults%20can%20also%20be%20set%20at%20runtime%20via%20the%20%60%24http.defaults%60%20object%20in%20the%20same%0D%0A%20%20%20%20%20*%20fashion.%20For%20example%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%20module.run%28function%28%24http%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%24http.defaults.headers.common.Authorization%20%3D%20%27Basic%20YmVlcDpib29w%27%0D%0A%20%20%20%20%20*%20%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20In%20addition%2C%20you%20can%20supply%20a%20%60headers%60%20property%20in%20the%20config%20object%20passed%20when%0D%0A%20%20%20%20%20*%20calling%20%60%24http%28config%29%60%2C%20which%20overrides%20the%20defaults%20without%20changing%20them%20globally.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20To%20explicitly%20remove%20a%20header%20automatically%20added%20via%20%24httpProvider.defaults.headers%20on%20a%20per%20request%20basis%2C%0D%0A%20%20%20%20%20*%20Use%20the%20%60headers%60%20property%2C%20setting%20the%20desired%20header%20to%20%60undefined%60.%20For%20example%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20var%20req%20%3D%20%7B%0D%0A%20%20%20%20%20*%20%20method%3A%20%27POST%27%2C%0D%0A%20%20%20%20%20*%20%20url%3A%20%27http%3A//example.com%27%2C%0D%0A%20%20%20%20%20*%20%20headers%3A%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%27Content-Type%27%3A%20undefined%0D%0A%20%20%20%20%20*%20%20%7D%2C%0D%0A%20%20%20%20%20*%20%20data%3A%20%7B%20test%3A%20%27test%27%20%7D%0D%0A%20%20%20%20%20*%20%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%24http%28req%29.success%28function%28%29%7B...%7D%29.error%28function%28%29%7B...%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Transforming%20Requests%20and%20Responses%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Both%20requests%20and%20responses%20can%20be%20transformed%20using%20transformation%20functions%3A%20%60transformRequest%60%0D%0A%20%20%20%20%20*%20and%20%60transformResponse%60.%20These%20properties%20can%20be%20a%20single%20function%20that%20returns%0D%0A%20%20%20%20%20*%20the%20transformed%20value%20%28%60function%28data%2C%20headersGetter%2C%20status%29%60%29%20or%20an%20array%20of%20such%20transformation%20functions%2C%0D%0A%20%20%20%20%20*%20which%20allows%20you%20to%20%60push%60%20or%20%60unshift%60%20a%20new%20transformation%20function%20into%20the%20transformation%20chain.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%23%20Default%20Transformations%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20%60%24httpProvider%60%20provider%20and%20%60%24http%60%20service%20expose%20%60defaults.transformRequest%60%20and%0D%0A%20%20%20%20%20*%20%60defaults.transformResponse%60%20properties.%20If%20a%20request%20does%20not%20provide%20its%20own%20transformations%0D%0A%20%20%20%20%20*%20then%20these%20will%20be%20applied.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20You%20can%20augment%20or%20replace%20the%20default%20transformations%20by%20modifying%20these%20properties%20by%20adding%20to%20or%0D%0A%20%20%20%20%20*%20replacing%20the%20array.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Angular%20provides%20the%20following%20default%20transformations%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Request%20transformations%20%28%60%24httpProvider.defaults.transformRequest%60%20and%20%60%24http.defaults.transformRequest%60%29%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20-%20If%20the%20%60data%60%20property%20of%20the%20request%20configuration%20object%20contains%20an%20object%2C%20serialize%20it%0D%0A%20%20%20%20%20*%20%20%20into%20JSON%20format.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Response%20transformations%20%28%60%24httpProvider.defaults.transformResponse%60%20and%20%60%24http.defaults.transformResponse%60%29%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20-%20If%20XSRF%20prefix%20is%20detected%2C%20strip%20it%20%28see%20Security%20Considerations%20section%20below%29.%0D%0A%20%20%20%20%20*%20%20-%20If%20JSON%20response%20is%20detected%2C%20deserialize%20it%20using%20a%20JSON%20parser.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%23%20Overriding%20the%20Default%20Transformations%20Per%20Request%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20If%20you%20wish%20override%20the%20request/response%20transformations%20only%20for%20a%20single%20request%20then%20provide%0D%0A%20%20%20%20%20*%20%60transformRequest%60%20and/or%20%60transformResponse%60%20properties%20on%20the%20configuration%20object%20passed%0D%0A%20%20%20%20%20*%20into%20%60%24http%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Note%20that%20if%20you%20provide%20these%20properties%20on%20the%20config%20object%20the%20default%20transformations%20will%20be%0D%0A%20%20%20%20%20*%20overwritten.%20If%20you%20wish%20to%20augment%20the%20default%20transformations%20then%20you%20must%20include%20them%20in%20your%0D%0A%20%20%20%20%20*%20local%20transformation%20array.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20following%20code%20demonstrates%20adding%20a%20new%20response%20transformation%20to%20be%20run%20after%20the%20default%20response%0D%0A%20%20%20%20%20*%20transformations%20have%20been%20run.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20function%20appendTransform%28defaults%2C%20transform%29%20%7B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20//%20We%20can%27t%20guarantee%20that%20the%20default%20transformation%20is%20an%20array%0D%0A%20%20%20%20%20*%20%20%20defaults%20%3D%20angular.isArray%28defaults%29%20%3F%20defaults%20%3A%20%5Bdefaults%5D%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20//%20Append%20the%20new%20transformation%20to%20the%20defaults%0D%0A%20%20%20%20%20*%20%20%20return%20defaults.concat%28transform%29%3B%0D%0A%20%20%20%20%20*%20%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%24http%28%7B%0D%0A%20%20%20%20%20*%20%20%20url%3A%20%27...%27%2C%0D%0A%20%20%20%20%20*%20%20%20method%3A%20%27GET%27%2C%0D%0A%20%20%20%20%20*%20%20%20transformResponse%3A%20appendTransform%28%24http.defaults.transformResponse%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20doTransform%28value%29%3B%0D%0A%20%20%20%20%20*%20%20%20%7D%29%0D%0A%20%20%20%20%20*%20%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Caching%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20To%20enable%20caching%2C%20set%20the%20request%20configuration%20%60cache%60%20property%20to%20%60true%60%20%28to%20use%20default%0D%0A%20%20%20%20%20*%20cache%29%20or%20to%20a%20custom%20cache%20object%20%28built%20with%20%7B@link%20ng.%24cacheFactory%20%60%24cacheFactory%60%7D%29.%0D%0A%20%20%20%20%20*%20When%20the%20cache%20is%20enabled%2C%20%60%24http%60%20stores%20the%20response%20from%20the%20server%20in%20the%20specified%0D%0A%20%20%20%20%20*%20cache.%20The%20next%20time%20the%20same%20request%20is%20made%2C%20the%20response%20is%20served%20from%20the%20cache%20without%0D%0A%20%20%20%20%20*%20sending%20a%20request%20to%20the%20server.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Note%20that%20even%20if%20the%20response%20is%20served%20from%20cache%2C%20delivery%20of%20the%20data%20is%20asynchronous%20in%0D%0A%20%20%20%20%20*%20the%20same%20way%20that%20real%20requests%20are.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20If%20there%20are%20multiple%20GET%20requests%20for%20the%20same%20URL%20that%20should%20be%20cached%20using%20the%20same%0D%0A%20%20%20%20%20*%20cache%2C%20but%20the%20cache%20is%20not%20populated%20yet%2C%20only%20one%20request%20to%20the%20server%20will%20be%20made%20and%0D%0A%20%20%20%20%20*%20the%20remaining%20requests%20will%20be%20fulfilled%20using%20the%20response%20from%20the%20first%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20You%20can%20change%20the%20default%20cache%20to%20a%20new%20object%20%28built%20with%0D%0A%20%20%20%20%20*%20%7B@link%20ng.%24cacheFactory%20%60%24cacheFactory%60%7D%29%20by%20updating%20the%0D%0A%20%20%20%20%20*%20%7B@link%20ng.%24http%23defaults%20%60%24http.defaults.cache%60%7D%20property.%20All%20requests%20who%20set%0D%0A%20%20%20%20%20*%20their%20%60cache%60%20property%20to%20%60true%60%20will%20now%20use%20this%20cache%20object.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20If%20you%20set%20the%20default%20cache%20to%20%60false%60%20then%20only%20requests%20that%20specify%20their%20own%20custom%0D%0A%20%20%20%20%20*%20cache%20object%20will%20be%20cached.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Interceptors%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Before%20you%20start%20creating%20interceptors%2C%20be%20sure%20to%20understand%20the%0D%0A%20%20%20%20%20*%20%7B@link%20ng.%24q%20%24q%20and%20deferred/promise%20APIs%7D.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20For%20purposes%20of%20global%20error%20handling%2C%20authentication%2C%20or%20any%20kind%20of%20synchronous%20or%0D%0A%20%20%20%20%20*%20asynchronous%20pre-processing%20of%20request%20or%20postprocessing%20of%20responses%2C%20it%20is%20desirable%20to%20be%0D%0A%20%20%20%20%20*%20able%20to%20intercept%20requests%20before%20they%20are%20handed%20to%20the%20server%20and%0D%0A%20%20%20%20%20*%20responses%20before%20they%20are%20handed%20over%20to%20the%20application%20code%20that%0D%0A%20%20%20%20%20*%20initiated%20these%20requests.%20The%20interceptors%20leverage%20the%20%7B@link%20ng.%24q%0D%0A%20%20%20%20%20*%20promise%20APIs%7D%20to%20fulfill%20this%20need%20for%20both%20synchronous%20and%20asynchronous%20pre-processing.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20interceptors%20are%20service%20factories%20that%20are%20registered%20with%20the%20%60%24httpProvider%60%20by%0D%0A%20%20%20%20%20*%20adding%20them%20to%20the%20%60%24httpProvider.interceptors%60%20array.%20The%20factory%20is%20called%20and%0D%0A%20%20%20%20%20*%20injected%20with%20dependencies%20%28if%20specified%29%20and%20returns%20the%20interceptor.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20There%20are%20two%20kinds%20of%20interceptors%20%28and%20two%20kinds%20of%20rejection%20interceptors%29%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20*%20%60request%60%3A%20interceptors%20get%20called%20with%20a%20http%20%60config%60%20object.%20The%20function%20is%20free%20to%0D%0A%20%20%20%20%20*%20%20%20%20%20modify%20the%20%60config%60%20object%20or%20create%20a%20new%20one.%20The%20function%20needs%20to%20return%20the%20%60config%60%0D%0A%20%20%20%20%20*%20%20%20%20%20object%20directly%2C%20or%20a%20promise%20containing%20the%20%60config%60%20or%20a%20new%20%60config%60%20object.%0D%0A%20%20%20%20%20*%20%20%20*%20%60requestError%60%3A%20interceptor%20gets%20called%20when%20a%20previous%20interceptor%20threw%20an%20error%20or%0D%0A%20%20%20%20%20*%20%20%20%20%20resolved%20with%20a%20rejection.%0D%0A%20%20%20%20%20*%20%20%20*%20%60response%60%3A%20interceptors%20get%20called%20with%20http%20%60response%60%20object.%20The%20function%20is%20free%20to%0D%0A%20%20%20%20%20*%20%20%20%20%20modify%20the%20%60response%60%20object%20or%20create%20a%20new%20one.%20The%20function%20needs%20to%20return%20the%20%60response%60%0D%0A%20%20%20%20%20*%20%20%20%20%20object%20directly%2C%20or%20as%20a%20promise%20containing%20the%20%60response%60%20or%20a%20new%20%60response%60%20object.%0D%0A%20%20%20%20%20*%20%20%20*%20%60responseError%60%3A%20interceptor%20gets%20called%20when%20a%20previous%20interceptor%20threw%20an%20error%20or%0D%0A%20%20%20%20%20*%20%20%20%20%20resolved%20with%20a%20rejection.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20//%20register%20the%20interceptor%20as%20a%20service%0D%0A%20%20%20%20%20*%20%20%20%24provide.factory%28%27myHttpInterceptor%27%2C%20function%28%24q%2C%20dependency1%2C%20dependency2%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20optional%20method%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%27request%27%3A%20function%28config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20//%20do%20something%20on%20success%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20return%20config%3B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20optional%20method%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%27requestError%27%3A%20function%28rejection%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20//%20do%20something%20on%20error%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20if%20%28canRecover%28rejection%29%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20return%20responseOrNewPromise%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20return%20%24q.reject%28rejection%29%3B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20optional%20method%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%27response%27%3A%20function%28response%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20//%20do%20something%20on%20success%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20return%20response%3B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20//%20optional%20method%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%27responseError%27%3A%20function%28rejection%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20//%20do%20something%20on%20error%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20if%20%28canRecover%28rejection%29%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20return%20responseOrNewPromise%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20return%20%24q.reject%28rejection%29%3B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20*%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%24httpProvider.interceptors.push%28%27myHttpInterceptor%27%29%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20//%20alternatively%2C%20register%20the%20interceptor%20via%20an%20anonymous%20factory%0D%0A%20%20%20%20%20*%20%20%20%24httpProvider.interceptors.push%28function%28%24q%2C%20dependency1%2C%20dependency2%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%27request%27%3A%20function%28config%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20//%20same%20as%20above%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%27response%27%3A%20function%28response%29%20%7B%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20//%20same%20as%20above%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20*%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%20Security%20Considerations%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20When%20designing%20web%20applications%2C%20consider%20security%20threats%20from%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20-%20%5BJSON%20vulnerability%5D%28http%3A//haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx%29%0D%0A%20%20%20%20%20*%20-%20%5BXSRF%5D%28http%3A//en.wikipedia.org/wiki/Cross-site_request_forgery%29%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Both%20server%20and%20the%20client%20must%20cooperate%20in%20order%20to%20eliminate%20these%20threats.%20Angular%20comes%0D%0A%20%20%20%20%20*%20pre-configured%20with%20strategies%20that%20address%20these%20issues%2C%20but%20for%20this%20to%20work%20backend%20server%0D%0A%20%20%20%20%20*%20cooperation%20is%20required.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%23%20JSON%20Vulnerability%20Protection%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20A%20%5BJSON%20vulnerability%5D%28http%3A//haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx%29%0D%0A%20%20%20%20%20*%20allows%20third%20party%20website%20to%20turn%20your%20JSON%20resource%20URL%20into%0D%0A%20%20%20%20%20*%20%5BJSONP%5D%28http%3A//en.wikipedia.org/wiki/JSONP%29%20request%20under%20some%20conditions.%20To%0D%0A%20%20%20%20%20*%20counter%20this%20your%20server%20can%20prefix%20all%20JSON%20requests%20with%20following%20string%20%60%22%29%5D%7D%27%2C%5Cn%22%60.%0D%0A%20%20%20%20%20*%20Angular%20will%20automatically%20strip%20the%20prefix%20before%20processing%20it%20as%20JSON.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20For%20example%20if%20your%20server%20needs%20to%20return%3A%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%5B%27one%27%2C%27two%27%5D%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20which%20is%20vulnerable%20to%20attack%2C%20your%20server%20can%20return%3A%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%29%5D%7D%27%2C%0D%0A%20%20%20%20%20*%20%5B%27one%27%2C%27two%27%5D%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Angular%20will%20strip%20the%20prefix%2C%20before%20processing%20the%20JSON.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%23%20Cross%20Site%20Request%20Forgery%20%28XSRF%29%20Protection%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%5BXSRF%5D%28http%3A//en.wikipedia.org/wiki/Cross-site_request_forgery%29%20is%20a%20technique%20by%20which%0D%0A%20%20%20%20%20*%20an%20unauthorized%20site%20can%20gain%20your%20user%27s%20private%20data.%20Angular%20provides%20a%20mechanism%0D%0A%20%20%20%20%20*%20to%20counter%20XSRF.%20When%20performing%20XHR%20requests%2C%20the%20%24http%20service%20reads%20a%20token%20from%20a%20cookie%0D%0A%20%20%20%20%20*%20%28by%20default%2C%20%60XSRF-TOKEN%60%29%20and%20sets%20it%20as%20an%20HTTP%20header%20%28%60X-XSRF-TOKEN%60%29.%20Since%20only%0D%0A%20%20%20%20%20*%20JavaScript%20that%20runs%20on%20your%20domain%20could%20read%20the%20cookie%2C%20your%20server%20can%20be%20assured%20that%0D%0A%20%20%20%20%20*%20the%20XHR%20came%20from%20JavaScript%20running%20on%20your%20domain.%20The%20header%20will%20not%20be%20set%20for%0D%0A%20%20%20%20%20*%20cross-domain%20requests.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20To%20take%20advantage%20of%20this%2C%20your%20server%20needs%20to%20set%20a%20token%20in%20a%20JavaScript%20readable%20session%0D%0A%20%20%20%20%20*%20cookie%20called%20%60XSRF-TOKEN%60%20on%20the%20first%20HTTP%20GET%20request.%20On%20subsequent%20XHR%20requests%20the%0D%0A%20%20%20%20%20*%20server%20can%20verify%20that%20the%20cookie%20matches%20%60X-XSRF-TOKEN%60%20HTTP%20header%2C%20and%20therefore%20be%20sure%0D%0A%20%20%20%20%20*%20that%20only%20JavaScript%20running%20on%20your%20domain%20could%20have%20sent%20the%20request.%20The%20token%20must%20be%0D%0A%20%20%20%20%20*%20unique%20for%20each%20user%20and%20must%20be%20verifiable%20by%20the%20server%20%28to%20prevent%20the%20JavaScript%20from%0D%0A%20%20%20%20%20*%20making%20up%20its%20own%20tokens%29.%20We%20recommend%20that%20the%20token%20is%20a%20digest%20of%20your%20site%27s%0D%0A%20%20%20%20%20*%20authentication%20cookie%20with%20a%20%5Bsalt%5D%28https%3A//en.wikipedia.org/wiki/Salt_%28cryptography%26%2341%3B%29%0D%0A%20%20%20%20%20*%20for%20added%20security.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20name%20of%20the%20headers%20can%20be%20specified%20using%20the%20xsrfHeaderName%20and%20xsrfCookieName%0D%0A%20%20%20%20%20*%20properties%20of%20either%20%24httpProvider.defaults%20at%20config-time%2C%20%24http.defaults%20at%20run-time%2C%0D%0A%20%20%20%20%20*%20or%20the%20per-request%20config%20object.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bobject%7D%20config%20Object%20describing%20the%20request%20to%20be%20made%20and%20how%20it%20should%20be%0D%0A%20%20%20%20%20*%20%20%20%20processed.%20The%20object%20has%20following%20properties%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20-%20**method**%20%u2013%20%60%7Bstring%7D%60%20%u2013%20HTTP%20method%20%28e.g.%20%27GET%27%2C%20%27POST%27%2C%20etc%29%0D%0A%20%20%20%20%20*%20%20%20%20-%20**url**%20%u2013%20%60%7Bstring%7D%60%20%u2013%20Absolute%20or%20relative%20URL%20of%20the%20resource%20that%20is%20being%20requested.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**params**%20%u2013%20%60%7BObject.%3Cstring%7CObject%3E%7D%60%20%u2013%20Map%20of%20strings%20or%20objects%20which%20will%20be%20turned%0D%0A%20%20%20%20%20*%20%20%20%20%20%20to%20%60%3Fkey1%3Dvalue1%26key2%3Dvalue2%60%20after%20the%20url.%20If%20the%20value%20is%20not%20a%20string%2C%20it%20will%20be%0D%0A%20%20%20%20%20*%20%20%20%20%20%20JSONified.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**data**%20%u2013%20%60%7Bstring%7CObject%7D%60%20%u2013%20Data%20to%20be%20sent%20as%20the%20request%20message%20data.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**headers**%20%u2013%20%60%7BObject%7D%60%20%u2013%20Map%20of%20strings%20or%20functions%20which%20return%20strings%20representing%0D%0A%20%20%20%20%20*%20%20%20%20%20%20HTTP%20headers%20to%20send%20to%20the%20server.%20If%20the%20return%20value%20of%20a%20function%20is%20null%2C%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20header%20will%20not%20be%20sent.%20Functions%20accept%20a%20config%20object%20as%20an%20argument.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**xsrfHeaderName**%20%u2013%20%60%7Bstring%7D%60%20%u2013%20Name%20of%20HTTP%20header%20to%20populate%20with%20the%20XSRF%20token.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**xsrfCookieName**%20%u2013%20%60%7Bstring%7D%60%20%u2013%20Name%20of%20cookie%20containing%20the%20XSRF%20token.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**transformRequest**%20%u2013%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60%7Bfunction%28data%2C%20headersGetter%29%7CArray.%3Cfunction%28data%2C%20headersGetter%29%3E%7D%60%20%u2013%0D%0A%20%20%20%20%20*%20%20%20%20%20%20transform%20function%20or%20an%20array%20of%20such%20functions.%20The%20transform%20function%20takes%20the%20http%0D%0A%20%20%20%20%20*%20%20%20%20%20%20request%20body%20and%20headers%20and%20returns%20its%20transformed%20%28typically%20serialized%29%20version.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20See%20%7B@link%20ng.%24http%23overriding-the-default-transformations-per-request%0D%0A%20%20%20%20%20*%20%20%20%20%20%20Overriding%20the%20Default%20Transformations%7D%0D%0A%20%20%20%20%20*%20%20%20%20-%20**transformResponse**%20%u2013%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60%7Bfunction%28data%2C%20headersGetter%2C%20status%29%7CArray.%3Cfunction%28data%2C%20headersGetter%2C%20status%29%3E%7D%60%20%u2013%0D%0A%20%20%20%20%20*%20%20%20%20%20%20transform%20function%20or%20an%20array%20of%20such%20functions.%20The%20transform%20function%20takes%20the%20http%0D%0A%20%20%20%20%20*%20%20%20%20%20%20response%20body%2C%20headers%20and%20status%20and%20returns%20its%20transformed%20%28typically%20deserialized%29%20version.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20See%20%7B@link%20ng.%24http%23overriding-the-default-transformations-per-request%0D%0A%20%20%20%20%20*%20%20%20%20%20%20Overriding%20the%20Default%20Transformations%7D%0D%0A%20%20%20%20%20*%20%20%20%20-%20**paramSerializer**%20-%20%7Bstring%7Cfunction%28Object%3Cstring%2Cstring%3E%29%3Astring%7D%20-%20A%20function%20used%20to%20prepare%20string%20representation%0D%0A%20%20%20%20%20*%20%20%20%20%20%20of%20request%20parameters%20%28specified%20as%20an%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20Is%20specified%20as%20string%2C%20it%20is%20interpreted%20as%20function%20registered%20in%20with%20the%20%7B%24injector%7D.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**cache**%20%u2013%20%60%7Bboolean%7CCache%7D%60%20%u2013%20If%20true%2C%20a%20default%20%24http%20cache%20will%20be%20used%20to%20cache%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20GET%20request%2C%20otherwise%20if%20a%20cache%20instance%20built%20with%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%7B@link%20ng.%24cacheFactory%20%24cacheFactory%7D%2C%20this%20cache%20will%20be%20used%20for%0D%0A%20%20%20%20%20*%20%20%20%20%20%20caching.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**timeout**%20%u2013%20%60%7Bnumber%7CPromise%7D%60%20%u2013%20timeout%20in%20milliseconds%2C%20or%20%7B@link%20ng.%24q%20promise%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20that%20should%20abort%20the%20request%20when%20resolved.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**withCredentials**%20-%20%60%7Bboolean%7D%60%20-%20whether%20to%20set%20the%20%60withCredentials%60%20flag%20on%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20XHR%20object.%20See%20%5Brequests%20with%20credentials%5D%28https%3A//developer.mozilla.org/docs/Web/HTTP/Access_control_CORS%23Requests_with_credentials%29%0D%0A%20%20%20%20%20*%20%20%20%20%20%20for%20more%20information.%0D%0A%20%20%20%20%20*%20%20%20%20-%20**responseType**%20-%20%60%7Bstring%7D%60%20-%20see%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%5BrequestType%5D%28https%3A//developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest%23responseType%29.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Returns%20a%20%7B@link%20ng.%24q%20promise%7D%20object%20with%20the%0D%0A%20%20%20%20%20*%20%20%20standard%20%60then%60%20method%20and%20two%20http%20specific%20methods%3A%20%60success%60%20and%20%60error%60.%20The%20%60then%60%0D%0A%20%20%20%20%20*%20%20%20method%20takes%20two%20arguments%20a%20success%20and%20an%20error%20callback%20which%20will%20be%20called%20with%20a%0D%0A%20%20%20%20%20*%20%20%20response%20object.%20The%20%60success%60%20and%20%60error%60%20methods%20take%20a%20single%20argument%20-%20a%20function%20that%0D%0A%20%20%20%20%20*%20%20%20will%20be%20called%20when%20the%20request%20succeeds%20or%20fails%20respectively.%20The%20arguments%20passed%20into%0D%0A%20%20%20%20%20*%20%20%20these%20functions%20are%20destructured%20representation%20of%20the%20response%20object%20passed%20into%20the%0D%0A%20%20%20%20%20*%20%20%20%60then%60%20method.%20The%20response%20object%20has%20these%20properties%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20-%20**data**%20%u2013%20%60%7Bstring%7CObject%7D%60%20%u2013%20The%20response%20body%20transformed%20with%20the%20transform%0D%0A%20%20%20%20%20*%20%20%20%20%20functions.%0D%0A%20%20%20%20%20*%20%20%20-%20**status**%20%u2013%20%60%7Bnumber%7D%60%20%u2013%20HTTP%20status%20code%20of%20the%20response.%0D%0A%20%20%20%20%20*%20%20%20-%20**headers**%20%u2013%20%60%7Bfunction%28%5BheaderName%5D%29%7D%60%20%u2013%20Header%20getter%20function.%0D%0A%20%20%20%20%20*%20%20%20-%20**config**%20%u2013%20%60%7BObject%7D%60%20%u2013%20The%20configuration%20object%20that%20was%20used%20to%20generate%20the%20request.%0D%0A%20%20%20%20%20*%20%20%20-%20**statusText**%20%u2013%20%60%7Bstring%7D%60%20%u2013%20HTTP%20status%20text%20of%20the%20response.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@property%20%7BArray.%3CObject%3E%7D%20pendingRequests%20Array%20of%20config%20objects%20for%20currently%20pending%0D%0A%20%20%20%20%20*%20%20%20requests.%20This%20is%20primarily%20meant%20to%20be%20used%20for%20debugging%20purposes.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@example%0D%0A%3Cexample%20module%3D%22httpExample%22%3E%0D%0A%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%3Cdiv%20ng-controller%3D%22FetchController%22%3E%0D%0A%20%20%20%20%3Cselect%20ng-model%3D%22method%22%20aria-label%3D%22Request%20method%22%3E%0D%0A%20%20%20%20%20%20%3Coption%3EGET%3C/option%3E%0D%0A%20%20%20%20%20%20%3Coption%3EJSONP%3C/option%3E%0D%0A%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22url%22%20size%3D%2280%22%20aria-label%3D%22URL%22%20/%3E%0D%0A%20%20%20%20%3Cbutton%20id%3D%22fetchbtn%22%20ng-click%3D%22fetch%28%29%22%3Efetch%3C/button%3E%3Cbr%3E%0D%0A%20%20%20%20%3Cbutton%20id%3D%22samplegetbtn%22%20ng-click%3D%22updateModel%28%27GET%27%2C%20%27http-hello.html%27%29%22%3ESample%20GET%3C/button%3E%0D%0A%20%20%20%20%3Cbutton%20id%3D%22samplejsonpbtn%22%0D%0A%20%20%20%20%20%20ng-click%3D%22updateModel%28%27JSONP%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27https%3A//angularjs.org/greet.php%3Fcallback%3DJSON_CALLBACK%26name%3DSuper%2520Hero%27%29%22%3E%0D%0A%20%20%20%20%20%20Sample%20JSONP%0D%0A%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%3Cbutton%20id%3D%22invalidjsonpbtn%22%0D%0A%20%20%20%20%20%20ng-click%3D%22updateModel%28%27JSONP%27%2C%20%27https%3A//angularjs.org/doesntexist%26callback%3DJSON_CALLBACK%27%29%22%3E%0D%0A%20%20%20%20%20%20%20%20Invalid%20JSONP%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%3Cpre%3Ehttp%20status%20code%3A%20%7B%7Bstatus%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%3Cpre%3Ehttp%20response%20data%3A%20%7B%7Bdata%7D%7D%3C/pre%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/file%3E%0D%0A%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20angular.module%28%27httpExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20.controller%28%27FetchController%27%2C%20%5B%27%24scope%27%2C%20%27%24http%27%2C%20%27%24templateCache%27%2C%0D%0A%20%20%20%20%20%20function%28%24scope%2C%20%24http%2C%20%24templateCache%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24scope.method%20%3D%20%27GET%27%3B%0D%0A%20%20%20%20%20%20%20%20%24scope.url%20%3D%20%27http-hello.html%27%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24scope.fetch%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.code%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.response%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%24http%28%7Bmethod%3A%20%24scope.method%2C%20url%3A%20%24scope.url%2C%20cache%3A%20%24templateCache%7D%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20success%28function%28data%2C%20status%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.status%20%3D%20status%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.data%20%3D%20data%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20error%28function%28data%2C%20status%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.data%20%3D%20data%20%7C%7C%20%22Request%20failed%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.status%20%3D%20status%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24scope.updateModel%20%3D%20function%28method%2C%20url%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.method%20%3D%20method%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.url%20%3D%20url%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%3C/file%3E%0D%0A%3Cfile%20name%3D%22http-hello.html%22%3E%0D%0A%20%20Hello%2C%20%24http%21%0D%0A%3C/file%3E%0D%0A%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20var%20status%20%3D%20element%28by.binding%28%27status%27%29%29%3B%0D%0A%20%20var%20data%20%3D%20element%28by.binding%28%27data%27%29%29%3B%0D%0A%20%20var%20fetchBtn%20%3D%20element%28by.id%28%27fetchbtn%27%29%29%3B%0D%0A%20%20var%20sampleGetBtn%20%3D%20element%28by.id%28%27samplegetbtn%27%29%29%3B%0D%0A%20%20var%20sampleJsonpBtn%20%3D%20element%28by.id%28%27samplejsonpbtn%27%29%29%3B%0D%0A%20%20var%20invalidJsonpBtn%20%3D%20element%28by.id%28%27invalidjsonpbtn%27%29%29%3B%0D%0A%0D%0A%20%20it%28%27should%20make%20an%20xhr%20GET%20request%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20sampleGetBtn.click%28%29%3B%0D%0A%20%20%20%20fetchBtn.click%28%29%3B%0D%0A%20%20%20%20expect%28status.getText%28%29%29.toMatch%28%27200%27%29%3B%0D%0A%20%20%20%20expect%28data.getText%28%29%29.toMatch%28/Hello%2C%20%5C%24http%21/%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A//%20Commented%20out%20due%20to%20flakes.%20See%20https%3A//github.com/angular/angular.js/issues/9185%0D%0A//%20it%28%27should%20make%20a%20JSONP%20request%20to%20angularjs.org%27%2C%20function%28%29%20%7B%0D%0A//%20%20%20sampleJsonpBtn.click%28%29%3B%0D%0A//%20%20%20fetchBtn.click%28%29%3B%0D%0A//%20%20%20expect%28status.getText%28%29%29.toMatch%28%27200%27%29%3B%0D%0A//%20%20%20expect%28data.getText%28%29%29.toMatch%28/Super%20Hero%21/%29%3B%0D%0A//%20%7D%29%3B%0D%0A%0D%0A%20%20it%28%27should%20make%20JSONP%20request%20to%20invalid%20URL%20and%20invoke%20the%20error%20handler%27%2C%0D%0A%20%20%20%20%20%20function%28%29%20%7B%0D%0A%20%20%20%20invalidJsonpBtn.click%28%29%3B%0D%0A%20%20%20%20fetchBtn.click%28%29%3B%0D%0A%20%20%20%20expect%28status.getText%28%29%29.toMatch%28%270%27%29%3B%0D%0A%20%20%20%20expect%28data.getText%28%29%29.toMatch%28%27Request%20failed%27%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%3C/file%3E%0D%0A%3C/example%3E%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20%24http%28requestConfig%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21angular.isObject%28requestConfig%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20minErr%28%27%24http%27%29%28%27badreq%27%2C%20%27Http%20request%20configuration%20must%20be%20an%20object.%20%20Received%3A%20%7B0%7D%27%2C%20requestConfig%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20config%20%3D%20extend%28%7B%0D%0A%20%20%20%20%20%20%20%20method%3A%20%27get%27%2C%0D%0A%20%20%20%20%20%20%20%20transformRequest%3A%20defaults.transformRequest%2C%0D%0A%20%20%20%20%20%20%20%20transformResponse%3A%20defaults.transformResponse%2C%0D%0A%20%20%20%20%20%20%20%20paramSerializer%3A%20defaults.paramSerializer%0D%0A%20%20%20%20%20%20%7D%2C%20requestConfig%29%3B%0D%0A%0D%0A%20%20%20%20%20%20config.headers%20%3D%20mergeHeaders%28requestConfig%29%3B%0D%0A%20%20%20%20%20%20config.method%20%3D%20uppercase%28config.method%29%3B%0D%0A%20%20%20%20%20%20config.paramSerializer%20%3D%20isString%28config.paramSerializer%29%20%3F%0D%0A%20%20%20%20%20%20%20%20%24injector.get%28config.paramSerializer%29%20%3A%20config.paramSerializer%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20serverRequest%20%3D%20function%28config%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20headers%20%3D%20config.headers%3B%0D%0A%20%20%20%20%20%20%20%20var%20reqData%20%3D%20transformData%28config.data%2C%20headersGetter%28headers%29%2C%20undefined%2C%20config.transformRequest%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20strip%20content-type%20if%20data%20is%20undefined%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28reqData%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28headers%2C%20function%28value%2C%20header%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lowercase%28header%29%20%3D%3D%3D%20%27content-type%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20headers%5Bheader%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28config.withCredentials%29%20%26%26%20%21isUndefined%28defaults.withCredentials%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20config.withCredentials%20%3D%20defaults.withCredentials%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20send%20request%0D%0A%20%20%20%20%20%20%20%20return%20sendReq%28config%2C%20reqData%29.then%28transformResponse%2C%20transformResponse%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20chain%20%3D%20%5BserverRequest%2C%20undefined%5D%3B%0D%0A%20%20%20%20%20%20var%20promise%20%3D%20%24q.when%28config%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20apply%20interceptors%0D%0A%20%20%20%20%20%20forEach%28reversedInterceptors%2C%20function%28interceptor%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28interceptor.request%20%7C%7C%20interceptor.requestError%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20chain.unshift%28interceptor.request%2C%20interceptor.requestError%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28interceptor.response%20%7C%7C%20interceptor.responseError%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20chain.push%28interceptor.response%2C%20interceptor.responseError%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20while%20%28chain.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20thenFn%20%3D%20chain.shift%28%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20rejectFn%20%3D%20chain.shift%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20promise%20%3D%20promise.then%28thenFn%2C%20rejectFn%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20promise.success%20%3D%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20assertArgFn%28fn%2C%20%27fn%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20promise.then%28function%28response%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fn%28response.data%2C%20response.status%2C%20response.headers%2C%20config%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20promise%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20promise.error%20%3D%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20assertArgFn%28fn%2C%20%27fn%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20promise.then%28null%2C%20function%28response%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fn%28response.data%2C%20response.status%2C%20response.headers%2C%20config%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20promise%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20promise%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20transformResponse%28response%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20make%20a%20copy%20since%20the%20response%20must%20be%20cacheable%0D%0A%20%20%20%20%20%20%20%20var%20resp%20%3D%20extend%28%7B%7D%2C%20response%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21response.data%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20resp.data%20%3D%20response.data%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20resp.data%20%3D%20transformData%28response.data%2C%20response.headers%2C%20response.status%2C%20config.transformResponse%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20%28isSuccess%28response.status%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20resp%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20%24q.reject%28resp%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20executeHeaderFns%28headers%2C%20config%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20headerContent%2C%20processedHeaders%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20forEach%28headers%2C%20function%28headerFn%2C%20header%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isFunction%28headerFn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20headerContent%20%3D%20headerFn%28config%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28headerContent%20%21%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20processedHeaders%5Bheader%5D%20%3D%20headerContent%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20processedHeaders%5Bheader%5D%20%3D%20headerFn%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20processedHeaders%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20mergeHeaders%28config%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20defHeaders%20%3D%20defaults.headers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20reqHeaders%20%3D%20extend%28%7B%7D%2C%20config.headers%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20defHeaderName%2C%20lowercaseDefHeaderName%2C%20reqHeaderName%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20defHeaders%20%3D%20extend%28%7B%7D%2C%20defHeaders.common%2C%20defHeaders%5Blowercase%28config.method%29%5D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20using%20for-in%20instead%20of%20forEach%20to%20avoid%20unecessary%20iteration%20after%20header%20has%20been%20found%0D%0A%20%20%20%20%20%20%20%20defaultHeadersIteration%3A%0D%0A%20%20%20%20%20%20%20%20for%20%28defHeaderName%20in%20defHeaders%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20lowercaseDefHeaderName%20%3D%20lowercase%28defHeaderName%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28reqHeaderName%20in%20reqHeaders%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lowercase%28reqHeaderName%29%20%3D%3D%3D%20lowercaseDefHeaderName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%20defaultHeadersIteration%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20reqHeaders%5BdefHeaderName%5D%20%3D%20defHeaders%5BdefHeaderName%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20execute%20if%20header%20value%20is%20a%20function%20for%20merged%20headers%0D%0A%20%20%20%20%20%20%20%20return%20executeHeaderFns%28reqHeaders%2C%20shallowCopy%28config%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%24http.pendingRequests%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23get%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60GET%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23delete%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60DELETE%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23head%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60HEAD%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23jsonp%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60JSONP%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20The%20name%20of%20the%20callback%20should%20be%20the%20string%20%60JSON_CALLBACK%60.%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20createShortMethods%28%27get%27%2C%20%27delete%27%2C%20%27head%27%2C%20%27jsonp%27%29%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23post%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60POST%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20data%20Request%20content%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24http%23put%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60PUT%60%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20data%20Request%20content%0D%0A%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20*%20@name%20%24http%23patch%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Shortcut%20method%20to%20perform%20%60PATCH%60%20request.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20Relative%20or%20absolute%20URL%20specifying%20the%20destination%20of%20the%20request%0D%0A%20%20%20%20%20%20*%20@param%20%7B*%7D%20data%20Request%20content%0D%0A%20%20%20%20%20%20*%20@param%20%7BObject%3D%7D%20config%20Optional%20configuration%20object%0D%0A%20%20%20%20%20%20*%20@returns%20%7BHttpPromise%7D%20Future%20object%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20createShortMethodsWithData%28%27post%27%2C%20%27put%27%2C%20%27patch%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20%20%20%20%20*%20@name%20%24http%23defaults%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20%20%20*%20Runtime%20equivalent%20of%20the%20%60%24httpProvider.defaults%60%20property.%20Allows%20configuration%20of%0D%0A%20%20%20%20%20%20%20%20%20*%20default%20headers%2C%20withCredentials%20as%20well%20as%20request%20and%20response%20transformations.%0D%0A%20%20%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20%20%20*%20See%20%22Setting%20HTTP%20Headers%22%20and%20%22Transforming%20Requests%20and%20Responses%22%20sections%20above.%0D%0A%20%20%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%24http.defaults%20%3D%20defaults%3B%0D%0A%0D%0A%0D%0A%20%20%20%20return%20%24http%3B%0D%0A%0D%0A%0D%0A%20%20%20%20function%20createShortMethods%28names%29%20%7B%0D%0A%20%20%20%20%20%20forEach%28arguments%2C%20function%28name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24http%5Bname%5D%20%3D%20function%28url%2C%20config%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%24http%28extend%28%7B%7D%2C%20config%20%7C%7C%20%7B%7D%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20url%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20createShortMethodsWithData%28name%29%20%7B%0D%0A%20%20%20%20%20%20forEach%28arguments%2C%20function%28name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24http%5Bname%5D%20%3D%20function%28url%2C%20data%2C%20config%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%24http%28extend%28%7B%7D%2C%20config%20%7C%7C%20%7B%7D%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20url%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20data%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20Makes%20the%20request.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%21%21%21%20ACCESSES%20CLOSURE%20VARS%3A%0D%0A%20%20%20%20%20*%20%24httpBackend%2C%20defaults%2C%20%24log%2C%20%24rootScope%2C%20defaultCache%2C%20%24http.pendingRequests%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20sendReq%28config%2C%20reqData%29%20%7B%0D%0A%20%20%20%20%20%20var%20deferred%20%3D%20%24q.defer%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20promise%20%3D%20deferred.promise%2C%0D%0A%20%20%20%20%20%20%20%20%20%20cache%2C%0D%0A%20%20%20%20%20%20%20%20%20%20cachedResp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20reqHeaders%20%3D%20config.headers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20url%20%3D%20buildUrl%28config.url%2C%20config.paramSerializer%28config.params%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%24http.pendingRequests.push%28config%29%3B%0D%0A%20%20%20%20%20%20promise.then%28removePendingReq%2C%20removePendingReq%29%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%28config.cache%20%7C%7C%20defaults.cache%29%20%26%26%20config.cache%20%21%3D%3D%20false%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%28config.method%20%3D%3D%3D%20%27GET%27%20%7C%7C%20config.method%20%3D%3D%3D%20%27JSONP%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20cache%20%3D%20isObject%28config.cache%29%20%3F%20config.cache%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20isObject%28defaults.cache%29%20%3F%20defaults.cache%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20defaultCache%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28cache%29%20%7B%0D%0A%20%20%20%20%20%20%20%20cachedResp%20%3D%20cache.get%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isDefined%28cachedResp%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isPromiseLike%28cachedResp%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20cached%20request%20has%20already%20been%20sent%2C%20but%20there%20is%20no%20response%20yet%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cachedResp.then%28resolvePromiseWithResult%2C%20resolvePromiseWithResult%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20serving%20from%20cache%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isArray%28cachedResp%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolvePromise%28cachedResp%5B1%5D%2C%20cachedResp%5B0%5D%2C%20shallowCopy%28cachedResp%5B2%5D%29%2C%20cachedResp%5B3%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolvePromise%28cachedResp%2C%20200%2C%20%7B%7D%2C%20%27OK%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20put%20the%20promise%20for%20the%20non-transformed%20response%20into%20cache%20as%20a%20placeholder%0D%0A%20%20%20%20%20%20%20%20%20%20cache.put%28url%2C%20promise%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20//%20if%20we%20won%27t%20have%20the%20response%20in%20cache%2C%20set%20the%20xsrf%20headers%20and%0D%0A%20%20%20%20%20%20//%20send%20the%20request%20to%20the%20backend%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28cachedResp%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20xsrfValue%20%3D%20urlIsSameOrigin%28config.url%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%24%24cookieReader%28%29%5Bconfig.xsrfCookieName%20%7C%7C%20defaults.xsrfCookieName%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28xsrfValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20reqHeaders%5B%28config.xsrfHeaderName%20%7C%7C%20defaults.xsrfHeaderName%29%5D%20%3D%20xsrfValue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24httpBackend%28config.method%2C%20url%2C%20reqData%2C%20done%2C%20reqHeaders%2C%20config.timeout%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20config.withCredentials%2C%20config.responseType%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20promise%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20Callback%20registered%20to%20%24httpBackend%28%29%3A%0D%0A%20%20%20%20%20%20%20*%20%20-%20caches%20the%20response%20if%20desired%0D%0A%20%20%20%20%20%20%20*%20%20-%20resolves%20the%20raw%20%24http%20promise%0D%0A%20%20%20%20%20%20%20*%20%20-%20calls%20%24apply%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20function%20done%28status%2C%20response%2C%20headersString%2C%20statusText%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28cache%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isSuccess%28status%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.put%28url%2C%20%5Bstatus%2C%20response%2C%20parseHeaders%28headersString%29%2C%20statusText%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20remove%20promise%20from%20the%20cache%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.remove%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20resolveHttpPromise%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20resolvePromise%28response%2C%20status%2C%20headersString%2C%20statusText%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28useApplyAsync%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24rootScope.%24applyAsync%28resolveHttpPromise%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20resolveHttpPromise%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%24rootScope.%24%24phase%29%20%24rootScope.%24apply%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20Resolves%20the%20raw%20%24http%20promise.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20function%20resolvePromise%28response%2C%20status%2C%20headers%2C%20statusText%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20normalize%20internal%20statuses%20to%200%0D%0A%20%20%20%20%20%20%20%20status%20%3D%20Math.max%28status%2C%200%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%28isSuccess%28status%29%20%3F%20deferred.resolve%20%3A%20deferred.reject%29%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20data%3A%20response%2C%0D%0A%20%20%20%20%20%20%20%20%20%20status%3A%20status%2C%0D%0A%20%20%20%20%20%20%20%20%20%20headers%3A%20headersGetter%28headers%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20config%3A%20config%2C%0D%0A%20%20%20%20%20%20%20%20%20%20statusText%3A%20statusText%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20resolvePromiseWithResult%28result%29%20%7B%0D%0A%20%20%20%20%20%20%20%20resolvePromise%28result.data%2C%20result.status%2C%20shallowCopy%28result.headers%28%29%29%2C%20result.statusText%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20removePendingReq%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20%24http.pendingRequests.indexOf%28config%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28idx%20%21%3D%3D%20-1%29%20%24http.pendingRequests.splice%28idx%2C%201%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20buildUrl%28url%2C%20serializedParams%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28serializedParams.length%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20url%20+%3D%20%28%28url.indexOf%28%27%3F%27%29%20%3D%3D%20-1%29%20%3F%20%27%3F%27%20%3A%20%27%26%27%29%20+%20serializedParams%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20url%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20createXhr%28%29%20%7B%0D%0A%20%20%20%20return%20new%20window.XMLHttpRequest%28%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24httpBackend%0D%0A%20*%20@requires%20%24window%0D%0A%20*%20@requires%20%24document%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20HTTP%20backend%20used%20by%20the%20%7B@link%20ng.%24http%20service%7D%20that%20delegates%20to%0D%0A%20*%20XMLHttpRequest%20object%20or%20JSONP%20and%20deals%20with%20browser%20incompatibilities.%0D%0A%20*%0D%0A%20*%20You%20should%20never%20need%20to%20use%20this%20service%20directly%2C%20instead%20use%20the%20higher-level%20abstractions%3A%0D%0A%20*%20%7B@link%20ng.%24http%20%24http%7D%20or%20%7B@link%20ngResource.%24resource%20%24resource%7D.%0D%0A%20*%0D%0A%20*%20During%20testing%20this%20implementation%20is%20swapped%20with%20%7B@link%20ngMock.%24httpBackend%20mock%0D%0A%20*%20%24httpBackend%7D%20which%20can%20be%20trained%20with%20responses.%0D%0A%20*/%0D%0Afunction%20%24HttpBackendProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24browser%27%2C%20%27%24window%27%2C%20%27%24document%27%2C%20function%28%24browser%2C%20%24window%2C%20%24document%29%20%7B%0D%0A%20%20%20%20return%20createHttpBackend%28%24browser%2C%20createXhr%2C%20%24browser.defer%2C%20%24window.angular.callbacks%2C%20%24document%5B0%5D%29%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20createHttpBackend%28%24browser%2C%20createXhr%2C%20%24browserDefer%2C%20callbacks%2C%20rawDocument%29%20%7B%0D%0A%20%20//%20TODO%28vojta%29%3A%20fix%20the%20signature%0D%0A%20%20return%20function%28method%2C%20url%2C%20post%2C%20callback%2C%20headers%2C%20timeout%2C%20withCredentials%2C%20responseType%29%20%7B%0D%0A%20%20%20%20%24browser.%24%24incOutstandingRequestCount%28%29%3B%0D%0A%20%20%20%20url%20%3D%20url%20%7C%7C%20%24browser.url%28%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28lowercase%28method%29%20%3D%3D%20%27jsonp%27%29%20%7B%0D%0A%20%20%20%20%20%20var%20callbackId%20%3D%20%27_%27%20+%20%28callbacks.counter++%29.toString%2836%29%3B%0D%0A%20%20%20%20%20%20callbacks%5BcallbackId%5D%20%3D%20function%28data%29%20%7B%0D%0A%20%20%20%20%20%20%20%20callbacks%5BcallbackId%5D.data%20%3D%20data%3B%0D%0A%20%20%20%20%20%20%20%20callbacks%5BcallbackId%5D.called%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20jsonpDone%20%3D%20jsonpReq%28url.replace%28%27JSON_CALLBACK%27%2C%20%27angular.callbacks.%27%20+%20callbackId%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20callbackId%2C%20function%28status%2C%20text%29%20%7B%0D%0A%20%20%20%20%20%20%20%20completeRequest%28callback%2C%20status%2C%20callbacks%5BcallbackId%5D.data%2C%20%22%22%2C%20text%29%3B%0D%0A%20%20%20%20%20%20%20%20callbacks%5BcallbackId%5D%20%3D%20noop%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%0D%0A%20%20%20%20%20%20var%20xhr%20%3D%20createXhr%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20xhr.open%28method%2C%20url%2C%20true%29%3B%0D%0A%20%20%20%20%20%20forEach%28headers%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xhr.setRequestHeader%28key%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20xhr.onload%20%3D%20function%20requestLoaded%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20statusText%20%3D%20xhr.statusText%20%7C%7C%20%27%27%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20responseText%20is%20the%20old-school%20way%20of%20retrieving%20response%20%28supported%20by%20IE8%20%26%209%29%0D%0A%20%20%20%20%20%20%20%20//%20response/responseType%20properties%20were%20introduced%20in%20XHR%20Level2%20spec%20%28supported%20by%20IE10%29%0D%0A%20%20%20%20%20%20%20%20var%20response%20%3D%20%28%27response%27%20in%20xhr%29%20%3F%20xhr.response%20%3A%20xhr.responseText%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20normalize%20IE9%20bug%20%28http%3A//bugs.jquery.com/ticket/1450%29%0D%0A%20%20%20%20%20%20%20%20var%20status%20%3D%20xhr.status%20%3D%3D%3D%201223%20%3F%20204%20%3A%20xhr.status%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20fix%20status%20code%20when%20it%20is%200%20%280%20status%20is%20undocumented%29.%0D%0A%20%20%20%20%20%20%20%20//%20Occurs%20when%20accessing%20file%20resources%20or%20on%20Android%204.1%20stock%20browser%0D%0A%20%20%20%20%20%20%20%20//%20while%20retrieving%20files%20from%20application%20cache.%0D%0A%20%20%20%20%20%20%20%20if%20%28status%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20status%20%3D%20response%20%3F%20200%20%3A%20urlResolve%28url%29.protocol%20%3D%3D%20%27file%27%20%3F%20404%20%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20completeRequest%28callback%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20status%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20response%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xhr.getAllResponseHeaders%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20statusText%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20requestError%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20The%20response%20is%20always%20empty%0D%0A%20%20%20%20%20%20%20%20//%20See%20https%3A//xhr.spec.whatwg.org/%23request-error-steps%20and%20https%3A//fetch.spec.whatwg.org/%23concept-network-error%0D%0A%20%20%20%20%20%20%20%20completeRequest%28callback%2C%20-1%2C%20null%2C%20null%2C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20xhr.onerror%20%3D%20requestError%3B%0D%0A%20%20%20%20%20%20xhr.onabort%20%3D%20requestError%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28withCredentials%29%20%7B%0D%0A%20%20%20%20%20%20%20%20xhr.withCredentials%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28responseType%29%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xhr.responseType%20%3D%20responseType%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20WebKit%20added%20support%20for%20the%20json%20responseType%20value%20on%2009/03/2013%0D%0A%20%20%20%20%20%20%20%20%20%20//%20https%3A//bugs.webkit.org/show_bug.cgi%3Fid%3D73648.%20Versions%20of%20Safari%20prior%20to%207%20are%0D%0A%20%20%20%20%20%20%20%20%20%20//%20known%20to%20throw%20when%20setting%20the%20value%20%22json%22%20as%20the%20response%20type.%20Other%20older%0D%0A%20%20%20%20%20%20%20%20%20%20//%20browsers%20implementing%20the%20responseType%0D%0A%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20//%20The%20json%20response%20type%20can%20be%20ignored%20if%20not%20supported%2C%20because%20JSON%20payloads%20are%0D%0A%20%20%20%20%20%20%20%20%20%20//%20parsed%20on%20the%20client-side%20regardless.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28responseType%20%21%3D%3D%20%27json%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20e%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20xhr.send%28post%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28timeout%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20var%20timeoutId%20%3D%20%24browserDefer%28timeoutRequest%2C%20timeout%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28isPromiseLike%28timeout%29%29%20%7B%0D%0A%20%20%20%20%20%20timeout.then%28timeoutRequest%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20timeoutRequest%28%29%20%7B%0D%0A%20%20%20%20%20%20jsonpDone%20%26%26%20jsonpDone%28%29%3B%0D%0A%20%20%20%20%20%20xhr%20%26%26%20xhr.abort%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20completeRequest%28callback%2C%20status%2C%20response%2C%20headersString%2C%20statusText%29%20%7B%0D%0A%20%20%20%20%20%20//%20cancel%20timeout%20and%20subsequent%20timeout%20promise%20resolution%0D%0A%20%20%20%20%20%20if%20%28timeoutId%20%21%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24browserDefer.cancel%28timeoutId%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20jsonpDone%20%3D%20xhr%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20callback%28status%2C%20response%2C%20headersString%2C%20statusText%29%3B%0D%0A%20%20%20%20%20%20%24browser.%24%24completeOutstandingRequest%28noop%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20function%20jsonpReq%28url%2C%20callbackId%2C%20done%29%20%7B%0D%0A%20%20%20%20//%20we%20can%27t%20use%20jQuery/jqLite%20here%20because%20jQuery%20does%20crazy%20stuff%20with%20script%20elements%2C%20e.g.%3A%0D%0A%20%20%20%20//%20-%20fetches%20local%20scripts%20via%20XHR%20and%20evals%20them%0D%0A%20%20%20%20//%20-%20adds%20and%20immediately%20removes%20script%20elements%20from%20the%20document%0D%0A%20%20%20%20var%20script%20%3D%20rawDocument.createElement%28%27script%27%29%2C%20callback%20%3D%20null%3B%0D%0A%20%20%20%20script.type%20%3D%20%22text/javascript%22%3B%0D%0A%20%20%20%20script.src%20%3D%20url%3B%0D%0A%20%20%20%20script.async%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20callback%20%3D%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20removeEventListenerFn%28script%2C%20%22load%22%2C%20callback%29%3B%0D%0A%20%20%20%20%20%20removeEventListenerFn%28script%2C%20%22error%22%2C%20callback%29%3B%0D%0A%20%20%20%20%20%20rawDocument.body.removeChild%28script%29%3B%0D%0A%20%20%20%20%20%20script%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20status%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20var%20text%20%3D%20%22unknown%22%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28event.type%20%3D%3D%3D%20%22load%22%20%26%26%20%21callbacks%5BcallbackId%5D.called%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20event%20%3D%20%7B%20type%3A%20%22error%22%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20text%20%3D%20event.type%3B%0D%0A%20%20%20%20%20%20%20%20status%20%3D%20event.type%20%3D%3D%3D%20%22error%22%20%3F%20404%20%3A%20200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28done%29%20%7B%0D%0A%20%20%20%20%20%20%20%20done%28status%2C%20text%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20addEventListenerFn%28script%2C%20%22load%22%2C%20callback%29%3B%0D%0A%20%20%20%20addEventListenerFn%28script%2C%20%22error%22%2C%20callback%29%3B%0D%0A%20%20%20%20rawDocument.body.appendChild%28script%29%3B%0D%0A%20%20%20%20return%20callback%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20%24interpolateMinErr%20%3D%20angular.%24interpolateMinErr%20%3D%20minErr%28%27%24interpolate%27%29%3B%0D%0A%24interpolateMinErr.throwNoconcat%20%3D%20function%28text%29%20%7B%0D%0A%20%20throw%20%24interpolateMinErr%28%27noconcat%27%2C%0D%0A%20%20%20%20%20%20%22Error%20while%20interpolating%3A%20%7B0%7D%5CnStrict%20Contextual%20Escaping%20disallows%20%22%20+%0D%0A%20%20%20%20%20%20%22interpolations%20that%20concatenate%20multiple%20expressions%20when%20a%20trusted%20value%20is%20%22%20+%0D%0A%20%20%20%20%20%20%22required.%20%20See%20http%3A//docs.angularjs.org/api/ng.%24sce%22%2C%20text%29%3B%0D%0A%7D%3B%0D%0A%0D%0A%24interpolateMinErr.interr%20%3D%20function%28text%2C%20err%29%20%7B%0D%0A%20%20return%20%24interpolateMinErr%28%27interr%27%2C%20%22Can%27t%20interpolate%3A%20%7B0%7D%5Cn%7B1%7D%22%2C%20text%2C%20err.toString%28%29%29%3B%0D%0A%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24interpolateProvider%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Used%20for%20configuring%20the%20interpolation%20markup.%20Defaults%20to%20%60%7B%7B%60%20and%20%60%7D%7D%60.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%3Cexample%20module%3D%22customInterpolationApp%22%3E%0D%0A%3Cfile%20name%3D%22index.html%22%3E%0D%0A%3Cscript%3E%0D%0A%20%20var%20customInterpolationApp%20%3D%20angular.module%28%27customInterpolationApp%27%2C%20%5B%5D%29%3B%0D%0A%0D%0A%20%20customInterpolationApp.config%28function%28%24interpolateProvider%29%20%7B%0D%0A%20%20%20%20%24interpolateProvider.startSymbol%28%27//%27%29%3B%0D%0A%20%20%20%20%24interpolateProvider.endSymbol%28%27//%27%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%0D%0A%20%20customInterpolationApp.controller%28%27DemoController%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20this.label%20%3D%20%22This%20binding%20is%20brought%20you%20by%20//%20interpolation%20symbols.%22%3B%0D%0A%20%20%7D%29%3B%0D%0A%3C/script%3E%0D%0A%3Cdiv%20ng-app%3D%22App%22%20ng-controller%3D%22DemoController%20as%20demo%22%3E%0D%0A%20%20%20%20//demo.label//%0D%0A%3C/div%3E%0D%0A%3C/file%3E%0D%0A%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20it%28%27should%20interpolate%20binding%20with%20custom%20symbols%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20expect%28element%28by.binding%28%27demo.label%27%29%29.getText%28%29%29.toBe%28%27This%20binding%20is%20brought%20you%20by%20//%20interpolation%20symbols.%27%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%3C/file%3E%0D%0A%3C/example%3E%0D%0A%20*/%0D%0Afunction%20%24InterpolateProvider%28%29%20%7B%0D%0A%20%20var%20startSymbol%20%3D%20%27%7B%7B%27%3B%0D%0A%20%20var%20endSymbol%20%3D%20%27%7D%7D%27%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24interpolateProvider%23startSymbol%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Symbol%20to%20denote%20start%20of%20expression%20in%20the%20interpolated%20string.%20Defaults%20to%20%60%7B%7B%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20value%20new%20value%20to%20set%20the%20starting%20symbol%20to.%0D%0A%20%20%20*%20@returns%20%7Bstring%7Cself%7D%20Returns%20the%20symbol%20when%20used%20as%20getter%20and%20self%20if%20used%20as%20setter.%0D%0A%20%20%20*/%0D%0A%20%20this.startSymbol%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28value%29%20%7B%0D%0A%20%20%20%20%20%20startSymbol%20%3D%20value%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20startSymbol%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24interpolateProvider%23endSymbol%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Symbol%20to%20denote%20the%20end%20of%20expression%20in%20the%20interpolated%20string.%20Defaults%20to%20%60%7D%7D%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20value%20new%20value%20to%20set%20the%20ending%20symbol%20to.%0D%0A%20%20%20*%20@returns%20%7Bstring%7Cself%7D%20Returns%20the%20symbol%20when%20used%20as%20getter%20and%20self%20if%20used%20as%20setter.%0D%0A%20%20%20*/%0D%0A%20%20this.endSymbol%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28value%29%20%7B%0D%0A%20%20%20%20%20%20endSymbol%20%3D%20value%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20endSymbol%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24parse%27%2C%20%27%24exceptionHandler%27%2C%20%27%24sce%27%2C%20function%28%24parse%2C%20%24exceptionHandler%2C%20%24sce%29%20%7B%0D%0A%20%20%20%20var%20startSymbolLength%20%3D%20startSymbol.length%2C%0D%0A%20%20%20%20%20%20%20%20endSymbolLength%20%3D%20endSymbol.length%2C%0D%0A%20%20%20%20%20%20%20%20escapedStartRegexp%20%3D%20new%20RegExp%28startSymbol.replace%28/./g%2C%20escape%29%2C%20%27g%27%29%2C%0D%0A%20%20%20%20%20%20%20%20escapedEndRegexp%20%3D%20new%20RegExp%28endSymbol.replace%28/./g%2C%20escape%29%2C%20%27g%27%29%3B%0D%0A%0D%0A%20%20%20%20function%20escape%28ch%29%20%7B%0D%0A%20%20%20%20%20%20return%20%27%5C%5C%5C%5C%5C%5C%27%20+%20ch%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20unescapeText%28text%29%20%7B%0D%0A%20%20%20%20%20%20return%20text.replace%28escapedStartRegexp%2C%20startSymbol%29.%0D%0A%20%20%20%20%20%20%20%20replace%28escapedEndRegexp%2C%20endSymbol%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20stringify%28value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%20null%29%20%7B%20//%20null%20%7C%7C%20undefined%0D%0A%20%20%20%20%20%20%20%20return%20%27%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20switch%20%28typeof%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%27string%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20%27number%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%27%27%20+%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20toJson%28value%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20*%20@name%20%24interpolate%0D%0A%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@requires%20%24parse%0D%0A%20%20%20%20%20*%20@requires%20%24sce%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Compiles%20a%20string%20with%20markup%20into%20an%20interpolation%20function.%20This%20service%20is%20used%20by%20the%0D%0A%20%20%20%20%20*%20HTML%20%7B@link%20ng.%24compile%20%24compile%7D%20service%20for%20data%20binding.%20See%0D%0A%20%20%20%20%20*%20%7B@link%20ng.%24interpolateProvider%20%24interpolateProvider%7D%20for%20configuring%20the%0D%0A%20%20%20%20%20*%20interpolation%20markup.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20var%20%24interpolate%20%3D%20...%3B%20//%20injected%0D%0A%20%20%20%20%20*%20%20%20var%20exp%20%3D%20%24interpolate%28%27Hello%20%7B%7Bname%20%7C%20uppercase%7D%7D%21%27%29%3B%0D%0A%20%20%20%20%20*%20%20%20expect%28exp%28%7Bname%3A%27Angular%27%7D%29.toEqual%28%27Hello%20ANGULAR%21%27%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%24interpolate%60%20takes%20an%20optional%20fourth%20argument%2C%20%60allOrNothing%60.%20If%20%60allOrNothing%60%20is%0D%0A%20%20%20%20%20*%20%60true%60%2C%20the%20interpolation%20function%20will%20return%20%60undefined%60%20unless%20all%20embedded%20expressions%0D%0A%20%20%20%20%20*%20evaluate%20to%20a%20value%20other%20than%20%60undefined%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20*%20%20%20var%20%24interpolate%20%3D%20...%3B%20//%20injected%0D%0A%20%20%20%20%20*%20%20%20var%20context%20%3D%20%7Bgreeting%3A%20%27Hello%27%2C%20name%3A%20undefined%20%7D%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20//%20default%20%22forgiving%22%20mode%0D%0A%20%20%20%20%20*%20%20%20var%20exp%20%3D%20%24interpolate%28%27%7B%7Bgreeting%7D%7D%20%7B%7Bname%7D%7D%21%27%29%3B%0D%0A%20%20%20%20%20*%20%20%20expect%28exp%28context%29%29.toEqual%28%27Hello%20%21%27%29%3B%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20//%20%22allOrNothing%22%20mode%0D%0A%20%20%20%20%20*%20%20%20exp%20%3D%20%24interpolate%28%27%7B%7Bgreeting%7D%7D%20%7B%7Bname%7D%7D%21%27%2C%20false%2C%20null%2C%20true%29%3B%0D%0A%20%20%20%20%20*%20%20%20expect%28exp%28context%29%29.toBeUndefined%28%29%3B%0D%0A%20%20%20%20%20*%20%20%20context.name%20%3D%20%27Angular%27%3B%0D%0A%20%20%20%20%20*%20%20%20expect%28exp%28context%29%29.toEqual%28%27Hello%20Angular%21%27%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%60allOrNothing%60%20is%20useful%20for%20interpolating%20URLs.%20%60ngSrc%60%20and%20%60ngSrcset%60%20use%20this%20behavior.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%23%23%23Escaped%20Interpolation%0D%0A%20%20%20%20%20*%20%24interpolate%20provides%20a%20mechanism%20for%20escaping%20interpolation%20markers.%20Start%20and%20end%20markers%0D%0A%20%20%20%20%20*%20can%20be%20escaped%20by%20preceding%20each%20of%20their%20characters%20with%20a%20REVERSE%20SOLIDUS%20U+005C%20%28backslash%29.%0D%0A%20%20%20%20%20*%20It%20will%20be%20rendered%20as%20a%20regular%20start/end%20marker%2C%20and%20will%20not%20be%20interpreted%20as%20an%20expression%0D%0A%20%20%20%20%20*%20or%20binding.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20This%20enables%20web-servers%20to%20prevent%20script%20injection%20attacks%20and%20defacing%20attacks%2C%20to%20some%0D%0A%20%20%20%20%20*%20degree%2C%20while%20also%20enabling%20code%20examples%20to%20work%20without%20relying%20on%20the%0D%0A%20%20%20%20%20*%20%7B@link%20ng.directive%3AngNonBindable%20ngNonBindable%7D%20directive.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20**For%20security%20purposes%2C%20it%20is%20strongly%20encouraged%20that%20web%20servers%20escape%20user-supplied%20data%2C%0D%0A%20%20%20%20%20*%20replacing%20angle%20brackets%20%28%26lt%3B%2C%20%26gt%3B%29%20with%20%26amp%3Blt%3B%20and%20%26amp%3Bgt%3B%20respectively%2C%20and%20replacing%20all%0D%0A%20%20%20%20%20*%20interpolation%20start/end%20markers%20with%20their%20escaped%20counterparts.**%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Escaped%20interpolation%20markers%20are%20only%20replaced%20with%20the%20actual%20interpolation%20markers%20in%20rendered%0D%0A%20%20%20%20%20*%20output%20when%20the%20%24interpolate%20service%20processes%20the%20text.%20So%2C%20for%20HTML%20elements%20interpolated%0D%0A%20%20%20%20%20*%20by%20%7B@link%20ng.%24compile%20%24compile%7D%2C%20or%20otherwise%20interpolated%20with%20the%20%60mustHaveExpression%60%20parameter%0D%0A%20%20%20%20%20*%20set%20to%20%60true%60%2C%20the%20interpolated%20text%20must%20contain%20an%20unescaped%20interpolation%20expression.%20As%20such%2C%0D%0A%20%20%20%20%20*%20this%20is%20typically%20useful%20only%20when%20user-data%20is%20used%20in%20rendering%20a%20template%20from%20the%20server%2C%20or%0D%0A%20%20%20%20%20*%20when%20otherwise%20untrusted%20data%20is%20used%20by%20a%20directive.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%3Cexample%3E%0D%0A%20%20%20%20%20*%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20*%20%20%20%20%3Cdiv%20ng-init%3D%22username%3D%27A%20user%27%22%3E%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%3Cp%20ng-init%3D%22apptitle%3D%27Escaping%20demo%27%22%3E%7B%7Bapptitle%7D%7D%3A%20%5C%7B%5C%7B%20username%20%3D%20%22defaced%20value%22%3B%20%5C%7D%5C%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%3Cp%3E%3Cstrong%3E%7B%7Busername%7D%7D%3C/strong%3E%20attempts%20to%20inject%20code%20which%20will%20deface%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20application%2C%20but%20fails%20to%20accomplish%20their%20task%2C%20because%20the%20server%20has%20correctly%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20escaped%20the%20interpolation%20start/end%20markers%20with%20REVERSE%20SOLIDUS%20U+005C%20%28backslash%29%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20characters.%3C/p%3E%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%3Cp%3EInstead%2C%20the%20result%20of%20the%20attempted%20script%20injection%20is%20visible%2C%20and%20can%20be%20removed%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20from%20the%20database%20by%20an%20administrator.%3C/p%3E%0D%0A%20%20%20%20%20*%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20*%20%20%3C/file%3E%0D%0A%20%20%20%20%20*%20%3C/example%3E%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20text%20The%20text%20with%20markup%20to%20interpolate.%0D%0A%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20mustHaveExpression%20if%20set%20to%20true%20then%20the%20interpolation%20string%20must%20have%0D%0A%20%20%20%20%20*%20%20%20%20embedded%20expression%20in%20order%20to%20return%20an%20interpolation%20function.%20Strings%20with%20no%0D%0A%20%20%20%20%20*%20%20%20%20embedded%20expression%20will%20return%20null%20for%20the%20interpolation%20function.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20trustedContext%20when%20provided%2C%20the%20returned%20function%20passes%20the%20interpolated%0D%0A%20%20%20%20%20*%20%20%20%20result%20through%20%7B@link%20ng.%24sce%23getTrusted%20%24sce.getTrusted%28interpolatedResult%2C%0D%0A%20%20%20%20%20*%20%20%20%20trustedContext%29%7D%20before%20returning%20it.%20%20Refer%20to%20the%20%7B@link%20ng.%24sce%20%24sce%7D%20service%20that%0D%0A%20%20%20%20%20*%20%20%20%20provides%20Strict%20Contextual%20Escaping%20for%20details.%0D%0A%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20allOrNothing%20if%20%60true%60%2C%20then%20the%20returned%20function%20returns%20undefined%0D%0A%20%20%20%20%20*%20%20%20%20unless%20all%20embedded%20expressions%20evaluate%20to%20a%20value%20other%20than%20%60undefined%60.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%29%7D%20an%20interpolation%20function%20which%20is%20used%20to%20compute%20the%0D%0A%20%20%20%20%20*%20%20%20%20interpolated%20string.%20The%20function%20has%20these%20parameters%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20-%20%60context%60%3A%20evaluation%20context%20for%20all%20expressions%20embedded%20in%20the%20interpolated%20text%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20%24interpolate%28text%2C%20mustHaveExpression%2C%20trustedContext%2C%20allOrNothing%29%20%7B%0D%0A%20%20%20%20%20%20allOrNothing%20%3D%20%21%21allOrNothing%3B%0D%0A%20%20%20%20%20%20var%20startIndex%2C%0D%0A%20%20%20%20%20%20%20%20%20%20endIndex%2C%0D%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20expressions%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20parseFns%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20textLength%20%3D%20text.length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20exp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20concat%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20expressionPositions%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20while%20%28index%20%3C%20textLength%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%28%28startIndex%20%3D%20text.indexOf%28startSymbol%2C%20index%29%29%20%21%3D%20-1%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%28%28endIndex%20%3D%20text.indexOf%28endSymbol%2C%20startIndex%20+%20startSymbolLength%29%29%20%21%3D%20-1%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28index%20%21%3D%3D%20startIndex%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20concat.push%28unescapeText%28text.substring%28index%2C%20startIndex%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20exp%20%3D%20text.substring%28startIndex%20+%20startSymbolLength%2C%20endIndex%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expressions.push%28exp%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20parseFns.push%28%24parse%28exp%2C%20parseStringifyInterceptor%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20endIndex%20+%20endSymbolLength%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expressionPositions.push%28concat.length%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20concat.push%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20we%20did%20not%20find%20an%20interpolation%2C%20so%20we%20have%20to%20add%20the%20remainder%20to%20the%20separators%20array%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28index%20%21%3D%3D%20textLength%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20concat.push%28unescapeText%28text.substring%28index%29%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20Concatenating%20expressions%20makes%20it%20hard%20to%20reason%20about%20whether%20some%20combination%20of%0D%0A%20%20%20%20%20%20//%20concatenated%20values%20are%20unsafe%20to%20use%20and%20could%20easily%20lead%20to%20XSS.%20%20By%20requiring%20that%20a%0D%0A%20%20%20%20%20%20//%20single%20expression%20be%20used%20for%20iframe%5Bsrc%5D%2C%20object%5Bsrc%5D%2C%20etc.%2C%20we%20ensure%20that%20the%20value%0D%0A%20%20%20%20%20%20//%20that%27s%20used%20is%20assigned%20or%20constructed%20by%20some%20JS%20code%20somewhere%20that%20is%20more%20testable%20or%0D%0A%20%20%20%20%20%20//%20make%20it%20obvious%20that%20you%20bound%20the%20value%20to%20some%20user%20controlled%20value.%20%20This%20helps%20reduce%0D%0A%20%20%20%20%20%20//%20the%20load%20when%20auditing%20for%20XSS%20issues.%0D%0A%20%20%20%20%20%20if%20%28trustedContext%20%26%26%20concat.length%20%3E%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24interpolateMinErr.throwNoconcat%28text%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21mustHaveExpression%20%7C%7C%20expressions.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20compute%20%3D%20function%28values%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20expressions.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28allOrNothing%20%26%26%20isUndefined%28values%5Bi%5D%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20concat%5BexpressionPositions%5Bi%5D%5D%20%3D%20values%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20concat.join%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20getValue%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20trustedContext%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24sce.getTrusted%28trustedContext%2C%20value%29%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24sce.valueOf%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20extend%28function%20interpolationFn%28context%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ii%20%3D%20expressions.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20values%20%3D%20new%20Array%28ii%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20parseFns%5Bi%5D%28context%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20compute%28values%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28%24interpolateMinErr.interr%28text%2C%20err%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20all%20of%20these%20properties%20are%20undocumented%20for%20now%0D%0A%20%20%20%20%20%20%20%20%20%20exp%3A%20text%2C%20//just%20for%20compatibility%20with%20regular%20watchers%20created%20via%20%24watch%0D%0A%20%20%20%20%20%20%20%20%20%20expressions%3A%20expressions%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24%24watchDelegate%3A%20function%28scope%2C%20listener%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lastValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20scope.%24watchGroup%28parseFns%2C%20function%20interpolateFnWatcher%28values%2C%20oldValues%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currValue%20%3D%20compute%28values%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isFunction%28listener%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20listener.call%28this%2C%20currValue%2C%20values%20%21%3D%3D%20oldValues%20%3F%20lastValue%20%3A%20currValue%2C%20scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastValue%20%3D%20currValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20parseStringifyInterceptor%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20getValue%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20allOrNothing%20%26%26%20%21isDefined%28value%29%20%3F%20value%20%3A%20stringify%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28%24interpolateMinErr.interr%28text%2C%20err%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24interpolate%23startSymbol%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Symbol%20to%20denote%20the%20start%20of%20expression%20in%20the%20interpolated%20string.%20Defaults%20to%20%60%7B%7B%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Use%20%7B@link%20ng.%24interpolateProvider%23startSymbol%20%60%24interpolateProvider.startSymbol%60%7D%20to%20change%0D%0A%20%20%20%20%20*%20the%20symbol.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@returns%20%7Bstring%7D%20start%20symbol.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20%24interpolate.startSymbol%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20startSymbol%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24interpolate%23endSymbol%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Symbol%20to%20denote%20the%20end%20of%20expression%20in%20the%20interpolated%20string.%20Defaults%20to%20%60%7D%7D%60.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Use%20%7B@link%20ng.%24interpolateProvider%23endSymbol%20%60%24interpolateProvider.endSymbol%60%7D%20to%20change%0D%0A%20%20%20%20%20*%20the%20symbol.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@returns%20%7Bstring%7D%20end%20symbol.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20%24interpolate.endSymbol%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20endSymbol%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20%24interpolate%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24IntervalProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24rootScope%27%2C%20%27%24window%27%2C%20%27%24q%27%2C%20%27%24%24q%27%2C%0D%0A%20%20%20%20%20%20%20function%28%24rootScope%2C%20%20%20%24window%2C%20%20%20%24q%2C%20%20%20%24%24q%29%20%7B%0D%0A%20%20%20%20var%20intervals%20%3D%20%7B%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20%20*%20@name%20%24interval%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Angular%27s%20wrapper%20for%20%60window.setInterval%60.%20The%20%60fn%60%20function%20is%20executed%20every%20%60delay%60%0D%0A%20%20%20%20%20%20*%20milliseconds.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20The%20return%20value%20of%20registering%20an%20interval%20function%20is%20a%20promise.%20This%20promise%20will%20be%0D%0A%20%20%20%20%20%20*%20notified%20upon%20each%20tick%20of%20the%20interval%2C%20and%20will%20be%20resolved%20after%20%60count%60%20iterations%2C%20or%0D%0A%20%20%20%20%20%20*%20run%20indefinitely%20if%20%60count%60%20is%20not%20defined.%20The%20value%20of%20the%20notification%20will%20be%20the%0D%0A%20%20%20%20%20%20*%20number%20of%20iterations%20that%20have%20run.%0D%0A%20%20%20%20%20%20*%20To%20cancel%20an%20interval%2C%20call%20%60%24interval.cancel%28promise%29%60.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20In%20tests%20you%20can%20use%20%7B@link%20ngMock.%24interval%23flush%20%60%24interval.flush%28millis%29%60%7D%20to%0D%0A%20%20%20%20%20%20*%20move%20forward%20by%20%60millis%60%20milliseconds%20and%20trigger%20any%20functions%20scheduled%20to%20run%20in%20that%0D%0A%20%20%20%20%20%20*%20time.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20%20%20%20*%20**Note**%3A%20Intervals%20created%20by%20this%20service%20must%20be%20explicitly%20destroyed%20when%20you%20are%20finished%0D%0A%20%20%20%20%20%20*%20with%20them.%20%20In%20particular%20they%20are%20not%20automatically%20destroyed%20when%20a%20controller%27s%20scope%20or%20a%0D%0A%20%20%20%20%20%20*%20directive%27s%20element%20are%20destroyed.%0D%0A%20%20%20%20%20%20*%20You%20should%20take%20this%20into%20consideration%20and%20make%20sure%20to%20always%20cancel%20the%20interval%20at%20the%0D%0A%20%20%20%20%20%20*%20appropriate%20moment.%20%20See%20the%20example%20below%20for%20more%20details%20on%20how%20and%20when%20to%20do%20this.%0D%0A%20%20%20%20%20%20*%20%3C/div%3E%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@param%20%7Bfunction%28%29%7D%20fn%20A%20function%20that%20should%20be%20called%20repeatedly.%0D%0A%20%20%20%20%20%20*%20@param%20%7Bnumber%7D%20delay%20Number%20of%20milliseconds%20between%20each%20function%20call.%0D%0A%20%20%20%20%20%20*%20@param%20%7Bnumber%3D%7D%20%5Bcount%3D0%5D%20Number%20of%20times%20to%20repeat.%20If%20not%20set%2C%20or%200%2C%20will%20repeat%0D%0A%20%20%20%20%20%20*%20%20%20indefinitely.%0D%0A%20%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20%5BinvokeApply%3Dtrue%5D%20If%20set%20to%20%60false%60%20skips%20model%20dirty%20checking%2C%20otherwise%0D%0A%20%20%20%20%20%20*%20%20%20will%20invoke%20%60fn%60%20within%20the%20%7B@link%20ng.%24rootScope.Scope%23%24apply%20%24apply%7D%20block.%0D%0A%20%20%20%20%20%20*%20@param%20%7B...*%3D%7D%20Pass%20additional%20parameters%20to%20the%20executed%20function.%0D%0A%20%20%20%20%20%20*%20@returns%20%7Bpromise%7D%20A%20promise%20which%20will%20be%20notified%20on%20each%20iteration.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@example%0D%0A%20%20%20%20%20%20*%20%3Cexample%20module%3D%22intervalExample%22%3E%0D%0A%20%20%20%20%20%20*%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20*%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20angular.module%28%27intervalExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20%27%24interval%27%2C%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20function%28%24scope%2C%20%24interval%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.format%20%3D%20%27M/d/yy%20h%3Amm%3Ass%20a%27%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_1%20%3D%20100%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_2%20%3D%20120%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20var%20stop%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.fight%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Don%27t%20start%20a%20new%20fight%20if%20we%20are%20already%20fighting%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%20angular.isDefined%28stop%29%20%29%20return%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20stop%20%3D%20%24interval%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24scope.blood_1%20%3E%200%20%26%26%20%24scope.blood_2%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_1%20%3D%20%24scope.blood_1%20-%203%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_2%20%3D%20%24scope.blood_2%20-%204%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.stopFight%28%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.stopFight%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28angular.isDefined%28stop%29%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24interval.cancel%28stop%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stop%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.resetFight%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_1%20%3D%20100%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.blood_2%20%3D%20120%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.%24on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Make%20sure%20that%20the%20interval%20is%20destroyed%20too%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.stopFight%28%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%7D%5D%29%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20//%20Register%20the%20%27myCurrentTime%27%20directive%20factory%20method.%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20//%20We%20inject%20%24interval%20and%20dateFilter%20service%20since%20the%20factory%20method%20is%20DI.%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20.directive%28%27myCurrentTime%27%2C%20%5B%27%24interval%27%2C%20%27dateFilter%27%2C%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20function%28%24interval%2C%20dateFilter%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20//%20return%20the%20directive%20link%20function.%20%28compile%20function%20not%20needed%29%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20return%20function%28scope%2C%20element%2C%20attrs%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20var%20format%2C%20%20//%20date%20format%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stopTime%3B%20//%20so%20that%20we%20can%20cancel%20the%20time%20updates%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20used%20to%20update%20the%20UI%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20function%20updateTime%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.text%28dateFilter%28new%20Date%28%29%2C%20format%29%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20watch%20the%20expression%2C%20and%20update%20the%20UI%20on%20change.%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28attrs.myCurrentTime%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20value%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateTime%28%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20stopTime%20%3D%20%24interval%28updateTime%2C%201000%29%3B%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20listen%20on%20DOM%20destroy%20%28removal%29%20event%2C%20and%20cancel%20the%20next%20UI%20update%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20//%20to%20prevent%20updating%20time%20after%20the%20DOM%20element%20was%20removed.%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20element.on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24interval.cancel%28stopTime%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20*%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%3Clabel%3EDate%20format%3A%20%3Cinput%20ng-model%3D%22format%22%3E%3C/label%3E%20%3Chr/%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20Current%20time%20is%3A%20%3Cspan%20my-current-time%3D%22format%22%3E%3C/span%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20Blood%201%20%3A%20%3Cfont%20color%3D%27red%27%3E%7B%7Bblood_1%7D%7D%3C/font%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20Blood%202%20%3A%20%3Cfont%20color%3D%27red%27%3E%7B%7Bblood_2%7D%7D%3C/font%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20data-ng-click%3D%22fight%28%29%22%3EFight%3C/button%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20data-ng-click%3D%22stopFight%28%29%22%3EStopFight%3C/button%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20data-ng-click%3D%22resetFight%28%29%22%3EresetFight%3C/button%3E%0D%0A%20%20%20%20%20%20*%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20*%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20%3C/file%3E%0D%0A%20%20%20%20%20%20*%20%3C/example%3E%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20function%20interval%28fn%2C%20delay%2C%20count%2C%20invokeApply%29%20%7B%0D%0A%20%20%20%20%20%20var%20hasParams%20%3D%20arguments.length%20%3E%204%2C%0D%0A%20%20%20%20%20%20%20%20%20%20args%20%3D%20hasParams%20%3F%20sliceArgs%28arguments%2C%204%29%20%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20setInterval%20%3D%20%24window.setInterval%2C%0D%0A%20%20%20%20%20%20%20%20%20%20clearInterval%20%3D%20%24window.clearInterval%2C%0D%0A%20%20%20%20%20%20%20%20%20%20iteration%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20skipApply%20%3D%20%28isDefined%28invokeApply%29%20%26%26%20%21invokeApply%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20deferred%20%3D%20%28skipApply%20%3F%20%24%24q%20%3A%20%24q%29.defer%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20promise%20%3D%20deferred.promise%3B%0D%0A%0D%0A%20%20%20%20%20%20count%20%3D%20isDefined%28count%29%20%3F%20count%20%3A%200%3B%0D%0A%0D%0A%20%20%20%20%20%20promise.then%28null%2C%20null%2C%20%28%21hasParams%29%20%3F%20fn%20%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20fn.apply%28null%2C%20args%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20promise.%24%24intervalId%20%3D%20setInterval%28function%20tick%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20deferred.notify%28iteration++%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28count%20%3E%200%20%26%26%20iteration%20%3E%3D%20count%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.resolve%28iteration%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clearInterval%28promise.%24%24intervalId%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20intervals%5Bpromise.%24%24intervalId%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21skipApply%29%20%24rootScope.%24apply%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%7D%2C%20delay%29%3B%0D%0A%0D%0A%20%20%20%20%20%20intervals%5Bpromise.%24%24intervalId%5D%20%3D%20deferred%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20promise%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20*%20@name%20%24interval%23cancel%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Cancels%20a%20task%20associated%20with%20the%20%60promise%60.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@param%20%7Bpromise%7D%20promise%20returned%20by%20the%20%60%24interval%60%20function.%0D%0A%20%20%20%20%20%20*%20@returns%20%7Bboolean%7D%20Returns%20%60true%60%20if%20the%20task%20was%20successfully%20canceled.%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20interval.cancel%20%3D%20function%28promise%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28promise%20%26%26%20promise.%24%24intervalId%20in%20intervals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20intervals%5Bpromise.%24%24intervalId%5D.reject%28%27canceled%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%24window.clearInterval%28promise.%24%24intervalId%29%3B%0D%0A%20%20%20%20%20%20%20%20delete%20intervals%5Bpromise.%24%24intervalId%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20interval%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24locale%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%24locale%20service%20provides%20localization%20rules%20for%20various%20Angular%20components.%20As%20of%20right%20now%20the%0D%0A%20*%20only%20public%20api%20is%3A%0D%0A%20*%0D%0A%20*%20*%20%60id%60%20%u2013%20%60%7Bstring%7D%60%20%u2013%20locale%20id%20formatted%20as%20%60languageId-countryId%60%20%28e.g.%20%60en-us%60%29%0D%0A%20*/%0D%0Afunction%20%24LocaleProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20id%3A%20%27en-us%27%2C%0D%0A%0D%0A%20%20%20%20%20%20NUMBER_FORMATS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20DECIMAL_SEP%3A%20%27.%27%2C%0D%0A%20%20%20%20%20%20%20%20GROUP_SEP%3A%20%27%2C%27%2C%0D%0A%20%20%20%20%20%20%20%20PATTERNS%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%20//%20Decimal%20Pattern%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minInt%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minFrac%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20maxFrac%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20posPre%3A%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20posSuf%3A%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20negPre%3A%20%27-%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20negSuf%3A%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gSize%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lgSize%3A%203%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%7B%20//Currency%20Pattern%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minInt%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minFrac%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20maxFrac%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20posPre%3A%20%27%5Cu00A4%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20posSuf%3A%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20negPre%3A%20%27%28%5Cu00A4%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20negSuf%3A%20%27%29%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gSize%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lgSize%3A%203%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20CURRENCY_SYM%3A%20%27%24%27%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20DATETIME_FORMATS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20MONTH%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27January%2CFebruary%2CMarch%2CApril%2CMay%2CJune%2CJuly%2CAugust%2CSeptember%2COctober%2CNovember%2CDecember%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.split%28%27%2C%27%29%2C%0D%0A%20%20%20%20%20%20%20%20SHORTMONTH%3A%20%20%27Jan%2CFeb%2CMar%2CApr%2CMay%2CJun%2CJul%2CAug%2CSep%2COct%2CNov%2CDec%27.split%28%27%2C%27%29%2C%0D%0A%20%20%20%20%20%20%20%20DAY%3A%20%27Sunday%2CMonday%2CTuesday%2CWednesday%2CThursday%2CFriday%2CSaturday%27.split%28%27%2C%27%29%2C%0D%0A%20%20%20%20%20%20%20%20SHORTDAY%3A%20%27Sun%2CMon%2CTue%2CWed%2CThu%2CFri%2CSat%27.split%28%27%2C%27%29%2C%0D%0A%20%20%20%20%20%20%20%20AMPMS%3A%20%5B%27AM%27%2C%27PM%27%5D%2C%0D%0A%20%20%20%20%20%20%20%20medium%3A%20%27MMM%20d%2C%20y%20h%3Amm%3Ass%20a%27%2C%0D%0A%20%20%20%20%20%20%20%20%27short%27%3A%20%27M/d/yy%20h%3Amm%20a%27%2C%0D%0A%20%20%20%20%20%20%20%20fullDate%3A%20%27EEEE%2C%20MMMM%20d%2C%20y%27%2C%0D%0A%20%20%20%20%20%20%20%20longDate%3A%20%27MMMM%20d%2C%20y%27%2C%0D%0A%20%20%20%20%20%20%20%20mediumDate%3A%20%27MMM%20d%2C%20y%27%2C%0D%0A%20%20%20%20%20%20%20%20shortDate%3A%20%27M/d/yy%27%2C%0D%0A%20%20%20%20%20%20%20%20mediumTime%3A%20%27h%3Amm%3Ass%20a%27%2C%0D%0A%20%20%20%20%20%20%20%20shortTime%3A%20%27h%3Amm%20a%27%2C%0D%0A%20%20%20%20%20%20%20%20ERANAMES%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%22Before%20Christ%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22Anno%20Domini%22%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20ERAS%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%22BC%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22AD%22%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20pluralCat%3A%20function%28num%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28num%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%27one%27%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20%27other%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Avar%20PATH_MATCH%20%3D%20/%5E%28%5B%5E%5C%3F%23%5D*%29%28%5C%3F%28%5B%5E%23%5D*%29%29%3F%28%23%28.*%29%29%3F%24/%2C%0D%0A%20%20%20%20DEFAULT_PORTS%20%3D%20%7B%27http%27%3A%2080%2C%20%27https%27%3A%20443%2C%20%27ftp%27%3A%2021%7D%3B%0D%0Avar%20%24locationMinErr%20%3D%20minErr%28%27%24location%27%29%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20Encode%20path%20using%20encodeUriSegment%2C%20ignoring%20forward%20slashes%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20path%20Path%20to%20encode%0D%0A%20*%20@returns%20%7Bstring%7D%0D%0A%20*/%0D%0Afunction%20encodePath%28path%29%20%7B%0D%0A%20%20var%20segments%20%3D%20path.split%28%27/%27%29%2C%0D%0A%20%20%20%20%20%20i%20%3D%20segments.length%3B%0D%0A%0D%0A%20%20while%20%28i--%29%20%7B%0D%0A%20%20%20%20segments%5Bi%5D%20%3D%20encodeUriSegment%28segments%5Bi%5D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20segments.join%28%27/%27%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20parseAbsoluteUrl%28absoluteUrl%2C%20locationObj%29%20%7B%0D%0A%20%20var%20parsedUrl%20%3D%20urlResolve%28absoluteUrl%29%3B%0D%0A%0D%0A%20%20locationObj.%24%24protocol%20%3D%20parsedUrl.protocol%3B%0D%0A%20%20locationObj.%24%24host%20%3D%20parsedUrl.hostname%3B%0D%0A%20%20locationObj.%24%24port%20%3D%20toInt%28parsedUrl.port%29%20%7C%7C%20DEFAULT_PORTS%5BparsedUrl.protocol%5D%20%7C%7C%20null%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20parseAppUrl%28relativeUrl%2C%20locationObj%29%20%7B%0D%0A%20%20var%20prefixed%20%3D%20%28relativeUrl.charAt%280%29%20%21%3D%3D%20%27/%27%29%3B%0D%0A%20%20if%20%28prefixed%29%20%7B%0D%0A%20%20%20%20relativeUrl%20%3D%20%27/%27%20+%20relativeUrl%3B%0D%0A%20%20%7D%0D%0A%20%20var%20match%20%3D%20urlResolve%28relativeUrl%29%3B%0D%0A%20%20locationObj.%24%24path%20%3D%20decodeURIComponent%28prefixed%20%26%26%20match.pathname.charAt%280%29%20%3D%3D%3D%20%27/%27%20%3F%0D%0A%20%20%20%20%20%20match.pathname.substring%281%29%20%3A%20match.pathname%29%3B%0D%0A%20%20locationObj.%24%24search%20%3D%20parseKeyValue%28match.search%29%3B%0D%0A%20%20locationObj.%24%24hash%20%3D%20decodeURIComponent%28match.hash%29%3B%0D%0A%0D%0A%20%20//%20make%20sure%20path%20starts%20with%20%27/%27%3B%0D%0A%20%20if%20%28locationObj.%24%24path%20%26%26%20locationObj.%24%24path.charAt%280%29%20%21%3D%20%27/%27%29%20%7B%0D%0A%20%20%20%20locationObj.%24%24path%20%3D%20%27/%27%20+%20locationObj.%24%24path%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20begin%0D%0A%20*%20@param%20%7Bstring%7D%20whole%0D%0A%20*%20@returns%20%7Bstring%7D%20returns%20text%20from%20whole%20after%20begin%20or%20undefined%20if%20it%20does%20not%20begin%20with%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20expected%20string.%0D%0A%20*/%0D%0Afunction%20beginsWith%28begin%2C%20whole%29%20%7B%0D%0A%20%20if%20%28whole.indexOf%28begin%29%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20return%20whole.substr%28begin.length%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20stripHash%28url%29%20%7B%0D%0A%20%20var%20index%20%3D%20url.indexOf%28%27%23%27%29%3B%0D%0A%20%20return%20index%20%3D%3D%20-1%20%3F%20url%20%3A%20url.substr%280%2C%20index%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20trimEmptyHash%28url%29%20%7B%0D%0A%20%20return%20url.replace%28/%28%23.+%29%7C%23%24/%2C%20%27%241%27%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20stripFile%28url%29%20%7B%0D%0A%20%20return%20url.substr%280%2C%20stripHash%28url%29.lastIndexOf%28%27/%27%29%20+%201%29%3B%0D%0A%7D%0D%0A%0D%0A/*%20return%20the%20server%20only%20%28scheme%3A//host%3Aport%29%20*/%0D%0Afunction%20serverBase%28url%29%20%7B%0D%0A%20%20return%20url.substring%280%2C%20url.indexOf%28%27/%27%2C%20url.indexOf%28%27//%27%29%20+%202%29%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20LocationHtml5Url%20represents%20an%20url%0D%0A%20*%20This%20object%20is%20exposed%20as%20%24location%20service%20when%20HTML5%20mode%20is%20enabled%20and%20supported%0D%0A%20*%0D%0A%20*%20@constructor%0D%0A%20*%20@param%20%7Bstring%7D%20appBase%20application%20base%20URL%0D%0A%20*%20@param%20%7Bstring%7D%20basePrefix%20url%20path%20prefix%0D%0A%20*/%0D%0Afunction%20LocationHtml5Url%28appBase%2C%20basePrefix%29%20%7B%0D%0A%20%20this.%24%24html5%20%3D%20true%3B%0D%0A%20%20basePrefix%20%3D%20basePrefix%20%7C%7C%20%27%27%3B%0D%0A%20%20var%20appBaseNoFile%20%3D%20stripFile%28appBase%29%3B%0D%0A%20%20parseAbsoluteUrl%28appBase%2C%20this%29%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Parse%20given%20html5%20%28regular%29%20url%20string%20into%20properties%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20url%20HTML5%20url%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20this.%24%24parse%20%3D%20function%28url%29%20%7B%0D%0A%20%20%20%20var%20pathUrl%20%3D%20beginsWith%28appBaseNoFile%2C%20url%29%3B%0D%0A%20%20%20%20if%20%28%21isString%28pathUrl%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24locationMinErr%28%27ipthprfx%27%2C%20%27Invalid%20url%20%22%7B0%7D%22%2C%20missing%20path%20prefix%20%22%7B1%7D%22.%27%2C%20url%2C%0D%0A%20%20%20%20%20%20%20%20%20%20appBaseNoFile%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20parseAppUrl%28pathUrl%2C%20this%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21this.%24%24path%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24path%20%3D%20%27/%27%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20this.%24%24compose%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Compose%20url%20and%20update%20%60absUrl%60%20property%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20this.%24%24compose%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20search%20%3D%20toKeyValue%28this.%24%24search%29%2C%0D%0A%20%20%20%20%20%20%20%20hash%20%3D%20this.%24%24hash%20%3F%20%27%23%27%20+%20encodeUriSegment%28this.%24%24hash%29%20%3A%20%27%27%3B%0D%0A%0D%0A%20%20%20%20this.%24%24url%20%3D%20encodePath%28this.%24%24path%29%20+%20%28search%20%3F%20%27%3F%27%20+%20search%20%3A%20%27%27%29%20+%20hash%3B%0D%0A%20%20%20%20this.%24%24absUrl%20%3D%20appBaseNoFile%20+%20this.%24%24url.substr%281%29%3B%20//%20first%20char%20is%20always%20%27/%27%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24parseLinkUrl%20%3D%20function%28url%2C%20relHref%29%20%7B%0D%0A%20%20%20%20if%20%28relHref%20%26%26%20relHref%5B0%5D%20%3D%3D%3D%20%27%23%27%29%20%7B%0D%0A%20%20%20%20%20%20//%20special%20case%20for%20links%20to%20hash%20fragments%3A%0D%0A%20%20%20%20%20%20//%20keep%20the%20old%20url%20and%20only%20replace%20the%20hash%20fragment%0D%0A%20%20%20%20%20%20this.hash%28relHref.slice%281%29%29%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20appUrl%2C%20prevAppUrl%3B%0D%0A%20%20%20%20var%20rewrittenUrl%3B%0D%0A%0D%0A%20%20%20%20if%20%28%28appUrl%20%3D%20beginsWith%28appBase%2C%20url%29%29%20%21%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20prevAppUrl%20%3D%20appUrl%3B%0D%0A%20%20%20%20%20%20if%20%28%28appUrl%20%3D%20beginsWith%28basePrefix%2C%20appUrl%29%29%20%21%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20rewrittenUrl%20%3D%20appBaseNoFile%20+%20%28beginsWith%28%27/%27%2C%20appUrl%29%20%7C%7C%20appUrl%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20rewrittenUrl%20%3D%20appBase%20+%20prevAppUrl%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20if%20%28%28appUrl%20%3D%20beginsWith%28appBaseNoFile%2C%20url%29%29%20%21%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20rewrittenUrl%20%3D%20appBaseNoFile%20+%20appUrl%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28appBaseNoFile%20%3D%3D%20url%20+%20%27/%27%29%20%7B%0D%0A%20%20%20%20%20%20rewrittenUrl%20%3D%20appBaseNoFile%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28rewrittenUrl%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24parse%28rewrittenUrl%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%21%21rewrittenUrl%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20LocationHashbangUrl%20represents%20url%0D%0A%20*%20This%20object%20is%20exposed%20as%20%24location%20service%20when%20developer%20doesn%27t%20opt%20into%20html5%20mode.%0D%0A%20*%20It%20also%20serves%20as%20the%20base%20class%20for%20html5%20mode%20fallback%20on%20legacy%20browsers.%0D%0A%20*%0D%0A%20*%20@constructor%0D%0A%20*%20@param%20%7Bstring%7D%20appBase%20application%20base%20URL%0D%0A%20*%20@param%20%7Bstring%7D%20hashPrefix%20hashbang%20prefix%0D%0A%20*/%0D%0Afunction%20LocationHashbangUrl%28appBase%2C%20hashPrefix%29%20%7B%0D%0A%20%20var%20appBaseNoFile%20%3D%20stripFile%28appBase%29%3B%0D%0A%0D%0A%20%20parseAbsoluteUrl%28appBase%2C%20this%29%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Parse%20given%20hashbang%20url%20into%20properties%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20url%20Hashbang%20url%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20this.%24%24parse%20%3D%20function%28url%29%20%7B%0D%0A%20%20%20%20var%20withoutBaseUrl%20%3D%20beginsWith%28appBase%2C%20url%29%20%7C%7C%20beginsWith%28appBaseNoFile%2C%20url%29%3B%0D%0A%20%20%20%20var%20withoutHashUrl%3B%0D%0A%0D%0A%20%20%20%20if%20%28withoutBaseUrl.charAt%280%29%20%3D%3D%3D%20%27%23%27%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20//%20The%20rest%20of%20the%20url%20starts%20with%20a%20hash%20so%20we%20have%0D%0A%20%20%20%20%20%20//%20got%20either%20a%20hashbang%20path%20or%20a%20plain%20hash%20fragment%0D%0A%20%20%20%20%20%20withoutHashUrl%20%3D%20beginsWith%28hashPrefix%2C%20withoutBaseUrl%29%3B%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28withoutHashUrl%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20There%20was%20no%20hashbang%20prefix%20so%20we%20just%20have%20a%20hash%20fragment%0D%0A%20%20%20%20%20%20%20%20withoutHashUrl%20%3D%20withoutBaseUrl%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20//%20There%20was%20no%20hashbang%20path%20nor%20hash%20fragment%3A%0D%0A%20%20%20%20%20%20//%20If%20we%20are%20in%20HTML5%20mode%20we%20use%20what%20is%20left%20as%20the%20path%3B%0D%0A%20%20%20%20%20%20//%20Otherwise%20we%20ignore%20what%20is%20left%0D%0A%20%20%20%20%20%20withoutHashUrl%20%3D%20this.%24%24html5%20%3F%20withoutBaseUrl%20%3A%20%27%27%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20parseAppUrl%28withoutHashUrl%2C%20this%29%3B%0D%0A%0D%0A%20%20%20%20this.%24%24path%20%3D%20removeWindowsDriveName%28this.%24%24path%2C%20withoutHashUrl%2C%20appBase%29%3B%0D%0A%0D%0A%20%20%20%20this.%24%24compose%28%29%3B%0D%0A%0D%0A%20%20%20%20/*%0D%0A%20%20%20%20%20*%20In%20Windows%2C%20on%20an%20anchor%20node%20on%20documents%20loaded%20from%0D%0A%20%20%20%20%20*%20the%20filesystem%2C%20the%20browser%20will%20return%20a%20pathname%0D%0A%20%20%20%20%20*%20prefixed%20with%20the%20drive%20name%20%28%27/C%3A/path%27%29%20when%20a%0D%0A%20%20%20%20%20*%20pathname%20without%20a%20drive%20is%20set%3A%0D%0A%20%20%20%20%20*%20%20*%20a.setAttribute%28%27href%27%2C%20%27/foo%27%29%0D%0A%20%20%20%20%20*%20%20%20*%20a.pathname%20%3D%3D%3D%20%27/C%3A/foo%27%20//true%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Inside%20of%20Angular%2C%20we%27re%20always%20using%20pathnames%20that%0D%0A%20%20%20%20%20*%20do%20not%20include%20drive%20names%20for%20routing.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20removeWindowsDriveName%28path%2C%20url%2C%20base%29%20%7B%0D%0A%20%20%20%20%20%20/*%0D%0A%20%20%20%20%20%20Matches%20paths%20for%20file%20protocol%20on%20windows%2C%0D%0A%20%20%20%20%20%20such%20as%20/C%3A/foo/bar%2C%20and%20captures%20only%20/foo/bar.%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20var%20windowsFilePathExp%20%3D%20/%5E%5C/%5BA-Z%5D%3A%28%5C/.*%29/%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20firstPathSegmentMatch%3B%0D%0A%0D%0A%20%20%20%20%20%20//Get%20the%20relative%20path%20from%20the%20input%20URL.%0D%0A%20%20%20%20%20%20if%20%28url.indexOf%28base%29%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20url%20%3D%20url.replace%28base%2C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20The%20input%20URL%20intentionally%20contains%20a%20first%20path%20segment%20that%20ends%20with%20a%20colon.%0D%0A%20%20%20%20%20%20if%20%28windowsFilePathExp.exec%28url%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20path%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20firstPathSegmentMatch%20%3D%20windowsFilePathExp.exec%28path%29%3B%0D%0A%20%20%20%20%20%20return%20firstPathSegmentMatch%20%3F%20firstPathSegmentMatch%5B1%5D%20%3A%20path%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Compose%20hashbang%20url%20and%20update%20%60absUrl%60%20property%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20this.%24%24compose%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20search%20%3D%20toKeyValue%28this.%24%24search%29%2C%0D%0A%20%20%20%20%20%20%20%20hash%20%3D%20this.%24%24hash%20%3F%20%27%23%27%20+%20encodeUriSegment%28this.%24%24hash%29%20%3A%20%27%27%3B%0D%0A%0D%0A%20%20%20%20this.%24%24url%20%3D%20encodePath%28this.%24%24path%29%20+%20%28search%20%3F%20%27%3F%27%20+%20search%20%3A%20%27%27%29%20+%20hash%3B%0D%0A%20%20%20%20this.%24%24absUrl%20%3D%20appBase%20+%20%28this.%24%24url%20%3F%20hashPrefix%20+%20this.%24%24url%20%3A%20%27%27%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24parseLinkUrl%20%3D%20function%28url%2C%20relHref%29%20%7B%0D%0A%20%20%20%20if%20%28stripHash%28appBase%29%20%3D%3D%20stripHash%28url%29%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24parse%28url%29%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20false%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20LocationHashbangUrl%20represents%20url%0D%0A%20*%20This%20object%20is%20exposed%20as%20%24location%20service%20when%20html5%20history%20api%20is%20enabled%20but%20the%20browser%0D%0A%20*%20does%20not%20support%20it.%0D%0A%20*%0D%0A%20*%20@constructor%0D%0A%20*%20@param%20%7Bstring%7D%20appBase%20application%20base%20URL%0D%0A%20*%20@param%20%7Bstring%7D%20hashPrefix%20hashbang%20prefix%0D%0A%20*/%0D%0Afunction%20LocationHashbangInHtml5Url%28appBase%2C%20hashPrefix%29%20%7B%0D%0A%20%20this.%24%24html5%20%3D%20true%3B%0D%0A%20%20LocationHashbangUrl.apply%28this%2C%20arguments%29%3B%0D%0A%0D%0A%20%20var%20appBaseNoFile%20%3D%20stripFile%28appBase%29%3B%0D%0A%0D%0A%20%20this.%24%24parseLinkUrl%20%3D%20function%28url%2C%20relHref%29%20%7B%0D%0A%20%20%20%20if%20%28relHref%20%26%26%20relHref%5B0%5D%20%3D%3D%3D%20%27%23%27%29%20%7B%0D%0A%20%20%20%20%20%20//%20special%20case%20for%20links%20to%20hash%20fragments%3A%0D%0A%20%20%20%20%20%20//%20keep%20the%20old%20url%20and%20only%20replace%20the%20hash%20fragment%0D%0A%20%20%20%20%20%20this.hash%28relHref.slice%281%29%29%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20rewrittenUrl%3B%0D%0A%20%20%20%20var%20appUrl%3B%0D%0A%0D%0A%20%20%20%20if%20%28appBase%20%3D%3D%20stripHash%28url%29%29%20%7B%0D%0A%20%20%20%20%20%20rewrittenUrl%20%3D%20url%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28%28appUrl%20%3D%20beginsWith%28appBaseNoFile%2C%20url%29%29%29%20%7B%0D%0A%20%20%20%20%20%20rewrittenUrl%20%3D%20appBase%20+%20hashPrefix%20+%20appUrl%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28appBaseNoFile%20%3D%3D%3D%20url%20+%20%27/%27%29%20%7B%0D%0A%20%20%20%20%20%20rewrittenUrl%20%3D%20appBaseNoFile%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28rewrittenUrl%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24parse%28rewrittenUrl%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%21%21rewrittenUrl%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24compose%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20search%20%3D%20toKeyValue%28this.%24%24search%29%2C%0D%0A%20%20%20%20%20%20%20%20hash%20%3D%20this.%24%24hash%20%3F%20%27%23%27%20+%20encodeUriSegment%28this.%24%24hash%29%20%3A%20%27%27%3B%0D%0A%0D%0A%20%20%20%20this.%24%24url%20%3D%20encodePath%28this.%24%24path%29%20+%20%28search%20%3F%20%27%3F%27%20+%20search%20%3A%20%27%27%29%20+%20hash%3B%0D%0A%20%20%20%20//%20include%20hashPrefix%20in%20%24%24absUrl%20when%20%24%24url%20is%20empty%20so%20IE8%20%26%209%20do%20not%20reload%20page%20because%20of%20removal%20of%20%27%23%27%0D%0A%20%20%20%20this.%24%24absUrl%20%3D%20appBase%20+%20hashPrefix%20+%20this.%24%24url%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%7D%0D%0A%0D%0A%0D%0Avar%20locationPrototype%20%3D%20%7B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Are%20we%20in%20html5%20mode%3F%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20%24%24html5%3A%20false%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20Has%20any%20change%20been%20replacing%3F%0D%0A%20%20%20*%20@private%0D%0A%20%20%20*/%0D%0A%20%20%24%24replace%3A%20false%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23absUrl%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20only.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20full%20url%20representation%20with%20all%20segments%20encoded%20according%20to%20rules%20specified%20in%0D%0A%20%20%20*%20%5BRFC%203986%5D%28http%3A//www.ietf.org/rfc/rfc3986.txt%29.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20absUrl%20%3D%20%24location.absUrl%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20full%20url%0D%0A%20%20%20*/%0D%0A%20%20absUrl%3A%20locationGetter%28%27%24%24absUrl%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23url%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20/%20setter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20url%20%28e.g.%20%60/path%3Fa%3Db%23hash%60%29%20when%20called%20without%20any%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Change%20path%2C%20search%20and%20hash%2C%20when%20called%20with%20parameter%20and%20return%20%60%24location%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20url%20%3D%20%24location.url%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20url%20New%20url%20without%20base%20prefix%20%28e.g.%20%60/path%3Fa%3Db%23hash%60%29%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20url%0D%0A%20%20%20*/%0D%0A%20%20url%3A%20function%28url%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28url%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20this.%24%24url%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20match%20%3D%20PATH_MATCH.exec%28url%29%3B%0D%0A%20%20%20%20if%20%28match%5B1%5D%20%7C%7C%20url%20%3D%3D%3D%20%27%27%29%20this.path%28decodeURIComponent%28match%5B1%5D%29%29%3B%0D%0A%20%20%20%20if%20%28match%5B2%5D%20%7C%7C%20match%5B1%5D%20%7C%7C%20url%20%3D%3D%3D%20%27%27%29%20this.search%28match%5B3%5D%20%7C%7C%20%27%27%29%3B%0D%0A%20%20%20%20this.hash%28match%5B5%5D%20%7C%7C%20%27%27%29%3B%0D%0A%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23protocol%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20only.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20protocol%20of%20current%20url.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20protocol%20%3D%20%24location.protocol%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22http%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20protocol%20of%20current%20url%0D%0A%20%20%20*/%0D%0A%20%20protocol%3A%20locationGetter%28%27%24%24protocol%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23host%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20only.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20host%20of%20current%20url.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Note%3A%20compared%20to%20the%20non-angular%20version%20%60location.host%60%20which%20returns%20%60hostname%3Aport%60%2C%20this%20returns%20the%20%60hostname%60%20portion%20only.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20host%20%3D%20%24location.host%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22example.com%22%0D%0A%20%20%20*%0D%0A%20%20%20*%20//%20given%20url%20http%3A//user%3Apassword@example.com%3A8080/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20host%20%3D%20%24location.host%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22example.com%22%0D%0A%20%20%20*%20host%20%3D%20location.host%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22example.com%3A8080%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20host%20of%20current%20url.%0D%0A%20%20%20*/%0D%0A%20%20host%3A%20locationGetter%28%27%24%24host%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23port%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20only.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20port%20of%20current%20url.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20port%20%3D%20%24location.port%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%2080%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7BNumber%7D%20port%0D%0A%20%20%20*/%0D%0A%20%20port%3A%20locationGetter%28%27%24%24port%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23path%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20/%20setter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20path%20of%20current%20url%20when%20called%20without%20any%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Change%20path%20when%20called%20with%20parameter%20and%20return%20%60%24location%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Note%3A%20Path%20should%20always%20begin%20with%20forward%20slash%20%28/%29%2C%20this%20method%20will%20add%20the%20forward%20slash%0D%0A%20%20%20*%20if%20it%20is%20missing.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20path%20%3D%20%24location.path%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22/some/path%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B%28string%7Cnumber%29%3D%7D%20path%20New%20path%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20path%0D%0A%20%20%20*/%0D%0A%20%20path%3A%20locationGetterSetter%28%27%24%24path%27%2C%20function%28path%29%20%7B%0D%0A%20%20%20%20path%20%3D%20path%20%21%3D%3D%20null%20%3F%20path.toString%28%29%20%3A%20%27%27%3B%0D%0A%20%20%20%20return%20path.charAt%280%29%20%3D%3D%20%27/%27%20%3F%20path%20%3A%20%27/%27%20+%20path%3B%0D%0A%20%20%7D%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23search%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20/%20setter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20search%20part%20%28as%20object%29%20of%20current%20url%20when%20called%20without%20any%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Change%20search%20part%20when%20called%20with%20parameter%20and%20return%20%60%24location%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%0D%0A%20%20%20*%20var%20searchObject%20%3D%20%24location.search%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%7Bfoo%3A%20%27bar%27%2C%20baz%3A%20%27xoxo%27%7D%0D%0A%20%20%20*%0D%0A%20%20%20*%20//%20set%20foo%20to%20%27yipee%27%0D%0A%20%20%20*%20%24location.search%28%27foo%27%2C%20%27yipee%27%29%3B%0D%0A%20%20%20*%20//%20%24location.search%28%29%20%3D%3E%20%7Bfoo%3A%20%27yipee%27%2C%20baz%3A%20%27xoxo%27%7D%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7CObject.%3Cstring%3E%7CObject.%3CArray.%3Cstring%3E%3E%7D%20search%20New%20search%20params%20-%20string%20or%0D%0A%20%20%20*%20hash%20object.%0D%0A%20%20%20*%0D%0A%20%20%20*%20When%20called%20with%20a%20single%20argument%20the%20method%20acts%20as%20a%20setter%2C%20setting%20the%20%60search%60%20component%0D%0A%20%20%20*%20of%20%60%24location%60%20to%20the%20specified%20value.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20the%20argument%20is%20a%20hash%20object%20containing%20an%20array%20of%20values%2C%20these%20values%20will%20be%20encoded%0D%0A%20%20%20*%20as%20duplicate%20search%20parameters%20in%20the%20url.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B%28string%7CNumber%7CArray%3Cstring%3E%7Cboolean%29%3D%7D%20paramValue%20If%20%60search%60%20is%20a%20string%20or%20number%2C%20then%20%60paramValue%60%0D%0A%20%20%20*%20will%20override%20only%20a%20single%20search%20property.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20%60paramValue%60%20is%20an%20array%2C%20it%20will%20override%20the%20property%20of%20the%20%60search%60%20component%20of%0D%0A%20%20%20*%20%60%24location%60%20specified%20via%20the%20first%20argument.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20%60paramValue%60%20is%20%60null%60%2C%20the%20property%20specified%20via%20the%20first%20argument%20will%20be%20deleted.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20%60paramValue%60%20is%20%60true%60%2C%20the%20property%20specified%20via%20the%20first%20argument%20will%20be%20added%20with%20no%0D%0A%20%20%20*%20value%20nor%20trailing%20equal%20sign.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7BObject%7D%20If%20called%20with%20no%20arguments%20returns%20the%20parsed%20%60search%60%20object.%20If%20called%20with%0D%0A%20%20%20*%20one%20or%20more%20arguments%20returns%20%60%24location%60%20object%20itself.%0D%0A%20%20%20*/%0D%0A%20%20search%3A%20function%28search%2C%20paramValue%29%20%7B%0D%0A%20%20%20%20switch%20%28arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20return%20this.%24%24search%3B%0D%0A%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20if%20%28isString%28search%29%20%7C%7C%20isNumber%28search%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20search%20%3D%20search.toString%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24search%20%3D%20parseKeyValue%28search%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isObject%28search%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20search%20%3D%20copy%28search%2C%20%7B%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20remove%20object%20undefined%20or%20null%20properties%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28search%2C%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%20null%29%20delete%20search%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24search%20%3D%20search%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24locationMinErr%28%27isrcharg%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27The%20first%20argument%20of%20the%20%60%24location%23search%28%29%60%20call%20must%20be%20a%20string%20or%20an%20object.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28paramValue%29%20%7C%7C%20paramValue%20%3D%3D%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20this.%24%24search%5Bsearch%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24search%5Bsearch%5D%20%3D%20paramValue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20this.%24%24compose%28%29%3B%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23hash%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20/%20setter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20hash%20fragment%20when%20called%20without%20any%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Change%20hash%20fragment%20when%20called%20with%20parameter%20and%20return%20%60%24location%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20//%20given%20url%20http%3A//example.com/%23/some/path%3Ffoo%3Dbar%26baz%3Dxoxo%23hashValue%0D%0A%20%20%20*%20var%20hash%20%3D%20%24location.hash%28%29%3B%0D%0A%20%20%20*%20//%20%3D%3E%20%22hashValue%22%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B%28string%7Cnumber%29%3D%7D%20hash%20New%20hash%20fragment%0D%0A%20%20%20*%20@return%20%7Bstring%7D%20hash%0D%0A%20%20%20*/%0D%0A%20%20hash%3A%20locationGetterSetter%28%27%24%24hash%27%2C%20function%28hash%29%20%7B%0D%0A%20%20%20%20return%20hash%20%21%3D%3D%20null%20%3F%20hash.toString%28%29%20%3A%20%27%27%3B%0D%0A%20%20%7D%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23replace%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20If%20called%2C%20all%20changes%20to%20%24location%20during%20current%20%60%24digest%60%20will%20be%20replacing%20current%20history%0D%0A%20%20%20*%20record%2C%20instead%20of%20adding%20new%20one.%0D%0A%20%20%20*/%0D%0A%20%20replace%3A%20function%28%29%20%7B%0D%0A%20%20%20%20this.%24%24replace%20%3D%20true%3B%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0AforEach%28%5BLocationHashbangInHtml5Url%2C%20LocationHashbangUrl%2C%20LocationHtml5Url%5D%2C%20function%28Location%29%20%7B%0D%0A%20%20Location.prototype%20%3D%20Object.create%28locationPrototype%29%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24location%23state%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20method%20is%20getter%20/%20setter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Return%20the%20history%20state%20object%20when%20called%20without%20any%20parameter.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Change%20the%20history%20state%20object%20when%20called%20with%20one%20parameter%20and%20return%20%60%24location%60.%0D%0A%20%20%20*%20The%20state%20object%20is%20later%20passed%20to%20%60pushState%60%20or%20%60replaceState%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20NOTE%3A%20This%20method%20is%20supported%20only%20in%20HTML5%20mode%20and%20only%20in%20browsers%20supporting%0D%0A%20%20%20*%20the%20HTML5%20History%20API%20%28i.e.%20methods%20%60pushState%60%20and%20%60replaceState%60%29.%20If%20you%20need%20to%20support%0D%0A%20%20%20*%20older%20browsers%20%28like%20IE9%20or%20Android%20%3C%204.0%29%2C%20don%27t%20use%20this%20method.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bobject%3D%7D%20state%20State%20object%20for%20pushState%20or%20replaceState%0D%0A%20%20%20*%20@return%20%7Bobject%7D%20state%0D%0A%20%20%20*/%0D%0A%20%20Location.prototype.state%20%3D%20function%28state%29%20%7B%0D%0A%20%20%20%20if%20%28%21arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20return%20this.%24%24state%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28Location%20%21%3D%3D%20LocationHtml5Url%20%7C%7C%20%21this.%24%24html5%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24locationMinErr%28%27nostate%27%2C%20%27History%20API%20state%20support%20is%20available%20only%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%27in%20HTML5%20mode%20and%20only%20in%20browsers%20supporting%20HTML5%20History%20API%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20The%20user%20might%20modify%20%60stateObject%60%20after%20invoking%20%60%24location.state%28stateObject%29%60%0D%0A%20%20%20%20//%20but%20we%27re%20changing%20the%20%24%24state%20reference%20to%20%24browser.state%28%29%20during%20the%20%24digest%0D%0A%20%20%20%20//%20so%20the%20modification%20window%20is%20narrow.%0D%0A%20%20%20%20this.%24%24state%20%3D%20isUndefined%28state%29%20%3F%20null%20%3A%20state%3B%0D%0A%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%3B%0D%0A%7D%29%3B%0D%0A%0D%0A%0D%0Afunction%20locationGetter%28property%29%20%7B%0D%0A%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20return%20this%5Bproperty%5D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20locationGetterSetter%28property%2C%20preprocess%29%20%7B%0D%0A%20%20return%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20this%5Bproperty%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20this%5Bproperty%5D%20%3D%20preprocess%28value%29%3B%0D%0A%20%20%20%20this.%24%24compose%28%29%3B%0D%0A%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24location%0D%0A%20*%0D%0A%20*%20@requires%20%24rootElement%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%24location%20service%20parses%20the%20URL%20in%20the%20browser%20address%20bar%20%28based%20on%20the%0D%0A%20*%20%5Bwindow.location%5D%28https%3A//developer.mozilla.org/en/window.location%29%29%20and%20makes%20the%20URL%0D%0A%20*%20available%20to%20your%20application.%20Changes%20to%20the%20URL%20in%20the%20address%20bar%20are%20reflected%20into%0D%0A%20*%20%24location%20service%20and%20changes%20to%20%24location%20are%20reflected%20into%20the%20browser%20address%20bar.%0D%0A%20*%0D%0A%20*%20**The%20%24location%20service%3A**%0D%0A%20*%0D%0A%20*%20-%20Exposes%20the%20current%20URL%20in%20the%20browser%20address%20bar%2C%20so%20you%20can%0D%0A%20*%20%20%20-%20Watch%20and%20observe%20the%20URL.%0D%0A%20*%20%20%20-%20Change%20the%20URL.%0D%0A%20*%20-%20Synchronizes%20the%20URL%20with%20the%20browser%20when%20the%20user%0D%0A%20*%20%20%20-%20Changes%20the%20address%20bar.%0D%0A%20*%20%20%20-%20Clicks%20the%20back%20or%20forward%20button%20%28or%20clicks%20a%20History%20link%29.%0D%0A%20*%20%20%20-%20Clicks%20on%20a%20link.%0D%0A%20*%20-%20Represents%20the%20URL%20object%20as%20a%20set%20of%20methods%20%28protocol%2C%20host%2C%20port%2C%20path%2C%20search%2C%20hash%29.%0D%0A%20*%0D%0A%20*%20For%20more%20information%20see%20%7B@link%20guide/%24location%20Developer%20Guide%3A%20Using%20%24location%7D%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24locationProvider%0D%0A%20*%20@description%0D%0A%20*%20Use%20the%20%60%24locationProvider%60%20to%20configure%20how%20the%20application%20deep%20linking%20paths%20are%20stored.%0D%0A%20*/%0D%0Afunction%20%24LocationProvider%28%29%20%7B%0D%0A%20%20var%20hashPrefix%20%3D%20%27%27%2C%0D%0A%20%20%20%20%20%20html5Mode%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20enabled%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20requireBase%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20rewriteLinks%3A%20true%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24locationProvider%23hashPrefix%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20prefix%20Prefix%20for%20hash%20part%20%28containing%20path%20and%20search%29%0D%0A%20%20%20*%20@returns%20%7B*%7D%20current%20value%20if%20used%20as%20getter%20or%20itself%20%28chaining%29%20if%20used%20as%20setter%0D%0A%20%20%20*/%0D%0A%20%20this.hashPrefix%20%3D%20function%28prefix%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28prefix%29%29%20%7B%0D%0A%20%20%20%20%20%20hashPrefix%20%3D%20prefix%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20hashPrefix%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24locationProvider%23html5Mode%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20@param%20%7B%28boolean%7CObject%29%3D%7D%20mode%20If%20boolean%2C%20sets%20%60html5Mode.enabled%60%20to%20value.%0D%0A%20%20%20*%20%20%20If%20object%2C%20sets%20%60enabled%60%2C%20%60requireBase%60%20and%20%60rewriteLinks%60%20to%20respective%20values.%20Supported%0D%0A%20%20%20*%20%20%20properties%3A%0D%0A%20%20%20*%20%20%20-%20**enabled**%20%u2013%20%60%7Bboolean%7D%60%20%u2013%20%28default%3A%20false%29%20If%20true%2C%20will%20rely%20on%20%60history.pushState%60%20to%0D%0A%20%20%20*%20%20%20%20%20change%20urls%20where%20supported.%20Will%20fall%20back%20to%20hash-prefixed%20paths%20in%20browsers%20that%20do%20not%0D%0A%20%20%20*%20%20%20%20%20support%20%60pushState%60.%0D%0A%20%20%20*%20%20%20-%20**requireBase**%20-%20%60%7Bboolean%7D%60%20-%20%28default%3A%20%60true%60%29%20When%20html5Mode%20is%20enabled%2C%20specifies%0D%0A%20%20%20*%20%20%20%20%20whether%20or%20not%20a%20%3Cbase%3E%20tag%20is%20required%20to%20be%20present.%20If%20%60enabled%60%20and%20%60requireBase%60%20are%0D%0A%20%20%20*%20%20%20%20%20true%2C%20and%20a%20base%20tag%20is%20not%20present%2C%20an%20error%20will%20be%20thrown%20when%20%60%24location%60%20is%20injected.%0D%0A%20%20%20*%20%20%20%20%20See%20the%20%7B@link%20guide/%24location%20%24location%20guide%20for%20more%20information%7D%0D%0A%20%20%20*%20%20%20-%20**rewriteLinks**%20-%20%60%7Bboolean%7D%60%20-%20%28default%3A%20%60true%60%29%20When%20html5Mode%20is%20enabled%2C%0D%0A%20%20%20*%20%20%20%20%20enables/disables%20url%20rewriting%20for%20relative%20links.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7BObject%7D%20html5Mode%20object%20if%20used%20as%20getter%20or%20itself%20%28chaining%29%20if%20used%20as%20setter%0D%0A%20%20%20*/%0D%0A%20%20this.html5Mode%20%3D%20function%28mode%29%20%7B%0D%0A%20%20%20%20if%20%28isBoolean%28mode%29%29%20%7B%0D%0A%20%20%20%20%20%20html5Mode.enabled%20%3D%20mode%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28isObject%28mode%29%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isBoolean%28mode.enabled%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20html5Mode.enabled%20%3D%20mode.enabled%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isBoolean%28mode.requireBase%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20html5Mode.requireBase%20%3D%20mode.requireBase%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isBoolean%28mode.rewriteLinks%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20html5Mode.rewriteLinks%20%3D%20mode.rewriteLinks%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20html5Mode%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20event%0D%0A%20%20%20*%20@name%20%24location%23%24locationChangeStart%0D%0A%20%20%20*%20@eventType%20broadcast%20on%20root%20scope%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Broadcasted%20before%20a%20URL%20will%20change.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20change%20can%20be%20prevented%20by%20calling%0D%0A%20%20%20*%20%60preventDefault%60%20method%20of%20the%20event.%20See%20%7B@link%20ng.%24rootScope.Scope%23%24on%7D%20for%20more%0D%0A%20%20%20*%20details%20about%20event%20object.%20Upon%20successful%20change%0D%0A%20%20%20*%20%7B@link%20ng.%24location%23%24locationChangeSuccess%20%24locationChangeSuccess%7D%20is%20fired.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20%60newState%60%20and%20%60oldState%60%20parameters%20may%20be%20defined%20only%20in%20HTML5%20mode%20and%20when%0D%0A%20%20%20*%20the%20browser%20supports%20the%20HTML5%20History%20API.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BObject%7D%20angularEvent%20Synthetic%20event%20object.%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20newUrl%20New%20URL%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20oldUrl%20URL%20that%20was%20before%20it%20was%20changed.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20newState%20New%20history%20state%20object%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20oldState%20History%20state%20object%20that%20was%20before%20it%20was%20changed.%0D%0A%20%20%20*/%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20event%0D%0A%20%20%20*%20@name%20%24location%23%24locationChangeSuccess%0D%0A%20%20%20*%20@eventType%20broadcast%20on%20root%20scope%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Broadcasted%20after%20a%20URL%20was%20changed.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20%60newState%60%20and%20%60oldState%60%20parameters%20may%20be%20defined%20only%20in%20HTML5%20mode%20and%20when%0D%0A%20%20%20*%20the%20browser%20supports%20the%20HTML5%20History%20API.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BObject%7D%20angularEvent%20Synthetic%20event%20object.%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20newUrl%20New%20URL%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20oldUrl%20URL%20that%20was%20before%20it%20was%20changed.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20newState%20New%20history%20state%20object%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20oldState%20History%20state%20object%20that%20was%20before%20it%20was%20changed.%0D%0A%20%20%20*/%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24rootScope%27%2C%20%27%24browser%27%2C%20%27%24sniffer%27%2C%20%27%24rootElement%27%2C%20%27%24window%27%2C%0D%0A%20%20%20%20%20%20function%28%24rootScope%2C%20%24browser%2C%20%24sniffer%2C%20%24rootElement%2C%20%24window%29%20%7B%0D%0A%20%20%20%20var%20%24location%2C%0D%0A%20%20%20%20%20%20%20%20LocationMode%2C%0D%0A%20%20%20%20%20%20%20%20baseHref%20%3D%20%24browser.baseHref%28%29%2C%20//%20if%20base%5Bhref%5D%20is%20undefined%2C%20it%20defaults%20to%20%27%27%0D%0A%20%20%20%20%20%20%20%20initialUrl%20%3D%20%24browser.url%28%29%2C%0D%0A%20%20%20%20%20%20%20%20appBase%3B%0D%0A%0D%0A%20%20%20%20if%20%28html5Mode.enabled%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21baseHref%20%26%26%20html5Mode.requireBase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24locationMinErr%28%27nobase%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22%24location%20in%20HTML5%20mode%20requires%20a%20%3Cbase%3E%20tag%20to%20be%20present%21%22%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20appBase%20%3D%20serverBase%28initialUrl%29%20+%20%28baseHref%20%7C%7C%20%27/%27%29%3B%0D%0A%20%20%20%20%20%20LocationMode%20%3D%20%24sniffer.history%20%3F%20LocationHtml5Url%20%3A%20LocationHashbangInHtml5Url%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20appBase%20%3D%20stripHash%28initialUrl%29%3B%0D%0A%20%20%20%20%20%20LocationMode%20%3D%20LocationHashbangUrl%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%24location%20%3D%20new%20LocationMode%28appBase%2C%20%27%23%27%20+%20hashPrefix%29%3B%0D%0A%20%20%20%20%24location.%24%24parseLinkUrl%28initialUrl%2C%20initialUrl%29%3B%0D%0A%0D%0A%20%20%20%20%24location.%24%24state%20%3D%20%24browser.state%28%29%3B%0D%0A%0D%0A%20%20%20%20var%20IGNORE_URI_REGEXP%20%3D%20/%5E%5Cs*%28javascript%7Cmailto%29%3A/i%3B%0D%0A%0D%0A%20%20%20%20function%20setBrowserUrlWithFallback%28url%2C%20replace%2C%20state%29%20%7B%0D%0A%20%20%20%20%20%20var%20oldUrl%20%3D%20%24location.url%28%29%3B%0D%0A%20%20%20%20%20%20var%20oldState%20%3D%20%24location.%24%24state%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%24browser.url%28url%2C%20replace%2C%20state%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Make%20sure%20%24location.state%28%29%20returns%20referentially%20identical%20%28not%20just%20deeply%20equal%29%0D%0A%20%20%20%20%20%20%20%20//%20state%20object%3B%20this%20makes%20possible%20quick%20checking%20if%20the%20state%20changed%20in%20the%20digest%0D%0A%20%20%20%20%20%20%20%20//%20loop.%20Checking%20deep%20equality%20would%20be%20too%20expensive.%0D%0A%20%20%20%20%20%20%20%20%24location.%24%24state%20%3D%20%24browser.state%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Restore%20old%20values%20if%20pushState%20fails%0D%0A%20%20%20%20%20%20%20%20%24location.url%28oldUrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%24location.%24%24state%20%3D%20oldState%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20throw%20e%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%24rootElement.on%28%27click%27%2C%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20//%20TODO%28vojta%29%3A%20rewrite%20link%20when%20opening%20in%20new%20tab/window%20%28in%20legacy%20browser%29%0D%0A%20%20%20%20%20%20//%20currently%20we%20open%20nice%20url%20link%20and%20redirect%20then%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21html5Mode.rewriteLinks%20%7C%7C%20event.ctrlKey%20%7C%7C%20event.metaKey%20%7C%7C%20event.shiftKey%20%7C%7C%20event.which%20%3D%3D%202%20%7C%7C%20event.button%20%3D%3D%202%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20elm%20%3D%20jqLite%28event.target%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20traverse%20the%20DOM%20up%20to%20find%20first%20A%20tag%0D%0A%20%20%20%20%20%20while%20%28nodeName_%28elm%5B0%5D%29%20%21%3D%3D%20%27a%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20ignore%20rewriting%20if%20no%20A%20tag%20%28reached%20root%20element%2C%20or%20no%20parent%20-%20removed%20from%20document%29%0D%0A%20%20%20%20%20%20%20%20if%20%28elm%5B0%5D%20%3D%3D%3D%20%24rootElement%5B0%5D%20%7C%7C%20%21%28elm%20%3D%20elm.parent%28%29%29%5B0%5D%29%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20absHref%20%3D%20elm.prop%28%27href%27%29%3B%0D%0A%20%20%20%20%20%20//%20get%20the%20actual%20href%20attribute%20-%20see%0D%0A%20%20%20%20%20%20//%20http%3A//msdn.microsoft.com/en-us/library/ie/dd347148%28v%3Dvs.85%29.aspx%0D%0A%20%20%20%20%20%20var%20relHref%20%3D%20elm.attr%28%27href%27%29%20%7C%7C%20elm.attr%28%27xlink%3Ahref%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isObject%28absHref%29%20%26%26%20absHref.toString%28%29%20%3D%3D%3D%20%27%5Bobject%20SVGAnimatedString%5D%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20SVGAnimatedString.animVal%20should%20be%20identical%20to%20SVGAnimatedString.baseVal%2C%20unless%20during%0D%0A%20%20%20%20%20%20%20%20//%20an%20animation.%0D%0A%20%20%20%20%20%20%20%20absHref%20%3D%20urlResolve%28absHref.animVal%29.href%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20Ignore%20when%20url%20is%20started%20with%20javascript%3A%20or%20mailto%3A%0D%0A%20%20%20%20%20%20if%20%28IGNORE_URI_REGEXP.test%28absHref%29%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28absHref%20%26%26%20%21elm.attr%28%27target%27%29%20%26%26%20%21event.isDefaultPrevented%28%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%24location.%24%24parseLinkUrl%28absHref%2C%20relHref%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20We%20do%20a%20preventDefault%20for%20all%20urls%20that%20are%20part%20of%20the%20angular%20application%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20in%20html5mode%20and%20also%20without%2C%20so%20that%20we%20are%20able%20to%20abort%20navigation%20without%0D%0A%20%20%20%20%20%20%20%20%20%20//%20getting%20double%20entries%20in%20the%20location%20history.%0D%0A%20%20%20%20%20%20%20%20%20%20event.preventDefault%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20update%20location%20manually%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%24location.absUrl%28%29%20%21%3D%20%24browser.url%28%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24rootScope.%24apply%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20hack%20to%20work%20around%20FF6%20bug%20684208%20when%20scenario%20runner%20clicks%20on%20links%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24window.angular%5B%27ff-684208-preventDefault%27%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%0D%0A%20%20%20%20//%20rewrite%20hashbang%20url%20%3C%3E%20html5%20url%0D%0A%20%20%20%20if%20%28trimEmptyHash%28%24location.absUrl%28%29%29%20%21%3D%20trimEmptyHash%28initialUrl%29%29%20%7B%0D%0A%20%20%20%20%20%20%24browser.url%28%24location.absUrl%28%29%2C%20true%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20initializing%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20//%20update%20%24location%20when%20%24browser%20url%20changes%0D%0A%20%20%20%20%24browser.onUrlChange%28function%28newUrl%2C%20newState%29%20%7B%0D%0A%20%20%20%20%20%20%24rootScope.%24evalAsync%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20oldUrl%20%3D%20%24location.absUrl%28%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldState%20%3D%20%24location.%24%24state%3B%0D%0A%20%20%20%20%20%20%20%20var%20defaultPrevented%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24location.%24%24parse%28newUrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%24location.%24%24state%20%3D%20newState%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20defaultPrevented%20%3D%20%24rootScope.%24broadcast%28%27%24locationChangeStart%27%2C%20newUrl%2C%20oldUrl%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newState%2C%20oldState%29.defaultPrevented%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20if%20the%20location%20was%20changed%20by%20a%20%60%24locationChangeStart%60%20handler%20then%20stop%0D%0A%20%20%20%20%20%20%20%20//%20processing%20this%20location%20change%0D%0A%20%20%20%20%20%20%20%20if%20%28%24location.absUrl%28%29%20%21%3D%3D%20newUrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28defaultPrevented%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24location.%24%24parse%28oldUrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24location.%24%24state%20%3D%20oldState%3B%0D%0A%20%20%20%20%20%20%20%20%20%20setBrowserUrlWithFallback%28oldUrl%2C%20false%2C%20oldState%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20initializing%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20afterLocationChange%28oldUrl%2C%20oldState%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21%24rootScope.%24%24phase%29%20%24rootScope.%24digest%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20//%20update%20browser%0D%0A%20%20%20%20%24rootScope.%24watch%28function%20%24locationWatch%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20oldUrl%20%3D%20trimEmptyHash%28%24browser.url%28%29%29%3B%0D%0A%20%20%20%20%20%20var%20newUrl%20%3D%20trimEmptyHash%28%24location.absUrl%28%29%29%3B%0D%0A%20%20%20%20%20%20var%20oldState%20%3D%20%24browser.state%28%29%3B%0D%0A%20%20%20%20%20%20var%20currentReplace%20%3D%20%24location.%24%24replace%3B%0D%0A%20%20%20%20%20%20var%20urlOrStateChanged%20%3D%20oldUrl%20%21%3D%3D%20newUrl%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%28%24location.%24%24html5%20%26%26%20%24sniffer.history%20%26%26%20oldState%20%21%3D%3D%20%24location.%24%24state%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28initializing%20%7C%7C%20urlOrStateChanged%29%20%7B%0D%0A%20%20%20%20%20%20%20%20initializing%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24rootScope.%24evalAsync%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newUrl%20%3D%20%24location.absUrl%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20defaultPrevented%20%3D%20%24rootScope.%24broadcast%28%27%24locationChangeStart%27%2C%20newUrl%2C%20oldUrl%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24location.%24%24state%2C%20oldState%29.defaultPrevented%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20if%20the%20location%20was%20changed%20by%20a%20%60%24locationChangeStart%60%20handler%20then%20stop%0D%0A%20%20%20%20%20%20%20%20%20%20//%20processing%20this%20location%20change%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%24location.absUrl%28%29%20%21%3D%3D%20newUrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28defaultPrevented%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24location.%24%24parse%28oldUrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24location.%24%24state%20%3D%20oldState%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28urlOrStateChanged%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setBrowserUrlWithFallback%28newUrl%2C%20currentReplace%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldState%20%3D%3D%3D%20%24location.%24%24state%20%3F%20null%20%3A%20%24location.%24%24state%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20afterLocationChange%28oldUrl%2C%20oldState%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%24location.%24%24replace%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20we%20don%27t%20need%20to%20return%20anything%20because%20%24evalAsync%20will%20make%20the%20digest%20loop%20dirty%20when%0D%0A%20%20%20%20%20%20//%20there%20is%20a%20change%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20return%20%24location%3B%0D%0A%0D%0A%20%20%20%20function%20afterLocationChange%28oldUrl%2C%20oldState%29%20%7B%0D%0A%20%20%20%20%20%20%24rootScope.%24broadcast%28%27%24locationChangeSuccess%27%2C%20%24location.absUrl%28%29%2C%20oldUrl%2C%0D%0A%20%20%20%20%20%20%20%20%24location.%24%24state%2C%20oldState%29%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24log%0D%0A%20*%20@requires%20%24window%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Simple%20service%20for%20logging.%20Default%20implementation%20safely%20writes%20the%20message%0D%0A%20*%20into%20the%20browser%27s%20console%20%28if%20present%29.%0D%0A%20*%0D%0A%20*%20The%20main%20purpose%20of%20this%20service%20is%20to%20simplify%20debugging%20and%20troubleshooting.%0D%0A%20*%0D%0A%20*%20The%20default%20is%20to%20log%20%60debug%60%20messages.%20You%20can%20use%0D%0A%20*%20%7B@link%20ng.%24logProvider%20ng.%24logProvider%23debugEnabled%7D%20to%20change%20this.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22logExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20angular.module%28%27logExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20.controller%28%27LogController%27%2C%20%5B%27%24scope%27%2C%20%27%24log%27%2C%20function%28%24scope%2C%20%24log%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.%24log%20%3D%20%24log%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.message%20%3D%20%27Hello%20World%21%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22LogController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3EReload%20this%20page%20with%20open%20console%2C%20enter%20text%20and%20hit%20the%20log%20button...%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3EMessage%3A%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22message%22%20/%3E%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22%24log.log%28message%29%22%3Elog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22%24log.warn%28message%29%22%3Ewarn%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22%24log.info%28message%29%22%3Einfo%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22%24log.error%28message%29%22%3Eerror%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22%24log.debug%28message%29%22%3Edebug%3C/button%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24logProvider%0D%0A%20*%20@description%0D%0A%20*%20Use%20the%20%60%24logProvider%60%20to%20configure%20how%20the%20application%20logs%20messages%0D%0A%20*/%0D%0Afunction%20%24LogProvider%28%29%20%7B%0D%0A%20%20var%20debug%20%3D%20true%2C%0D%0A%20%20%20%20%20%20self%20%3D%20this%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24logProvider%23debugEnabled%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20flag%20enable%20or%20disable%20debug%20level%20messages%0D%0A%20%20%20*%20@returns%20%7B*%7D%20current%20value%20if%20used%20as%20getter%20or%20itself%20%28chaining%29%20if%20used%20as%20setter%0D%0A%20%20%20*/%0D%0A%20%20this.debugEnabled%20%3D%20function%28flag%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28flag%29%29%20%7B%0D%0A%20%20%20%20%20%20debug%20%3D%20flag%3B%0D%0A%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20debug%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20function%28%24window%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24log%23log%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Write%20a%20log%20message%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20log%3A%20consoleLog%28%27log%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24log%23info%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Write%20an%20information%20message%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20info%3A%20consoleLog%28%27info%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24log%23warn%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Write%20a%20warning%20message%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20warn%3A%20consoleLog%28%27warn%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24log%23error%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Write%20an%20error%20message%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20error%3A%20consoleLog%28%27error%27%29%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24log%23debug%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Write%20a%20debug%20message%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20debug%3A%20%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20fn%20%3D%20consoleLog%28%27debug%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28debug%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fn.apply%28self%2C%20arguments%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%28%29%29%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20function%20formatError%28arg%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28arg%20instanceof%20Error%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28arg.stack%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20arg%20%3D%20%28arg.message%20%26%26%20arg.stack.indexOf%28arg.message%29%20%3D%3D%3D%20-1%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%27Error%3A%20%27%20+%20arg.message%20+%20%27%5Cn%27%20+%20arg.stack%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20arg.stack%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28arg.sourceURL%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20arg%20%3D%20arg.message%20+%20%27%5Cn%27%20+%20arg.sourceURL%20+%20%27%3A%27%20+%20arg.line%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20arg%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20consoleLog%28type%29%20%7B%0D%0A%20%20%20%20%20%20var%20console%20%3D%20%24window.console%20%7C%7C%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20logFn%20%3D%20console%5Btype%5D%20%7C%7C%20console.log%20%7C%7C%20noop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hasApply%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Note%3A%20reading%20logFn.apply%20throws%20an%20error%20in%20IE11%20in%20IE8%20document%20mode.%0D%0A%20%20%20%20%20%20//%20The%20reason%20behind%20this%20is%20that%20console.log%20has%20type%20%22object%22%20in%20IE8...%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20hasApply%20%3D%20%21%21logFn.apply%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28hasApply%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28arguments%2C%20function%28arg%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20args.push%28formatError%28arg%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20logFn.apply%28console%2C%20args%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20we%20are%20IE%20which%20either%20doesn%27t%20have%20window.console%20%3D%3E%20this%20is%20noop%20and%20we%20do%20nothing%2C%0D%0A%20%20%20%20%20%20//%20or%20we%20are%20IE%20where%20console.log%20doesn%27t%20have%20apply%20so%20we%20log%20at%20least%20first%202%20args%0D%0A%20%20%20%20%20%20return%20function%28arg1%2C%20arg2%29%20%7B%0D%0A%20%20%20%20%20%20%20%20logFn%28arg1%2C%20arg2%20%3D%3D%20null%20%3F%20%27%27%20%3A%20arg2%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%0D%0A%20*%20%20%20%20%20Any%20commits%20to%20this%20file%20should%20be%20reviewed%20with%20security%20in%20mind.%20%20*%0D%0A%20*%20%20%20Changes%20to%20this%20file%20can%20potentially%20create%20security%20vulnerabilities.%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20An%20approval%20from%202%20Core%20members%20with%20history%20of%20modifying%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%20file%20is%20required.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20Does%20the%20change%20somehow%20allow%20for%20arbitrary%20javascript%20to%20be%20executed%3F%20*%0D%0A%20*%20%20%20%20Or%20allows%20for%20someone%20to%20change%20the%20prototype%20of%20built-in%20objects%3F%20%20%20*%0D%0A%20*%20%20%20%20%20Or%20gives%20undesired%20access%20to%20variables%20likes%20document%20or%20window%3F%20%20%20%20*%0D%0A%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*/%0D%0A%0D%0Avar%20%24parseMinErr%20%3D%20minErr%28%27%24parse%27%29%3B%0D%0A%0D%0A//%20Sandboxing%20Angular%20Expressions%0D%0A//%20------------------------------%0D%0A//%20Angular%20expressions%20are%20generally%20considered%20safe%20because%20these%20expressions%20only%20have%20direct%0D%0A//%20access%20to%20%60%24scope%60%20and%20locals.%20However%2C%20one%20can%20obtain%20the%20ability%20to%20execute%20arbitrary%20JS%20code%20by%0D%0A//%20obtaining%20a%20reference%20to%20native%20JS%20functions%20such%20as%20the%20Function%20constructor.%0D%0A//%0D%0A//%20As%20an%20example%2C%20consider%20the%20following%20Angular%20expression%3A%0D%0A//%0D%0A//%20%20%20%7B%7D.toString.constructor%28%27alert%28%22evil%20JS%20code%22%29%27%29%0D%0A//%0D%0A//%20This%20sandboxing%20technique%20is%20not%20perfect%20and%20doesn%27t%20aim%20to%20be.%20The%20goal%20is%20to%20prevent%20exploits%0D%0A//%20against%20the%20expression%20language%2C%20but%20not%20to%20prevent%20exploits%20that%20were%20enabled%20by%20exposing%0D%0A//%20sensitive%20JavaScript%20or%20browser%20APIs%20on%20Scope.%20Exposing%20such%20objects%20on%20a%20Scope%20is%20never%20a%20good%0D%0A//%20practice%20and%20therefore%20we%20are%20not%20even%20trying%20to%20protect%20against%20interaction%20with%20an%20object%0D%0A//%20explicitly%20exposed%20in%20this%20way.%0D%0A//%0D%0A//%20In%20general%2C%20it%20is%20not%20possible%20to%20access%20a%20Window%20object%20from%20an%20angular%20expression%20unless%20a%0D%0A//%20window%20or%20some%20DOM%20object%20that%20has%20a%20reference%20to%20window%20is%20published%20onto%20a%20Scope.%0D%0A//%20Similarly%20we%20prevent%20invocations%20of%20function%20known%20to%20be%20dangerous%2C%20as%20well%20as%20assignments%20to%0D%0A//%20native%20objects.%0D%0A//%0D%0A//%20See%20https%3A//docs.angularjs.org/guide/security%0D%0A%0D%0A%0D%0Afunction%20ensureSafeMemberName%28name%2C%20fullExpression%29%20%7B%0D%0A%20%20if%20%28name%20%3D%3D%3D%20%22__defineGetter__%22%20%7C%7C%20name%20%3D%3D%3D%20%22__defineSetter__%22%0D%0A%20%20%20%20%20%20%7C%7C%20name%20%3D%3D%3D%20%22__lookupGetter__%22%20%7C%7C%20name%20%3D%3D%3D%20%22__lookupSetter__%22%0D%0A%20%20%20%20%20%20%7C%7C%20name%20%3D%3D%3D%20%22__proto__%22%29%20%7B%0D%0A%20%20%20%20throw%20%24parseMinErr%28%27isecfld%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Attempting%20to%20access%20a%20disallowed%20field%20in%20Angular%20expressions%21%20%27%0D%0A%20%20%20%20%20%20%20%20+%20%27Expression%3A%20%7B0%7D%27%2C%20fullExpression%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20name%3B%0D%0A%7D%0D%0A%0D%0Afunction%20ensureSafeObject%28obj%2C%20fullExpression%29%20%7B%0D%0A%20%20//%20nifty%20check%20if%20obj%20is%20Function%20that%20is%20fast%20and%20works%20across%20iframes%20and%20other%20contexts%0D%0A%20%20if%20%28obj%29%20%7B%0D%0A%20%20%20%20if%20%28obj.constructor%20%3D%3D%3D%20obj%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecfn%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%27Referencing%20Function%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28//%20isWindow%28obj%29%0D%0A%20%20%20%20%20%20%20%20obj.window%20%3D%3D%3D%20obj%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecwindow%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%27Referencing%20the%20Window%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28//%20isElement%28obj%29%0D%0A%20%20%20%20%20%20%20%20obj.children%20%26%26%20%28obj.nodeName%20%7C%7C%20%28obj.prop%20%26%26%20obj.attr%20%26%26%20obj.find%29%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecdom%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%27Referencing%20DOM%20nodes%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28//%20block%20Object%20so%20that%20we%20can%27t%20get%20hold%20of%20dangerous%20Object.*%20methods%0D%0A%20%20%20%20%20%20%20%20obj%20%3D%3D%3D%20Object%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecobj%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%27Referencing%20Object%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20obj%3B%0D%0A%7D%0D%0A%0D%0Avar%20CALL%20%3D%20Function.prototype.call%3B%0D%0Avar%20APPLY%20%3D%20Function.prototype.apply%3B%0D%0Avar%20BIND%20%3D%20Function.prototype.bind%3B%0D%0A%0D%0Afunction%20ensureSafeFunction%28obj%2C%20fullExpression%29%20%7B%0D%0A%20%20if%20%28obj%29%20%7B%0D%0A%20%20%20%20if%20%28obj.constructor%20%3D%3D%3D%20obj%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecfn%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Referencing%20Function%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28obj%20%3D%3D%3D%20CALL%20%7C%7C%20obj%20%3D%3D%3D%20APPLY%20%7C%7C%20obj%20%3D%3D%3D%20BIND%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27isecff%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Referencing%20call%2C%20apply%20or%20bind%20in%20Angular%20expressions%20is%20disallowed%21%20Expression%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20fullExpression%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20OPERATORS%20%3D%20createMap%28%29%3B%0D%0AforEach%28%27+%20-%20*%20/%20%25%20%3D%3D%3D%20%21%3D%3D%20%3D%3D%20%21%3D%20%3C%20%3E%20%3C%3D%20%3E%3D%20%26%26%20%7C%7C%20%21%20%3D%20%7C%27.split%28%27%20%27%29%2C%20function%28operator%29%20%7B%20OPERATORS%5Boperator%5D%20%3D%20true%3B%20%7D%29%3B%0D%0Avar%20ESCAPE%20%3D%20%7B%22n%22%3A%22%5Cn%22%2C%20%22f%22%3A%22%5Cf%22%2C%20%22r%22%3A%22%5Cr%22%2C%20%22t%22%3A%22%5Ct%22%2C%20%22v%22%3A%22%5Cv%22%2C%20%22%27%22%3A%22%27%22%2C%20%27%22%27%3A%27%22%27%7D%3B%0D%0A%0D%0A%0D%0A/////////////////////////////////////////%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@constructor%0D%0A%20*/%0D%0Avar%20Lexer%20%3D%20function%28options%29%20%7B%0D%0A%20%20this.options%20%3D%20options%3B%0D%0A%7D%3B%0D%0A%0D%0ALexer.prototype%20%3D%20%7B%0D%0A%20%20constructor%3A%20Lexer%2C%0D%0A%0D%0A%20%20lex%3A%20function%28text%29%20%7B%0D%0A%20%20%20%20this.text%20%3D%20text%3B%0D%0A%20%20%20%20this.index%20%3D%200%3B%0D%0A%20%20%20%20this.tokens%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20while%20%28this.index%20%3C%20this.text.length%29%20%7B%0D%0A%20%20%20%20%20%20var%20ch%20%3D%20this.text.charAt%28this.index%29%3B%0D%0A%20%20%20%20%20%20if%20%28ch%20%3D%3D%3D%20%27%22%27%20%7C%7C%20ch%20%3D%3D%3D%20%22%27%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.readString%28ch%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28this.isNumber%28ch%29%20%7C%7C%20ch%20%3D%3D%3D%20%27.%27%20%26%26%20this.isNumber%28this.peek%28%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.readNumber%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28this.isIdent%28ch%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.readIdent%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28this.is%28ch%2C%20%27%28%29%7B%7D%5B%5D.%2C%3B%3A%3F%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.tokens.push%28%7Bindex%3A%20this.index%2C%20text%3A%20ch%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28this.isWhitespace%28ch%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20ch2%20%3D%20ch%20+%20this.peek%28%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20ch3%20%3D%20ch2%20+%20this.peek%282%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20op1%20%3D%20OPERATORS%5Bch%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20op2%20%3D%20OPERATORS%5Bch2%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20op3%20%3D%20OPERATORS%5Bch3%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28op1%20%7C%7C%20op2%20%7C%7C%20op3%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20token%20%3D%20op3%20%3F%20ch3%20%3A%20%28op2%20%3F%20ch2%20%3A%20ch%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.tokens.push%28%7Bindex%3A%20this.index%2C%20text%3A%20token%2C%20operator%3A%20true%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.index%20+%3D%20token.length%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.throwError%28%27Unexpected%20next%20character%20%27%2C%20this.index%2C%20this.index%20+%201%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20this.tokens%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20is%3A%20function%28ch%2C%20chars%29%20%7B%0D%0A%20%20%20%20return%20chars.indexOf%28ch%29%20%21%3D%3D%20-1%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20peek%3A%20function%28i%29%20%7B%0D%0A%20%20%20%20var%20num%20%3D%20i%20%7C%7C%201%3B%0D%0A%20%20%20%20return%20%28this.index%20+%20num%20%3C%20this.text.length%29%20%3F%20this.text.charAt%28this.index%20+%20num%29%20%3A%20false%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20isNumber%3A%20function%28ch%29%20%7B%0D%0A%20%20%20%20return%20%28%270%27%20%3C%3D%20ch%20%26%26%20ch%20%3C%3D%20%279%27%29%20%26%26%20typeof%20ch%20%3D%3D%3D%20%22string%22%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20isWhitespace%3A%20function%28ch%29%20%7B%0D%0A%20%20%20%20//%20IE%20treats%20non-breaking%20space%20as%20%5Cu00A0%0D%0A%20%20%20%20return%20%28ch%20%3D%3D%3D%20%27%20%27%20%7C%7C%20ch%20%3D%3D%3D%20%27%5Cr%27%20%7C%7C%20ch%20%3D%3D%3D%20%27%5Ct%27%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ch%20%3D%3D%3D%20%27%5Cn%27%20%7C%7C%20ch%20%3D%3D%3D%20%27%5Cv%27%20%7C%7C%20ch%20%3D%3D%3D%20%27%5Cu00A0%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20isIdent%3A%20function%28ch%29%20%7B%0D%0A%20%20%20%20return%20%28%27a%27%20%3C%3D%20ch%20%26%26%20ch%20%3C%3D%20%27z%27%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27A%27%20%3C%3D%20ch%20%26%26%20ch%20%3C%3D%20%27Z%27%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27_%27%20%3D%3D%3D%20ch%20%7C%7C%20ch%20%3D%3D%3D%20%27%24%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20isExpOperator%3A%20function%28ch%29%20%7B%0D%0A%20%20%20%20return%20%28ch%20%3D%3D%3D%20%27-%27%20%7C%7C%20ch%20%3D%3D%3D%20%27+%27%20%7C%7C%20this.isNumber%28ch%29%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20throwError%3A%20function%28error%2C%20start%2C%20end%29%20%7B%0D%0A%20%20%20%20end%20%3D%20end%20%7C%7C%20this.index%3B%0D%0A%20%20%20%20var%20colStr%20%3D%20%28isDefined%28start%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%27s%20%27%20+%20start%20+%20%20%27-%27%20+%20this.index%20+%20%27%20%5B%27%20+%20this.text.substring%28start%2C%20end%29%20+%20%27%5D%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%27%20%27%20+%20end%29%3B%0D%0A%20%20%20%20throw%20%24parseMinErr%28%27lexerr%27%2C%20%27Lexer%20Error%3A%20%7B0%7D%20at%20column%7B1%7D%20in%20expression%20%5B%7B2%7D%5D.%27%2C%0D%0A%20%20%20%20%20%20%20%20error%2C%20colStr%2C%20this.text%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20readNumber%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20number%20%3D%20%27%27%3B%0D%0A%20%20%20%20var%20start%20%3D%20this.index%3B%0D%0A%20%20%20%20while%20%28this.index%20%3C%20this.text.length%29%20%7B%0D%0A%20%20%20%20%20%20var%20ch%20%3D%20lowercase%28this.text.charAt%28this.index%29%29%3B%0D%0A%20%20%20%20%20%20if%20%28ch%20%3D%3D%20%27.%27%20%7C%7C%20this.isNumber%28ch%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20number%20+%3D%20ch%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20peekCh%20%3D%20this.peek%28%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28ch%20%3D%3D%20%27e%27%20%26%26%20this.isExpOperator%28peekCh%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20number%20+%3D%20ch%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.isExpOperator%28ch%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20peekCh%20%26%26%20this.isNumber%28peekCh%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20number.charAt%28number.length%20-%201%29%20%3D%3D%20%27e%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20number%20+%3D%20ch%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.isExpOperator%28ch%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%28%21peekCh%20%7C%7C%20%21this.isNumber%28peekCh%29%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20number.charAt%28number.length%20-%201%29%20%3D%3D%20%27e%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.throwError%28%27Invalid%20exponent%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.tokens.push%28%7B%0D%0A%20%20%20%20%20%20index%3A%20start%2C%0D%0A%20%20%20%20%20%20text%3A%20number%2C%0D%0A%20%20%20%20%20%20constant%3A%20true%2C%0D%0A%20%20%20%20%20%20value%3A%20Number%28number%29%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20readIdent%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20start%20%3D%20this.index%3B%0D%0A%20%20%20%20while%20%28this.index%20%3C%20this.text.length%29%20%7B%0D%0A%20%20%20%20%20%20var%20ch%20%3D%20this.text.charAt%28this.index%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21%28this.isIdent%28ch%29%20%7C%7C%20this.isNumber%28ch%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.tokens.push%28%7B%0D%0A%20%20%20%20%20%20index%3A%20start%2C%0D%0A%20%20%20%20%20%20text%3A%20this.text.slice%28start%2C%20this.index%29%2C%0D%0A%20%20%20%20%20%20identifier%3A%20true%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20readString%3A%20function%28quote%29%20%7B%0D%0A%20%20%20%20var%20start%20%3D%20this.index%3B%0D%0A%20%20%20%20this.index++%3B%0D%0A%20%20%20%20var%20string%20%3D%20%27%27%3B%0D%0A%20%20%20%20var%20rawString%20%3D%20quote%3B%0D%0A%20%20%20%20var%20escape%20%3D%20false%3B%0D%0A%20%20%20%20while%20%28this.index%20%3C%20this.text.length%29%20%7B%0D%0A%20%20%20%20%20%20var%20ch%20%3D%20this.text.charAt%28this.index%29%3B%0D%0A%20%20%20%20%20%20rawString%20+%3D%20ch%3B%0D%0A%20%20%20%20%20%20if%20%28escape%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28ch%20%3D%3D%3D%20%27u%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20hex%20%3D%20this.text.substring%28this.index%20+%201%2C%20this.index%20+%205%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21hex.match%28/%5B%5Cda-f%5D%7B4%7D/i%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.throwError%28%27Invalid%20unicode%20escape%20%5B%5C%5Cu%27%20+%20hex%20+%20%27%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20this.index%20+%3D%204%3B%0D%0A%20%20%20%20%20%20%20%20%20%20string%20+%3D%20String.fromCharCode%28parseInt%28hex%2C%2016%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rep%20%3D%20ESCAPE%5Bch%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20string%20%3D%20string%20+%20%28rep%20%7C%7C%20ch%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20escape%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28ch%20%3D%3D%3D%20%27%5C%5C%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20escape%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28ch%20%3D%3D%3D%20quote%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%20%20%20%20this.tokens.push%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20index%3A%20start%2C%0D%0A%20%20%20%20%20%20%20%20%20%20text%3A%20rawString%2C%0D%0A%20%20%20%20%20%20%20%20%20%20constant%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20value%3A%20string%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20string%20+%3D%20ch%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.index++%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.throwError%28%27Unterminated%20quote%27%2C%20start%29%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Avar%20AST%20%3D%20function%28lexer%2C%20options%29%20%7B%0D%0A%20%20this.lexer%20%3D%20lexer%3B%0D%0A%20%20this.options%20%3D%20options%3B%0D%0A%7D%3B%0D%0A%0D%0AAST.Program%20%3D%20%27Program%27%3B%0D%0AAST.ExpressionStatement%20%3D%20%27ExpressionStatement%27%3B%0D%0AAST.AssignmentExpression%20%3D%20%27AssignmentExpression%27%3B%0D%0AAST.ConditionalExpression%20%3D%20%27ConditionalExpression%27%3B%0D%0AAST.LogicalExpression%20%3D%20%27LogicalExpression%27%3B%0D%0AAST.BinaryExpression%20%3D%20%27BinaryExpression%27%3B%0D%0AAST.UnaryExpression%20%3D%20%27UnaryExpression%27%3B%0D%0AAST.CallExpression%20%3D%20%27CallExpression%27%3B%0D%0AAST.MemberExpression%20%3D%20%27MemberExpression%27%3B%0D%0AAST.Identifier%20%3D%20%27Identifier%27%3B%0D%0AAST.Literal%20%3D%20%27Literal%27%3B%0D%0AAST.ArrayExpression%20%3D%20%27ArrayExpression%27%3B%0D%0AAST.Property%20%3D%20%27Property%27%3B%0D%0AAST.ObjectExpression%20%3D%20%27ObjectExpression%27%3B%0D%0AAST.ThisExpression%20%3D%20%27ThisExpression%27%3B%0D%0A%0D%0A//%20Internal%20use%20only%0D%0AAST.NGValueParameter%20%3D%20%27NGValueParameter%27%3B%0D%0A%0D%0AAST.prototype%20%3D%20%7B%0D%0A%20%20ast%3A%20function%28text%29%20%7B%0D%0A%20%20%20%20this.text%20%3D%20text%3B%0D%0A%20%20%20%20this.tokens%20%3D%20this.lexer.lex%28text%29%3B%0D%0A%0D%0A%20%20%20%20var%20value%20%3D%20this.program%28%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28this.tokens.length%20%21%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20this.throwError%28%27is%20an%20unexpected%20token%27%2C%20this.tokens%5B0%5D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20value%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20program%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20body%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20while%20%28true%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28this.tokens.length%20%3E%200%20%26%26%20%21this.peek%28%27%7D%27%2C%20%27%29%27%2C%20%27%3B%27%2C%20%27%5D%27%29%29%0D%0A%20%20%20%20%20%20%20%20body.push%28this.expressionStatement%28%29%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21this.expect%28%27%3B%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20type%3A%20AST.Program%2C%20body%3A%20body%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20expressionStatement%3A%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%20type%3A%20AST.ExpressionStatement%2C%20expression%3A%20this.filterChain%28%29%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20filterChain%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.expression%28%29%3B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20while%20%28%28token%20%3D%20this.expect%28%27%7C%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20this.filter%28left%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20expression%3A%20function%28%29%20%7B%0D%0A%20%20%20%20return%20this.assignment%28%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20assignment%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20result%20%3D%20this.ternary%28%29%3B%0D%0A%20%20%20%20if%20%28this.expect%28%27%3D%27%29%29%20%7B%0D%0A%20%20%20%20%20%20result%20%3D%20%7B%20type%3A%20AST.AssignmentExpression%2C%20left%3A%20result%2C%20right%3A%20this.assignment%28%29%2C%20operator%3A%20%27%3D%27%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20result%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20ternary%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20test%20%3D%20this.logicalOR%28%29%3B%0D%0A%20%20%20%20var%20alternate%3B%0D%0A%20%20%20%20var%20consequent%3B%0D%0A%20%20%20%20if%20%28this.expect%28%27%3F%27%29%29%20%7B%0D%0A%20%20%20%20%20%20alternate%20%3D%20this.expression%28%29%3B%0D%0A%20%20%20%20%20%20if%20%28this.consume%28%27%3A%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20consequent%20%3D%20this.expression%28%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20type%3A%20AST.ConditionalExpression%2C%20test%3A%20test%2C%20alternate%3A%20alternate%2C%20consequent%3A%20consequent%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20test%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20logicalOR%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.logicalAND%28%29%3B%0D%0A%20%20%20%20while%20%28this.expect%28%27%7C%7C%27%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.LogicalExpression%2C%20operator%3A%20%27%7C%7C%27%2C%20left%3A%20left%2C%20right%3A%20this.logicalAND%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20logicalAND%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.equality%28%29%3B%0D%0A%20%20%20%20while%20%28this.expect%28%27%26%26%27%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.LogicalExpression%2C%20operator%3A%20%27%26%26%27%2C%20left%3A%20left%2C%20right%3A%20this.equality%28%29%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20equality%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.relational%28%29%3B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20while%20%28%28token%20%3D%20this.expect%28%27%3D%3D%27%2C%27%21%3D%27%2C%27%3D%3D%3D%27%2C%27%21%3D%3D%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.BinaryExpression%2C%20operator%3A%20token.text%2C%20left%3A%20left%2C%20right%3A%20this.relational%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20relational%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.additive%28%29%3B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20while%20%28%28token%20%3D%20this.expect%28%27%3C%27%2C%20%27%3E%27%2C%20%27%3C%3D%27%2C%20%27%3E%3D%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.BinaryExpression%2C%20operator%3A%20token.text%2C%20left%3A%20left%2C%20right%3A%20this.additive%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20additive%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.multiplicative%28%29%3B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20while%20%28%28token%20%3D%20this.expect%28%27+%27%2C%27-%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.BinaryExpression%2C%20operator%3A%20token.text%2C%20left%3A%20left%2C%20right%3A%20this.multiplicative%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20multiplicative%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20left%20%3D%20this.unary%28%29%3B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20while%20%28%28token%20%3D%20this.expect%28%27*%27%2C%27/%27%2C%27%25%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%20type%3A%20AST.BinaryExpression%2C%20operator%3A%20token.text%2C%20left%3A%20left%2C%20right%3A%20this.unary%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20left%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20unary%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20token%3B%0D%0A%20%20%20%20if%20%28%28token%20%3D%20this.expect%28%27+%27%2C%20%27-%27%2C%20%27%21%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%20type%3A%20AST.UnaryExpression%2C%20operator%3A%20token.text%2C%20prefix%3A%20true%2C%20argument%3A%20this.unary%28%29%20%7D%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20this.primary%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20primary%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20primary%3B%0D%0A%20%20%20%20if%20%28this.expect%28%27%28%27%29%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20this.filterChain%28%29%3B%0D%0A%20%20%20%20%20%20this.consume%28%27%29%27%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28this.expect%28%27%5B%27%29%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20this.arrayDeclaration%28%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28this.expect%28%27%7B%27%29%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20this.object%28%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28this.constants.hasOwnProperty%28this.peek%28%29.text%29%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20copy%28this.constants%5Bthis.consume%28%29.text%5D%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28this.peek%28%29.identifier%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20this.identifier%28%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28this.peek%28%29.constant%29%20%7B%0D%0A%20%20%20%20%20%20primary%20%3D%20this.constant%28%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20this.throwError%28%27not%20a%20primary%20expression%27%2C%20this.peek%28%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20next%3B%0D%0A%20%20%20%20while%20%28%28next%20%3D%20this.expect%28%27%28%27%2C%20%27%5B%27%2C%20%27.%27%29%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28next.text%20%3D%3D%3D%20%27%28%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20primary%20%3D%20%7Btype%3A%20AST.CallExpression%2C%20callee%3A%20primary%2C%20arguments%3A%20this.parseArguments%28%29%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20this.consume%28%27%29%27%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28next.text%20%3D%3D%3D%20%27%5B%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20primary%20%3D%20%7B%20type%3A%20AST.MemberExpression%2C%20object%3A%20primary%2C%20property%3A%20this.expression%28%29%2C%20computed%3A%20true%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20this.consume%28%27%5D%27%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28next.text%20%3D%3D%3D%20%27.%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20primary%20%3D%20%7B%20type%3A%20AST.MemberExpression%2C%20object%3A%20primary%2C%20property%3A%20this.identifier%28%29%2C%20computed%3A%20false%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.throwError%28%27IMPOSSIBLE%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20primary%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20filter%3A%20function%28baseExpression%29%20%7B%0D%0A%20%20%20%20var%20args%20%3D%20%5BbaseExpression%5D%3B%0D%0A%20%20%20%20var%20result%20%3D%20%7Btype%3A%20AST.CallExpression%2C%20callee%3A%20this.identifier%28%29%2C%20arguments%3A%20args%2C%20filter%3A%20true%7D%3B%0D%0A%0D%0A%20%20%20%20while%20%28this.expect%28%27%3A%27%29%29%20%7B%0D%0A%20%20%20%20%20%20args.push%28this.expression%28%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20result%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20parseArguments%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20if%20%28this.peekToken%28%29.text%20%21%3D%3D%20%27%29%27%29%20%7B%0D%0A%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20args.push%28this.expression%28%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20while%20%28this.expect%28%27%2C%27%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20args%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20identifier%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20token%20%3D%20this.consume%28%29%3B%0D%0A%20%20%20%20if%20%28%21token.identifier%29%20%7B%0D%0A%20%20%20%20%20%20this.throwError%28%27is%20not%20a%20valid%20identifier%27%2C%20token%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%7B%20type%3A%20AST.Identifier%2C%20name%3A%20token.text%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20constant%3A%20function%28%29%20%7B%0D%0A%20%20%20%20//%20TODO%20check%20that%20it%20is%20a%20constant%0D%0A%20%20%20%20return%20%7B%20type%3A%20AST.Literal%2C%20value%3A%20this.consume%28%29.value%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20arrayDeclaration%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20elements%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20if%20%28this.peekToken%28%29.text%20%21%3D%3D%20%27%5D%27%29%20%7B%0D%0A%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28this.peek%28%27%5D%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Support%20trailing%20commas%20per%20ES5.1.%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20elements.push%28this.expression%28%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20while%20%28this.expect%28%27%2C%27%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.consume%28%27%5D%27%29%3B%0D%0A%0D%0A%20%20%20%20return%20%7B%20type%3A%20AST.ArrayExpression%2C%20elements%3A%20elements%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20object%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20properties%20%3D%20%5B%5D%2C%20property%3B%0D%0A%20%20%20%20if%20%28this.peekToken%28%29.text%20%21%3D%3D%20%27%7D%27%29%20%7B%0D%0A%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28this.peek%28%27%7D%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Support%20trailing%20commas%20per%20ES5.1.%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20property%20%3D%20%7Btype%3A%20AST.Property%2C%20kind%3A%20%27init%27%7D%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28this.peek%28%29.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20property.key%20%3D%20this.constant%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.peek%28%29.identifier%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20property.key%20%3D%20this.identifier%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.throwError%28%22invalid%20key%22%2C%20this.peek%28%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.consume%28%27%3A%27%29%3B%0D%0A%20%20%20%20%20%20%20%20property.value%20%3D%20this.expression%28%29%3B%0D%0A%20%20%20%20%20%20%20%20properties.push%28property%29%3B%0D%0A%20%20%20%20%20%20%7D%20while%20%28this.expect%28%27%2C%27%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.consume%28%27%7D%27%29%3B%0D%0A%0D%0A%20%20%20%20return%20%7Btype%3A%20AST.ObjectExpression%2C%20properties%3A%20properties%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20throwError%3A%20function%28msg%2C%20token%29%20%7B%0D%0A%20%20%20%20throw%20%24parseMinErr%28%27syntax%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Syntax%20Error%3A%20Token%20%5C%27%7B0%7D%5C%27%20%7B1%7D%20at%20column%20%7B2%7D%20of%20the%20expression%20%5B%7B3%7D%5D%20starting%20at%20%5B%7B4%7D%5D.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20token.text%2C%20msg%2C%20%28token.index%20+%201%29%2C%20this.text%2C%20this.text.substring%28token.index%29%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20consume%3A%20function%28e1%29%20%7B%0D%0A%20%20%20%20if%20%28this.tokens.length%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27ueoe%27%2C%20%27Unexpected%20end%20of%20expression%3A%20%7B0%7D%27%2C%20this.text%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20token%20%3D%20this.expect%28e1%29%3B%0D%0A%20%20%20%20if%20%28%21token%29%20%7B%0D%0A%20%20%20%20%20%20this.throwError%28%27is%20unexpected%2C%20expecting%20%5B%27%20+%20e1%20+%20%27%5D%27%2C%20this.peek%28%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20token%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20peekToken%3A%20function%28%29%20%7B%0D%0A%20%20%20%20if%20%28this.tokens.length%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24parseMinErr%28%27ueoe%27%2C%20%27Unexpected%20end%20of%20expression%3A%20%7B0%7D%27%2C%20this.text%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20this.tokens%5B0%5D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20peek%3A%20function%28e1%2C%20e2%2C%20e3%2C%20e4%29%20%7B%0D%0A%20%20%20%20return%20this.peekAhead%280%2C%20e1%2C%20e2%2C%20e3%2C%20e4%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20peekAhead%3A%20function%28i%2C%20e1%2C%20e2%2C%20e3%2C%20e4%29%20%7B%0D%0A%20%20%20%20if%20%28this.tokens.length%20%3E%20i%29%20%7B%0D%0A%20%20%20%20%20%20var%20token%20%3D%20this.tokens%5Bi%5D%3B%0D%0A%20%20%20%20%20%20var%20t%20%3D%20token.text%3B%0D%0A%20%20%20%20%20%20if%20%28t%20%3D%3D%3D%20e1%20%7C%7C%20t%20%3D%3D%3D%20e2%20%7C%7C%20t%20%3D%3D%3D%20e3%20%7C%7C%20t%20%3D%3D%3D%20e4%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%28%21e1%20%26%26%20%21e2%20%26%26%20%21e3%20%26%26%20%21e4%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20token%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20false%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20expect%3A%20function%28e1%2C%20e2%2C%20e3%2C%20e4%29%20%7B%0D%0A%20%20%20%20var%20token%20%3D%20this.peek%28e1%2C%20e2%2C%20e3%2C%20e4%29%3B%0D%0A%20%20%20%20if%20%28token%29%20%7B%0D%0A%20%20%20%20%20%20this.tokens.shift%28%29%3B%0D%0A%20%20%20%20%20%20return%20token%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20false%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20/*%20%60undefined%60%20is%20not%20a%20constant%2C%20it%20is%20an%20identifier%2C%0D%0A%20%20%20*%20but%20using%20it%20as%20an%20identifier%20is%20not%20supported%0D%0A%20%20%20*/%0D%0A%20%20constants%3A%20%7B%0D%0A%20%20%20%20%27true%27%3A%20%7B%20type%3A%20AST.Literal%2C%20value%3A%20true%20%7D%2C%0D%0A%20%20%20%20%27false%27%3A%20%7B%20type%3A%20AST.Literal%2C%20value%3A%20false%20%7D%2C%0D%0A%20%20%20%20%27null%27%3A%20%7B%20type%3A%20AST.Literal%2C%20value%3A%20null%20%7D%2C%0D%0A%20%20%20%20%27undefined%27%3A%20%7Btype%3A%20AST.Literal%2C%20value%3A%20undefined%20%7D%2C%0D%0A%20%20%20%20%27this%27%3A%20%7Btype%3A%20AST.ThisExpression%20%7D%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Afunction%20ifDefined%28v%2C%20d%29%20%7B%0D%0A%20%20return%20typeof%20v%20%21%3D%3D%20%27undefined%27%20%3F%20v%20%3A%20d%3B%0D%0A%7D%0D%0A%0D%0Afunction%20plusFn%28l%2C%20r%29%20%7B%0D%0A%20%20if%20%28typeof%20l%20%3D%3D%3D%20%27undefined%27%29%20return%20r%3B%0D%0A%20%20if%20%28typeof%20r%20%3D%3D%3D%20%27undefined%27%29%20return%20l%3B%0D%0A%20%20return%20l%20+%20r%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isStateless%28%24filter%2C%20filterName%29%20%7B%0D%0A%20%20var%20fn%20%3D%20%24filter%28filterName%29%3B%0D%0A%20%20return%20%21fn.%24stateful%3B%0D%0A%7D%0D%0A%0D%0Afunction%20findConstantAndWatchExpressions%28ast%2C%20%24filter%29%20%7B%0D%0A%20%20var%20allConstants%3B%0D%0A%20%20var%20argsToWatch%3B%0D%0A%20%20switch%20%28ast.type%29%20%7B%0D%0A%20%20case%20AST.Program%3A%0D%0A%20%20%20%20allConstants%20%3D%20true%3B%0D%0A%20%20%20%20forEach%28ast.body%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20findConstantAndWatchExpressions%28expr.expression%2C%20%24filter%29%3B%0D%0A%20%20%20%20%20%20allConstants%20%3D%20allConstants%20%26%26%20expr.expression.constant%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20allConstants%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.Literal%3A%0D%0A%20%20%20%20ast.constant%20%3D%20true%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.UnaryExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.argument%2C%20%24filter%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20ast.argument.constant%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20ast.argument.toWatch%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.BinaryExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.left%2C%20%24filter%29%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.right%2C%20%24filter%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20ast.left.constant%20%26%26%20ast.right.constant%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20ast.left.toWatch.concat%28ast.right.toWatch%29%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.LogicalExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.left%2C%20%24filter%29%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.right%2C%20%24filter%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20ast.left.constant%20%26%26%20ast.right.constant%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20ast.constant%20%3F%20%5B%5D%20%3A%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.ConditionalExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.test%2C%20%24filter%29%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.alternate%2C%20%24filter%29%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.consequent%2C%20%24filter%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20ast.test.constant%20%26%26%20ast.alternate.constant%20%26%26%20ast.consequent.constant%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20ast.constant%20%3F%20%5B%5D%20%3A%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.Identifier%3A%0D%0A%20%20%20%20ast.constant%20%3D%20false%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.MemberExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.object%2C%20%24filter%29%3B%0D%0A%20%20%20%20if%20%28ast.computed%29%20%7B%0D%0A%20%20%20%20%20%20findConstantAndWatchExpressions%28ast.property%2C%20%24filter%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20ast.constant%20%3D%20ast.object.constant%20%26%26%20%28%21ast.computed%20%7C%7C%20ast.property.constant%29%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.CallExpression%3A%0D%0A%20%20%20%20allConstants%20%3D%20ast.filter%20%3F%20isStateless%28%24filter%2C%20ast.callee.name%29%20%3A%20false%3B%0D%0A%20%20%20%20argsToWatch%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28ast.arguments%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20findConstantAndWatchExpressions%28expr%2C%20%24filter%29%3B%0D%0A%20%20%20%20%20%20allConstants%20%3D%20allConstants%20%26%26%20expr.constant%3B%0D%0A%20%20%20%20%20%20if%20%28%21expr.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20argsToWatch.push.apply%28argsToWatch%2C%20expr.toWatch%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20allConstants%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20ast.filter%20%26%26%20isStateless%28%24filter%2C%20ast.callee.name%29%20%3F%20argsToWatch%20%3A%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.AssignmentExpression%3A%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.left%2C%20%24filter%29%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast.right%2C%20%24filter%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20ast.left.constant%20%26%26%20ast.right.constant%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20%5Bast%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.ArrayExpression%3A%0D%0A%20%20%20%20allConstants%20%3D%20true%3B%0D%0A%20%20%20%20argsToWatch%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28ast.elements%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20findConstantAndWatchExpressions%28expr%2C%20%24filter%29%3B%0D%0A%20%20%20%20%20%20allConstants%20%3D%20allConstants%20%26%26%20expr.constant%3B%0D%0A%20%20%20%20%20%20if%20%28%21expr.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20argsToWatch.push.apply%28argsToWatch%2C%20expr.toWatch%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20allConstants%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20argsToWatch%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.ObjectExpression%3A%0D%0A%20%20%20%20allConstants%20%3D%20true%3B%0D%0A%20%20%20%20argsToWatch%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28ast.properties%2C%20function%28property%29%20%7B%0D%0A%20%20%20%20%20%20findConstantAndWatchExpressions%28property.value%2C%20%24filter%29%3B%0D%0A%20%20%20%20%20%20allConstants%20%3D%20allConstants%20%26%26%20property.value.constant%3B%0D%0A%20%20%20%20%20%20if%20%28%21property.value.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20argsToWatch.push.apply%28argsToWatch%2C%20property.value.toWatch%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20ast.constant%20%3D%20allConstants%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20argsToWatch%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20case%20AST.ThisExpression%3A%0D%0A%20%20%20%20ast.constant%20%3D%20false%3B%0D%0A%20%20%20%20ast.toWatch%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20break%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20getInputs%28body%29%20%7B%0D%0A%20%20if%20%28body.length%20%21%3D%201%29%20return%3B%0D%0A%20%20var%20lastExpression%20%3D%20body%5B0%5D.expression%3B%0D%0A%20%20var%20candidate%20%3D%20lastExpression.toWatch%3B%0D%0A%20%20if%20%28candidate.length%20%21%3D%3D%201%29%20return%20candidate%3B%0D%0A%20%20return%20candidate%5B0%5D%20%21%3D%3D%20lastExpression%20%3F%20candidate%20%3A%20undefined%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isAssignable%28ast%29%20%7B%0D%0A%20%20return%20ast.type%20%3D%3D%3D%20AST.Identifier%20%7C%7C%20ast.type%20%3D%3D%3D%20AST.MemberExpression%3B%0D%0A%7D%0D%0A%0D%0Afunction%20assignableAST%28ast%29%20%7B%0D%0A%20%20if%20%28ast.body.length%20%3D%3D%3D%201%20%26%26%20isAssignable%28ast.body%5B0%5D.expression%29%29%20%7B%0D%0A%20%20%20%20return%20%7Btype%3A%20AST.AssignmentExpression%2C%20left%3A%20ast.body%5B0%5D.expression%2C%20right%3A%20%7Btype%3A%20AST.NGValueParameter%7D%2C%20operator%3A%20%27%3D%27%7D%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20isLiteral%28ast%29%20%7B%0D%0A%20%20return%20ast.body.length%20%3D%3D%3D%200%20%7C%7C%0D%0A%20%20%20%20%20%20ast.body.length%20%3D%3D%3D%201%20%26%26%20%28%0D%0A%20%20%20%20%20%20ast.body%5B0%5D.expression.type%20%3D%3D%3D%20AST.Literal%20%7C%7C%0D%0A%20%20%20%20%20%20ast.body%5B0%5D.expression.type%20%3D%3D%3D%20AST.ArrayExpression%20%7C%7C%0D%0A%20%20%20%20%20%20ast.body%5B0%5D.expression.type%20%3D%3D%3D%20AST.ObjectExpression%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isConstant%28ast%29%20%7B%0D%0A%20%20return%20ast.constant%3B%0D%0A%7D%0D%0A%0D%0Afunction%20ASTCompiler%28astBuilder%2C%20%24filter%29%20%7B%0D%0A%20%20this.astBuilder%20%3D%20astBuilder%3B%0D%0A%20%20this.%24filter%20%3D%20%24filter%3B%0D%0A%7D%0D%0A%0D%0AASTCompiler.prototype%20%3D%20%7B%0D%0A%20%20compile%3A%20function%28expression%2C%20expensiveChecks%29%20%7B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20var%20ast%20%3D%20this.astBuilder.ast%28expression%29%3B%0D%0A%20%20%20%20this.state%20%3D%20%7B%0D%0A%20%20%20%20%20%20nextId%3A%200%2C%0D%0A%20%20%20%20%20%20filters%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20expensiveChecks%3A%20expensiveChecks%2C%0D%0A%20%20%20%20%20%20fn%3A%20%7Bvars%3A%20%5B%5D%2C%20body%3A%20%5B%5D%2C%20own%3A%20%7B%7D%7D%2C%0D%0A%20%20%20%20%20%20assign%3A%20%7Bvars%3A%20%5B%5D%2C%20body%3A%20%5B%5D%2C%20own%3A%20%7B%7D%7D%2C%0D%0A%20%20%20%20%20%20inputs%3A%20%5B%5D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast%2C%20self.%24filter%29%3B%0D%0A%20%20%20%20var%20extra%20%3D%20%27%27%3B%0D%0A%20%20%20%20var%20assignable%3B%0D%0A%20%20%20%20this.stage%20%3D%20%27assign%27%3B%0D%0A%20%20%20%20if%20%28%28assignable%20%3D%20assignableAST%28ast%29%29%29%20%7B%0D%0A%20%20%20%20%20%20this.state.computing%20%3D%20%27assign%27%3B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20this.recurse%28assignable%2C%20result%29%3B%0D%0A%20%20%20%20%20%20extra%20%3D%20%27fn.assign%3D%27%20+%20this.generateFunction%28%27assign%27%2C%20%27s%2Cv%2Cl%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20toWatch%20%3D%20getInputs%28ast.body%29%3B%0D%0A%20%20%20%20self.stage%20%3D%20%27inputs%27%3B%0D%0A%20%20%20%20forEach%28toWatch%2C%20function%28watch%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20var%20fnKey%20%3D%20%27fn%27%20+%20key%3B%0D%0A%20%20%20%20%20%20self.state%5BfnKey%5D%20%3D%20%7Bvars%3A%20%5B%5D%2C%20body%3A%20%5B%5D%2C%20own%3A%20%7B%7D%7D%3B%0D%0A%20%20%20%20%20%20self.state.computing%20%3D%20fnKey%3B%0D%0A%20%20%20%20%20%20var%20intoId%20%3D%20self.nextId%28%29%3B%0D%0A%20%20%20%20%20%20self.recurse%28watch%2C%20intoId%29%3B%0D%0A%20%20%20%20%20%20self.return_%28intoId%29%3B%0D%0A%20%20%20%20%20%20self.state.inputs.push%28fnKey%29%3B%0D%0A%20%20%20%20%20%20watch.watchId%20%3D%20key%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20this.state.computing%20%3D%20%27fn%27%3B%0D%0A%20%20%20%20this.stage%20%3D%20%27main%27%3B%0D%0A%20%20%20%20this.recurse%28ast%29%3B%0D%0A%20%20%20%20var%20fnString%20%3D%0D%0A%20%20%20%20%20%20//%20The%20build%20and%20minification%20steps%20remove%20the%20string%20%22use%20strict%22%20from%20the%20code%2C%20but%20this%20is%20done%20using%20a%20regex.%0D%0A%20%20%20%20%20%20//%20This%20is%20a%20workaround%20for%20this%20until%20we%20do%20a%20better%20job%20at%20only%20removing%20the%20prefix%20only%20when%20we%20should.%0D%0A%20%20%20%20%20%20%27%22%27%20+%20this.USE%20+%20%27%20%27%20+%20this.STRICT%20+%20%27%22%3B%5Cn%27%20+%0D%0A%20%20%20%20%20%20this.filterPrefix%28%29%20+%0D%0A%20%20%20%20%20%20%27var%20fn%3D%27%20+%20this.generateFunction%28%27fn%27%2C%20%27s%2Cl%2Ca%2Ci%27%29%20+%0D%0A%20%20%20%20%20%20extra%20+%0D%0A%20%20%20%20%20%20this.watchFns%28%29%20+%0D%0A%20%20%20%20%20%20%27return%20fn%3B%27%3B%0D%0A%0D%0A%20%20%20%20/*%20jshint%20-W054%20*/%0D%0A%20%20%20%20var%20fn%20%3D%20%28new%20Function%28%27%24filter%27%2C%0D%0A%20%20%20%20%20%20%20%20%27ensureSafeMemberName%27%2C%0D%0A%20%20%20%20%20%20%20%20%27ensureSafeObject%27%2C%0D%0A%20%20%20%20%20%20%20%20%27ensureSafeFunction%27%2C%0D%0A%20%20%20%20%20%20%20%20%27ifDefined%27%2C%0D%0A%20%20%20%20%20%20%20%20%27plus%27%2C%0D%0A%20%20%20%20%20%20%20%20%27text%27%2C%0D%0A%20%20%20%20%20%20%20%20fnString%29%29%28%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24filter%2C%0D%0A%20%20%20%20%20%20%20%20%20%20ensureSafeMemberName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20ensureSafeObject%2C%0D%0A%20%20%20%20%20%20%20%20%20%20ensureSafeFunction%2C%0D%0A%20%20%20%20%20%20%20%20%20%20ifDefined%2C%0D%0A%20%20%20%20%20%20%20%20%20%20plusFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20expression%29%3B%0D%0A%20%20%20%20/*%20jshint%20+W054%20*/%0D%0A%20%20%20%20this.state%20%3D%20this.stage%20%3D%20undefined%3B%0D%0A%20%20%20%20fn.literal%20%3D%20isLiteral%28ast%29%3B%0D%0A%20%20%20%20fn.constant%20%3D%20isConstant%28ast%29%3B%0D%0A%20%20%20%20return%20fn%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20USE%3A%20%27use%27%2C%0D%0A%0D%0A%20%20STRICT%3A%20%27strict%27%2C%0D%0A%0D%0A%20%20watchFns%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20var%20fns%20%3D%20this.state.inputs%3B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20forEach%28fns%2C%20function%28name%29%20%7B%0D%0A%20%20%20%20%20%20result.push%28%27var%20%27%20+%20name%20+%20%27%3D%27%20+%20self.generateFunction%28name%2C%20%27s%27%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20if%20%28fns.length%29%20%7B%0D%0A%20%20%20%20%20%20result.push%28%27fn.inputs%3D%5B%27%20+%20fns.join%28%27%2C%27%29%20+%20%27%5D%3B%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20result.join%28%27%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20generateFunction%3A%20function%28name%2C%20params%29%20%7B%0D%0A%20%20%20%20return%20%27function%28%27%20+%20params%20+%20%27%29%7B%27%20+%0D%0A%20%20%20%20%20%20%20%20this.varsPrefix%28name%29%20+%0D%0A%20%20%20%20%20%20%20%20this.body%28name%29%20+%0D%0A%20%20%20%20%20%20%20%20%27%7D%3B%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20filterPrefix%3A%20function%28%29%20%7B%0D%0A%20%20%20%20var%20parts%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20forEach%28this.state.filters%2C%20function%28id%2C%20filter%29%20%7B%0D%0A%20%20%20%20%20%20parts.push%28id%20+%20%27%3D%24filter%28%27%20+%20self.escape%28filter%29%20+%20%27%29%27%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20if%20%28parts.length%29%20return%20%27var%20%27%20+%20parts.join%28%27%2C%27%29%20+%20%27%3B%27%3B%0D%0A%20%20%20%20return%20%27%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20varsPrefix%3A%20function%28section%29%20%7B%0D%0A%20%20%20%20return%20this.state%5Bsection%5D.vars.length%20%3F%20%27var%20%27%20+%20this.state%5Bsection%5D.vars.join%28%27%2C%27%29%20+%20%27%3B%27%20%3A%20%27%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20body%3A%20function%28section%29%20%7B%0D%0A%20%20%20%20return%20this.state%5Bsection%5D.body.join%28%27%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20recurse%3A%20function%28ast%2C%20intoId%2C%20nameId%2C%20recursionFn%2C%20create%2C%20skipWatchIdCheck%29%20%7B%0D%0A%20%20%20%20var%20left%2C%20right%2C%20self%20%3D%20this%2C%20args%2C%20expression%3B%0D%0A%20%20%20%20recursionFn%20%3D%20recursionFn%20%7C%7C%20noop%3B%0D%0A%20%20%20%20if%20%28%21skipWatchIdCheck%20%26%26%20isDefined%28ast.watchId%29%29%20%7B%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20this.if_%28%27i%27%2C%0D%0A%20%20%20%20%20%20%20%20this.lazyAssign%28intoId%2C%20this.computedMember%28%27i%27%2C%20ast.watchId%29%29%2C%0D%0A%20%20%20%20%20%20%20%20this.lazyRecurse%28ast%2C%20intoId%2C%20nameId%2C%20recursionFn%2C%20create%2C%20true%29%0D%0A%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20switch%20%28ast.type%29%20%7B%0D%0A%20%20%20%20case%20AST.Program%3A%0D%0A%20%20%20%20%20%20forEach%28ast.body%2C%20function%28expression%2C%20pos%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.recurse%28expression.expression%2C%20undefined%2C%20undefined%2C%20function%28expr%29%20%7B%20right%20%3D%20expr%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28pos%20%21%3D%3D%20ast.body.length%20-%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.current%28%29.body.push%28right%2C%20%27%3B%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.return_%28right%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.Literal%3A%0D%0A%20%20%20%20%20%20expression%20%3D%20this.escape%28ast.value%29%3B%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28expression%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.UnaryExpression%3A%0D%0A%20%20%20%20%20%20this.recurse%28ast.argument%2C%20undefined%2C%20undefined%2C%20function%28expr%29%20%7B%20right%20%3D%20expr%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20expression%20%3D%20ast.operator%20+%20%27%28%27%20+%20this.ifDefined%28right%2C%200%29%20+%20%27%29%27%3B%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28expression%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.BinaryExpression%3A%0D%0A%20%20%20%20%20%20this.recurse%28ast.left%2C%20undefined%2C%20undefined%2C%20function%28expr%29%20%7B%20left%20%3D%20expr%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20this.recurse%28ast.right%2C%20undefined%2C%20undefined%2C%20function%28expr%29%20%7B%20right%20%3D%20expr%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20if%20%28ast.operator%20%3D%3D%3D%20%27+%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expression%20%3D%20this.plus%28left%2C%20right%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28ast.operator%20%3D%3D%3D%20%27-%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expression%20%3D%20this.ifDefined%28left%2C%200%29%20+%20ast.operator%20+%20this.ifDefined%28right%2C%200%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20expression%20%3D%20%27%28%27%20+%20left%20+%20%27%29%27%20+%20ast.operator%20+%20%27%28%27%20+%20right%20+%20%27%29%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28expression%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.LogicalExpression%3A%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20self.recurse%28ast.left%2C%20intoId%29%3B%0D%0A%20%20%20%20%20%20self.if_%28ast.operator%20%3D%3D%3D%20%27%26%26%27%20%3F%20intoId%20%3A%20self.not%28intoId%29%2C%20self.lazyRecurse%28ast.right%2C%20intoId%29%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.ConditionalExpression%3A%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20self.recurse%28ast.test%2C%20intoId%29%3B%0D%0A%20%20%20%20%20%20self.if_%28intoId%2C%20self.lazyRecurse%28ast.alternate%2C%20intoId%29%2C%20self.lazyRecurse%28ast.consequent%2C%20intoId%29%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.Identifier%3A%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20if%20%28nameId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20nameId.context%20%3D%20self.stage%20%3D%3D%3D%20%27inputs%27%20%3F%20%27s%27%20%3A%20this.assign%28this.nextId%28%29%2C%20this.getHasOwnProperty%28%27l%27%2C%20ast.name%29%20+%20%27%3Fl%3As%27%29%3B%0D%0A%20%20%20%20%20%20%20%20nameId.computed%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20nameId.name%20%3D%20ast.name%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20ensureSafeMemberName%28ast.name%29%3B%0D%0A%20%20%20%20%20%20self.if_%28self.stage%20%3D%3D%3D%20%27inputs%27%20%7C%7C%20self.not%28self.getHasOwnProperty%28%27l%27%2C%20ast.name%29%29%2C%0D%0A%20%20%20%20%20%20%20%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.if_%28self.stage%20%3D%3D%3D%20%27inputs%27%20%7C%7C%20%27s%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.if_%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.not%28self.nonComputedMember%28%27s%27%2C%20ast.name%29%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.lazyAssign%28self.nonComputedMember%28%27s%27%2C%20ast.name%29%2C%20%27%7B%7D%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20self.nonComputedMember%28%27s%27%2C%20ast.name%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20intoId%20%26%26%20self.lazyAssign%28intoId%2C%20self.nonComputedMember%28%27l%27%2C%20ast.name%29%29%0D%0A%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20if%20%28self.state.expensiveChecks%20%7C%7C%20isPossiblyDangerousMemberName%28ast.name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.addEnsureSafeObject%28intoId%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.MemberExpression%3A%0D%0A%20%20%20%20%20%20left%20%3D%20nameId%20%26%26%20%28nameId.context%20%3D%20this.nextId%28%29%29%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20self.recurse%28ast.object%2C%20left%2C%20undefined%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.if_%28self.notNull%28left%29%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28ast.computed%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20right%20%3D%20self.nextId%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.recurse%28ast.property%2C%20right%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.addEnsureSafeMemberName%28right%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.if_%28self.not%28self.computedMember%28left%2C%20right%29%29%2C%20self.lazyAssign%28self.computedMember%28left%2C%20right%29%2C%20%27%7B%7D%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.ensureSafeObject%28self.computedMember%28left%2C%20right%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nameId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameId.computed%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameId.name%20%3D%20right%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ensureSafeMemberName%28ast.property.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.if_%28self.not%28self.nonComputedMember%28left%2C%20ast.property.name%29%29%2C%20self.lazyAssign%28self.nonComputedMember%28left%2C%20ast.property.name%29%2C%20%27%7B%7D%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.nonComputedMember%28left%2C%20ast.property.name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28self.state.expensiveChecks%20%7C%7C%20isPossiblyDangerousMemberName%28ast.property.name%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.ensureSafeObject%28expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nameId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameId.computed%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameId.name%20%3D%20ast.property.name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20%21%21create%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.CallExpression%3A%0D%0A%20%20%20%20%20%20intoId%20%3D%20intoId%20%7C%7C%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20if%20%28ast.filter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20right%20%3D%20self.filter%28ast.callee.name%29%3B%0D%0A%20%20%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20forEach%28ast.arguments%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20argument%20%3D%20self.nextId%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20self.recurse%28expr%2C%20argument%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20args.push%28argument%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20expression%20%3D%20right%20+%20%27%28%27%20+%20args.join%28%27%2C%27%29%20+%20%27%29%27%3B%0D%0A%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20right%20%3D%20self.nextId%28%29%3B%0D%0A%20%20%20%20%20%20%20%20left%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20self.recurse%28ast.callee%2C%20right%2C%20left%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.if_%28self.notNull%28right%29%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.addEnsureSafeFunction%28right%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20forEach%28ast.arguments%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.recurse%28expr%2C%20self.nextId%28%29%2C%20undefined%2C%20function%28argument%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20args.push%28self.ensureSafeObject%28argument%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28left.name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21self.state.expensiveChecks%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.addEnsureSafeObject%28left.context%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.member%28left.context%2C%20left.name%2C%20left.computed%29%20+%20%27%28%27%20+%20args.join%28%27%2C%27%29%20+%20%27%29%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20right%20+%20%27%28%27%20+%20args.join%28%27%2C%27%29%20+%20%27%29%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.ensureSafeObject%28expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20recursionFn%28intoId%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.AssignmentExpression%3A%0D%0A%20%20%20%20%20%20right%20%3D%20this.nextId%28%29%3B%0D%0A%20%20%20%20%20%20left%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20if%20%28%21isAssignable%28ast.left%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24parseMinErr%28%27lval%27%2C%20%27Trying%20to%20assing%20a%20value%20to%20a%20non%20l-value%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.recurse%28ast.left%2C%20undefined%2C%20left%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.if_%28self.notNull%28left.context%29%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.recurse%28ast.right%2C%20right%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20self.addEnsureSafeObject%28self.member%28left.context%2C%20left.name%2C%20left.computed%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expression%20%3D%20self.member%28left.context%2C%20left.name%2C%20left.computed%29%20+%20ast.operator%20+%20right%3B%0D%0A%20%20%20%20%20%20%20%20%20%20self.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20recursionFn%28intoId%20%7C%7C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%201%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.ArrayExpression%3A%0D%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28ast.elements%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.recurse%28expr%2C%20self.nextId%28%29%2C%20undefined%2C%20function%28argument%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20args.push%28argument%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20expression%20%3D%20%27%5B%27%20+%20args.join%28%27%2C%27%29%20+%20%27%5D%27%3B%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28expression%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.ObjectExpression%3A%0D%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28ast.properties%2C%20function%28property%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.recurse%28property.value%2C%20self.nextId%28%29%2C%20undefined%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20args.push%28self.escape%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20property.key.type%20%3D%3D%3D%20AST.Identifier%20%3F%20property.key.name%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%27%27%20+%20property.key.value%29%29%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3A%27%20+%20expr%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20expression%20%3D%20%27%7B%27%20+%20args.join%28%27%2C%27%29%20+%20%27%7D%27%3B%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28expression%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.ThisExpression%3A%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20%27s%27%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28%27s%27%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20AST.NGValueParameter%3A%0D%0A%20%20%20%20%20%20this.assign%28intoId%2C%20%27v%27%29%3B%0D%0A%20%20%20%20%20%20recursionFn%28%27v%27%29%3B%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20getHasOwnProperty%3A%20function%28element%2C%20property%29%20%7B%0D%0A%20%20%20%20var%20key%20%3D%20element%20+%20%27.%27%20+%20property%3B%0D%0A%20%20%20%20var%20own%20%3D%20this.current%28%29.own%3B%0D%0A%20%20%20%20if%20%28%21own.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20own%5Bkey%5D%20%3D%20this.nextId%28false%2C%20element%20+%20%27%26%26%28%27%20+%20this.escape%28property%29%20+%20%27%20in%20%27%20+%20element%20+%20%27%29%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20own%5Bkey%5D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20assign%3A%20function%28id%2C%20value%29%20%7B%0D%0A%20%20%20%20if%20%28%21id%29%20return%3B%0D%0A%20%20%20%20this.current%28%29.body.push%28id%2C%20%27%3D%27%2C%20value%2C%20%27%3B%27%29%3B%0D%0A%20%20%20%20return%20id%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20filter%3A%20function%28filterName%29%20%7B%0D%0A%20%20%20%20if%20%28%21this.state.filters.hasOwnProperty%28filterName%29%29%20%7B%0D%0A%20%20%20%20%20%20this.state.filters%5BfilterName%5D%20%3D%20this.nextId%28true%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20this.state.filters%5BfilterName%5D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20ifDefined%3A%20function%28id%2C%20defaultValue%29%20%7B%0D%0A%20%20%20%20return%20%27ifDefined%28%27%20+%20id%20+%20%27%2C%27%20+%20this.escape%28defaultValue%29%20+%20%27%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20plus%3A%20function%28left%2C%20right%29%20%7B%0D%0A%20%20%20%20return%20%27plus%28%27%20+%20left%20+%20%27%2C%27%20+%20right%20+%20%27%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20return_%3A%20function%28id%29%20%7B%0D%0A%20%20%20%20this.current%28%29.body.push%28%27return%20%27%2C%20id%2C%20%27%3B%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20if_%3A%20function%28test%2C%20alternate%2C%20consequent%29%20%7B%0D%0A%20%20%20%20if%20%28test%20%3D%3D%3D%20true%29%20%7B%0D%0A%20%20%20%20%20%20alternate%28%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20var%20body%20%3D%20this.current%28%29.body%3B%0D%0A%20%20%20%20%20%20body.push%28%27if%28%27%2C%20test%2C%20%27%29%7B%27%29%3B%0D%0A%20%20%20%20%20%20alternate%28%29%3B%0D%0A%20%20%20%20%20%20body.push%28%27%7D%27%29%3B%0D%0A%20%20%20%20%20%20if%20%28consequent%29%20%7B%0D%0A%20%20%20%20%20%20%20%20body.push%28%27else%7B%27%29%3B%0D%0A%20%20%20%20%20%20%20%20consequent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20body.push%28%27%7D%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20not%3A%20function%28expression%29%20%7B%0D%0A%20%20%20%20return%20%27%21%28%27%20+%20expression%20+%20%27%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20notNull%3A%20function%28expression%29%20%7B%0D%0A%20%20%20%20return%20expression%20+%20%27%21%3Dnull%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20nonComputedMember%3A%20function%28left%2C%20right%29%20%7B%0D%0A%20%20%20%20return%20left%20+%20%27.%27%20+%20right%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20computedMember%3A%20function%28left%2C%20right%29%20%7B%0D%0A%20%20%20%20return%20left%20+%20%27%5B%27%20+%20right%20+%20%27%5D%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20member%3A%20function%28left%2C%20right%2C%20computed%29%20%7B%0D%0A%20%20%20%20if%20%28computed%29%20return%20this.computedMember%28left%2C%20right%29%3B%0D%0A%20%20%20%20return%20this.nonComputedMember%28left%2C%20right%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20addEnsureSafeObject%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20this.current%28%29.body.push%28this.ensureSafeObject%28item%29%2C%20%27%3B%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20addEnsureSafeMemberName%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20this.current%28%29.body.push%28this.ensureSafeMemberName%28item%29%2C%20%27%3B%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20addEnsureSafeFunction%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20this.current%28%29.body.push%28this.ensureSafeFunction%28item%29%2C%20%27%3B%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20ensureSafeObject%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20return%20%27ensureSafeObject%28%27%20+%20item%20+%20%27%2Ctext%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20ensureSafeMemberName%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20return%20%27ensureSafeMemberName%28%27%20+%20item%20+%20%27%2Ctext%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20ensureSafeFunction%3A%20function%28item%29%20%7B%0D%0A%20%20%20%20return%20%27ensureSafeFunction%28%27%20+%20item%20+%20%27%2Ctext%29%27%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20lazyRecurse%3A%20function%28ast%2C%20intoId%2C%20nameId%2C%20recursionFn%2C%20create%2C%20skipWatchIdCheck%29%20%7B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20self.recurse%28ast%2C%20intoId%2C%20nameId%2C%20recursionFn%2C%20create%2C%20skipWatchIdCheck%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20lazyAssign%3A%20function%28id%2C%20value%29%20%7B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20self.assign%28id%2C%20value%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20stringEscapeRegex%3A%20/%5B%5E%20a-zA-Z0-9%5D/g%2C%0D%0A%0D%0A%20%20stringEscapeFn%3A%20function%28c%29%20%7B%0D%0A%20%20%20%20return%20%27%5C%5Cu%27%20+%20%28%270000%27%20+%20c.charCodeAt%280%29.toString%2816%29%29.slice%28-4%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20escape%3A%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28isString%28value%29%29%20return%20%22%27%22%20+%20value.replace%28this.stringEscapeRegex%2C%20this.stringEscapeFn%29%20+%20%22%27%22%3B%0D%0A%20%20%20%20if%20%28isNumber%28value%29%29%20return%20value.toString%28%29%3B%0D%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20true%29%20return%20%27true%27%3B%0D%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20false%29%20return%20%27false%27%3B%0D%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20null%29%20return%20%27null%27%3B%0D%0A%20%20%20%20if%20%28typeof%20value%20%3D%3D%3D%20%27undefined%27%29%20return%20%27undefined%27%3B%0D%0A%0D%0A%20%20%20%20throw%20%24parseMinErr%28%27esc%27%2C%20%27IMPOSSIBLE%27%29%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20nextId%3A%20function%28skip%2C%20init%29%20%7B%0D%0A%20%20%20%20var%20id%20%3D%20%27v%27%20+%20%28this.state.nextId++%29%3B%0D%0A%20%20%20%20if%20%28%21skip%29%20%7B%0D%0A%20%20%20%20%20%20this.current%28%29.vars.push%28id%20+%20%28init%20%3F%20%27%3D%27%20+%20init%20%3A%20%27%27%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20id%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20current%3A%20function%28%29%20%7B%0D%0A%20%20%20%20return%20this.state%5Bthis.state.computing%5D%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Afunction%20ASTInterpreter%28astBuilder%2C%20%24filter%29%20%7B%0D%0A%20%20this.astBuilder%20%3D%20astBuilder%3B%0D%0A%20%20this.%24filter%20%3D%20%24filter%3B%0D%0A%7D%0D%0A%0D%0AASTInterpreter.prototype%20%3D%20%7B%0D%0A%20%20compile%3A%20function%28expression%2C%20expensiveChecks%29%20%7B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20var%20ast%20%3D%20this.astBuilder.ast%28expression%29%3B%0D%0A%20%20%20%20this.expression%20%3D%20expression%3B%0D%0A%20%20%20%20this.expensiveChecks%20%3D%20expensiveChecks%3B%0D%0A%20%20%20%20findConstantAndWatchExpressions%28ast%2C%20self.%24filter%29%3B%0D%0A%20%20%20%20var%20assignable%3B%0D%0A%20%20%20%20var%20assign%3B%0D%0A%20%20%20%20if%20%28%28assignable%20%3D%20assignableAST%28ast%29%29%29%20%7B%0D%0A%20%20%20%20%20%20assign%20%3D%20this.recurse%28assignable%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20toWatch%20%3D%20getInputs%28ast.body%29%3B%0D%0A%20%20%20%20var%20inputs%3B%0D%0A%20%20%20%20if%20%28toWatch%29%20%7B%0D%0A%20%20%20%20%20%20inputs%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28toWatch%2C%20function%28watch%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20input%20%3D%20self.recurse%28watch%29%3B%0D%0A%20%20%20%20%20%20%20%20watch.input%20%3D%20input%3B%0D%0A%20%20%20%20%20%20%20%20inputs.push%28input%29%3B%0D%0A%20%20%20%20%20%20%20%20watch.watchId%20%3D%20key%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20expressions%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20forEach%28ast.body%2C%20function%28expression%29%20%7B%0D%0A%20%20%20%20%20%20expressions.push%28self.recurse%28expression.expression%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20var%20fn%20%3D%20ast.body.length%20%3D%3D%3D%200%20%3F%20function%28%29%20%7B%7D%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ast.body.length%20%3D%3D%3D%201%20%3F%20expressions%5B0%5D%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20function%28scope%2C%20locals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20lastValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20forEach%28expressions%2C%20function%28exp%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastValue%20%3D%20exp%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20lastValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20if%20%28assign%29%20%7B%0D%0A%20%20%20%20%20%20fn.assign%20%3D%20function%28scope%2C%20value%2C%20locals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20assign%28scope%2C%20locals%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28inputs%29%20%7B%0D%0A%20%20%20%20%20%20fn.inputs%20%3D%20inputs%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20fn.literal%20%3D%20isLiteral%28ast%29%3B%0D%0A%20%20%20%20fn.constant%20%3D%20isConstant%28ast%29%3B%0D%0A%20%20%20%20return%20fn%3B%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20recurse%3A%20function%28ast%2C%20context%2C%20create%29%20%7B%0D%0A%20%20%20%20var%20left%2C%20right%2C%20self%20%3D%20this%2C%20args%2C%20expression%3B%0D%0A%20%20%20%20if%20%28ast.input%29%20%7B%0D%0A%20%20%20%20%20%20return%20this.inputs%28ast.input%2C%20ast.watchId%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20switch%20%28ast.type%29%20%7B%0D%0A%20%20%20%20case%20AST.Literal%3A%0D%0A%20%20%20%20%20%20return%20this.value%28ast.value%2C%20context%29%3B%0D%0A%20%20%20%20case%20AST.UnaryExpression%3A%0D%0A%20%20%20%20%20%20right%20%3D%20this.recurse%28ast.argument%29%3B%0D%0A%20%20%20%20%20%20return%20this%5B%27unary%27%20+%20ast.operator%5D%28right%2C%20context%29%3B%0D%0A%20%20%20%20case%20AST.BinaryExpression%3A%0D%0A%20%20%20%20%20%20left%20%3D%20this.recurse%28ast.left%29%3B%0D%0A%20%20%20%20%20%20right%20%3D%20this.recurse%28ast.right%29%3B%0D%0A%20%20%20%20%20%20return%20this%5B%27binary%27%20+%20ast.operator%5D%28left%2C%20right%2C%20context%29%3B%0D%0A%20%20%20%20case%20AST.LogicalExpression%3A%0D%0A%20%20%20%20%20%20left%20%3D%20this.recurse%28ast.left%29%3B%0D%0A%20%20%20%20%20%20right%20%3D%20this.recurse%28ast.right%29%3B%0D%0A%20%20%20%20%20%20return%20this%5B%27binary%27%20+%20ast.operator%5D%28left%2C%20right%2C%20context%29%3B%0D%0A%20%20%20%20case%20AST.ConditionalExpression%3A%0D%0A%20%20%20%20%20%20return%20this%5B%27ternary%3F%3A%27%5D%28%0D%0A%20%20%20%20%20%20%20%20this.recurse%28ast.test%29%2C%0D%0A%20%20%20%20%20%20%20%20this.recurse%28ast.alternate%29%2C%0D%0A%20%20%20%20%20%20%20%20this.recurse%28ast.consequent%29%2C%0D%0A%20%20%20%20%20%20%20%20context%0D%0A%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20case%20AST.Identifier%3A%0D%0A%20%20%20%20%20%20ensureSafeMemberName%28ast.name%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20return%20self.identifier%28ast.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.expensiveChecks%20%7C%7C%20isPossiblyDangerousMemberName%28ast.name%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20context%2C%20create%2C%20self.expression%29%3B%0D%0A%20%20%20%20case%20AST.MemberExpression%3A%0D%0A%20%20%20%20%20%20left%20%3D%20this.recurse%28ast.object%2C%20false%2C%20%21%21create%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21ast.computed%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ensureSafeMemberName%28ast.property.name%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20%20%20right%20%3D%20ast.property.name%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28ast.computed%29%20right%20%3D%20this.recurse%28ast.property%29%3B%0D%0A%20%20%20%20%20%20return%20ast.computed%20%3F%0D%0A%20%20%20%20%20%20%20%20this.computedMember%28left%2C%20right%2C%20context%2C%20create%2C%20self.expression%29%20%3A%0D%0A%20%20%20%20%20%20%20%20this.nonComputedMember%28left%2C%20right%2C%20self.expensiveChecks%2C%20context%2C%20create%2C%20self.expression%29%3B%0D%0A%20%20%20%20case%20AST.CallExpression%3A%0D%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28ast.arguments%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20args.push%28self.recurse%28expr%29%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20if%20%28ast.filter%29%20right%20%3D%20this.%24filter%28ast.callee.name%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21ast.filter%29%20right%20%3D%20this.recurse%28ast.callee%2C%20true%29%3B%0D%0A%20%20%20%20%20%20return%20ast.filter%20%3F%0D%0A%20%20%20%20%20%20%20%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20args.length%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20values.push%28args%5Bi%5D%28scope%2C%20locals%2C%20assign%2C%20inputs%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20right.apply%28undefined%2C%20values%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bcontext%3A%20undefined%2C%20name%3A%20undefined%2C%20value%3A%20value%7D%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20%3A%0D%0A%20%20%20%20%20%20%20%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rhs%20%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28rhs.value%20%21%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ensureSafeObject%28rhs.context%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ensureSafeFunction%28rhs.value%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20args.length%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20values.push%28ensureSafeObject%28args%5Bi%5D%28scope%2C%20locals%2C%20assign%2C%20inputs%29%2C%20self.expression%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20ensureSafeObject%28rhs.value.apply%28rhs.context%2C%20values%29%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20value%7D%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20case%20AST.AssignmentExpression%3A%0D%0A%20%20%20%20%20%20left%20%3D%20this.recurse%28ast.left%2C%20true%2C%201%29%3B%0D%0A%20%20%20%20%20%20right%20%3D%20this.recurse%28ast.right%29%3B%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lhs%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20rhs%20%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20ensureSafeObject%28lhs.value%2C%20self.expression%29%3B%0D%0A%20%20%20%20%20%20%20%20lhs.context%5Blhs.name%5D%20%3D%20rhs%3B%0D%0A%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20rhs%7D%20%3A%20rhs%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20case%20AST.ArrayExpression%3A%0D%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28ast.elements%2C%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20args.push%28self.recurse%28expr%29%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20args.length%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20value.push%28args%5Bi%5D%28scope%2C%20locals%2C%20assign%2C%20inputs%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20value%7D%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20case%20AST.ObjectExpression%3A%0D%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28ast.properties%2C%20function%28property%29%20%7B%0D%0A%20%20%20%20%20%20%20%20args.push%28%7Bkey%3A%20property.key.type%20%3D%3D%3D%20AST.Identifier%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20property.key.name%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%27%27%20+%20property.key.value%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20self.recurse%28property.value%29%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20args.length%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20value%5Bargs%5Bi%5D.key%5D%20%3D%20args%5Bi%5D.value%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20value%7D%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20case%20AST.ThisExpression%3A%0D%0A%20%20%20%20%20%20return%20function%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20scope%7D%20%3A%20scope%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20case%20AST.NGValueParameter%3A%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20assign%7D%20%3A%20assign%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%2C%0D%0A%0D%0A%20%20%27unary+%27%3A%20function%28argument%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20argument%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28arg%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20arg%20%3D%20+arg%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20arg%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27unary-%27%3A%20function%28argument%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20argument%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28arg%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20arg%20%3D%20-arg%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20arg%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27unary%21%27%3A%20function%28argument%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20%21argument%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary+%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20lhs%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20var%20rhs%20%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20plusFn%28lhs%2C%20rhs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary-%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20lhs%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20var%20rhs%20%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20%28isDefined%28lhs%29%20%3F%20lhs%20%3A%200%29%20-%20%28isDefined%28rhs%29%20%3F%20rhs%20%3A%200%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary*%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20*%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary/%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20/%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%25%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%25%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3D%3D%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3D%3D%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%21%3D%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%21%3D%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3D%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3D%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%21%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%21%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3C%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3C%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3E%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3E%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3C%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3C%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%3E%3D%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3E%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%26%26%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%26%26%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27binary%7C%7C%27%3A%20function%28left%2C%20right%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7C%7C%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%27ternary%3F%3A%27%3A%20function%28test%2C%20alternate%2C%20consequent%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20arg%20%3D%20test%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3F%20alternate%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%3A%20consequent%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20return%20context%20%3F%20%7Bvalue%3A%20arg%7D%20%3A%20arg%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20value%3A%20function%28value%2C%20context%29%20%7B%0D%0A%20%20%20%20return%20function%28%29%20%7B%20return%20context%20%3F%20%7Bcontext%3A%20undefined%2C%20name%3A%20undefined%2C%20value%3A%20value%7D%20%3A%20value%3B%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20identifier%3A%20function%28name%2C%20expensiveChecks%2C%20context%2C%20create%2C%20expression%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20base%20%3D%20locals%20%26%26%20%28name%20in%20locals%29%20%3F%20locals%20%3A%20scope%3B%0D%0A%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%20%26%26%20base%20%26%26%20%21%28base%5Bname%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20base%5Bname%5D%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20value%20%3D%20base%20%3F%20base%5Bname%5D%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20if%20%28expensiveChecks%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ensureSafeObject%28value%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28context%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7Bcontext%3A%20base%2C%20name%3A%20name%2C%20value%3A%20value%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20computedMember%3A%20function%28left%2C%20right%2C%20context%2C%20create%2C%20expression%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20lhs%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20var%20rhs%3B%0D%0A%20%20%20%20%20%20var%20value%3B%0D%0A%20%20%20%20%20%20if%20%28lhs%20%21%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20rhs%20%3D%20right%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20ensureSafeMemberName%28rhs%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%20%26%26%20lhs%20%26%26%20%21%28lhs%5Brhs%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20lhs%5Brhs%5D%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20lhs%5Brhs%5D%3B%0D%0A%20%20%20%20%20%20%20%20ensureSafeObject%28value%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28context%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7Bcontext%3A%20lhs%2C%20name%3A%20rhs%2C%20value%3A%20value%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20nonComputedMember%3A%20function%28left%2C%20right%2C%20expensiveChecks%2C%20context%2C%20create%2C%20expression%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20var%20lhs%20%3D%20left%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20if%20%28create%20%26%26%20create%20%21%3D%3D%201%20%26%26%20lhs%20%26%26%20%21%28lhs%5Bright%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20lhs%5Bright%5D%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20value%20%3D%20lhs%20%21%3D%20null%20%3F%20lhs%5Bright%5D%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20if%20%28expensiveChecks%20%7C%7C%20isPossiblyDangerousMemberName%28right%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ensureSafeObject%28value%2C%20expression%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28context%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7Bcontext%3A%20lhs%2C%20name%3A%20right%2C%20value%3A%20value%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20inputs%3A%20function%28input%2C%20watchId%29%20%7B%0D%0A%20%20%20%20return%20function%28scope%2C%20value%2C%20locals%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28inputs%29%20return%20inputs%5BwatchId%5D%3B%0D%0A%20%20%20%20%20%20return%20input%28scope%2C%20value%2C%20locals%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@constructor%0D%0A%20*/%0D%0Avar%20Parser%20%3D%20function%28lexer%2C%20%24filter%2C%20options%29%20%7B%0D%0A%20%20this.lexer%20%3D%20lexer%3B%0D%0A%20%20this.%24filter%20%3D%20%24filter%3B%0D%0A%20%20this.options%20%3D%20options%3B%0D%0A%20%20this.ast%20%3D%20new%20AST%28this.lexer%29%3B%0D%0A%20%20this.astCompiler%20%3D%20options.csp%20%3F%20new%20ASTInterpreter%28this.ast%2C%20%24filter%29%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20ASTCompiler%28this.ast%2C%20%24filter%29%3B%0D%0A%7D%3B%0D%0A%0D%0AParser.prototype%20%3D%20%7B%0D%0A%20%20constructor%3A%20Parser%2C%0D%0A%0D%0A%20%20parse%3A%20function%28text%29%20%7B%0D%0A%20%20%20%20return%20this.astCompiler.compile%28text%2C%20this.options.expensiveChecks%29%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0A//////////////////////////////////////////////////%0D%0A//%20Parser%20helper%20functions%0D%0A//////////////////////////////////////////////////%0D%0A%0D%0Afunction%20setter%28obj%2C%20path%2C%20setValue%2C%20fullExp%29%20%7B%0D%0A%20%20ensureSafeObject%28obj%2C%20fullExp%29%3B%0D%0A%0D%0A%20%20var%20element%20%3D%20path.split%28%27.%27%29%2C%20key%3B%0D%0A%20%20for%20%28var%20i%20%3D%200%3B%20element.length%20%3E%201%3B%20i++%29%20%7B%0D%0A%20%20%20%20key%20%3D%20ensureSafeMemberName%28element.shift%28%29%2C%20fullExp%29%3B%0D%0A%20%20%20%20var%20propertyObj%20%3D%20ensureSafeObject%28obj%5Bkey%5D%2C%20fullExp%29%3B%0D%0A%20%20%20%20if%20%28%21propertyObj%29%20%7B%0D%0A%20%20%20%20%20%20propertyObj%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20propertyObj%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20obj%20%3D%20propertyObj%3B%0D%0A%20%20%7D%0D%0A%20%20key%20%3D%20ensureSafeMemberName%28element.shift%28%29%2C%20fullExp%29%3B%0D%0A%20%20ensureSafeObject%28obj%5Bkey%5D%2C%20fullExp%29%3B%0D%0A%20%20obj%5Bkey%5D%20%3D%20setValue%3B%0D%0A%20%20return%20setValue%3B%0D%0A%7D%0D%0A%0D%0Avar%20getterFnCacheDefault%20%3D%20createMap%28%29%3B%0D%0Avar%20getterFnCacheExpensive%20%3D%20createMap%28%29%3B%0D%0A%0D%0Afunction%20isPossiblyDangerousMemberName%28name%29%20%7B%0D%0A%20%20return%20name%20%3D%3D%20%27constructor%27%3B%0D%0A%7D%0D%0A%0D%0Avar%20objectValueOf%20%3D%20Object.prototype.valueOf%3B%0D%0A%0D%0Afunction%20getValueOf%28value%29%20%7B%0D%0A%20%20return%20isFunction%28value.valueOf%29%20%3F%20value.valueOf%28%29%20%3A%20objectValueOf.call%28value%29%3B%0D%0A%7D%0D%0A%0D%0A///////////////////////////////////%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24parse%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Converts%20Angular%20%7B@link%20guide/expression%20expression%7D%20into%20a%20function.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20var%20getter%20%3D%20%24parse%28%27user.name%27%29%3B%0D%0A%20*%20%20%20var%20setter%20%3D%20getter.assign%3B%0D%0A%20*%20%20%20var%20context%20%3D%20%7Buser%3A%7Bname%3A%27angular%27%7D%7D%3B%0D%0A%20*%20%20%20var%20locals%20%3D%20%7Buser%3A%7Bname%3A%27local%27%7D%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20expect%28getter%28context%29%29.toEqual%28%27angular%27%29%3B%0D%0A%20*%20%20%20setter%28context%2C%20%27newValue%27%29%3B%0D%0A%20*%20%20%20expect%28context.user.name%29.toEqual%28%27newValue%27%29%3B%0D%0A%20*%20%20%20expect%28getter%28context%2C%20locals%29%29.toEqual%28%27local%27%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20*%0D%0A%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20*%20%20%20%20%20%20%60context%60.%0D%0A%20*%0D%0A%20*%20%20%20%20The%20returned%20function%20also%20has%20the%20following%20properties%3A%0D%0A%20*%20%20%20%20%20%20*%20%60literal%60%20%u2013%20%60%7Bboolean%7D%60%20%u2013%20whether%20the%20expression%27s%20top-level%20node%20is%20a%20JavaScript%0D%0A%20*%20%20%20%20%20%20%20%20literal.%0D%0A%20*%20%20%20%20%20%20*%20%60constant%60%20%u2013%20%60%7Bboolean%7D%60%20%u2013%20whether%20the%20expression%20is%20made%20entirely%20of%20JavaScript%0D%0A%20*%20%20%20%20%20%20%20%20constant%20literals.%0D%0A%20*%20%20%20%20%20%20*%20%60assign%60%20%u2013%20%60%7B%3Ffunction%28context%2C%20value%29%7D%60%20%u2013%20if%20the%20expression%20is%20assignable%2C%20this%20will%20be%0D%0A%20*%20%20%20%20%20%20%20%20set%20to%20a%20function%20to%20change%20its%20value%20on%20the%20given%20context.%0D%0A%20*%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24parseProvider%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%60%24parseProvider%60%20can%20be%20used%20for%20configuring%20the%20default%20behavior%20of%20the%20%7B@link%20ng.%24parse%20%24parse%7D%0D%0A%20*%20%20service.%0D%0A%20*/%0D%0Afunction%20%24ParseProvider%28%29%20%7B%0D%0A%20%20var%20cacheDefault%20%3D%20createMap%28%29%3B%0D%0A%20%20var%20cacheExpensive%20%3D%20createMap%28%29%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24filter%27%2C%20%27%24sniffer%27%2C%20function%28%24filter%2C%20%24sniffer%29%20%7B%0D%0A%20%20%20%20var%20%24parseOptions%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20csp%3A%20%24sniffer.csp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20expensiveChecks%3A%20false%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%24parseOptionsExpensive%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20csp%3A%20%24sniffer.csp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20expensiveChecks%3A%20true%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20function%20%24parse%28exp%2C%20interceptorFn%2C%20expensiveChecks%29%20%7B%0D%0A%20%20%20%20%20%20var%20parsedExpression%2C%20oneTime%2C%20cacheKey%3B%0D%0A%0D%0A%20%20%20%20%20%20switch%20%28typeof%20exp%29%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%27string%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20exp%20%3D%20exp.trim%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cacheKey%20%3D%20exp%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cache%20%3D%20%28expensiveChecks%20%3F%20cacheExpensive%20%3A%20cacheDefault%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20parsedExpression%20%3D%20cache%5BcacheKey%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21parsedExpression%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28exp.charAt%280%29%20%3D%3D%3D%20%27%3A%27%20%26%26%20exp.charAt%281%29%20%3D%3D%3D%20%27%3A%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oneTime%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20exp%20%3D%20exp.substring%282%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20parseOptions%20%3D%20expensiveChecks%20%3F%20%24parseOptionsExpensive%20%3A%20%24parseOptions%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lexer%20%3D%20new%20Lexer%28parseOptions%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20parser%20%3D%20new%20Parser%28lexer%2C%20%24filter%2C%20parseOptions%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parsedExpression%20%3D%20parser.parse%28exp%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parsedExpression.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20parsedExpression.%24%24watchDelegate%20%3D%20constantWatchDelegate%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28oneTime%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20parsedExpression.%24%24watchDelegate%20%3D%20parsedExpression.literal%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oneTimeLiteralWatchDelegate%20%3A%20oneTimeWatchDelegate%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28parsedExpression.inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20parsedExpression.%24%24watchDelegate%20%3D%20inputsWatchDelegate%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cache%5BcacheKey%5D%20%3D%20parsedExpression%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20addInterceptor%28parsedExpression%2C%20interceptorFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20%27function%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20addInterceptor%28exp%2C%20interceptorFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20noop%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20function%20expressionInputDirtyCheck%28newValue%2C%20oldValueOfValue%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28newValue%20%3D%3D%20null%20%7C%7C%20oldValueOfValue%20%3D%3D%20null%29%20%7B%20//%20null/undefined%0D%0A%20%20%20%20%20%20%20%20return%20newValue%20%3D%3D%3D%20oldValueOfValue%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28typeof%20newValue%20%3D%3D%3D%20%27object%27%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20attempt%20to%20convert%20the%20value%20to%20a%20primitive%20type%0D%0A%20%20%20%20%20%20%20%20//%20TODO%28docs%29%3A%20add%20a%20note%20to%20docs%20that%20by%20implementing%20valueOf%20even%20objects%20and%20arrays%20can%0D%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20be%20cheaply%20dirty-checked%0D%0A%20%20%20%20%20%20%20%20newValue%20%3D%20getValueOf%28newValue%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20newValue%20%3D%3D%3D%20%27object%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20objects/arrays%20are%20not%20supported%20-%20deep-watching%20them%20would%20be%20too%20expensive%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20fall-through%20to%20the%20primitive%20equality%20check%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//Primitive%20or%20NaN%0D%0A%20%20%20%20%20%20return%20newValue%20%3D%3D%3D%20oldValueOfValue%20%7C%7C%20%28newValue%20%21%3D%3D%20newValue%20%26%26%20oldValueOfValue%20%21%3D%3D%20oldValueOfValue%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20inputsWatchDelegate%28scope%2C%20listener%2C%20objectEquality%2C%20parsedExpression%2C%20prettyPrintExpression%29%20%7B%0D%0A%20%20%20%20%20%20var%20inputExpressions%20%3D%20parsedExpression.inputs%3B%0D%0A%20%20%20%20%20%20var%20lastResult%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28inputExpressions.length%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20oldInputValueOf%20%3D%20expressionInputDirtyCheck%3B%20//%20init%20to%20something%20unique%20so%20that%20equals%20check%20fails%0D%0A%20%20%20%20%20%20%20%20inputExpressions%20%3D%20inputExpressions%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20scope.%24watch%28function%20expressionInputWatch%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newInputValue%20%3D%20inputExpressions%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21expressionInputDirtyCheck%28newInputValue%2C%20oldInputValueOf%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lastResult%20%3D%20parsedExpression%28scope%2C%20undefined%2C%20undefined%2C%20%5BnewInputValue%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldInputValueOf%20%3D%20newInputValue%20%26%26%20getValueOf%28newInputValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20lastResult%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20listener%2C%20objectEquality%2C%20prettyPrintExpression%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20oldInputValueOfValues%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20var%20oldInputValues%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20inputExpressions.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20oldInputValueOfValues%5Bi%5D%20%3D%20expressionInputDirtyCheck%3B%20//%20init%20to%20something%20unique%20so%20that%20equals%20check%20fails%0D%0A%20%20%20%20%20%20%20%20oldInputValues%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20scope.%24watch%28function%20expressionInputsWatch%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20changed%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20inputExpressions.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newInputValue%20%3D%20inputExpressions%5Bi%5D%28scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28changed%20%7C%7C%20%28changed%20%3D%20%21expressionInputDirtyCheck%28newInputValue%2C%20oldInputValueOfValues%5Bi%5D%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldInputValues%5Bi%5D%20%3D%20newInputValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldInputValueOfValues%5Bi%5D%20%3D%20newInputValue%20%26%26%20getValueOf%28newInputValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28changed%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20lastResult%20%3D%20parsedExpression%28scope%2C%20undefined%2C%20undefined%2C%20oldInputValues%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20lastResult%3B%0D%0A%20%20%20%20%20%20%7D%2C%20listener%2C%20objectEquality%2C%20prettyPrintExpression%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20oneTimeWatchDelegate%28scope%2C%20listener%2C%20objectEquality%2C%20parsedExpression%29%20%7B%0D%0A%20%20%20%20%20%20var%20unwatch%2C%20lastValue%3B%0D%0A%20%20%20%20%20%20return%20unwatch%20%3D%20scope.%24watch%28function%20oneTimeWatch%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20parsedExpression%28scope%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%20oneTimeListener%28value%2C%20old%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20lastValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28listener%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20listener.apply%28this%2C%20arguments%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28isDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24%24postDigest%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isDefined%28lastValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20unwatch%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%20objectEquality%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20oneTimeLiteralWatchDelegate%28scope%2C%20listener%2C%20objectEquality%2C%20parsedExpression%29%20%7B%0D%0A%20%20%20%20%20%20var%20unwatch%2C%20lastValue%3B%0D%0A%20%20%20%20%20%20return%20unwatch%20%3D%20scope.%24watch%28function%20oneTimeWatch%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20parsedExpression%28scope%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%20oneTimeListener%28value%2C%20old%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20lastValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28listener%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20listener.call%28this%2C%20value%2C%20old%2C%20scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28isAllDefined%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24%24postDigest%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isAllDefined%28lastValue%29%29%20unwatch%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%20objectEquality%29%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20isAllDefined%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20allDefined%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20forEach%28value%2C%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isDefined%28val%29%29%20allDefined%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20allDefined%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20constantWatchDelegate%28scope%2C%20listener%2C%20objectEquality%2C%20parsedExpression%29%20%7B%0D%0A%20%20%20%20%20%20var%20unwatch%3B%0D%0A%20%20%20%20%20%20return%20unwatch%20%3D%20scope.%24watch%28function%20constantWatch%28scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20parsedExpression%28scope%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%20constantListener%28value%2C%20old%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28listener%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20listener.apply%28this%2C%20arguments%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20unwatch%28%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20objectEquality%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20addInterceptor%28parsedExpression%2C%20interceptorFn%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21interceptorFn%29%20return%20parsedExpression%3B%0D%0A%20%20%20%20%20%20var%20watchDelegate%20%3D%20parsedExpression.%24%24watchDelegate%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20regularWatch%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20watchDelegate%20%21%3D%3D%20oneTimeLiteralWatchDelegate%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20watchDelegate%20%21%3D%3D%20oneTimeWatchDelegate%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20fn%20%3D%20regularWatch%20%3F%20function%20regularInterceptedExpression%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20parsedExpression%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20interceptorFn%28value%2C%20scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%7D%20%3A%20function%20oneTimeInterceptedExpression%28scope%2C%20locals%2C%20assign%2C%20inputs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20parsedExpression%28scope%2C%20locals%2C%20assign%2C%20inputs%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20result%20%3D%20interceptorFn%28value%2C%20scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20//%20we%20only%20return%20the%20interceptor%27s%20result%20if%20the%0D%0A%20%20%20%20%20%20%20%20//%20initial%20value%20is%20defined%20%28for%20bind-once%29%0D%0A%20%20%20%20%20%20%20%20return%20isDefined%28value%29%20%3F%20result%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Propagate%20%24%24watchDelegates%20other%20then%20inputsWatchDelegate%0D%0A%20%20%20%20%20%20if%20%28parsedExpression.%24%24watchDelegate%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20parsedExpression.%24%24watchDelegate%20%21%3D%3D%20inputsWatchDelegate%29%20%7B%0D%0A%20%20%20%20%20%20%20%20fn.%24%24watchDelegate%20%3D%20parsedExpression.%24%24watchDelegate%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21interceptorFn.%24stateful%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20If%20there%20is%20an%20interceptor%2C%20but%20no%20watchDelegate%20then%20treat%20the%20interceptor%20like%0D%0A%20%20%20%20%20%20%20%20//%20we%20treat%20filters%20-%20it%20is%20assumed%20to%20be%20a%20pure%20function%20unless%20flagged%20with%20%24stateful%0D%0A%20%20%20%20%20%20%20%20fn.%24%24watchDelegate%20%3D%20inputsWatchDelegate%3B%0D%0A%20%20%20%20%20%20%20%20fn.inputs%20%3D%20parsedExpression.inputs%20%3F%20parsedExpression.inputs%20%3A%20%5BparsedExpression%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20fn%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24q%0D%0A%20*%20@requires%20%24rootScope%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20service%20that%20helps%20you%20run%20functions%20asynchronously%2C%20and%20use%20their%20return%20values%20%28or%20exceptions%29%0D%0A%20*%20when%20they%20are%20done%20processing.%0D%0A%20*%0D%0A%20*%20This%20is%20an%20implementation%20of%20promises/deferred%20objects%20inspired%20by%0D%0A%20*%20%5BKris%20Kowal%27s%20Q%5D%28https%3A//github.com/kriskowal/q%29.%0D%0A%20*%0D%0A%20*%20%24q%20can%20be%20used%20in%20two%20fashions%20---%20one%20which%20is%20more%20similar%20to%20Kris%20Kowal%27s%20Q%20or%20jQuery%27s%20Deferred%0D%0A%20*%20implementations%2C%20and%20the%20other%20which%20resembles%20ES6%20promises%20to%20some%20degree.%0D%0A%20*%0D%0A%20*%20%23%20%24q%20constructor%0D%0A%20*%0D%0A%20*%20The%20streamlined%20ES6%20style%20promise%20is%20essentially%20just%20using%20%24q%20as%20a%20constructor%20which%20takes%20a%20%60resolver%60%0D%0A%20*%20function%20as%20the%20first%20argument.%20This%20is%20similar%20to%20the%20native%20Promise%20implementation%20from%20ES6%20Harmony%2C%0D%0A%20*%20see%20%5BMDN%5D%28https%3A//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise%29.%0D%0A%20*%0D%0A%20*%20While%20the%20constructor-style%20use%20is%20supported%2C%20not%20all%20of%20the%20supporting%20methods%20from%20ES6%20Harmony%20promises%20are%0D%0A%20*%20available%20yet.%0D%0A%20*%0D%0A%20*%20It%20can%20be%20used%20like%20so%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20for%20the%20purpose%20of%20this%20example%20let%27s%20assume%20that%20variables%20%60%24q%60%20and%20%60okToGreet%60%0D%0A%20*%20%20%20//%20are%20available%20in%20the%20current%20lexical%20scope%20%28they%20could%20have%20been%20injected%20or%20passed%20in%29.%0D%0A%20*%0D%0A%20*%20%20%20function%20asyncGreet%28name%29%20%7B%0D%0A%20*%20%20%20%20%20//%20perform%20some%20asynchronous%20operation%2C%20resolve%20or%20reject%20the%20promise%20when%20appropriate.%0D%0A%20*%20%20%20%20%20return%20%24q%28function%28resolve%2C%20reject%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20setTimeout%28function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20if%20%28okToGreet%28name%29%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20resolve%28%27Hello%2C%20%27%20+%20name%20+%20%27%21%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20reject%28%27Greeting%20%27%20+%20name%20+%20%27%20is%20not%20allowed.%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20*%20%20%20%20%20%20%20%7D%2C%201000%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%7D%0D%0A%20*%0D%0A%20*%20%20%20var%20promise%20%3D%20asyncGreet%28%27Robin%20Hood%27%29%3B%0D%0A%20*%20%20%20promise.then%28function%28greeting%29%20%7B%0D%0A%20*%20%20%20%20%20alert%28%27Success%3A%20%27%20+%20greeting%29%3B%0D%0A%20*%20%20%20%7D%2C%20function%28reason%29%20%7B%0D%0A%20*%20%20%20%20%20alert%28%27Failed%3A%20%27%20+%20reason%29%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Note%3A%20progress/notify%20callbacks%20are%20not%20currently%20supported%20via%20the%20ES6-style%20interface.%0D%0A%20*%0D%0A%20*%20However%2C%20the%20more%20traditional%20CommonJS-style%20usage%20is%20still%20available%2C%20and%20documented%20below.%0D%0A%20*%0D%0A%20*%20%5BThe%20CommonJS%20Promise%20proposal%5D%28http%3A//wiki.commonjs.org/wiki/Promises%29%20describes%20a%20promise%20as%20an%0D%0A%20*%20interface%20for%20interacting%20with%20an%20object%20that%20represents%20the%20result%20of%20an%20action%20that%20is%0D%0A%20*%20performed%20asynchronously%2C%20and%20may%20or%20may%20not%20be%20finished%20at%20any%20given%20point%20in%20time.%0D%0A%20*%0D%0A%20*%20From%20the%20perspective%20of%20dealing%20with%20error%20handling%2C%20deferred%20and%20promise%20APIs%20are%20to%0D%0A%20*%20asynchronous%20programming%20what%20%60try%60%2C%20%60catch%60%20and%20%60throw%60%20keywords%20are%20to%20synchronous%20programming.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20for%20the%20purpose%20of%20this%20example%20let%27s%20assume%20that%20variables%20%60%24q%60%20and%20%60okToGreet%60%0D%0A%20*%20%20%20//%20are%20available%20in%20the%20current%20lexical%20scope%20%28they%20could%20have%20been%20injected%20or%20passed%20in%29.%0D%0A%20*%0D%0A%20*%20%20%20function%20asyncGreet%28name%29%20%7B%0D%0A%20*%20%20%20%20%20var%20deferred%20%3D%20%24q.defer%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20setTimeout%28function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20deferred.notify%28%27About%20to%20greet%20%27%20+%20name%20+%20%27.%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20if%20%28okToGreet%28name%29%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20deferred.resolve%28%27Hello%2C%20%27%20+%20name%20+%20%27%21%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20deferred.reject%28%27Greeting%20%27%20+%20name%20+%20%27%20is%20not%20allowed.%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%0D%0A%20*%20%20%20%20%20%7D%2C%201000%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20return%20deferred.promise%3B%0D%0A%20*%20%20%20%7D%0D%0A%20*%0D%0A%20*%20%20%20var%20promise%20%3D%20asyncGreet%28%27Robin%20Hood%27%29%3B%0D%0A%20*%20%20%20promise.then%28function%28greeting%29%20%7B%0D%0A%20*%20%20%20%20%20alert%28%27Success%3A%20%27%20+%20greeting%29%3B%0D%0A%20*%20%20%20%7D%2C%20function%28reason%29%20%7B%0D%0A%20*%20%20%20%20%20alert%28%27Failed%3A%20%27%20+%20reason%29%3B%0D%0A%20*%20%20%20%7D%2C%20function%28update%29%20%7B%0D%0A%20*%20%20%20%20%20alert%28%27Got%20notification%3A%20%27%20+%20update%29%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20At%20first%20it%20might%20not%20be%20obvious%20why%20this%20extra%20complexity%20is%20worth%20the%20trouble.%20The%20payoff%0D%0A%20*%20comes%20in%20the%20way%20of%20guarantees%20that%20promise%20and%20deferred%20APIs%20make%2C%20see%0D%0A%20*%20https%3A//github.com/kriskowal/uncommonjs/blob/master/promises/specification.md.%0D%0A%20*%0D%0A%20*%20Additionally%20the%20promise%20api%20allows%20for%20composition%20that%20is%20very%20hard%20to%20do%20with%20the%0D%0A%20*%20traditional%20callback%20%28%5BCPS%5D%28http%3A//en.wikipedia.org/wiki/Continuation-passing_style%29%29%20approach.%0D%0A%20*%20For%20more%20on%20this%20please%20see%20the%20%5BQ%20documentation%5D%28https%3A//github.com/kriskowal/q%29%20especially%20the%0D%0A%20*%20section%20on%20serial%20or%20parallel%20joining%20of%20promises.%0D%0A%20*%0D%0A%20*%20%23%20The%20Deferred%20API%0D%0A%20*%0D%0A%20*%20A%20new%20instance%20of%20deferred%20is%20constructed%20by%20calling%20%60%24q.defer%28%29%60.%0D%0A%20*%0D%0A%20*%20The%20purpose%20of%20the%20deferred%20object%20is%20to%20expose%20the%20associated%20Promise%20instance%20as%20well%20as%20APIs%0D%0A%20*%20that%20can%20be%20used%20for%20signaling%20the%20successful%20or%20unsuccessful%20completion%2C%20as%20well%20as%20the%20status%0D%0A%20*%20of%20the%20task.%0D%0A%20*%0D%0A%20*%20**Methods**%0D%0A%20*%0D%0A%20*%20-%20%60resolve%28value%29%60%20%u2013%20resolves%20the%20derived%20promise%20with%20the%20%60value%60.%20If%20the%20value%20is%20a%20rejection%0D%0A%20*%20%20%20constructed%20via%20%60%24q.reject%60%2C%20the%20promise%20will%20be%20rejected%20instead.%0D%0A%20*%20-%20%60reject%28reason%29%60%20%u2013%20rejects%20the%20derived%20promise%20with%20the%20%60reason%60.%20This%20is%20equivalent%20to%0D%0A%20*%20%20%20resolving%20it%20with%20a%20rejection%20constructed%20via%20%60%24q.reject%60.%0D%0A%20*%20-%20%60notify%28value%29%60%20-%20provides%20updates%20on%20the%20status%20of%20the%20promise%27s%20execution.%20This%20may%20be%20called%0D%0A%20*%20%20%20multiple%20times%20before%20the%20promise%20is%20either%20resolved%20or%20rejected.%0D%0A%20*%0D%0A%20*%20**Properties**%0D%0A%20*%0D%0A%20*%20-%20promise%20%u2013%20%60%7BPromise%7D%60%20%u2013%20promise%20object%20associated%20with%20this%20deferred.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20The%20Promise%20API%0D%0A%20*%0D%0A%20*%20A%20new%20promise%20instance%20is%20created%20when%20a%20deferred%20instance%20is%20created%20and%20can%20be%20retrieved%20by%0D%0A%20*%20calling%20%60deferred.promise%60.%0D%0A%20*%0D%0A%20*%20The%20purpose%20of%20the%20promise%20object%20is%20to%20allow%20for%20interested%20parties%20to%20get%20access%20to%20the%20result%0D%0A%20*%20of%20the%20deferred%20task%20when%20it%20completes.%0D%0A%20*%0D%0A%20*%20**Methods**%0D%0A%20*%0D%0A%20*%20-%20%60then%28successCallback%2C%20errorCallback%2C%20notifyCallback%29%60%20%u2013%20regardless%20of%20when%20the%20promise%20was%20or%0D%0A%20*%20%20%20will%20be%20resolved%20or%20rejected%2C%20%60then%60%20calls%20one%20of%20the%20success%20or%20error%20callbacks%20asynchronously%0D%0A%20*%20%20%20as%20soon%20as%20the%20result%20is%20available.%20The%20callbacks%20are%20called%20with%20a%20single%20argument%3A%20the%20result%0D%0A%20*%20%20%20or%20rejection%20reason.%20Additionally%2C%20the%20notify%20callback%20may%20be%20called%20zero%20or%20more%20times%20to%0D%0A%20*%20%20%20provide%20a%20progress%20indication%2C%20before%20the%20promise%20is%20resolved%20or%20rejected.%0D%0A%20*%0D%0A%20*%20%20%20This%20method%20*returns%20a%20new%20promise*%20which%20is%20resolved%20or%20rejected%20via%20the%20return%20value%20of%20the%0D%0A%20*%20%20%20%60successCallback%60%2C%20%60errorCallback%60%20%28unless%20that%20value%20is%20a%20promise%2C%20in%20which%20case%20it%20is%20resolved%0D%0A%20*%20%20%20with%20the%20value%20which%20is%20resolved%20in%20that%20promise%20using%0D%0A%20*%20%20%20%5Bpromise%20chaining%5D%28http%3A//www.html5rocks.com/en/tutorials/es6/promises/%23toc-promises-queues%29%29.%0D%0A%20*%20%20%20It%20also%20notifies%20via%20the%20return%20value%20of%20the%20%60notifyCallback%60%20method.%20The%20promise%20cannot%20be%0D%0A%20*%20%20%20resolved%20or%20rejected%20from%20the%20notifyCallback%20method.%0D%0A%20*%0D%0A%20*%20-%20%60catch%28errorCallback%29%60%20%u2013%20shorthand%20for%20%60promise.then%28null%2C%20errorCallback%29%60%0D%0A%20*%0D%0A%20*%20-%20%60finally%28callback%2C%20notifyCallback%29%60%20%u2013%20allows%20you%20to%20observe%20either%20the%20fulfillment%20or%20rejection%20of%20a%20promise%2C%0D%0A%20*%20%20%20but%20to%20do%20so%20without%20modifying%20the%20final%20value.%20This%20is%20useful%20to%20release%20resources%20or%20do%20some%0D%0A%20*%20%20%20clean-up%20that%20needs%20to%20be%20done%20whether%20the%20promise%20was%20rejected%20or%20resolved.%20See%20the%20%5Bfull%0D%0A%20*%20%20%20specification%5D%28https%3A//github.com/kriskowal/q/wiki/API-Reference%23promisefinallycallback%29%20for%0D%0A%20*%20%20%20more%20information.%0D%0A%20*%0D%0A%20*%20%23%20Chaining%20promises%0D%0A%20*%0D%0A%20*%20Because%20calling%20the%20%60then%60%20method%20of%20a%20promise%20returns%20a%20new%20derived%20promise%2C%20it%20is%20easily%0D%0A%20*%20possible%20to%20create%20a%20chain%20of%20promises%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20promiseB%20%3D%20promiseA.then%28function%28result%29%20%7B%0D%0A%20*%20%20%20%20%20return%20result%20+%201%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20promiseB%20will%20be%20resolved%20immediately%20after%20promiseA%20is%20resolved%20and%20its%20value%0D%0A%20*%20%20%20//%20will%20be%20the%20result%20of%20promiseA%20incremented%20by%201%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20It%20is%20possible%20to%20create%20chains%20of%20any%20length%20and%20since%20a%20promise%20can%20be%20resolved%20with%20another%0D%0A%20*%20promise%20%28which%20will%20defer%20its%20resolution%20further%29%2C%20it%20is%20possible%20to%20pause/defer%20resolution%20of%0D%0A%20*%20the%20promises%20at%20any%20point%20in%20the%20chain.%20This%20makes%20it%20possible%20to%20implement%20powerful%20APIs%20like%0D%0A%20*%20%24http%27s%20response%20interceptors.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20Differences%20between%20Kris%20Kowal%27s%20Q%20and%20%24q%0D%0A%20*%0D%0A%20*%20%20There%20are%20two%20main%20differences%3A%0D%0A%20*%0D%0A%20*%20-%20%24q%20is%20integrated%20with%20the%20%7B@link%20ng.%24rootScope.Scope%7D%20Scope%20model%20observation%0D%0A%20*%20%20%20mechanism%20in%20angular%2C%20which%20means%20faster%20propagation%20of%20resolution%20or%20rejection%20into%20your%0D%0A%20*%20%20%20models%20and%20avoiding%20unnecessary%20browser%20repaints%2C%20which%20would%20result%20in%20flickering%20UI.%0D%0A%20*%20-%20Q%20has%20many%20more%20features%20than%20%24q%2C%20but%20that%20comes%20at%20a%20cost%20of%20bytes.%20%24q%20is%20tiny%2C%20but%20contains%0D%0A%20*%20%20%20all%20the%20important%20functionality%20needed%20for%20common%20async%20tasks.%0D%0A%20*%0D%0A%20*%20%20%23%20Testing%0D%0A%20*%0D%0A%20*%20%20%60%60%60js%0D%0A%20*%20%20%20%20it%28%27should%20simulate%20promise%27%2C%20inject%28function%28%24q%2C%20%24rootScope%29%20%7B%0D%0A%20*%20%20%20%20%20%20var%20deferred%20%3D%20%24q.defer%28%29%3B%0D%0A%20*%20%20%20%20%20%20var%20promise%20%3D%20deferred.promise%3B%0D%0A%20*%20%20%20%20%20%20var%20resolvedValue%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20promise.then%28function%28value%29%20%7B%20resolvedValue%20%3D%20value%3B%20%7D%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28resolvedValue%29.toBeUndefined%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20//%20Simulate%20resolving%20of%20promise%0D%0A%20*%20%20%20%20%20%20deferred.resolve%28123%29%3B%0D%0A%20*%20%20%20%20%20%20//%20Note%20that%20the%20%27then%27%20function%20does%20not%20get%20called%20synchronously.%0D%0A%20*%20%20%20%20%20%20//%20This%20is%20because%20we%20want%20the%20promise%20API%20to%20always%20be%20async%2C%20whether%20or%20not%0D%0A%20*%20%20%20%20%20%20//%20it%20got%20called%20synchronously%20or%20asynchronously.%0D%0A%20*%20%20%20%20%20%20expect%28resolvedValue%29.toBeUndefined%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20//%20Propagate%20promise%20resolution%20to%20%27then%27%20functions%20using%20%24apply%28%29.%0D%0A%20*%20%20%20%20%20%20%24rootScope.%24apply%28%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28resolvedValue%29.toEqual%28123%29%3B%0D%0A%20*%20%20%20%20%7D%29%29%3B%0D%0A%20*%20%20%60%60%60%0D%0A%20*%0D%0A%20*%20@param%20%7Bfunction%28function%2C%20function%29%7D%20resolver%20Function%20which%20is%20responsible%20for%20resolving%20or%0D%0A%20*%20%20%20rejecting%20the%20newly%20created%20promise.%20The%20first%20parameter%20is%20a%20function%20which%20resolves%20the%0D%0A%20*%20%20%20promise%2C%20the%20second%20parameter%20is%20a%20function%20which%20rejects%20the%20promise.%0D%0A%20*%0D%0A%20*%20@returns%20%7BPromise%7D%20The%20newly%20created%20promise.%0D%0A%20*/%0D%0Afunction%20%24QProvider%28%29%20%7B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24rootScope%27%2C%20%27%24exceptionHandler%27%2C%20function%28%24rootScope%2C%20%24exceptionHandler%29%20%7B%0D%0A%20%20%20%20return%20qFactory%28function%28callback%29%20%7B%0D%0A%20%20%20%20%20%20%24rootScope.%24evalAsync%28callback%29%3B%0D%0A%20%20%20%20%7D%2C%20%24exceptionHandler%29%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24%24QProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24browser%27%2C%20%27%24exceptionHandler%27%2C%20function%28%24browser%2C%20%24exceptionHandler%29%20%7B%0D%0A%20%20%20%20return%20qFactory%28function%28callback%29%20%7B%0D%0A%20%20%20%20%20%20%24browser.defer%28callback%29%3B%0D%0A%20%20%20%20%7D%2C%20%24exceptionHandler%29%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Constructs%20a%20promise%20manager.%0D%0A%20*%0D%0A%20*%20@param%20%7Bfunction%28function%29%7D%20nextTick%20Function%20for%20executing%20functions%20in%20the%20next%20turn.%0D%0A%20*%20@param%20%7Bfunction%28...*%29%7D%20exceptionHandler%20Function%20into%20which%20unexpected%20exceptions%20are%20passed%20for%0D%0A%20*%20%20%20%20%20debugging%20purposes.%0D%0A%20*%20@returns%20%7Bobject%7D%20Promise%20manager.%0D%0A%20*/%0D%0Afunction%20qFactory%28nextTick%2C%20exceptionHandler%29%20%7B%0D%0A%20%20var%20%24qMinErr%20%3D%20minErr%28%27%24q%27%2C%20TypeError%29%3B%0D%0A%20%20function%20callOnce%28self%2C%20resolveFn%2C%20rejectFn%29%20%7B%0D%0A%20%20%20%20var%20called%20%3D%20false%3B%0D%0A%20%20%20%20function%20wrap%28fn%29%20%7B%0D%0A%20%20%20%20%20%20return%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28called%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20called%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20fn.call%28self%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20%5Bwrap%28resolveFn%29%2C%20wrap%28rejectFn%29%5D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ng.%24q%23defer%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Creates%20a%20%60Deferred%60%20object%20which%20represents%20a%20task%20which%20will%20finish%20in%20the%20future.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@returns%20%7BDeferred%7D%20Returns%20a%20new%20instance%20of%20deferred.%0D%0A%20%20%20*/%0D%0A%20%20var%20defer%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20new%20Deferred%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20function%20Promise%28%29%20%7B%0D%0A%20%20%20%20this.%24%24state%20%3D%20%7B%20status%3A%200%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Promise.prototype%20%3D%20%7B%0D%0A%20%20%20%20then%3A%20function%28onFulfilled%2C%20onRejected%2C%20progressBack%29%20%7B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20new%20Deferred%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20this.%24%24state.pending%20%3D%20this.%24%24state.pending%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%20%20%20%20this.%24%24state.pending.push%28%5Bresult%2C%20onFulfilled%2C%20onRejected%2C%20progressBack%5D%29%3B%0D%0A%20%20%20%20%20%20if%20%28this.%24%24state.status%20%3E%200%29%20scheduleProcessQueue%28this.%24%24state%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20result.promise%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%22catch%22%3A%20function%28callback%29%20%7B%0D%0A%20%20%20%20%20%20return%20this.then%28null%2C%20callback%29%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%22finally%22%3A%20function%28callback%2C%20progressBack%29%20%7B%0D%0A%20%20%20%20%20%20return%20this.then%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20handleCallback%28value%2C%20true%2C%20callback%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%28error%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20handleCallback%28error%2C%20false%2C%20callback%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20progressBack%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//Faster%2C%20more%20basic%20than%20angular.bind%20http%3A//jsperf.com/angular-bind-vs-custom-vs-native%0D%0A%20%20function%20simpleBind%28context%2C%20fn%29%20%7B%0D%0A%20%20%20%20return%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20fn.call%28context%2C%20value%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20processQueue%28state%29%20%7B%0D%0A%20%20%20%20var%20fn%2C%20deferred%2C%20pending%3B%0D%0A%0D%0A%20%20%20%20pending%20%3D%20state.pending%3B%0D%0A%20%20%20%20state.processScheduled%20%3D%20false%3B%0D%0A%20%20%20%20state.pending%20%3D%20undefined%3B%0D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20pending.length%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20deferred%20%3D%20pending%5Bi%5D%5B0%5D%3B%0D%0A%20%20%20%20%20%20fn%20%3D%20pending%5Bi%5D%5Bstate.status%5D%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28fn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.resolve%28fn%28state.value%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28state.status%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.resolve%28state.value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.reject%28state.value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20deferred.reject%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20scheduleProcessQueue%28state%29%20%7B%0D%0A%20%20%20%20if%20%28state.processScheduled%20%7C%7C%20%21state.pending%29%20return%3B%0D%0A%20%20%20%20state.processScheduled%20%3D%20true%3B%0D%0A%20%20%20%20nextTick%28function%28%29%20%7B%20processQueue%28state%29%3B%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20Deferred%28%29%20%7B%0D%0A%20%20%20%20this.promise%20%3D%20new%20Promise%28%29%3B%0D%0A%20%20%20%20//Necessary%20to%20support%20unbound%20execution%20%3A/%0D%0A%20%20%20%20this.resolve%20%3D%20simpleBind%28this%2C%20this.resolve%29%3B%0D%0A%20%20%20%20this.reject%20%3D%20simpleBind%28this%2C%20this.reject%29%3B%0D%0A%20%20%20%20this.notify%20%3D%20simpleBind%28this%2C%20this.notify%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Deferred.prototype%20%3D%20%7B%0D%0A%20%20%20%20resolve%3A%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28this.promise.%24%24state.status%29%20return%3B%0D%0A%20%20%20%20%20%20if%20%28val%20%3D%3D%3D%20this.promise%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24%24reject%28%24qMinErr%28%0D%0A%20%20%20%20%20%20%20%20%20%20%27qcycle%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22Expected%20promise%20to%20be%20resolved%20with%20value%20other%20than%20itself%20%27%7B0%7D%27%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20val%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24%24resolve%28val%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%24%24resolve%3A%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20var%20then%2C%20fns%3B%0D%0A%0D%0A%20%20%20%20%20%20fns%20%3D%20callOnce%28this%2C%20this.%24%24resolve%2C%20this.%24%24reject%29%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%28isObject%28val%29%20%7C%7C%20isFunction%28val%29%29%29%20then%20%3D%20val%20%26%26%20val.then%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28then%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.promise.%24%24state.status%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20then.call%28val%2C%20fns%5B0%5D%2C%20fns%5B1%5D%2C%20this.notify%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.promise.%24%24state.value%20%3D%20val%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.promise.%24%24state.status%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20scheduleProcessQueue%28this.promise.%24%24state%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20fns%5B1%5D%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20reject%3A%20function%28reason%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28this.promise.%24%24state.status%29%20return%3B%0D%0A%20%20%20%20%20%20this.%24%24reject%28reason%29%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%24%24reject%3A%20function%28reason%29%20%7B%0D%0A%20%20%20%20%20%20this.promise.%24%24state.value%20%3D%20reason%3B%0D%0A%20%20%20%20%20%20this.promise.%24%24state.status%20%3D%202%3B%0D%0A%20%20%20%20%20%20scheduleProcessQueue%28this.promise.%24%24state%29%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20notify%3A%20function%28progress%29%20%7B%0D%0A%20%20%20%20%20%20var%20callbacks%20%3D%20this.promise.%24%24state.pending%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%28this.promise.%24%24state.status%20%3C%3D%200%29%20%26%26%20callbacks%20%26%26%20callbacks.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20nextTick%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20callback%2C%20result%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ii%20%3D%20callbacks.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20callbacks%5Bi%5D%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%20%3D%20callbacks%5Bi%5D%5B3%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20result.notify%28isFunction%28callback%29%20%3F%20callback%28progress%29%20%3A%20progress%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24q%23reject%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Creates%20a%20promise%20that%20is%20resolved%20as%20rejected%20with%20the%20specified%20%60reason%60.%20This%20api%20should%20be%0D%0A%20%20%20*%20used%20to%20forward%20rejection%20in%20a%20chain%20of%20promises.%20If%20you%20are%20dealing%20with%20the%20last%20promise%20in%0D%0A%20%20%20*%20a%20promise%20chain%2C%20you%20don%27t%20need%20to%20worry%20about%20it.%0D%0A%20%20%20*%0D%0A%20%20%20*%20When%20comparing%20deferreds/promises%20to%20the%20familiar%20behavior%20of%20try/catch/throw%2C%20think%20of%0D%0A%20%20%20*%20%60reject%60%20as%20the%20%60throw%60%20keyword%20in%20JavaScript.%20This%20also%20means%20that%20if%20you%20%22catch%22%20an%20error%20via%0D%0A%20%20%20*%20a%20promise%20error%20callback%20and%20you%20want%20to%20forward%20the%20error%20to%20the%20promise%20derived%20from%20the%0D%0A%20%20%20*%20current%20promise%2C%20you%20have%20to%20%22rethrow%22%20the%20error%20by%20returning%20a%20rejection%20constructed%20via%0D%0A%20%20%20*%20%60reject%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%60%60%60js%0D%0A%20%20%20*%20%20%20promiseB%20%3D%20promiseA.then%28function%28result%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20//%20success%3A%20do%20something%20and%20resolve%20promiseB%0D%0A%20%20%20*%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20with%20the%20old%20or%20a%20new%20result%0D%0A%20%20%20*%20%20%20%20%20return%20result%3B%0D%0A%20%20%20*%20%20%20%7D%2C%20function%28reason%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20//%20error%3A%20handle%20the%20error%20if%20possible%20and%0D%0A%20%20%20*%20%20%20%20%20//%20%20%20%20%20%20%20%20resolve%20promiseB%20with%20newPromiseOrValue%2C%0D%0A%20%20%20*%20%20%20%20%20//%20%20%20%20%20%20%20%20otherwise%20forward%20the%20rejection%20to%20promiseB%0D%0A%20%20%20*%20%20%20%20%20if%20%28canHandle%28reason%29%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20//%20handle%20the%20error%20and%20recover%0D%0A%20%20%20*%20%20%20%20%20%20return%20newPromiseOrValue%3B%0D%0A%20%20%20*%20%20%20%20%20%7D%0D%0A%20%20%20*%20%20%20%20%20return%20%24q.reject%28reason%29%3B%0D%0A%20%20%20*%20%20%20%7D%29%3B%0D%0A%20%20%20*%20%60%60%60%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B*%7D%20reason%20Constant%2C%20message%2C%20exception%20or%20an%20object%20representing%20the%20rejection%20reason.%0D%0A%20%20%20*%20@returns%20%7BPromise%7D%20Returns%20a%20promise%20that%20was%20already%20resolved%20as%20rejected%20with%20the%20%60reason%60.%0D%0A%20%20%20*/%0D%0A%20%20var%20reject%20%3D%20function%28reason%29%20%7B%0D%0A%20%20%20%20var%20result%20%3D%20new%20Deferred%28%29%3B%0D%0A%20%20%20%20result.reject%28reason%29%3B%0D%0A%20%20%20%20return%20result.promise%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20makePromise%20%3D%20function%20makePromise%28value%2C%20resolved%29%20%7B%0D%0A%20%20%20%20var%20result%20%3D%20new%20Deferred%28%29%3B%0D%0A%20%20%20%20if%20%28resolved%29%20%7B%0D%0A%20%20%20%20%20%20result.resolve%28value%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20result.reject%28value%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20result.promise%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20handleCallback%20%3D%20function%20handleCallback%28value%2C%20isResolved%2C%20callback%29%20%7B%0D%0A%20%20%20%20var%20callbackOutput%20%3D%20null%3B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20if%20%28isFunction%28callback%29%29%20callbackOutput%20%3D%20callback%28%29%3B%0D%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20return%20makePromise%28e%2C%20false%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isPromiseLike%28callbackOutput%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20callbackOutput.then%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20makePromise%28value%2C%20isResolved%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%28error%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20makePromise%28error%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20makePromise%28value%2C%20isResolved%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24q%23when%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Wraps%20an%20object%20that%20might%20be%20a%20value%20or%20a%20%283rd%20party%29%20then-able%20promise%20into%20a%20%24q%20promise.%0D%0A%20%20%20*%20This%20is%20useful%20when%20you%20are%20dealing%20with%20an%20object%20that%20might%20or%20might%20not%20be%20a%20promise%2C%20or%20if%0D%0A%20%20%20*%20the%20promise%20comes%20from%20a%20source%20that%20can%27t%20be%20trusted.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B*%7D%20value%20Value%20or%20a%20promise%0D%0A%20%20%20*%20@returns%20%7BPromise%7D%20Returns%20a%20promise%20of%20the%20passed%20value%20or%20promise%0D%0A%20%20%20*/%0D%0A%0D%0A%0D%0A%20%20var%20when%20%3D%20function%28value%2C%20callback%2C%20errback%2C%20progressBack%29%20%7B%0D%0A%20%20%20%20var%20result%20%3D%20new%20Deferred%28%29%3B%0D%0A%20%20%20%20result.resolve%28value%29%3B%0D%0A%20%20%20%20return%20result.promise.then%28callback%2C%20errback%2C%20progressBack%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24q%23all%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Combines%20multiple%20promises%20into%20a%20single%20promise%20that%20is%20resolved%20when%20all%20of%20the%20input%0D%0A%20%20%20*%20promises%20are%20resolved.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BArray.%3CPromise%3E%7CObject.%3CPromise%3E%7D%20promises%20An%20array%20or%20hash%20of%20promises.%0D%0A%20%20%20*%20@returns%20%7BPromise%7D%20Returns%20a%20single%20promise%20that%20will%20be%20resolved%20with%20an%20array/hash%20of%20values%2C%0D%0A%20%20%20*%20%20%20each%20value%20corresponding%20to%20the%20promise%20at%20the%20same%20index/key%20in%20the%20%60promises%60%20array/hash.%0D%0A%20%20%20*%20%20%20If%20any%20of%20the%20promises%20is%20resolved%20with%20a%20rejection%2C%20this%20resulting%20promise%20will%20be%20rejected%0D%0A%20%20%20*%20%20%20with%20the%20same%20rejection%20value.%0D%0A%20%20%20*/%0D%0A%0D%0A%20%20function%20all%28promises%29%20%7B%0D%0A%20%20%20%20var%20deferred%20%3D%20new%20Deferred%28%29%2C%0D%0A%20%20%20%20%20%20%20%20counter%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20results%20%3D%20isArray%28promises%29%20%3F%20%5B%5D%20%3A%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20forEach%28promises%2C%20function%28promise%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20counter++%3B%0D%0A%20%20%20%20%20%20when%28promise%29.then%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28results.hasOwnProperty%28key%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20results%5Bkey%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21%28--counter%29%29%20deferred.resolve%28results%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20function%28reason%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28results.hasOwnProperty%28key%29%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20deferred.reject%28reason%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28counter%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20deferred.resolve%28results%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20deferred.promise%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20%24Q%20%3D%20function%20Q%28resolver%29%20%7B%0D%0A%20%20%20%20if%20%28%21isFunction%28resolver%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24qMinErr%28%27norslvr%27%2C%20%22Expected%20resolverFn%2C%20got%20%27%7B0%7D%27%22%2C%20resolver%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28%21%28this%20instanceof%20Q%29%29%20%7B%0D%0A%20%20%20%20%20%20//%20More%20useful%20when%20%24Q%20is%20the%20Promise%20itself.%0D%0A%20%20%20%20%20%20return%20new%20Q%28resolver%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20deferred%20%3D%20new%20Deferred%28%29%3B%0D%0A%0D%0A%20%20%20%20function%20resolveFn%28value%29%20%7B%0D%0A%20%20%20%20%20%20deferred.resolve%28value%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20rejectFn%28reason%29%20%7B%0D%0A%20%20%20%20%20%20deferred.reject%28reason%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resolver%28resolveFn%2C%20rejectFn%29%3B%0D%0A%0D%0A%20%20%20%20return%20deferred.promise%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%24Q.defer%20%3D%20defer%3B%0D%0A%20%20%24Q.reject%20%3D%20reject%3B%0D%0A%20%20%24Q.when%20%3D%20when%3B%0D%0A%20%20%24Q.all%20%3D%20all%3B%0D%0A%0D%0A%20%20return%20%24Q%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24%24RAFProvider%28%29%20%7B%20//rAF%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20%27%24timeout%27%2C%20function%28%24window%2C%20%24timeout%29%20%7B%0D%0A%20%20%20%20var%20requestAnimationFrame%20%3D%20%24window.requestAnimationFrame%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24window.webkitRequestAnimationFrame%3B%0D%0A%0D%0A%20%20%20%20var%20cancelAnimationFrame%20%3D%20%24window.cancelAnimationFrame%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24window.webkitCancelAnimationFrame%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24window.webkitCancelRequestAnimationFrame%3B%0D%0A%0D%0A%20%20%20%20var%20rafSupported%20%3D%20%21%21requestAnimationFrame%3B%0D%0A%20%20%20%20var%20rafFn%20%3D%20rafSupported%0D%0A%20%20%20%20%20%20%3F%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20id%20%3D%20requestAnimationFrame%28fn%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelAnimationFrame%28id%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%3A%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20timer%20%3D%20%24timeout%28fn%2C%2016.66%2C%20false%29%3B%20//%201000%20/%2060%20%3D%2016.666%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24timeout.cancel%28timer%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20queueFn.supported%20%3D%20rafSupported%3B%0D%0A%0D%0A%20%20%20%20var%20cancelLastRAF%3B%0D%0A%20%20%20%20var%20taskCount%20%3D%200%3B%0D%0A%20%20%20%20var%20taskQueue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20return%20queueFn%3B%0D%0A%0D%0A%20%20%20%20function%20flush%28%29%20%7B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20taskQueue.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20task%20%3D%20taskQueue%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28task%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20taskQueue%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20task%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20taskCount%20%3D%20taskQueue.length%20%3D%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20queueFn%28asyncFn%29%20%7B%0D%0A%20%20%20%20%20%20var%20index%20%3D%20taskQueue.length%3B%0D%0A%0D%0A%20%20%20%20%20%20taskCount++%3B%0D%0A%20%20%20%20%20%20taskQueue.push%28asyncFn%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28index%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20cancelLastRAF%20%3D%20rafFn%28flush%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20function%20cancelQueueFn%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28index%20%3E%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20taskQueue%5Bindex%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28--taskCount%20%3D%3D%3D%200%20%26%26%20cancelLastRAF%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelLastRAF%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelLastRAF%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20taskQueue.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20DESIGN%20NOTES%0D%0A%20*%0D%0A%20*%20The%20design%20decisions%20behind%20the%20scope%20are%20heavily%20favored%20for%20speed%20and%20memory%20consumption.%0D%0A%20*%0D%0A%20*%20The%20typical%20use%20of%20scope%20is%20to%20watch%20the%20expressions%2C%20which%20most%20of%20the%20time%20return%20the%20same%0D%0A%20*%20value%20as%20last%20time%20so%20we%20optimize%20the%20operation.%0D%0A%20*%0D%0A%20*%20Closures%20construction%20is%20expensive%20in%20terms%20of%20speed%20as%20well%20as%20memory%3A%0D%0A%20*%20%20%20-%20No%20closures%2C%20instead%20use%20prototypical%20inheritance%20for%20API%0D%0A%20*%20%20%20-%20Internal%20state%20needs%20to%20be%20stored%20on%20scope%20directly%2C%20which%20means%20that%20private%20state%20is%0D%0A%20*%20%20%20%20%20exposed%20as%20%24%24____%20properties%0D%0A%20*%0D%0A%20*%20Loop%20operations%20are%20optimized%20by%20using%20while%28count--%29%20%7B%20...%20%7D%0D%0A%20*%20%20%20-%20this%20means%20that%20in%20order%20to%20keep%20the%20same%20order%20of%20execution%20as%20addition%20we%20have%20to%20add%0D%0A%20*%20%20%20%20%20items%20to%20the%20array%20at%20the%20beginning%20%28unshift%29%20instead%20of%20at%20the%20end%20%28push%29%0D%0A%20*%0D%0A%20*%20Child%20scopes%20are%20created%20and%20removed%20often%0D%0A%20*%20%20%20-%20Using%20an%20array%20would%20be%20slow%20since%20inserts%20in%20middle%20are%20expensive%20so%20we%20use%20linked%20list%0D%0A%20*%0D%0A%20*%20There%20are%20few%20watches%20then%20a%20lot%20of%20observers.%20This%20is%20why%20you%20don%27t%20want%20the%20observer%20to%20be%0D%0A%20*%20implemented%20in%20the%20same%20way%20as%20watch.%20Watch%20requires%20return%20of%20initialization%20function%20which%0D%0A%20*%20are%20expensive%20to%20construct.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24rootScopeProvider%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Provider%20for%20the%20%24rootScope%20service.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20method%0D%0A%20*%20@name%20%24rootScopeProvider%23digestTtl%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Sets%20the%20number%20of%20%60%24digest%60%20iterations%20the%20scope%20should%20attempt%20to%20execute%20before%20giving%20up%20and%0D%0A%20*%20assuming%20that%20the%20model%20is%20unstable.%0D%0A%20*%0D%0A%20*%20The%20current%20default%20is%2010%20iterations.%0D%0A%20*%0D%0A%20*%20In%20complex%20applications%20it%27s%20possible%20that%20the%20dependencies%20between%20%60%24watch%60s%20will%20result%20in%0D%0A%20*%20several%20digest%20iterations.%20However%20if%20an%20application%20needs%20more%20than%20the%20default%2010%20digest%0D%0A%20*%20iterations%20for%20its%20model%20to%20stabilize%20then%20you%20should%20investigate%20what%20is%20causing%20the%20model%20to%0D%0A%20*%20continuously%20change%20during%20the%20digest.%0D%0A%20*%0D%0A%20*%20Increasing%20the%20TTL%20could%20have%20performance%20implications%2C%20so%20you%20should%20not%20change%20it%20without%0D%0A%20*%20proper%20justification.%0D%0A%20*%0D%0A%20*%20@param%20%7Bnumber%7D%20limit%20The%20number%20of%20digest%20iterations.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24rootScope%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Every%20application%20has%20a%20single%20root%20%7B@link%20ng.%24rootScope.Scope%20scope%7D.%0D%0A%20*%20All%20other%20scopes%20are%20descendant%20scopes%20of%20the%20root%20scope.%20Scopes%20provide%20separation%0D%0A%20*%20between%20the%20model%20and%20the%20view%2C%20via%20a%20mechanism%20for%20watching%20the%20model%20for%20changes.%0D%0A%20*%20They%20also%20provide%20an%20event%20emission/broadcast%20and%20subscription%20facility.%20See%20the%0D%0A%20*%20%7B@link%20guide/scope%20developer%20guide%20on%20scopes%7D.%0D%0A%20*/%0D%0Afunction%20%24RootScopeProvider%28%29%20%7B%0D%0A%20%20var%20TTL%20%3D%2010%3B%0D%0A%20%20var%20%24rootScopeMinErr%20%3D%20minErr%28%27%24rootScope%27%29%3B%0D%0A%20%20var%20lastDirtyWatch%20%3D%20null%3B%0D%0A%20%20var%20applyAsyncId%20%3D%20null%3B%0D%0A%0D%0A%20%20this.digestTtl%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20TTL%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20TTL%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20function%20createChildScopeClass%28parent%29%20%7B%0D%0A%20%20%20%20function%20ChildScope%28%29%20%7B%0D%0A%20%20%20%20%20%20this.%24%24watchers%20%3D%20this.%24%24nextSibling%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24childHead%20%3D%20this.%24%24childTail%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.%24%24listeners%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20this.%24%24listenerCount%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20this.%24%24watchersCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.%24id%20%3D%20nextUid%28%29%3B%0D%0A%20%20%20%20%20%20this.%24%24ChildScope%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20ChildScope.prototype%20%3D%20parent%3B%0D%0A%20%20%20%20return%20ChildScope%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24injector%27%2C%20%27%24exceptionHandler%27%2C%20%27%24parse%27%2C%20%27%24browser%27%2C%0D%0A%20%20%20%20%20%20function%28%24injector%2C%20%24exceptionHandler%2C%20%24parse%2C%20%24browser%29%20%7B%0D%0A%0D%0A%20%20%20%20function%20destroyChildScope%28%24event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24event.currentScope.%24%24destroyed%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20type%0D%0A%20%20%20%20%20*%20@name%20%24rootScope.Scope%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20A%20root%20scope%20can%20be%20retrieved%20using%20the%20%7B@link%20ng.%24rootScope%20%24rootScope%7D%20key%20from%20the%0D%0A%20%20%20%20%20*%20%7B@link%20auto.%24injector%20%24injector%7D.%20Child%20scopes%20are%20created%20using%20the%0D%0A%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24new%20%24new%28%29%7D%20method.%20%28Most%20scopes%20are%20created%20automatically%20when%0D%0A%20%20%20%20%20*%20compiled%20HTML%20template%20is%20executed.%29%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20Here%20is%20a%20simple%20scope%20snippet%20to%20show%20how%20you%20can%20interact%20with%20the%20scope.%0D%0A%20%20%20%20%20*%20%60%60%60html%0D%0A%20%20%20%20%20*%20%3Cfile%20src%3D%22./test/ng/rootScopeSpec.js%22%20tag%3D%22docs1%22%20/%3E%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%23%20Inheritance%0D%0A%20%20%20%20%20*%20A%20scope%20can%20inherit%20from%20a%20parent%20scope%2C%20as%20in%20this%20example%3A%0D%0A%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20var%20parent%20%3D%20%24rootScope%3B%0D%0A%20%20%20%20%20%20%20%20%20var%20child%20%3D%20parent.%24new%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20parent.salutation%20%3D%20%22Hello%22%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28child.salutation%29.toEqual%28%27Hello%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20child.salutation%20%3D%20%22Welcome%22%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28child.salutation%29.toEqual%28%27Welcome%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28parent.salutation%29.toEqual%28%27Hello%27%29%3B%0D%0A%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20When%20interacting%20with%20%60Scope%60%20in%20tests%2C%20additional%20helper%20methods%20are%20available%20on%20the%0D%0A%20%20%20%20%20*%20instances%20of%20%60Scope%60%20type.%20See%20%7B@link%20ngMock.%24rootScope.Scope%20ngMock%20Scope%7D%20for%20additional%0D%0A%20%20%20%20%20*%20details.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BObject.%3Cstring%2C%20function%28%29%3E%3D%7D%20providers%20Map%20of%20service%20factory%20which%20need%20to%20be%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20provided%20for%20the%20current%20scope.%20Defaults%20to%20%7B@link%20ng%7D.%0D%0A%20%20%20%20%20*%20@param%20%7BObject.%3Cstring%2C%20*%3E%3D%7D%20instanceCache%20Provides%20pre-instantiated%20services%20which%20should%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20append/override%20services%20provided%20by%20%60providers%60.%20This%20is%20handy%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%20unit-testing%20and%20having%20the%20need%20to%20override%20a%20default%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20service.%0D%0A%20%20%20%20%20*%20@returns%20%7BObject%7D%20Newly%20created%20scope.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20Scope%28%29%20%7B%0D%0A%20%20%20%20%20%20this.%24id%20%3D%20nextUid%28%29%3B%0D%0A%20%20%20%20%20%20this.%24%24phase%20%3D%20this.%24parent%20%3D%20this.%24%24watchers%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24nextSibling%20%3D%20this.%24%24prevSibling%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24childHead%20%3D%20this.%24%24childTail%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.%24root%20%3D%20this%3B%0D%0A%20%20%20%20%20%20this.%24%24destroyed%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.%24%24listeners%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20this.%24%24listenerCount%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20this.%24%24watchersCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.%24%24isolateBindings%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24id%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Unique%20scope%20ID%20%28monotonically%20increasing%29%20useful%20for%20debugging.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24parent%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Reference%20to%20the%20parent%20scope.%0D%0A%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20property%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24root%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Reference%20to%20the%20root%20scope.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20Scope.prototype%20%3D%20%7B%0D%0A%20%20%20%20%20%20constructor%3A%20Scope%2C%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24new%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Creates%20a%20new%20child%20%7B@link%20ng.%24rootScope.Scope%20scope%7D.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20parent%20scope%20will%20propagate%20the%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%28%29%7D%20event.%0D%0A%20%20%20%20%20%20%20*%20The%20scope%20can%20be%20removed%20from%20the%20scope%20hierarchy%20using%20%7B@link%20ng.%24rootScope.Scope%23%24destroy%20%24destroy%28%29%7D.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24destroy%20%24destroy%28%29%7D%20must%20be%20called%20on%20a%20scope%20when%20it%20is%0D%0A%20%20%20%20%20%20%20*%20desired%20for%20the%20scope%20and%20its%20child%20scopes%20to%20be%20permanently%20detached%20from%20the%20parent%20and%0D%0A%20%20%20%20%20%20%20*%20thus%20stop%20participating%20in%20model%20change%20detection%20and%20listener%20notification%20by%20invoking.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bboolean%7D%20isolate%20If%20true%2C%20then%20the%20scope%20does%20not%20prototypically%20inherit%20from%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20parent%20scope.%20The%20scope%20is%20isolated%2C%20as%20it%20can%20not%20see%20parent%20scope%20properties.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20When%20creating%20widgets%2C%20it%20is%20useful%20for%20the%20widget%20to%20not%20accidentally%20read%20parent%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20state.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BScope%7D%20%5Bparent%3Dthis%5D%20The%20%7B@link%20ng.%24rootScope.Scope%20%60Scope%60%7D%20that%20will%20be%20the%20%60%24parent%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20of%20the%20newly%20created%20scope.%20Defaults%20to%20%60this%60%20scope%20if%20not%20provided.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20This%20is%20used%20when%20creating%20a%20transclude%20scope%20to%20correctly%20place%20it%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20the%20scope%20hierarchy%20while%20maintaining%20the%20correct%20prototypical%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inheritance.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7BObject%7D%20The%20newly%20created%20child%20scope.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24new%3A%20function%28isolate%2C%20parent%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20child%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20parent%20%3D%20parent%20%7C%7C%20this%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28isolate%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20child%20%3D%20new%20Scope%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20child.%24root%20%3D%20this.%24root%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Only%20create%20a%20child%20scope%20class%20if%20somebody%20asks%20for%20one%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20but%20cache%20it%20to%20allow%20the%20VM%20to%20optimize%20lookups.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21this.%24%24ChildScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24ChildScope%20%3D%20createChildScopeClass%28this%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20child%20%3D%20new%20this.%24%24ChildScope%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20child.%24parent%20%3D%20parent%3B%0D%0A%20%20%20%20%20%20%20%20child.%24%24prevSibling%20%3D%20parent.%24%24childTail%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28parent.%24%24childHead%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parent.%24%24childTail.%24%24nextSibling%20%3D%20child%3B%0D%0A%20%20%20%20%20%20%20%20%20%20parent.%24%24childTail%20%3D%20child%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parent.%24%24childHead%20%3D%20parent.%24%24childTail%20%3D%20child%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20When%20the%20new%20scope%20is%20not%20isolated%20or%20we%20inherit%20from%20%60this%60%2C%20and%0D%0A%20%20%20%20%20%20%20%20//%20the%20parent%20scope%20is%20destroyed%2C%20the%20property%20%60%24%24destroyed%60%20is%20inherited%0D%0A%20%20%20%20%20%20%20%20//%20prototypically.%20In%20all%20other%20cases%2C%20this%20property%20needs%20to%20be%20set%0D%0A%20%20%20%20%20%20%20%20//%20when%20the%20parent%20scope%20is%20destroyed.%0D%0A%20%20%20%20%20%20%20%20//%20The%20listener%20needs%20to%20be%20added%20after%20the%20parent%20is%20set%0D%0A%20%20%20%20%20%20%20%20if%20%28isolate%20%7C%7C%20parent%20%21%3D%20this%29%20child.%24on%28%27%24destroy%27%2C%20destroyChildScope%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20child%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24watch%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Registers%20a%20%60listener%60%20callback%20to%20be%20executed%20whenever%20the%20%60watchExpression%60%20changes.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20-%20The%20%60watchExpression%60%20is%20called%20on%20every%20call%20to%20%7B@link%20ng.%24rootScope.Scope%23%24digest%0D%0A%20%20%20%20%20%20%20*%20%20%20%24digest%28%29%7D%20and%20should%20return%20the%20value%20that%20will%20be%20watched.%20%28Since%0D%0A%20%20%20%20%20%20%20*%20%20%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%28%29%7D%20reruns%20when%20it%20detects%20changes%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%60watchExpression%60%20can%20execute%20multiple%20times%20per%0D%0A%20%20%20%20%20%20%20*%20%20%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%28%29%7D%20and%20should%20be%20idempotent.%29%0D%0A%20%20%20%20%20%20%20*%20-%20The%20%60listener%60%20is%20called%20only%20when%20the%20value%20from%20the%20current%20%60watchExpression%60%20and%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20previous%20call%20to%20%60watchExpression%60%20are%20not%20equal%20%28with%20the%20exception%20of%20the%20initial%20run%2C%0D%0A%20%20%20%20%20%20%20*%20%20%20see%20below%29.%20Inequality%20is%20determined%20according%20to%20reference%20inequality%2C%0D%0A%20%20%20%20%20%20%20*%20%20%20%5Bstrict%20comparison%5D%28https%3A//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators%29%0D%0A%20%20%20%20%20%20%20*%20%20%20%20via%20the%20%60%21%3D%3D%60%20Javascript%20operator%2C%20unless%20%60objectEquality%20%3D%3D%20true%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%28see%20next%20point%29%0D%0A%20%20%20%20%20%20%20*%20-%20When%20%60objectEquality%20%3D%3D%20true%60%2C%20inequality%20of%20the%20%60watchExpression%60%20is%20determined%0D%0A%20%20%20%20%20%20%20*%20%20%20according%20to%20the%20%7B@link%20angular.equals%7D%20function.%20To%20save%20the%20value%20of%20the%20object%20for%0D%0A%20%20%20%20%20%20%20*%20%20%20later%20comparison%2C%20the%20%7B@link%20angular.copy%7D%20function%20is%20used.%20This%20therefore%20means%20that%0D%0A%20%20%20%20%20%20%20*%20%20%20watching%20complex%20objects%20will%20have%20adverse%20memory%20and%20performance%20implications.%0D%0A%20%20%20%20%20%20%20*%20-%20The%20watch%20%60listener%60%20may%20change%20the%20model%2C%20which%20may%20trigger%20other%20%60listener%60s%20to%20fire.%0D%0A%20%20%20%20%20%20%20*%20%20%20This%20is%20achieved%20by%20rerunning%20the%20watchers%20until%20no%20changes%20are%20detected.%20The%20rerun%0D%0A%20%20%20%20%20%20%20*%20%20%20iteration%20limit%20is%2010%20to%20prevent%20an%20infinite%20loop%20deadlock.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20If%20you%20want%20to%20be%20notified%20whenever%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%7D%20is%20called%2C%0D%0A%20%20%20%20%20%20%20*%20you%20can%20register%20a%20%60watchExpression%60%20function%20with%20no%20%60listener%60.%20%28Since%20%60watchExpression%60%0D%0A%20%20%20%20%20%20%20*%20can%20execute%20multiple%20times%20per%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%7D%20cycle%20when%20a%0D%0A%20%20%20%20%20%20%20*%20change%20is%20detected%2C%20be%20prepared%20for%20multiple%20calls%20to%20your%20listener.%29%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20After%20a%20watcher%20is%20registered%20with%20the%20scope%2C%20the%20%60listener%60%20fn%20is%20called%20asynchronously%0D%0A%20%20%20%20%20%20%20*%20%28via%20%7B@link%20ng.%24rootScope.Scope%23%24evalAsync%20%24evalAsync%7D%29%20to%20initialize%20the%0D%0A%20%20%20%20%20%20%20*%20watcher.%20In%20rare%20cases%2C%20this%20is%20undesirable%20because%20the%20listener%20is%20called%20when%20the%20result%0D%0A%20%20%20%20%20%20%20*%20of%20%60watchExpression%60%20didn%27t%20change.%20To%20detect%20this%20scenario%20within%20the%20%60listener%60%20fn%2C%20you%0D%0A%20%20%20%20%20%20%20*%20can%20compare%20the%20%60newVal%60%20and%20%60oldVal%60.%20If%20these%20two%20values%20are%20identical%20%28%60%3D%3D%3D%60%29%20then%20the%0D%0A%20%20%20%20%20%20%20*%20listener%20was%20called%20due%20to%20initialization.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%20Example%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20let%27s%20assume%20that%20scope%20was%20dependency%20injected%20as%20the%20%24rootScope%0D%0A%20%20%20%20%20%20%20%20%20%20%20var%20scope%20%3D%20%24rootScope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.name%20%3D%20%27misko%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.counter%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%280%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%27name%27%2C%20function%28newValue%2C%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20scope.counter%20%3D%20scope.counter%20+%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%280%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20the%20listener%20is%20always%20called%20during%20the%20first%20%24digest%20loop%20after%20it%20was%20registered%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%281%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20but%20now%20it%20will%20not%20be%20called%20unless%20the%20value%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%281%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.name%20%3D%20%27adam%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%282%29%3B%0D%0A%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20Using%20a%20function%20as%20a%20watchExpression%0D%0A%20%20%20%20%20%20%20%20%20%20%20var%20food%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.foodCounter%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.foodCounter%29.toEqual%280%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20function%20returns%20the%20value%20being%20watched.%20It%20is%20called%20for%20each%20turn%20of%20the%20%24digest%20loop%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20function%28%29%20%7B%20return%20food%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20is%20the%20change%20listener%2C%20called%20when%20the%20value%20returned%20from%20the%20above%20function%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20function%28newValue%2C%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%20newValue%20%21%3D%3D%20oldValue%20%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Only%20increment%20the%20counter%20if%20the%20value%20changed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.foodCounter%20%3D%20scope.foodCounter%20+%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20No%20digest%20has%20been%20run%20so%20the%20counter%20will%20be%20zero%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.foodCounter%29.toEqual%280%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20Run%20the%20digest%20but%20since%20food%20has%20not%20changed%20count%20will%20still%20be%20zero%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.foodCounter%29.toEqual%280%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20Update%20food%20and%20run%20digest.%20%20Now%20the%20counter%20will%20increment%0D%0A%20%20%20%20%20%20%20%20%20%20%20food%20%3D%20%27cheeseburger%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.foodCounter%29.toEqual%281%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28function%28%29%7Cstring%29%7D%20watchExpression%20Expression%20that%20is%20evaluated%20on%20each%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%7D%20cycle.%20A%20change%20in%20the%20return%20value%20triggers%0D%0A%20%20%20%20%20%20%20*%20%20%20%20a%20call%20to%20the%20%60listener%60.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60string%60%3A%20Evaluated%20as%20%7B@link%20guide/expression%20expression%7D%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60function%28scope%29%60%3A%20called%20with%20current%20%60scope%60%20as%20a%20parameter.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bfunction%28newVal%2C%20oldVal%2C%20scope%29%7D%20listener%20Callback%20called%20whenever%20the%20value%0D%0A%20%20%20%20%20%20%20*%20%20%20%20of%20%60watchExpression%60%20changes.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60newVal%60%20contains%20the%20current%20value%20of%20the%20%60watchExpression%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60oldVal%60%20contains%20the%20previous%20value%20of%20the%20%60watchExpression%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60scope%60%20refers%20to%20the%20current%20scope%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20objectEquality%20Compare%20for%20object%20equality%20using%20%7B@link%20angular.equals%7D%20instead%20of%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20comparing%20for%20reference%20equality.%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7Bfunction%28%29%7D%20Returns%20a%20deregistration%20function%20for%20this%20listener.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24watch%3A%20function%28watchExp%2C%20listener%2C%20objectEquality%2C%20prettyPrintExpression%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20get%20%3D%20%24parse%28watchExp%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28get.%24%24watchDelegate%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20get.%24%24watchDelegate%28this%2C%20listener%2C%20objectEquality%2C%20get%2C%20watchExp%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20scope%20%3D%20this%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20array%20%3D%20scope.%24%24watchers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watcher%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fn%3A%20listener%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20last%3A%20initWatchVal%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20get%3A%20get%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20exp%3A%20prettyPrintExpression%20%7C%7C%20watchExp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20eq%3A%20%21%21objectEquality%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20lastDirtyWatch%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21isFunction%28listener%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20watcher.fn%20%3D%20noop%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21array%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20array%20%3D%20scope.%24%24watchers%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20we%20use%20unshift%20since%20we%20use%20a%20while%20loop%20in%20%24digest%20for%20speed.%0D%0A%20%20%20%20%20%20%20%20//%20the%20while%20loop%20reads%20in%20reverse%20order.%0D%0A%20%20%20%20%20%20%20%20array.unshift%28watcher%29%3B%0D%0A%20%20%20%20%20%20%20%20incrementWatchersCount%28this%2C%201%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20function%20deregisterWatch%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28arrayRemove%28array%2C%20watcher%29%20%3E%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20incrementWatchersCount%28scope%2C%20-1%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20lastDirtyWatch%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24watchGroup%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20A%20variant%20of%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20%24watch%28%29%7D%20where%20it%20watches%20an%20array%20of%20%60watchExpressions%60.%0D%0A%20%20%20%20%20%20%20*%20If%20any%20one%20expression%20in%20the%20collection%20changes%20the%20%60listener%60%20is%20executed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20-%20The%20items%20in%20the%20%60watchExpressions%60%20array%20are%20observed%20via%20standard%20%24watch%20operation%20and%20are%20examined%20on%20every%0D%0A%20%20%20%20%20%20%20*%20%20%20call%20to%20%24digest%28%29%20to%20see%20if%20any%20items%20changes.%0D%0A%20%20%20%20%20%20%20*%20-%20The%20%60listener%60%20is%20called%20whenever%20any%20expression%20in%20the%20%60watchExpressions%60%20array%20changes.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7BArray.%3Cstring%7CFunction%28scope%29%3E%7D%20watchExpressions%20Array%20of%20expressions%20that%20will%20be%20individually%0D%0A%20%20%20%20%20%20%20*%20watched%20using%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20%24watch%28%29%7D%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bfunction%28newValues%2C%20oldValues%2C%20scope%29%7D%20listener%20Callback%20called%20whenever%20the%20return%20value%20of%20any%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expression%20in%20%60watchExpressions%60%20changes%0D%0A%20%20%20%20%20%20%20*%20%20%20%20The%20%60newValues%60%20array%20contains%20the%20current%20values%20of%20the%20%60watchExpressions%60%2C%20with%20the%20indexes%20matching%0D%0A%20%20%20%20%20%20%20*%20%20%20%20those%20of%20%60watchExpression%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%20and%20the%20%60oldValues%60%20array%20contains%20the%20previous%20values%20of%20the%20%60watchExpressions%60%2C%20with%20the%20indexes%20matching%0D%0A%20%20%20%20%20%20%20*%20%20%20%20those%20of%20%60watchExpression%60%0D%0A%20%20%20%20%20%20%20*%20%20%20%20The%20%60scope%60%20refers%20to%20the%20current%20scope.%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7Bfunction%28%29%7D%20Returns%20a%20de-registration%20function%20for%20all%20listeners.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24watchGroup%3A%20function%28watchExpressions%2C%20listener%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20oldValues%20%3D%20new%20Array%28watchExpressions.length%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20newValues%20%3D%20new%20Array%28watchExpressions.length%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20deregisterFns%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%20%20var%20changeReactionScheduled%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20var%20firstRun%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21watchExpressions.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20No%20expressions%20means%20we%20call%20the%20listener%20ASAP%0D%0A%20%20%20%20%20%20%20%20%20%20var%20shouldCall%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20self.%24evalAsync%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28shouldCall%29%20listener%28newValues%2C%20newValues%2C%20self%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%20deregisterWatchGroup%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shouldCall%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28watchExpressions.length%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Special%20case%20size%20of%20one%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.%24watch%28watchExpressions%5B0%5D%2C%20function%20watchGroupAction%28value%2C%20oldValue%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newValues%5B0%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldValues%5B0%5D%20%3D%20oldValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28newValues%2C%20%28value%20%3D%3D%3D%20oldValue%29%20%3F%20newValues%20%3A%20oldValues%2C%20scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20forEach%28watchExpressions%2C%20function%28expr%2C%20i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20unwatchFn%20%3D%20self.%24watch%28expr%2C%20function%20watchGroupSubAction%28value%2C%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newValues%5Bi%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldValues%5Bi%5D%20%3D%20oldValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21changeReactionScheduled%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeReactionScheduled%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.%24evalAsync%28watchGroupAction%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deregisterFns.push%28unwatchFn%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20watchGroupAction%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20changeReactionScheduled%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28firstRun%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20firstRun%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28newValues%2C%20newValues%2C%20self%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28newValues%2C%20oldValues%2C%20self%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20function%20deregisterWatchGroup%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20while%20%28deregisterFns.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20deregisterFns.shift%28%29%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24watchCollection%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Shallow%20watches%20the%20properties%20of%20an%20object%20and%20fires%20whenever%20any%20of%20the%20properties%20change%0D%0A%20%20%20%20%20%20%20*%20%28for%20arrays%2C%20this%20implies%20watching%20the%20array%20items%3B%20for%20object%20maps%2C%20this%20implies%20watching%0D%0A%20%20%20%20%20%20%20*%20the%20properties%29.%20If%20a%20change%20is%20detected%2C%20the%20%60listener%60%20callback%20is%20fired.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20-%20The%20%60obj%60%20collection%20is%20observed%20via%20standard%20%24watch%20operation%20and%20is%20examined%20on%20every%0D%0A%20%20%20%20%20%20%20*%20%20%20call%20to%20%24digest%28%29%20to%20see%20if%20any%20items%20have%20been%20added%2C%20removed%2C%20or%20moved.%0D%0A%20%20%20%20%20%20%20*%20-%20The%20%60listener%60%20is%20called%20whenever%20anything%20within%20the%20%60obj%60%20has%20changed.%20Examples%20include%0D%0A%20%20%20%20%20%20%20*%20%20%20adding%2C%20removing%2C%20and%20moving%20items%20belonging%20to%20an%20object%20or%20array.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%20Example%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.names%20%3D%20%5B%27igor%27%2C%20%27matias%27%2C%20%27misko%27%2C%20%27james%27%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.dataCount%20%3D%204%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.%24watchCollection%28%27names%27%2C%20function%28newNames%2C%20oldNames%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.dataCount%20%3D%20newNames.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28%24scope.dataCount%29.toEqual%284%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.%24digest%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//still%20at%204%20...%20no%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28%24scope.dataCount%29.toEqual%284%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.names.pop%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.%24digest%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//now%20there%27s%20been%20a%20change%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28%24scope.dataCount%29.toEqual%283%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7Cfunction%28scope%29%7D%20obj%20Evaluated%20as%20%7B@link%20guide/expression%20expression%7D.%20The%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expression%20value%20should%20evaluate%20to%20an%20object%20or%20an%20array%20which%20is%20observed%20on%20each%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%7D%20cycle.%20Any%20shallow%20change%20within%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20collection%20will%20trigger%20a%20call%20to%20the%20%60listener%60.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bfunction%28newCollection%2C%20oldCollection%2C%20scope%29%7D%20listener%20a%20callback%20function%20called%0D%0A%20%20%20%20%20%20%20*%20%20%20%20when%20a%20change%20is%20detected.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20The%20%60newCollection%60%20object%20is%20the%20newly%20modified%20data%20obtained%20from%20the%20%60obj%60%20expression%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20The%20%60oldCollection%60%20object%20is%20a%20copy%20of%20the%20former%20collection%20data.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20Due%20to%20performance%20considerations%2C%20the%60oldCollection%60%20value%20is%20computed%20only%20if%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%20%60listener%60%20function%20declares%20two%20or%20more%20arguments.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20The%20%60scope%60%20argument%20refers%20to%20the%20current%20scope.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7Bfunction%28%29%7D%20Returns%20a%20de-registration%20function%20for%20this%20listener.%20When%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20de-registration%20function%20is%20executed%2C%20the%20internal%20watch%20operation%20is%20terminated.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24watchCollection%3A%20function%28obj%2C%20listener%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24watchCollectionInterceptor.%24stateful%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%20%20//%20the%20current%20value%2C%20updated%20on%20each%20dirty-check%20run%0D%0A%20%20%20%20%20%20%20%20var%20newValue%3B%0D%0A%20%20%20%20%20%20%20%20//%20a%20shallow%20copy%20of%20the%20newValue%20from%20the%20last%20dirty-check%20run%2C%0D%0A%20%20%20%20%20%20%20%20//%20updated%20to%20match%20newValue%20during%20dirty-check%20run%0D%0A%20%20%20%20%20%20%20%20var%20oldValue%3B%0D%0A%20%20%20%20%20%20%20%20//%20a%20shallow%20copy%20of%20the%20newValue%20from%20when%20the%20last%20change%20happened%0D%0A%20%20%20%20%20%20%20%20var%20veryOldValue%3B%0D%0A%20%20%20%20%20%20%20%20//%20only%20track%20veryOldValue%20if%20the%20listener%20is%20asking%20for%20it%0D%0A%20%20%20%20%20%20%20%20var%20trackVeryOldValue%20%3D%20%28listener.length%20%3E%201%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20changeDetected%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20var%20changeDetector%20%3D%20%24parse%28obj%2C%20%24watchCollectionInterceptor%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20internalArray%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20internalObject%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20var%20initRun%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldLength%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20%24watchCollectionInterceptor%28_value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20newValue%20%3D%20_value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newLength%2C%20key%2C%20bothNaN%2C%20newItem%2C%20oldItem%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20If%20the%20new%20value%20is%20undefined%2C%20then%20return%20undefined%20as%20the%20watch%20may%20be%20a%20one-time%20watch%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isUndefined%28newValue%29%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isObject%28newValue%29%29%20%7B%20//%20if%20primitive%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldValue%20%21%3D%3D%20newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%20%3D%20newValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArrayLike%28newValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldValue%20%21%3D%3D%20internalArray%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20are%20transitioning%20from%20something%20which%20was%20not%20an%20array%20into%20array.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%20%3D%20internalArray%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldLength%20%3D%20oldValue.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newLength%20%3D%20newValue.length%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldLength%20%21%3D%3D%20newLength%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20lengths%20do%20not%20match%20we%20need%20to%20trigger%20change%20notification%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue.length%20%3D%20oldLength%20%3D%20newLength%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20copy%20the%20items%20to%20oldValue%20and%20look%20for%20changes.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20newLength%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldItem%20%3D%20oldValue%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newItem%20%3D%20newValue%5Bi%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bothNaN%20%3D%20%28oldItem%20%21%3D%3D%20oldItem%29%20%26%26%20%28newItem%20%21%3D%3D%20newItem%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21bothNaN%20%26%26%20%28oldItem%20%21%3D%3D%20newItem%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%5Bi%5D%20%3D%20newItem%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldValue%20%21%3D%3D%20internalObject%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20are%20transitioning%20from%20something%20which%20was%20not%20an%20object%20into%20object.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%20%3D%20internalObject%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldLength%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20copy%20the%20items%20to%20oldValue%20and%20look%20for%20changes.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newLength%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28key%20in%20newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newValue.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newLength++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newItem%20%3D%20newValue%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldItem%20%3D%20oldValue%5Bkey%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28key%20in%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bothNaN%20%3D%20%28oldItem%20%21%3D%3D%20oldItem%29%20%26%26%20%28newItem%20%21%3D%3D%20newItem%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21bothNaN%20%26%26%20%28oldItem%20%21%3D%3D%20newItem%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%5Bkey%5D%20%3D%20newItem%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldLength++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldValue%5Bkey%5D%20%3D%20newItem%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldLength%20%3E%20newLength%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20used%20to%20have%20more%20keys%2C%20need%20to%20find%20them%20and%20destroy%20them.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changeDetected++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28key%20in%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21newValue.hasOwnProperty%28key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldLength--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20oldValue%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20changeDetected%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20%24watchCollectionAction%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28initRun%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20initRun%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28newValue%2C%20newValue%2C%20self%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28newValue%2C%20veryOldValue%2C%20self%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20make%20a%20copy%20for%20the%20next%20time%20a%20collection%20is%20changed%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28trackVeryOldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isObject%28newValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//primitive%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20veryOldValue%20%3D%20newValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArrayLike%28newValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20veryOldValue%20%3D%20new%20Array%28newValue.length%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20newValue.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20veryOldValue%5Bi%5D%20%3D%20newValue%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20//%20if%20object%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20veryOldValue%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20key%20in%20newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasOwnProperty.call%28newValue%2C%20key%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20veryOldValue%5Bkey%5D%20%3D%20newValue%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20this.%24watch%28changeDetector%2C%20%24watchCollectionAction%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24digest%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Processes%20all%20of%20the%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20watchers%7D%20of%20the%20current%20scope%20and%0D%0A%20%20%20%20%20%20%20*%20its%20children.%20Because%20a%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20watcher%7D%27s%20listener%20can%20change%0D%0A%20%20%20%20%20%20%20*%20the%20model%2C%20the%20%60%24digest%28%29%60%20keeps%20calling%20the%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20watchers%7D%0D%0A%20%20%20%20%20%20%20*%20until%20no%20more%20listeners%20are%20firing.%20This%20means%20that%20it%20is%20possible%20to%20get%20into%20an%20infinite%0D%0A%20%20%20%20%20%20%20*%20loop.%20This%20function%20will%20throw%20%60%27Maximum%20iteration%20limit%20exceeded.%27%60%20if%20the%20number%20of%0D%0A%20%20%20%20%20%20%20*%20iterations%20exceeds%2010.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Usually%2C%20you%20don%27t%20call%20%60%24digest%28%29%60%20directly%20in%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.directive%3AngController%20controllers%7D%20or%20in%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24compileProvider%23directive%20directives%7D.%0D%0A%20%20%20%20%20%20%20*%20Instead%2C%20you%20should%20call%20%7B@link%20ng.%24rootScope.Scope%23%24apply%20%24apply%28%29%7D%20%28typically%20from%20within%0D%0A%20%20%20%20%20%20%20*%20a%20%7B@link%20ng.%24compileProvider%23directive%20directive%7D%29%2C%20which%20will%20force%20a%20%60%24digest%28%29%60.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20If%20you%20want%20to%20be%20notified%20whenever%20%60%24digest%28%29%60%20is%20called%2C%0D%0A%20%20%20%20%20%20%20*%20you%20can%20register%20a%20%60watchExpression%60%20function%20with%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20%24watch%28%29%7D%20with%20no%20%60listener%60.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20In%20unit%20tests%2C%20you%20may%20need%20to%20call%20%60%24digest%28%29%60%20to%20simulate%20the%20scope%20life%20cycle.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%20Example%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%20var%20scope%20%3D%20...%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.name%20%3D%20%27misko%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.counter%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%280%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%27name%27%2C%20function%28newValue%2C%20oldValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20scope.counter%20%3D%20scope.counter%20+%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%280%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20the%20listener%20is%20always%20called%20during%20the%20first%20%24digest%20loop%20after%20it%20was%20registered%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%281%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20but%20now%20it%20will%20not%20be%20called%20unless%20the%20value%20changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%281%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.name%20%3D%20%27adam%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.counter%29.toEqual%282%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24digest%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20watch%2C%20value%2C%20last%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchers%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dirty%2C%20ttl%20%3D%20TTL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20next%2C%20current%2C%20target%20%3D%20this%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchLog%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20logIdx%2C%20logMsg%2C%20asyncTask%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20beginPhase%28%27%24digest%27%29%3B%0D%0A%20%20%20%20%20%20%20%20//%20Check%20for%20changes%20to%20browser%20url%20that%20happened%20in%20sync%20before%20the%20call%20to%20%24digest%0D%0A%20%20%20%20%20%20%20%20%24browser.%24%24checkUrlChange%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28this%20%3D%3D%3D%20%24rootScope%20%26%26%20applyAsyncId%20%21%3D%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20If%20this%20is%20the%20root%20scope%2C%20and%20%24applyAsync%20has%20scheduled%20a%20deferred%20%24apply%28%29%2C%20then%0D%0A%20%20%20%20%20%20%20%20%20%20//%20cancel%20the%20scheduled%20%24apply%20and%20flush%20the%20queue%20of%20expressions%20to%20be%20evaluated.%0D%0A%20%20%20%20%20%20%20%20%20%20%24browser.defer.cancel%28applyAsyncId%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20flushApplyAsync%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20lastDirtyWatch%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20do%20%7B%20//%20%22while%20dirty%22%20loop%0D%0A%20%20%20%20%20%20%20%20%20%20dirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20current%20%3D%20target%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20while%20%28asyncQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20asyncTask%20%3D%20asyncQueue.shift%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20asyncTask.scope.%24eval%28asyncTask.expression%2C%20asyncTask.locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lastDirtyWatch%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20traverseScopesLoop%3A%0D%0A%20%20%20%20%20%20%20%20%20%20do%20%7B%20//%20%22traverse%20the%20scopes%22%20loop%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28watchers%20%3D%20current.%24%24watchers%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20process%20our%20watches%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20length%20%3D%20watchers.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28length--%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watch%20%3D%20watchers%5Blength%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Most%20common%20watches%20are%20on%20primitives%2C%20in%20which%20case%20we%20can%20short%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20circuit%20it%20with%20%3D%3D%3D%20operator%2C%20only%20when%20%3D%3D%3D%20fails%20do%20we%20use%20.equals%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28watch%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28value%20%3D%20watch.get%28current%29%29%20%21%3D%3D%20%28last%20%3D%20watch.last%29%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21%28watch.eq%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20equals%28value%2C%20last%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%28typeof%20value%20%3D%3D%3D%20%27number%27%20%26%26%20typeof%20last%20%3D%3D%3D%20%27number%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20isNaN%28value%29%20%26%26%20isNaN%28last%29%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dirty%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastDirtyWatch%20%3D%20watch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watch.last%20%3D%20watch.eq%20%3F%20copy%28value%2C%20null%29%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watch.fn%28value%2C%20%28%28last%20%3D%3D%3D%20initWatchVal%29%20%3F%20value%20%3A%20last%29%2C%20current%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ttl%20%3C%205%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logIdx%20%3D%204%20-%20ttl%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21watchLog%5BlogIdx%5D%29%20watchLog%5BlogIdx%5D%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watchLog%5BlogIdx%5D.push%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20msg%3A%20isFunction%28watch.exp%29%20%3F%20%27fn%3A%20%27%20+%20%28watch.exp.name%20%7C%7C%20watch.exp.toString%28%29%29%20%3A%20watch.exp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newVal%3A%20value%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldVal%3A%20last%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28watch%20%3D%3D%3D%20lastDirtyWatch%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20the%20most%20recently%20dirty%20watcher%20is%20now%20clean%2C%20short%20circuit%20since%20the%20remaining%20watchers%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20have%20already%20been%20tested.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%20traverseScopesLoop%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Insanity%20Warning%3A%20scope%20depth-first%20traversal%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20yes%2C%20this%20code%20is%20a%20bit%20crazy%2C%20but%20it%20works%20and%20we%20have%20tests%20to%20prove%20it%21%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20this%20piece%20should%20be%20kept%20in%20sync%20with%20the%20traversal%20in%20%24broadcast%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%28next%20%3D%20%28%28current.%24%24watchersCount%20%26%26%20current.%24%24childHead%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28current%20%21%3D%3D%20target%20%26%26%20current.%24%24nextSibling%29%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28current%20%21%3D%3D%20target%20%26%26%20%21%28next%20%3D%20current.%24%24nextSibling%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20%3D%20current.%24parent%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20while%20%28%28current%20%3D%20next%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%60break%20traverseScopesLoop%3B%60%20takes%20us%20to%20here%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28dirty%20%7C%7C%20asyncQueue.length%29%20%26%26%20%21%28ttl--%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearPhase%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20%24rootScopeMinErr%28%27infdig%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%7B0%7D%20%24digest%28%29%20iterations%20reached.%20Aborting%21%5Cn%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Watchers%20fired%20in%20the%20last%205%20iterations%3A%20%7B1%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TTL%2C%20watchLog%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20%28dirty%20%7C%7C%20asyncQueue.length%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20clearPhase%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20while%20%28postDigestQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20postDigestQueue.shift%28%29%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20event%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24destroy%0D%0A%20%20%20%20%20%20%20*%20@eventType%20broadcast%20on%20scope%20being%20destroyed%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Broadcasted%20when%20a%20scope%20and%20its%20children%20are%20being%20destroyed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Note%20that%2C%20in%20AngularJS%2C%20there%20is%20also%20a%20%60%24destroy%60%20jQuery%20event%2C%20which%20can%20be%20used%20to%0D%0A%20%20%20%20%20%20%20*%20clean%20up%20DOM%20bindings%20before%20an%20element%20is%20removed%20from%20the%20DOM.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24destroy%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Removes%20the%20current%20scope%20%28and%20all%20of%20its%20children%29%20from%20the%20parent%20scope.%20Removal%20implies%0D%0A%20%20%20%20%20%20%20*%20that%20calls%20to%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%28%29%7D%20will%20no%20longer%0D%0A%20%20%20%20%20%20%20*%20propagate%20to%20the%20current%20scope%20and%20its%20children.%20Removal%20also%20implies%20that%20the%20current%0D%0A%20%20%20%20%20%20%20*%20scope%20is%20eligible%20for%20garbage%20collection.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20%60%24destroy%28%29%60%20is%20usually%20used%20by%20directives%20such%20as%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.directive%3AngRepeat%20ngRepeat%7D%20for%20managing%20the%0D%0A%20%20%20%20%20%20%20*%20unrolling%20of%20the%20loop.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Just%20before%20a%20scope%20is%20destroyed%2C%20a%20%60%24destroy%60%20event%20is%20broadcasted%20on%20this%20scope.%0D%0A%20%20%20%20%20%20%20*%20Application%20code%20can%20register%20a%20%60%24destroy%60%20event%20handler%20that%20will%20give%20it%20a%20chance%20to%0D%0A%20%20%20%20%20%20%20*%20perform%20any%20necessary%20cleanup.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Note%20that%2C%20in%20AngularJS%2C%20there%20is%20also%20a%20%60%24destroy%60%20jQuery%20event%2C%20which%20can%20be%20used%20to%0D%0A%20%20%20%20%20%20%20*%20clean%20up%20DOM%20bindings%20before%20an%20element%20is%20removed%20from%20the%20DOM.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24destroy%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20We%20can%27t%20destroy%20a%20scope%20that%20has%20been%20already%20destroyed.%0D%0A%20%20%20%20%20%20%20%20if%20%28this.%24%24destroyed%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20var%20parent%20%3D%20this.%24parent%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.%24broadcast%28%27%24destroy%27%29%3B%0D%0A%20%20%20%20%20%20%20%20this.%24%24destroyed%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28this%20%3D%3D%3D%20%24rootScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//Remove%20handlers%20attached%20to%20window%20when%20%24rootScope%20is%20removed%0D%0A%20%20%20%20%20%20%20%20%20%20%24browser.%24%24applicationDestroyed%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20incrementWatchersCount%28this%2C%20-this.%24%24watchersCount%29%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20eventName%20in%20this.%24%24listenerCount%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20decrementListenerCount%28this%2C%20this.%24%24listenerCount%5BeventName%5D%2C%20eventName%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20sever%20all%20the%20references%20to%20parent%20scopes%20%28after%20this%20cleanup%2C%20the%20current%20scope%20should%0D%0A%20%20%20%20%20%20%20%20//%20not%20be%20retained%20by%20any%20of%20our%20references%20and%20should%20be%20eligible%20for%20garbage%20collection%29%0D%0A%20%20%20%20%20%20%20%20if%20%28parent%20%26%26%20parent.%24%24childHead%20%3D%3D%20this%29%20parent.%24%24childHead%20%3D%20this.%24%24nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28parent%20%26%26%20parent.%24%24childTail%20%3D%3D%20this%29%20parent.%24%24childTail%20%3D%20this.%24%24prevSibling%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28this.%24%24prevSibling%29%20this.%24%24prevSibling.%24%24nextSibling%20%3D%20this.%24%24nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28this.%24%24nextSibling%29%20this.%24%24nextSibling.%24%24prevSibling%20%3D%20this.%24%24prevSibling%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Disable%20listeners%2C%20watchers%20and%20apply/digest%20methods%0D%0A%20%20%20%20%20%20%20%20this.%24destroy%20%3D%20this.%24digest%20%3D%20this.%24apply%20%3D%20this.%24evalAsync%20%3D%20this.%24applyAsync%20%3D%20noop%3B%0D%0A%20%20%20%20%20%20%20%20this.%24on%20%3D%20this.%24watch%20%3D%20this.%24watchGroup%20%3D%20function%28%29%20%7B%20return%20noop%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20this.%24%24listeners%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20All%20of%20the%20code%20below%20is%20bogus%20code%20that%20works%20around%20V8%27s%20memory%20leak%20via%20optimized%20code%0D%0A%20%20%20%20%20%20%20%20//%20and%20inline%20caches.%0D%0A%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20//%20see%3A%0D%0A%20%20%20%20%20%20%20%20//%20-%20https%3A//code.google.com/p/v8/issues/detail%3Fid%3D2073%23c26%0D%0A%20%20%20%20%20%20%20%20//%20-%20https%3A//github.com/angular/angular.js/issues/6794%23issuecomment-38648909%0D%0A%20%20%20%20%20%20%20%20//%20-%20https%3A//github.com/angular/angular.js/issues/1313%23issuecomment-10378451%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.%24parent%20%3D%20this.%24%24nextSibling%20%3D%20this.%24%24prevSibling%20%3D%20this.%24%24childHead%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.%24%24childTail%20%3D%20this.%24root%20%3D%20this.%24%24watchers%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24eval%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Executes%20the%20%60expression%60%20on%20the%20current%20scope%20and%20returns%20the%20result.%20Any%20exceptions%20in%0D%0A%20%20%20%20%20%20%20*%20the%20expression%20are%20propagated%20%28uncaught%29.%20This%20is%20useful%20when%20evaluating%20Angular%0D%0A%20%20%20%20%20%20%20*%20expressions.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%20Example%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%20var%20scope%20%3D%20ng.%24rootScope.Scope%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.a%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20scope.b%20%3D%202%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.%24eval%28%27a+b%27%29%29.toEqual%283%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28scope.%24eval%28function%28scope%29%7B%20return%20scope.a%20+%20scope.b%3B%20%7D%29%29.toEqual%283%29%3B%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28string%7Cfunction%28%29%29%3D%7D%20expression%20An%20angular%20expression%20to%20be%20executed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60string%60%3A%20execute%20using%20the%20rules%20as%20defined%20in%20%20%7B@link%20guide/expression%20expression%7D.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60function%28scope%29%60%3A%20execute%20the%20function%20with%20the%20current%20%60scope%60%20parameter.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28object%29%3D%7D%20locals%20Local%20variables%20object%2C%20useful%20for%20overriding%20values%20in%20scope.%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20result%20of%20evaluating%20the%20expression.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24eval%3A%20function%28expr%2C%20locals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24parse%28expr%29%28this%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24evalAsync%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Executes%20the%20expression%20on%20the%20current%20scope%20at%20a%20later%20point%20in%20time.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20%60%24evalAsync%60%20makes%20no%20guarantees%20as%20to%20when%20the%20%60expression%60%20will%20be%20executed%2C%20only%0D%0A%20%20%20%20%20%20%20*%20that%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20it%20will%20execute%20after%20the%20function%20that%20scheduled%20the%20evaluation%20%28preferably%20before%20DOM%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20rendering%29.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20at%20least%20one%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%20cycle%7D%20will%20be%20performed%20after%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%60expression%60%20execution.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Any%20exceptions%20from%20the%20execution%20of%20the%20expression%20are%20forwarded%20to%20the%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%20service.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20__Note%3A__%20if%20this%20function%20is%20called%20outside%20of%20a%20%60%24digest%60%20cycle%2C%20a%20new%20%60%24digest%60%20cycle%0D%0A%20%20%20%20%20%20%20*%20will%20be%20scheduled.%20However%2C%20it%20is%20encouraged%20to%20always%20call%20code%20that%20changes%20the%20model%0D%0A%20%20%20%20%20%20%20*%20from%20within%20an%20%60%24apply%60%20call.%20That%20includes%20code%20evaluated%20via%20%60%24evalAsync%60.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28string%7Cfunction%28%29%29%3D%7D%20expression%20An%20angular%20expression%20to%20be%20executed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60string%60%3A%20execute%20using%20the%20rules%20as%20defined%20in%20%7B@link%20guide/expression%20expression%7D.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60function%28scope%29%60%3A%20execute%20the%20function%20with%20the%20current%20%60scope%60%20parameter.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28object%29%3D%7D%20locals%20Local%20variables%20object%2C%20useful%20for%20overriding%20values%20in%20scope.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24evalAsync%3A%20function%28expr%2C%20locals%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20if%20we%20are%20outside%20of%20an%20%24digest%20loop%20and%20this%20is%20the%20first%20time%20we%20are%20scheduling%20async%0D%0A%20%20%20%20%20%20%20%20//%20task%20also%20schedule%20async%20auto-flush%0D%0A%20%20%20%20%20%20%20%20if%20%28%21%24rootScope.%24%24phase%20%26%26%20%21asyncQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24browser.defer%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28asyncQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24rootScope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20asyncQueue.push%28%7Bscope%3A%20this%2C%20expression%3A%20expr%2C%20locals%3A%20locals%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%24%24postDigest%3A%20function%28fn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20postDigestQueue.push%28fn%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24apply%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20%60%24apply%28%29%60%20is%20used%20to%20execute%20an%20expression%20in%20angular%20from%20outside%20of%20the%20angular%0D%0A%20%20%20%20%20%20%20*%20framework.%20%28For%20example%20from%20browser%20DOM%20events%2C%20setTimeout%2C%20XHR%20or%20third%20party%20libraries%29.%0D%0A%20%20%20%20%20%20%20*%20Because%20we%20are%20calling%20into%20the%20angular%20framework%20we%20need%20to%20perform%20proper%20scope%20life%0D%0A%20%20%20%20%20%20%20*%20cycle%20of%20%7B@link%20ng.%24exceptionHandler%20exception%20handling%7D%2C%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20executing%20watches%7D.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%23%20Life%20cycle%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%23%20Pseudo-Code%20of%20%60%24apply%28%29%60%0D%0A%20%20%20%20%20%20%20*%20%60%60%60js%0D%0A%20%20%20%20%20%20%20%20%20%20%20function%20%24apply%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%24eval%28expr%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24root.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20*%20%60%60%60%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Scope%27s%20%60%24apply%28%29%60%20method%20transitions%20through%20the%20following%20stages%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%201.%20The%20%7B@link%20guide/expression%20expression%7D%20is%20executed%20using%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7B@link%20ng.%24rootScope.Scope%23%24eval%20%24eval%28%29%7D%20method.%0D%0A%20%20%20%20%20%20%20*%202.%20Any%20exceptions%20from%20the%20execution%20of%20the%20expression%20are%20forwarded%20to%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%20service.%0D%0A%20%20%20%20%20%20%20*%203.%20The%20%7B@link%20ng.%24rootScope.Scope%23%24watch%20watch%7D%20listeners%20are%20fired%20immediately%20after%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20expression%20was%20executed%20using%20the%20%7B@link%20ng.%24rootScope.Scope%23%24digest%20%24digest%28%29%7D%20method.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28string%7Cfunction%28%29%29%3D%7D%20exp%20An%20angular%20expression%20to%20be%20executed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60string%60%3A%20execute%20using%20the%20rules%20as%20defined%20in%20%7B@link%20guide/expression%20expression%7D.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60function%28scope%29%60%3A%20execute%20the%20function%20with%20current%20%60scope%60%20parameter.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20result%20of%20evaluating%20the%20expression.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24apply%3A%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20beginPhase%28%27%24apply%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.%24eval%28expr%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20finally%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20clearPhase%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24rootScope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20e%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24applyAsync%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Schedule%20the%20invocation%20of%20%24apply%20to%20occur%20at%20a%20later%20time.%20The%20actual%20time%20difference%0D%0A%20%20%20%20%20%20%20*%20varies%20across%20browsers%2C%20but%20is%20typically%20around%20%7E10%20milliseconds.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20This%20can%20be%20used%20to%20queue%20up%20multiple%20expressions%20which%20need%20to%20be%20evaluated%20in%20the%20same%0D%0A%20%20%20%20%20%20%20*%20digest.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B%28string%7Cfunction%28%29%29%3D%7D%20exp%20An%20angular%20expression%20to%20be%20executed.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60string%60%3A%20execute%20using%20the%20rules%20as%20defined%20in%20%7B@link%20guide/expression%20expression%7D.%0D%0A%20%20%20%20%20%20%20*%20%20%20%20-%20%60function%28scope%29%60%3A%20execute%20the%20function%20with%20current%20%60scope%60%20parameter.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24applyAsync%3A%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20scope%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%20%20expr%20%26%26%20applyAsyncQueue.push%28%24applyAsyncExpression%29%3B%0D%0A%20%20%20%20%20%20%20%20scheduleApplyAsync%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20%24applyAsyncExpression%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24eval%28expr%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24on%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Listens%20on%20events%20of%20a%20given%20type.%20See%20%7B@link%20ng.%24rootScope.Scope%23%24emit%20%24emit%7D%20for%0D%0A%20%20%20%20%20%20%20*%20discussion%20of%20event%20life%20cycle.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20event%20listener%20function%20format%20is%3A%20%60function%28event%2C%20args...%29%60.%20The%20%60event%60%20object%0D%0A%20%20%20%20%20%20%20*%20passed%20into%20the%20listener%20has%20the%20following%20attributes%3A%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60targetScope%60%20-%20%60%7BScope%7D%60%3A%20the%20scope%20on%20which%20the%20event%20was%20%60%24emit%60-ed%20or%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20%60%24broadcast%60-ed.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60currentScope%60%20-%20%60%7BScope%7D%60%3A%20the%20scope%20that%20is%20currently%20handling%20the%20event.%20Once%20the%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20event%20propagates%20through%20the%20scope%20hierarchy%2C%20this%20property%20is%20set%20to%20null.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60name%60%20-%20%60%7Bstring%7D%60%3A%20name%20of%20the%20event.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60stopPropagation%60%20-%20%60%7Bfunction%3D%7D%60%3A%20calling%20%60stopPropagation%60%20function%20will%20cancel%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20further%20event%20propagation%20%28available%20only%20for%20events%20that%20were%20%60%24emit%60-ed%29.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60preventDefault%60%20-%20%60%7Bfunction%7D%60%3A%20calling%20%60preventDefault%60%20sets%20%60defaultPrevented%60%20flag%0D%0A%20%20%20%20%20%20%20*%20%20%20%20%20to%20true.%0D%0A%20%20%20%20%20%20%20*%20%20%20-%20%60defaultPrevented%60%20-%20%60%7Bboolean%7D%60%3A%20true%20if%20%60preventDefault%60%20was%20called.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20Event%20name%20to%20listen%20on.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bfunction%28event%2C%20...args%29%7D%20listener%20Function%20to%20call%20when%20the%20event%20is%20emitted.%0D%0A%20%20%20%20%20%20%20*%20@returns%20%7Bfunction%28%29%7D%20Returns%20a%20deregistration%20function%20for%20this%20listener.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24on%3A%20function%28name%2C%20listener%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20namedListeners%20%3D%20this.%24%24listeners%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21namedListeners%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.%24%24listeners%5Bname%5D%20%3D%20namedListeners%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20namedListeners.push%28listener%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20current%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21current.%24%24listenerCount%5Bname%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20current.%24%24listenerCount%5Bname%5D%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20current.%24%24listenerCount%5Bname%5D++%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20%28%28current%20%3D%20current.%24parent%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20indexOfListener%20%3D%20namedListeners.indexOf%28listener%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28indexOfListener%20%21%3D%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20namedListeners%5BindexOfListener%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decrementListenerCount%28self%2C%201%2C%20name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24emit%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Dispatches%20an%20event%20%60name%60%20upwards%20through%20the%20scope%20hierarchy%20notifying%20the%0D%0A%20%20%20%20%20%20%20*%20registered%20%7B@link%20ng.%24rootScope.Scope%23%24on%7D%20listeners.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20event%20life%20cycle%20starts%20at%20the%20scope%20on%20which%20%60%24emit%60%20was%20called.%20All%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24on%20listeners%7D%20listening%20for%20%60name%60%20event%20on%20this%20scope%20get%0D%0A%20%20%20%20%20%20%20*%20notified.%20Afterwards%2C%20the%20event%20traverses%20upwards%20toward%20the%20root%20scope%20and%20calls%20all%0D%0A%20%20%20%20%20%20%20*%20registered%20listeners%20along%20the%20way.%20The%20event%20will%20stop%20propagating%20if%20one%20of%20the%20listeners%0D%0A%20%20%20%20%20%20%20*%20cancels%20it.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Any%20exception%20emitted%20from%20the%20%7B@link%20ng.%24rootScope.Scope%23%24on%20listeners%7D%20will%20be%20passed%0D%0A%20%20%20%20%20%20%20*%20onto%20the%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%20service.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20Event%20name%20to%20emit.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B...*%7D%20args%20Optional%20one%20or%20more%20arguments%20which%20will%20be%20passed%20onto%20the%20event%20listeners.%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BObject%7D%20Event%20object%20%28see%20%7B@link%20ng.%24rootScope.Scope%23%24on%7D%29.%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24emit%3A%20function%28name%2C%20args%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20empty%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20namedListeners%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scope%20%3D%20this%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stopPropagation%20%3D%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20event%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20targetScope%3A%20scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20stopPropagation%3A%20function%28%29%20%7BstopPropagation%20%3D%20true%3B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20preventDefault%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event.defaultPrevented%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultPrevented%3A%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listenerArgs%20%3D%20concat%28%5Bevent%5D%2C%20arguments%2C%201%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20i%2C%20length%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20namedListeners%20%3D%20scope.%24%24listeners%5Bname%5D%20%7C%7C%20empty%3B%0D%0A%20%20%20%20%20%20%20%20%20%20event.currentScope%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20length%20%3D%20namedListeners.length%3B%20i%20%3C%20length%3B%20i++%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20listeners%20were%20deregistered%2C%20defragment%20the%20array%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21namedListeners%5Bi%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20namedListeners.splice%28i%2C%201%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20length--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//allow%20all%20listeners%20attached%20to%20the%20current%20scope%20to%20run%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20namedListeners%5Bi%5D.apply%28null%2C%20listenerArgs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20//if%20any%20listener%20on%20the%20current%20scope%20stops%20propagation%2C%20prevent%20bubbling%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28stopPropagation%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20event.currentScope%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20event%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20//traverse%20upwards%0D%0A%20%20%20%20%20%20%20%20%20%20scope%20%3D%20scope.%24parent%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20%28scope%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20event.currentScope%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20event%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20%20*%20@name%20%24rootScope.Scope%23%24broadcast%0D%0A%20%20%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20%20*%20Dispatches%20an%20event%20%60name%60%20downwards%20to%20all%20child%20scopes%20%28and%20their%20children%29%20notifying%20the%0D%0A%20%20%20%20%20%20%20*%20registered%20%7B@link%20ng.%24rootScope.Scope%23%24on%7D%20listeners.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20The%20event%20life%20cycle%20starts%20at%20the%20scope%20on%20which%20%60%24broadcast%60%20was%20called.%20All%0D%0A%20%20%20%20%20%20%20*%20%7B@link%20ng.%24rootScope.Scope%23%24on%20listeners%7D%20listening%20for%20%60name%60%20event%20on%20this%20scope%20get%0D%0A%20%20%20%20%20%20%20*%20notified.%20Afterwards%2C%20the%20event%20propagates%20to%20all%20direct%20and%20indirect%20scopes%20of%20the%20current%0D%0A%20%20%20%20%20%20%20*%20scope%20and%20calls%20all%20registered%20listeners%20along%20the%20way.%20The%20event%20cannot%20be%20canceled.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20Any%20exception%20emitted%20from%20the%20%7B@link%20ng.%24rootScope.Scope%23%24on%20listeners%7D%20will%20be%20passed%0D%0A%20%20%20%20%20%20%20*%20onto%20the%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%20service.%0D%0A%20%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20%20*%20@param%20%7Bstring%7D%20name%20Event%20name%20to%20broadcast.%0D%0A%20%20%20%20%20%20%20*%20@param%20%7B...*%7D%20args%20Optional%20one%20or%20more%20arguments%20which%20will%20be%20passed%20onto%20the%20event%20listeners.%0D%0A%20%20%20%20%20%20%20*%20@return%20%7BObject%7D%20Event%20object%2C%20see%20%7B@link%20ng.%24rootScope.Scope%23%24on%7D%0D%0A%20%20%20%20%20%20%20*/%0D%0A%20%20%20%20%20%20%24broadcast%3A%20function%28name%2C%20args%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20target%20%3D%20this%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20current%20%3D%20target%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20target%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20event%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20targetScope%3A%20target%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20preventDefault%3A%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event.defaultPrevented%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultPrevented%3A%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21target.%24%24listenerCount%5Bname%5D%29%20return%20event%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20listenerArgs%20%3D%20concat%28%5Bevent%5D%2C%20arguments%2C%201%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listeners%2C%20i%2C%20length%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//down%20while%20you%20can%2C%20then%20up%20and%20next%20sibling%20or%20up%20and%20next%20sibling%20until%20back%20at%20root%0D%0A%20%20%20%20%20%20%20%20while%20%28%28current%20%3D%20next%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20event.currentScope%20%3D%20current%3B%0D%0A%20%20%20%20%20%20%20%20%20%20listeners%20%3D%20current.%24%24listeners%5Bname%5D%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20length%20%3D%20listeners.length%3B%20i%20%3C%20length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20listeners%20were%20deregistered%2C%20defragment%20the%20array%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21listeners%5Bi%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20listeners.splice%28i%2C%201%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20i--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20length--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20listeners%5Bi%5D.apply%28null%2C%20listenerArgs%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Insanity%20Warning%3A%20scope%20depth-first%20traversal%0D%0A%20%20%20%20%20%20%20%20%20%20//%20yes%2C%20this%20code%20is%20a%20bit%20crazy%2C%20but%20it%20works%20and%20we%20have%20tests%20to%20prove%20it%21%0D%0A%20%20%20%20%20%20%20%20%20%20//%20this%20piece%20should%20be%20kept%20in%20sync%20with%20the%20traversal%20in%20%24digest%0D%0A%20%20%20%20%20%20%20%20%20%20//%20%28though%20it%20differs%20due%20to%20having%20the%20extra%20check%20for%20%24%24listenerCount%29%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28next%20%3D%20%28%28current.%24%24listenerCount%5Bname%5D%20%26%26%20current.%24%24childHead%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28current%20%21%3D%3D%20target%20%26%26%20current.%24%24nextSibling%29%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28current%20%21%3D%3D%20target%20%26%26%20%21%28next%20%3D%20current.%24%24nextSibling%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20%3D%20current.%24parent%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20event.currentScope%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%20event%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20var%20%24rootScope%20%3D%20new%20Scope%28%29%3B%0D%0A%0D%0A%20%20%20%20//The%20internal%20queues.%20Expose%20them%20on%20the%20%24rootScope%20for%20debugging/testing%20purposes.%0D%0A%20%20%20%20var%20asyncQueue%20%3D%20%24rootScope.%24%24asyncQueue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20var%20postDigestQueue%20%3D%20%24rootScope.%24%24postDigestQueue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20var%20applyAsyncQueue%20%3D%20%24rootScope.%24%24applyAsyncQueue%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20return%20%24rootScope%3B%0D%0A%0D%0A%0D%0A%20%20%20%20function%20beginPhase%28phase%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%24rootScope.%24%24phase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24rootScopeMinErr%28%27inprog%27%2C%20%27%7B0%7D%20already%20in%20progress%27%2C%20%24rootScope.%24%24phase%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%24rootScope.%24%24phase%20%3D%20phase%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20clearPhase%28%29%20%7B%0D%0A%20%20%20%20%20%20%24rootScope.%24%24phase%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20incrementWatchersCount%28current%2C%20count%29%20%7B%0D%0A%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20current.%24%24watchersCount%20+%3D%20count%3B%0D%0A%20%20%20%20%20%20%7D%20while%20%28%28current%20%3D%20current.%24parent%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20decrementListenerCount%28current%2C%20count%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20current.%24%24listenerCount%5Bname%5D%20-%3D%20count%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28current.%24%24listenerCount%5Bname%5D%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20current.%24%24listenerCount%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20while%20%28%28current%20%3D%20current.%24parent%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20function%20used%20as%20an%20initial%20value%20for%20watchers.%0D%0A%20%20%20%20%20*%20because%20it%27s%20unique%20we%20can%20easily%20tell%20it%20apart%20from%20other%20values%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20initWatchVal%28%29%20%7B%7D%0D%0A%0D%0A%20%20%20%20function%20flushApplyAsync%28%29%20%7B%0D%0A%20%20%20%20%20%20while%20%28applyAsyncQueue.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20applyAsyncQueue.shift%28%29%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20applyAsyncId%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20scheduleApplyAsync%28%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28applyAsyncId%20%3D%3D%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20applyAsyncId%20%3D%20%24browser.defer%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24rootScope.%24apply%28flushApplyAsync%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@description%0D%0A%20*%20Private%20service%20to%20sanitize%20uris%20for%20links%20and%20images.%20Used%20by%20%24compile%20and%20%24sanitize.%0D%0A%20*/%0D%0Afunction%20%24%24SanitizeUriProvider%28%29%20%7B%0D%0A%20%20var%20aHrefSanitizationWhitelist%20%3D%20/%5E%5Cs*%28https%3F%7Cftp%7Cmailto%7Ctel%7Cfile%29%3A/%2C%0D%0A%20%20%20%20imgSrcSanitizationWhitelist%20%3D%20/%5E%5Cs*%28%28https%3F%7Cftp%7Cfile%7Cblob%29%3A%7Cdata%3Aimage%5C/%29/%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Retrieves%20or%20overrides%20the%20default%20regular%20expression%20that%20is%20used%20for%20whitelisting%20of%20safe%0D%0A%20%20%20*%20urls%20during%20a%5Bhref%5D%20sanitization.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20sanitization%20is%20a%20security%20measure%20aimed%20at%20prevent%20XSS%20attacks%20via%20html%20links.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Any%20url%20about%20to%20be%20assigned%20to%20a%5Bhref%5D%20via%20data-binding%20is%20first%20normalized%20and%20turned%20into%0D%0A%20%20%20*%20an%20absolute%20url.%20Afterwards%2C%20the%20url%20is%20matched%20against%20the%20%60aHrefSanitizationWhitelist%60%0D%0A%20%20%20*%20regular%20expression.%20If%20a%20match%20is%20found%2C%20the%20original%20url%20is%20written%20into%20the%20dom.%20Otherwise%2C%0D%0A%20%20%20*%20the%20absolute%20url%20is%20prefixed%20with%20%60%27unsafe%3A%27%60%20string%20and%20only%20then%20is%20it%20written%20into%20the%20DOM.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BRegExp%3D%7D%20regexp%20New%20regexp%20to%20whitelist%20urls%20with.%0D%0A%20%20%20*%20@returns%20%7BRegExp%7Cng.%24compileProvider%7D%20Current%20RegExp%20if%20called%20without%20value%20or%20self%20for%0D%0A%20%20%20*%20%20%20%20chaining%20otherwise.%0D%0A%20%20%20*/%0D%0A%20%20this.aHrefSanitizationWhitelist%20%3D%20function%28regexp%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28regexp%29%29%20%7B%0D%0A%20%20%20%20%20%20aHrefSanitizationWhitelist%20%3D%20regexp%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20aHrefSanitizationWhitelist%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Retrieves%20or%20overrides%20the%20default%20regular%20expression%20that%20is%20used%20for%20whitelisting%20of%20safe%0D%0A%20%20%20*%20urls%20during%20img%5Bsrc%5D%20sanitization.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20sanitization%20is%20a%20security%20measure%20aimed%20at%20prevent%20XSS%20attacks%20via%20html%20links.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Any%20url%20about%20to%20be%20assigned%20to%20img%5Bsrc%5D%20via%20data-binding%20is%20first%20normalized%20and%20turned%20into%0D%0A%20%20%20*%20an%20absolute%20url.%20Afterwards%2C%20the%20url%20is%20matched%20against%20the%20%60imgSrcSanitizationWhitelist%60%0D%0A%20%20%20*%20regular%20expression.%20If%20a%20match%20is%20found%2C%20the%20original%20url%20is%20written%20into%20the%20dom.%20Otherwise%2C%0D%0A%20%20%20*%20the%20absolute%20url%20is%20prefixed%20with%20%60%27unsafe%3A%27%60%20string%20and%20only%20then%20is%20it%20written%20into%20the%20DOM.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BRegExp%3D%7D%20regexp%20New%20regexp%20to%20whitelist%20urls%20with.%0D%0A%20%20%20*%20@returns%20%7BRegExp%7Cng.%24compileProvider%7D%20Current%20RegExp%20if%20called%20without%20value%20or%20self%20for%0D%0A%20%20%20*%20%20%20%20chaining%20otherwise.%0D%0A%20%20%20*/%0D%0A%20%20this.imgSrcSanitizationWhitelist%20%3D%20function%28regexp%29%20%7B%0D%0A%20%20%20%20if%20%28isDefined%28regexp%29%29%20%7B%0D%0A%20%20%20%20%20%20imgSrcSanitizationWhitelist%20%3D%20regexp%3B%0D%0A%20%20%20%20%20%20return%20this%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20imgSrcSanitizationWhitelist%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20function%20sanitizeUri%28uri%2C%20isImage%29%20%7B%0D%0A%20%20%20%20%20%20var%20regex%20%3D%20isImage%20%3F%20imgSrcSanitizationWhitelist%20%3A%20aHrefSanitizationWhitelist%3B%0D%0A%20%20%20%20%20%20var%20normalizedVal%3B%0D%0A%20%20%20%20%20%20normalizedVal%20%3D%20urlResolve%28uri%29.href%3B%0D%0A%20%20%20%20%20%20if%20%28normalizedVal%20%21%3D%3D%20%27%27%20%26%26%20%21normalizedVal.match%28regex%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%27unsafe%3A%27%20+%20normalizedVal%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20uri%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%0D%0A%20*%20%20%20%20%20Any%20commits%20to%20this%20file%20should%20be%20reviewed%20with%20security%20in%20mind.%20%20*%0D%0A%20*%20%20%20Changes%20to%20this%20file%20can%20potentially%20create%20security%20vulnerabilities.%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20An%20approval%20from%202%20Core%20members%20with%20history%20of%20modifying%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%20file%20is%20required.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%0D%0A%20*%20%20Does%20the%20change%20somehow%20allow%20for%20arbitrary%20javascript%20to%20be%20executed%3F%20*%0D%0A%20*%20%20%20%20Or%20allows%20for%20someone%20to%20change%20the%20prototype%20of%20built-in%20objects%3F%20%20%20*%0D%0A%20*%20%20%20%20%20Or%20gives%20undesired%20access%20to%20variables%20likes%20document%20or%20window%3F%20%20%20%20*%0D%0A%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*%20*/%0D%0A%0D%0Avar%20%24sceMinErr%20%3D%20minErr%28%27%24sce%27%29%3B%0D%0A%0D%0Avar%20SCE_CONTEXTS%20%3D%20%7B%0D%0A%20%20HTML%3A%20%27html%27%2C%0D%0A%20%20CSS%3A%20%27css%27%2C%0D%0A%20%20URL%3A%20%27url%27%2C%0D%0A%20%20//%20RESOURCE_URL%20is%20a%20subtype%20of%20URL%20used%20in%20contexts%20where%20a%20privileged%20resource%20is%20sourced%20from%20a%0D%0A%20%20//%20url.%20%20%28e.g.%20ng-include%2C%20script%20src%2C%20templateUrl%29%0D%0A%20%20RESOURCE_URL%3A%20%27resourceUrl%27%2C%0D%0A%20%20JS%3A%20%27js%27%0D%0A%7D%3B%0D%0A%0D%0A//%20Helper%20functions%20follow.%0D%0A%0D%0Afunction%20adjustMatcher%28matcher%29%20%7B%0D%0A%20%20if%20%28matcher%20%3D%3D%3D%20%27self%27%29%20%7B%0D%0A%20%20%20%20return%20matcher%3B%0D%0A%20%20%7D%20else%20if%20%28isString%28matcher%29%29%20%7B%0D%0A%20%20%20%20//%20Strings%20match%20exactly%20except%20for%202%20wildcards%20-%20%27*%27%20and%20%27**%27.%0D%0A%20%20%20%20//%20%27*%27%20matches%20any%20character%20except%20those%20from%20the%20set%20%27%3A/.%3F%26%27.%0D%0A%20%20%20%20//%20%27**%27%20matches%20any%20character%20%28like%20.*%20in%20a%20RegExp%29.%0D%0A%20%20%20%20//%20More%20than%202%20*%27s%20raises%20an%20error%20as%20it%27s%20ill%20defined.%0D%0A%20%20%20%20if%20%28matcher.indexOf%28%27***%27%29%20%3E%20-1%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24sceMinErr%28%27iwcard%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%27Illegal%20sequence%20***%20in%20string%20matcher.%20%20String%3A%20%7B0%7D%27%2C%20matcher%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20matcher%20%3D%20escapeForRegexp%28matcher%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28%27%5C%5C*%5C%5C*%27%2C%20%27.*%27%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20replace%28%27%5C%5C*%27%2C%20%27%5B%5E%3A/.%3F%26%3B%5D*%27%29%3B%0D%0A%20%20%20%20return%20new%20RegExp%28%27%5E%27%20+%20matcher%20+%20%27%24%27%29%3B%0D%0A%20%20%7D%20else%20if%20%28isRegExp%28matcher%29%29%20%7B%0D%0A%20%20%20%20//%20The%20only%20other%20type%20of%20matcher%20allowed%20is%20a%20Regexp.%0D%0A%20%20%20%20//%20Match%20entire%20URL%20/%20disallow%20partial%20matches.%0D%0A%20%20%20%20//%20Flags%20are%20reset%20%28i.e.%20no%20global%2C%20ignoreCase%20or%20multiline%29%0D%0A%20%20%20%20return%20new%20RegExp%28%27%5E%27%20+%20matcher.source%20+%20%27%24%27%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20throw%20%24sceMinErr%28%27imatcher%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Matchers%20may%20only%20be%20%22self%22%2C%20string%20patterns%20or%20RegExp%20objects%27%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20adjustMatchers%28matchers%29%20%7B%0D%0A%20%20var%20adjustedMatchers%20%3D%20%5B%5D%3B%0D%0A%20%20if%20%28isDefined%28matchers%29%29%20%7B%0D%0A%20%20%20%20forEach%28matchers%2C%20function%28matcher%29%20%7B%0D%0A%20%20%20%20%20%20adjustedMatchers.push%28adjustMatcher%28matcher%29%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20adjustedMatchers%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24sceDelegate%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20%60%24sceDelegate%60%20is%20a%20service%20that%20is%20used%20by%20the%20%60%24sce%60%20service%20to%20provide%20%7B@link%20ng.%24sce%20Strict%0D%0A%20*%20Contextual%20Escaping%20%28SCE%29%7D%20services%20to%20AngularJS.%0D%0A%20*%0D%0A%20*%20Typically%2C%20you%20would%20configure%20or%20override%20the%20%7B@link%20ng.%24sceDelegate%20%24sceDelegate%7D%20instead%20of%0D%0A%20*%20the%20%60%24sce%60%20service%20to%20customize%20the%20way%20Strict%20Contextual%20Escaping%20works%20in%20AngularJS.%20%20This%20is%0D%0A%20*%20because%2C%20while%20the%20%60%24sce%60%20provides%20numerous%20shorthand%20methods%2C%20etc.%2C%20you%20really%20only%20need%20to%0D%0A%20*%20override%203%20core%20functions%20%28%60trustAs%60%2C%20%60getTrusted%60%20and%20%60valueOf%60%29%20to%20replace%20the%20way%20things%0D%0A%20*%20work%20because%20%60%24sce%60%20delegates%20to%20%60%24sceDelegate%60%20for%20these%20operations.%0D%0A%20*%0D%0A%20*%20Refer%20%7B@link%20ng.%24sceDelegateProvider%20%24sceDelegateProvider%7D%20to%20configure%20this%20service.%0D%0A%20*%0D%0A%20*%20The%20default%20instance%20of%20%60%24sceDelegate%60%20should%20work%20out%20of%20the%20box%20with%20little%20pain.%20%20While%20you%0D%0A%20*%20can%20override%20it%20completely%20to%20change%20the%20behavior%20of%20%60%24sce%60%2C%20the%20common%20case%20would%0D%0A%20*%20involve%20configuring%20the%20%7B@link%20ng.%24sceDelegateProvider%20%24sceDelegateProvider%7D%20instead%20by%20setting%0D%0A%20*%20your%20own%20whitelists%20and%20blacklists%20for%20trusting%20URLs%20used%20for%20loading%20AngularJS%20resources%20such%20as%0D%0A%20*%20templates.%20%20Refer%20%7B@link%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%0D%0A%20*%20%24sceDelegateProvider.resourceUrlWhitelist%7D%20and%20%7B@link%0D%0A%20*%20ng.%24sceDelegateProvider%23resourceUrlBlacklist%20%24sceDelegateProvider.resourceUrlBlacklist%7D%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24sceDelegateProvider%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20The%20%60%24sceDelegateProvider%60%20provider%20allows%20developers%20to%20configure%20the%20%7B@link%20ng.%24sceDelegate%0D%0A%20*%20%24sceDelegate%7D%20service.%20%20This%20allows%20one%20to%20get/set%20the%20whitelists%20and%20blacklists%20used%20to%20ensure%0D%0A%20*%20that%20the%20URLs%20used%20for%20sourcing%20Angular%20templates%20are%20safe.%20%20Refer%20%7B@link%0D%0A%20*%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%20%24sceDelegateProvider.resourceUrlWhitelist%7D%20and%0D%0A%20*%20%7B@link%20ng.%24sceDelegateProvider%23resourceUrlBlacklist%20%24sceDelegateProvider.resourceUrlBlacklist%7D%0D%0A%20*%0D%0A%20*%20For%20the%20general%20details%20about%20this%20service%20in%20Angular%2C%20read%20the%20main%20page%20for%20%7B@link%20ng.%24sce%0D%0A%20*%20Strict%20Contextual%20Escaping%20%28SCE%29%7D.%0D%0A%20*%0D%0A%20*%20**Example**%3A%20%20Consider%20the%20following%20case.%20%3Ca%20name%3D%22example%22%3E%3C/a%3E%0D%0A%20*%0D%0A%20*%20-%20your%20app%20is%20hosted%20at%20url%20%60http%3A//myapp.example.com/%60%0D%0A%20*%20-%20but%20some%20of%20your%20templates%20are%20hosted%20on%20other%20domains%20you%20control%20such%20as%0D%0A%20*%20%20%20%60http%3A//srv01.assets.example.com/%60%2C%A0%20%60http%3A//srv02.assets.example.com/%60%2C%20etc.%0D%0A%20*%20-%20and%20you%20have%20an%20open%20redirect%20at%20%60http%3A//myapp.example.com/clickThru%3F...%60.%0D%0A%20*%0D%0A%20*%20Here%20is%20what%20a%20secure%20configuration%20for%20this%20scenario%20might%20look%20like%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20%20angular.module%28%27myApp%27%2C%20%5B%5D%29.config%28function%28%24sceDelegateProvider%29%20%7B%0D%0A%20*%20%20%20%20%24sceDelegateProvider.resourceUrlWhitelist%28%5B%0D%0A%20*%20%20%20%20%20%20//%20Allow%20same%20origin%20resource%20loads.%0D%0A%20*%20%20%20%20%20%20%27self%27%2C%0D%0A%20*%20%20%20%20%20%20//%20Allow%20loading%20from%20our%20assets%20domain.%20%20Notice%20the%20difference%20between%20*%20and%20**.%0D%0A%20*%20%20%20%20%20%20%27http%3A//srv*.assets.example.com/**%27%0D%0A%20*%20%20%20%20%5D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20//%20The%20blacklist%20overrides%20the%20whitelist%20so%20the%20open%20redirect%20here%20is%20blocked.%0D%0A%20*%20%20%20%20%24sceDelegateProvider.resourceUrlBlacklist%28%5B%0D%0A%20*%20%20%20%20%20%20%27http%3A//myapp.example.com/clickThru**%27%0D%0A%20*%20%20%20%20%5D%29%3B%0D%0A%20*%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*/%0D%0A%0D%0Afunction%20%24SceDelegateProvider%28%29%20%7B%0D%0A%20%20this.SCE_CONTEXTS%20%3D%20SCE_CONTEXTS%3B%0D%0A%0D%0A%20%20//%20Resource%20URLs%20can%20also%20be%20trusted%20by%20policy.%0D%0A%20%20var%20resourceUrlWhitelist%20%3D%20%5B%27self%27%5D%2C%0D%0A%20%20%20%20%20%20resourceUrlBlacklist%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24sceDelegateProvider%23resourceUrlWhitelist%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BArray%3D%7D%20whitelist%20When%20provided%2C%20replaces%20the%20resourceUrlWhitelist%20with%20the%20value%0D%0A%20%20%20*%20%20%20%20%20provided.%20%20This%20must%20be%20an%20array%20or%20null.%20%20A%20snapshot%20of%20this%20array%20is%20used%20so%20further%0D%0A%20%20%20*%20%20%20%20%20changes%20to%20the%20array%20are%20ignored.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20Follow%20%7B@link%20ng.%24sce%23resourceUrlPatternItem%20this%20link%7D%20for%20a%20description%20of%20the%20items%0D%0A%20%20%20*%20%20%20%20%20allowed%20in%20this%20array.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20Note%3A%20**an%20empty%20whitelist%20array%20will%20block%20all%20URLs**%21%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7BArray%7D%20the%20currently%20set%20whitelist%20array.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20**default%20value**%20when%20no%20whitelist%20has%20been%20explicitly%20set%20is%20%60%5B%27self%27%5D%60%20allowing%20only%0D%0A%20%20%20*%20same%20origin%20resource%20requests.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets/Gets%20the%20whitelist%20of%20trusted%20resource%20URLs.%0D%0A%20%20%20*/%0D%0A%20%20this.resourceUrlWhitelist%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20resourceUrlWhitelist%20%3D%20adjustMatchers%28value%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20resourceUrlWhitelist%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24sceDelegateProvider%23resourceUrlBlacklist%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7BArray%3D%7D%20blacklist%20When%20provided%2C%20replaces%20the%20resourceUrlBlacklist%20with%20the%20value%0D%0A%20%20%20*%20%20%20%20%20provided.%20%20This%20must%20be%20an%20array%20or%20null.%20%20A%20snapshot%20of%20this%20array%20is%20used%20so%20further%0D%0A%20%20%20*%20%20%20%20%20changes%20to%20the%20array%20are%20ignored.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20Follow%20%7B@link%20ng.%24sce%23resourceUrlPatternItem%20this%20link%7D%20for%20a%20description%20of%20the%20items%0D%0A%20%20%20*%20%20%20%20%20allowed%20in%20this%20array.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20The%20typical%20usage%20for%20the%20blacklist%20is%20to%20**block%0D%0A%20%20%20*%20%20%20%20%20%5Bopen%20redirects%5D%28http%3A//cwe.mitre.org/data/definitions/601.html%29**%20served%20by%20your%20domain%20as%0D%0A%20%20%20*%20%20%20%20%20these%20would%20otherwise%20be%20trusted%20but%20actually%20return%20content%20from%20the%20redirected%20domain.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20Finally%2C%20**the%20blacklist%20overrides%20the%20whitelist**%20and%20has%20the%20final%20say.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@return%20%7BArray%7D%20the%20currently%20set%20blacklist%20array.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20**default%20value**%20when%20no%20whitelist%20has%20been%20explicitly%20set%20is%20the%20empty%20array%20%28i.e.%20there%0D%0A%20%20%20*%20is%20no%20blacklist.%29%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets/Gets%20the%20blacklist%20of%20trusted%20resource%20URLs.%0D%0A%20%20%20*/%0D%0A%0D%0A%20%20this.resourceUrlBlacklist%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20resourceUrlBlacklist%20%3D%20adjustMatchers%28value%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20resourceUrlBlacklist%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24injector%27%2C%20function%28%24injector%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20htmlSanitizer%20%3D%20function%20htmlSanitizer%28html%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24sceMinErr%28%27unsafe%27%2C%20%27Attempting%20to%20use%20an%20unsafe%20value%20in%20a%20safe%20context.%27%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20if%20%28%24injector.has%28%27%24sanitize%27%29%29%20%7B%0D%0A%20%20%20%20%20%20htmlSanitizer%20%3D%20%24injector.get%28%27%24sanitize%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20function%20matchUrl%28matcher%2C%20parsedUrl%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28matcher%20%3D%3D%3D%20%27self%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20urlIsSameOrigin%28parsedUrl%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20definitely%20a%20regex.%20%20See%20adjustMatchers%28%29%0D%0A%20%20%20%20%20%20%20%20return%20%21%21matcher.exec%28parsedUrl.href%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20isResourceUrlAllowedByPolicy%28url%29%20%7B%0D%0A%20%20%20%20%20%20var%20parsedUrl%20%3D%20urlResolve%28url.toString%28%29%29%3B%0D%0A%20%20%20%20%20%20var%20i%2C%20n%2C%20allowed%20%3D%20false%3B%0D%0A%20%20%20%20%20%20//%20Ensure%20that%20at%20least%20one%20item%20from%20the%20whitelist%20allows%20this%20url.%0D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20n%20%3D%20resourceUrlWhitelist.length%3B%20i%20%3C%20n%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28matchUrl%28resourceUrlWhitelist%5Bi%5D%2C%20parsedUrl%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20allowed%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28allowed%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Ensure%20that%20no%20item%20from%20the%20blacklist%20blocked%20this%20url.%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20n%20%3D%20resourceUrlBlacklist.length%3B%20i%20%3C%20n%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28matchUrl%28resourceUrlBlacklist%5Bi%5D%2C%20parsedUrl%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20allowed%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20allowed%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20generateHolderType%28Base%29%20%7B%0D%0A%20%20%20%20%20%20var%20holderType%20%3D%20function%20TrustedValueHolderType%28trustedValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24%24unwrapTrustedValue%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20trustedValue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20%28Base%29%20%7B%0D%0A%20%20%20%20%20%20%20%20holderType.prototype%20%3D%20new%20Base%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20holderType.prototype.valueOf%20%3D%20function%20sceValueOf%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this.%24%24unwrapTrustedValue%28%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20holderType.prototype.toString%20%3D%20function%20sceToString%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this.%24%24unwrapTrustedValue%28%29.toString%28%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20return%20holderType%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20trustedValueHolderBase%20%3D%20generateHolderType%28%29%2C%0D%0A%20%20%20%20%20%20%20%20byType%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20byType%5BSCE_CONTEXTS.HTML%5D%20%3D%20generateHolderType%28trustedValueHolderBase%29%3B%0D%0A%20%20%20%20byType%5BSCE_CONTEXTS.CSS%5D%20%3D%20generateHolderType%28trustedValueHolderBase%29%3B%0D%0A%20%20%20%20byType%5BSCE_CONTEXTS.URL%5D%20%3D%20generateHolderType%28trustedValueHolderBase%29%3B%0D%0A%20%20%20%20byType%5BSCE_CONTEXTS.JS%5D%20%3D%20generateHolderType%28trustedValueHolderBase%29%3B%0D%0A%20%20%20%20byType%5BSCE_CONTEXTS.RESOURCE_URL%5D%20%3D%20generateHolderType%28byType%5BSCE_CONTEXTS.URL%5D%29%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sceDelegate%23trustAs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Returns%20an%20object%20that%20is%20trusted%20by%20angular%20for%20use%20in%20specified%20strict%0D%0A%20%20%20%20%20*%20contextual%20escaping%20contexts%20%28such%20as%20ng-bind-html%2C%20ng-include%2C%20any%20src%0D%0A%20%20%20%20%20*%20attribute%20interpolation%2C%20any%20dom%20event%20binding%20attribute%20interpolation%0D%0A%20%20%20%20%20*%20such%20as%20for%20onclick%2C%20%20etc.%29%20that%20uses%20the%20provided%20value.%0D%0A%20%20%20%20%20*%20See%20%7B@link%20ng.%24sce%20%24sce%7D%20for%20enabling%20strict%20contextual%20escaping.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20type%20The%20kind%20of%20context%20in%20which%20this%20value%20is%20safe%20for%20use.%20%20e.g.%20url%2C%0D%0A%20%20%20%20%20*%20%20%20resourceUrl%2C%20html%2C%20js%20and%20css.%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20that%20that%20should%20be%20considered%20trusted/safe.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20A%20value%20that%20can%20be%20used%20to%20stand%20in%20for%20the%20provided%20%60value%60%20in%20places%0D%0A%20%20%20%20%20*%20where%20Angular%20expects%20a%20%24sce.trustAs%28%29%20return%20value.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20trustAs%28type%2C%20trustedValue%29%20%7B%0D%0A%20%20%20%20%20%20var%20Constructor%20%3D%20%28byType.hasOwnProperty%28type%29%20%3F%20byType%5Btype%5D%20%3A%20null%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21Constructor%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24sceMinErr%28%27icontext%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Attempted%20to%20trust%20a%20value%20in%20invalid%20context.%20Context%3A%20%7B0%7D%3B%20Value%3A%20%7B1%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20type%2C%20trustedValue%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28trustedValue%20%3D%3D%3D%20null%20%7C%7C%20trustedValue%20%3D%3D%3D%20undefined%20%7C%7C%20trustedValue%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20trustedValue%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20//%20All%20the%20current%20contexts%20in%20SCE_CONTEXTS%20happen%20to%20be%20strings.%20%20In%20order%20to%20avoid%20trusting%0D%0A%20%20%20%20%20%20//%20mutable%20objects%2C%20we%20ensure%20here%20that%20the%20value%20passed%20in%20is%20actually%20a%20string.%0D%0A%20%20%20%20%20%20if%20%28typeof%20trustedValue%20%21%3D%3D%20%27string%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24sceMinErr%28%27itype%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Attempted%20to%20trust%20a%20non-string%20value%20in%20a%20content%20requiring%20a%20string%3A%20Context%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20type%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20new%20Constructor%28trustedValue%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sceDelegate%23valueOf%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20If%20the%20passed%20parameter%20had%20been%20returned%20by%20a%20prior%20call%20to%20%7B@link%20ng.%24sceDelegate%23trustAs%0D%0A%20%20%20%20%20*%20%60%24sceDelegate.trustAs%60%7D%2C%20returns%20the%20value%20that%20had%20been%20passed%20to%20%7B@link%0D%0A%20%20%20%20%20*%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%60%7D.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20If%20the%20passed%20parameter%20is%20not%20a%20value%20that%20had%20been%20returned%20by%20%7B@link%0D%0A%20%20%20%20%20*%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%60%7D%2C%20returns%20it%20as-is.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20result%20of%20a%20prior%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%60%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20call%20or%20anything%20else.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20%60value%60%20that%20was%20originally%20provided%20to%20%7B@link%20ng.%24sceDelegate%23trustAs%0D%0A%20%20%20%20%20*%20%20%20%20%20%60%24sceDelegate.trustAs%60%7D%20if%20%60value%60%20is%20the%20result%20of%20such%20a%20call.%20%20Otherwise%2C%20returns%0D%0A%20%20%20%20%20*%20%20%20%20%20%60value%60%20unchanged.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20valueOf%28maybeTrusted%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28maybeTrusted%20instanceof%20trustedValueHolderBase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20maybeTrusted.%24%24unwrapTrustedValue%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20maybeTrusted%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sceDelegate%23getTrusted%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Takes%20the%20result%20of%20a%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%60%7D%20call%20and%0D%0A%20%20%20%20%20*%20returns%20the%20originally%20supplied%20value%20if%20the%20queried%20context%20type%20is%20a%20supertype%20of%20the%0D%0A%20%20%20%20%20*%20created%20type.%20%20If%20this%20condition%20isn%27t%20satisfied%2C%20throws%20an%20exception.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20type%20The%20kind%20of%20context%20in%20which%20this%20value%20is%20to%20be%20used.%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20maybeTrusted%20The%20result%20of%20a%20prior%20%7B@link%20ng.%24sceDelegate%23trustAs%0D%0A%20%20%20%20%20*%20%20%20%20%20%60%24sceDelegate.trustAs%60%7D%20call.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20value%20the%20was%20originally%20provided%20to%20%7B@link%20ng.%24sceDelegate%23trustAs%0D%0A%20%20%20%20%20*%20%20%20%20%20%60%24sceDelegate.trustAs%60%7D%20if%20valid%20in%20this%20context.%20%20Otherwise%2C%20throws%20an%20exception.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20function%20getTrusted%28type%2C%20maybeTrusted%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28maybeTrusted%20%3D%3D%3D%20null%20%7C%7C%20maybeTrusted%20%3D%3D%3D%20undefined%20%7C%7C%20maybeTrusted%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20maybeTrusted%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20constructor%20%3D%20%28byType.hasOwnProperty%28type%29%20%3F%20byType%5Btype%5D%20%3A%20null%29%3B%0D%0A%20%20%20%20%20%20if%20%28constructor%20%26%26%20maybeTrusted%20instanceof%20constructor%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20maybeTrusted.%24%24unwrapTrustedValue%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20//%20If%20we%20get%20here%2C%20then%20we%20may%20only%20take%20one%20of%20two%20actions.%0D%0A%20%20%20%20%20%20//%201.%20sanitize%20the%20value%20for%20the%20requested%20type%2C%20or%0D%0A%20%20%20%20%20%20//%202.%20throw%20an%20exception.%0D%0A%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20SCE_CONTEXTS.RESOURCE_URL%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isResourceUrlAllowedByPolicy%28maybeTrusted%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20maybeTrusted%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24sceMinErr%28%27insecurl%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Blocked%20loading%20resource%20from%20url%20not%20allowed%20by%20%24sceDelegate%20policy.%20%20URL%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20maybeTrusted.toString%28%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20SCE_CONTEXTS.HTML%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20htmlSanitizer%28maybeTrusted%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20throw%20%24sceMinErr%28%27unsafe%27%2C%20%27Attempting%20to%20use%20an%20unsafe%20value%20in%20a%20safe%20context.%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20%7B%20trustAs%3A%20trustAs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20getTrusted%3A%20getTrusted%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20valueOf%3A%20valueOf%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24sceProvider%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20The%20%24sceProvider%20provider%20allows%20developers%20to%20configure%20the%20%7B@link%20ng.%24sce%20%24sce%7D%20service.%0D%0A%20*%20-%20%20%20enable/disable%20Strict%20Contextual%20Escaping%20%28SCE%29%20in%20a%20module%0D%0A%20*%20-%20%20%20override%20the%20default%20implementation%20with%20a%20custom%20delegate%0D%0A%20*%0D%0A%20*%20Read%20more%20about%20%7B@link%20ng.%24sce%20Strict%20Contextual%20Escaping%20%28SCE%29%7D.%0D%0A%20*/%0D%0A%0D%0A/*%20jshint%20maxlen%3A%20false*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24sce%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20%60%24sce%60%20is%20a%20service%20that%20provides%20Strict%20Contextual%20Escaping%20services%20to%20AngularJS.%0D%0A%20*%0D%0A%20*%20%23%20Strict%20Contextual%20Escaping%0D%0A%20*%0D%0A%20*%20Strict%20Contextual%20Escaping%20%28SCE%29%20is%20a%20mode%20in%20which%20AngularJS%20requires%20bindings%20in%20certain%0D%0A%20*%20contexts%20to%20result%20in%20a%20value%20that%20is%20marked%20as%20safe%20to%20use%20for%20that%20context.%20%20One%20example%20of%0D%0A%20*%20such%20a%20context%20is%20binding%20arbitrary%20html%20controlled%20by%20the%20user%20via%20%60ng-bind-html%60.%20%20We%20refer%0D%0A%20*%20to%20these%20contexts%20as%20privileged%20or%20SCE%20contexts.%0D%0A%20*%0D%0A%20*%20As%20of%20version%201.2%2C%20Angular%20ships%20with%20SCE%20enabled%20by%20default.%0D%0A%20*%0D%0A%20*%20Note%3A%20%20When%20enabled%20%28the%20default%29%2C%20IE%3C11%20in%20quirks%20mode%20is%20not%20supported.%20%20In%20this%20mode%2C%20IE%3C11%20allow%0D%0A%20*%20one%20to%20execute%20arbitrary%20javascript%20by%20the%20use%20of%20the%20expression%28%29%20syntax.%20%20Refer%0D%0A%20*%20%3Chttp%3A//blogs.msdn.com/b/ie/archive/2008/10/16/ending-expressions.aspx%3E%20to%20learn%20more%20about%20them.%0D%0A%20*%20You%20can%20ensure%20your%20document%20is%20in%20standards%20mode%20and%20not%20quirks%20mode%20by%20adding%20%60%3C%21doctype%20html%3E%60%0D%0A%20*%20to%20the%20top%20of%20your%20HTML%20document.%0D%0A%20*%0D%0A%20*%20SCE%20assists%20in%20writing%20code%20in%20way%20that%20%28a%29%20is%20secure%20by%20default%20and%20%28b%29%20makes%20auditing%20for%0D%0A%20*%20security%20vulnerabilities%20such%20as%20XSS%2C%20clickjacking%2C%20etc.%20a%20lot%20easier.%0D%0A%20*%0D%0A%20*%20Here%27s%20an%20example%20of%20a%20binding%20in%20a%20privileged%20context%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20%3Cinput%20ng-model%3D%22userHtml%22%20aria-label%3D%22User%20input%22%3E%0D%0A%20*%20%3Cdiv%20ng-bind-html%3D%22userHtml%22%3E%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Notice%20that%20%60ng-bind-html%60%20is%20bound%20to%20%60userHtml%60%20controlled%20by%20the%20user.%20%20With%20SCE%0D%0A%20*%20disabled%2C%20this%20application%20allows%20the%20user%20to%20render%20arbitrary%20HTML%20into%20the%20DIV.%0D%0A%20*%20In%20a%20more%20realistic%20example%2C%20one%20may%20be%20rendering%20user%20comments%2C%20blog%20articles%2C%20etc.%20via%0D%0A%20*%20bindings.%20%20%28HTML%20is%20just%20one%20example%20of%20a%20context%20where%20rendering%20user%20controlled%20input%20creates%0D%0A%20*%20security%20vulnerabilities.%29%0D%0A%20*%0D%0A%20*%20For%20the%20case%20of%20HTML%2C%20you%20might%20use%20a%20library%2C%20either%20on%20the%20client%20side%2C%20or%20on%20the%20server%20side%2C%0D%0A%20*%20to%20sanitize%20unsafe%20HTML%20before%20binding%20to%20the%20value%20and%20rendering%20it%20in%20the%20document.%0D%0A%20*%0D%0A%20*%20How%20would%20you%20ensure%20that%20every%20place%20that%20used%20these%20types%20of%20bindings%20was%20bound%20to%20a%20value%20that%0D%0A%20*%20was%20sanitized%20by%20your%20library%20%28or%20returned%20as%20safe%20for%20rendering%20by%20your%20server%3F%29%20%20How%20can%20you%0D%0A%20*%20ensure%20that%20you%20didn%27t%20accidentally%20delete%20the%20line%20that%20sanitized%20the%20value%2C%20or%20renamed%20some%0D%0A%20*%20properties/fields%20and%20forgot%20to%20update%20the%20binding%20to%20the%20sanitized%20value%3F%0D%0A%20*%0D%0A%20*%20To%20be%20secure%20by%20default%2C%20you%20want%20to%20ensure%20that%20any%20such%20bindings%20are%20disallowed%20unless%20you%20can%0D%0A%20*%20determine%20that%20something%20explicitly%20says%20it%27s%20safe%20to%20use%20a%20value%20for%20binding%20in%20that%0D%0A%20*%20context.%20%20You%20can%20then%20audit%20your%20code%20%28a%20simple%20grep%20would%20do%29%20to%20ensure%20that%20this%20is%20only%20done%0D%0A%20*%20for%20those%20values%20that%20you%20can%20easily%20tell%20are%20safe%20-%20because%20they%20were%20received%20from%20your%20server%2C%0D%0A%20*%20sanitized%20by%20your%20library%2C%20etc.%20%20You%20can%20organize%20your%20codebase%20to%20help%20with%20this%20-%20perhaps%0D%0A%20*%20allowing%20only%20the%20files%20in%20a%20specific%20directory%20to%20do%20this.%20%20Ensuring%20that%20the%20internal%20API%0D%0A%20*%20exposed%20by%20that%20code%20doesn%27t%20markup%20arbitrary%20values%20as%20safe%20then%20becomes%20a%20more%20manageable%20task.%0D%0A%20*%0D%0A%20*%20In%20the%20case%20of%20AngularJS%27%20SCE%20service%2C%20one%20uses%20%7B@link%20ng.%24sce%23trustAs%20%24sce.trustAs%7D%0D%0A%20*%20%28and%20shorthand%20methods%20such%20as%20%7B@link%20ng.%24sce%23trustAsHtml%20%24sce.trustAsHtml%7D%2C%20etc.%29%20to%0D%0A%20*%20obtain%20values%20that%20will%20be%20accepted%20by%20SCE%20/%20privileged%20contexts.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%20How%20does%20it%20work%3F%0D%0A%20*%0D%0A%20*%20In%20privileged%20contexts%2C%20directives%20and%20code%20will%20bind%20to%20the%20result%20of%20%7B@link%20ng.%24sce%23getTrusted%0D%0A%20*%20%24sce.getTrusted%28context%2C%20value%29%7D%20rather%20than%20to%20the%20value%20directly.%20%20Directives%20use%20%7B@link%0D%0A%20*%20ng.%24sce%23parseAs%20%24sce.parseAs%7D%20rather%20than%20%60%24parse%60%20to%20watch%20attribute%20bindings%2C%20which%20performs%20the%0D%0A%20*%20%7B@link%20ng.%24sce%23getTrusted%20%24sce.getTrusted%7D%20behind%20the%20scenes%20on%20non-constant%20literals.%0D%0A%20*%0D%0A%20*%20As%20an%20example%2C%20%7B@link%20ng.directive%3AngBindHtml%20ngBindHtml%7D%20uses%20%7B@link%0D%0A%20*%20ng.%24sce%23parseAsHtml%20%24sce.parseAsHtml%28binding%20expression%29%7D.%20%20Here%27s%20the%20actual%20code%20%28slightly%0D%0A%20*%20simplified%29%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20var%20ngBindHtmlDirective%20%3D%20%5B%27%24sce%27%2C%20function%28%24sce%29%20%7B%0D%0A%20*%20%20%20return%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20*%20%20%20%20%20scope.%24watch%28%24sce.parseAsHtml%28attr.ngBindHtml%29%2C%20function%28value%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20element.html%28value%20%7C%7C%20%27%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%7D%3B%0D%0A%20*%20%7D%5D%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%23%20Impact%20on%20loading%20templates%0D%0A%20*%0D%0A%20*%20This%20applies%20both%20to%20the%20%7B@link%20ng.directive%3AngInclude%20%60ng-include%60%7D%20directive%20as%20well%20as%0D%0A%20*%20%60templateUrl%60%27s%20specified%20by%20%7B@link%20guide/directive%20directives%7D.%0D%0A%20*%0D%0A%20*%20By%20default%2C%20Angular%20only%20loads%20templates%20from%20the%20same%20domain%20and%20protocol%20as%20the%20application%0D%0A%20*%20document.%20%20This%20is%20done%20by%20calling%20%7B@link%20ng.%24sce%23getTrustedResourceUrl%0D%0A%20*%20%24sce.getTrustedResourceUrl%7D%20on%20the%20template%20URL.%20%20To%20load%20templates%20from%20other%20domains%20and/or%0D%0A%20*%20protocols%2C%20you%20may%20either%20either%20%7B@link%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%20whitelist%0D%0A%20*%20them%7D%20or%20%7B@link%20ng.%24sce%23trustAsResourceUrl%20wrap%20it%7D%20into%20a%20trusted%20value.%0D%0A%20*%0D%0A%20*%20*Please%20note*%3A%0D%0A%20*%20The%20browser%27s%0D%0A%20*%20%5BSame%20Origin%20Policy%5D%28https%3A//code.google.com/p/browsersec/wiki/Part2%23Same-origin_policy_for_XMLHttpRequest%29%0D%0A%20*%20and%20%5BCross-Origin%20Resource%20Sharing%20%28CORS%29%5D%28http%3A//www.w3.org/TR/cors/%29%0D%0A%20*%20policy%20apply%20in%20addition%20to%20this%20and%20may%20further%20restrict%20whether%20the%20template%20is%20successfully%0D%0A%20*%20loaded.%20%20This%20means%20that%20without%20the%20right%20CORS%20policy%2C%20loading%20templates%20from%20a%20different%20domain%0D%0A%20*%20won%27t%20work%20on%20all%20browsers.%20%20Also%2C%20loading%20templates%20from%20%60file%3A//%60%20URL%20does%20not%20work%20on%20some%0D%0A%20*%20browsers.%0D%0A%20*%0D%0A%20*%20%23%23%20This%20feels%20like%20too%20much%20overhead%0D%0A%20*%0D%0A%20*%20It%27s%20important%20to%20remember%20that%20SCE%20only%20applies%20to%20interpolation%20expressions.%0D%0A%20*%0D%0A%20*%20If%20your%20expressions%20are%20constant%20literals%2C%20they%27re%20automatically%20trusted%20and%20you%20don%27t%20need%20to%0D%0A%20*%20call%20%60%24sce.trustAs%60%20on%20them%20%28remember%20to%20include%20the%20%60ngSanitize%60%20module%29%20%28e.g.%0D%0A%20*%20%60%3Cdiv%20ng-bind-html%3D%22%27%3Cb%3Eimplicitly%20trusted%3C/b%3E%27%22%3E%3C/div%3E%60%29%20just%20works.%0D%0A%20*%0D%0A%20*%20Additionally%2C%20%60a%5Bhref%5D%60%20and%20%60img%5Bsrc%5D%60%20automatically%20sanitize%20their%20URLs%20and%20do%20not%20pass%20them%0D%0A%20*%20through%20%7B@link%20ng.%24sce%23getTrusted%20%24sce.getTrusted%7D.%20%20SCE%20doesn%27t%20play%20a%20role%20here.%0D%0A%20*%0D%0A%20*%20The%20included%20%7B@link%20ng.%24sceDelegate%20%24sceDelegate%7D%20comes%20with%20sane%20defaults%20to%20allow%20you%20to%20load%0D%0A%20*%20templates%20in%20%60ng-include%60%20from%20your%20application%27s%20domain%20without%20having%20to%20even%20know%20about%20SCE.%0D%0A%20*%20It%20blocks%20loading%20templates%20from%20other%20domains%20or%20loading%20templates%20over%20http%20from%20an%20https%0D%0A%20*%20served%20document.%20%20You%20can%20change%20these%20by%20setting%20your%20own%20custom%20%7B@link%0D%0A%20*%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%20whitelists%7D%20and%20%7B@link%0D%0A%20*%20ng.%24sceDelegateProvider%23resourceUrlBlacklist%20blacklists%7D%20for%20matching%20such%20URLs.%0D%0A%20*%0D%0A%20*%20This%20significantly%20reduces%20the%20overhead.%20%20It%20is%20far%20easier%20to%20pay%20the%20small%20overhead%20and%20have%20an%0D%0A%20*%20application%20that%27s%20secure%20and%20can%20be%20audited%20to%20verify%20that%20with%20much%20more%20ease%20than%20bolting%0D%0A%20*%20security%20onto%20an%20application%20later.%0D%0A%20*%0D%0A%20*%20%3Ca%20name%3D%22contexts%22%3E%3C/a%3E%0D%0A%20*%20%23%23%20What%20trusted%20context%20types%20are%20supported%3F%0D%0A%20*%0D%0A%20*%20%7C%20Context%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Notes%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C---------------------%7C----------------%7C%0D%0A%20*%20%7C%20%60%24sce.HTML%60%20%20%20%20%20%20%20%20%20%7C%20For%20HTML%20that%27s%20safe%20to%20source%20into%20the%20application.%20%20The%20%7B@link%20ng.directive%3AngBindHtml%20ngBindHtml%7D%20directive%20uses%20this%20context%20for%20bindings.%20If%20an%20unsafe%20value%20is%20encountered%20and%20the%20%7B@link%20ngSanitize%20%24sanitize%7D%20module%20is%20present%20this%20will%20sanitize%20the%20value%20instead%20of%20throwing%20an%20error.%20%7C%0D%0A%20*%20%7C%20%60%24sce.CSS%60%20%20%20%20%20%20%20%20%20%20%7C%20For%20CSS%20that%27s%20safe%20to%20source%20into%20the%20application.%20%20Currently%20unused.%20%20Feel%20free%20to%20use%20it%20in%20your%20own%20directives.%20%7C%0D%0A%20*%20%7C%20%60%24sce.URL%60%20%20%20%20%20%20%20%20%20%20%7C%20For%20URLs%20that%20are%20safe%20to%20follow%20as%20links.%20%20Currently%20unused%20%28%60%3Ca%20href%3D%60%20and%20%60%3Cimg%20src%3D%60%20sanitize%20their%20urls%20and%20don%27t%20constitute%20an%20SCE%20context.%20%7C%0D%0A%20*%20%7C%20%60%24sce.RESOURCE_URL%60%20%7C%20For%20URLs%20that%20are%20not%20only%20safe%20to%20follow%20as%20links%2C%20but%20whose%20contents%20are%20also%20safe%20to%20include%20in%20your%20application.%20%20Examples%20include%20%60ng-include%60%2C%20%60src%60%20/%20%60ngSrc%60%20bindings%20for%20tags%20other%20than%20%60IMG%60%20%28e.g.%20%60IFRAME%60%2C%20%60OBJECT%60%2C%20etc.%29%20%20%3Cbr%3E%3Cbr%3ENote%20that%20%60%24sce.RESOURCE_URL%60%20makes%20a%20stronger%20statement%20about%20the%20URL%20than%20%60%24sce.URL%60%20does%20and%20therefore%20contexts%20requiring%20values%20trusted%20for%20%60%24sce.RESOURCE_URL%60%20can%20be%20used%20anywhere%20that%20values%20trusted%20for%20%60%24sce.URL%60%20are%20required.%20%7C%0D%0A%20*%20%7C%20%60%24sce.JS%60%20%20%20%20%20%20%20%20%20%20%20%7C%20For%20JavaScript%20that%20is%20safe%20to%20execute%20in%20your%20application%27s%20context.%20%20Currently%20unused.%20%20Feel%20free%20to%20use%20it%20in%20your%20own%20directives.%20%7C%0D%0A%20*%0D%0A%20*%20%23%23%20Format%20of%20items%20in%20%7B@link%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%20resourceUrlWhitelist%7D/%7B@link%20ng.%24sceDelegateProvider%23resourceUrlBlacklist%20Blacklist%7D%20%3Ca%20name%3D%22resourceUrlPatternItem%22%3E%3C/a%3E%0D%0A%20*%0D%0A%20*%20%20Each%20element%20in%20these%20arrays%20must%20be%20one%20of%20the%20following%3A%0D%0A%20*%0D%0A%20*%20%20-%20**%27self%27**%0D%0A%20*%20%20%20%20-%20The%20special%20**string**%2C%20%60%27self%27%60%2C%20can%20be%20used%20to%20match%20against%20all%20URLs%20of%20the%20**same%0D%0A%20*%20%20%20%20%20%20domain**%20as%20the%20application%20document%20using%20the%20**same%20protocol**.%0D%0A%20*%20%20-%20**String**%20%28except%20the%20special%20value%20%60%27self%27%60%29%0D%0A%20*%20%20%20%20-%20The%20string%20is%20matched%20against%20the%20full%20*normalized%20/%20absolute%20URL*%20of%20the%20resource%0D%0A%20*%20%20%20%20%20%20being%20tested%20%28substring%20matches%20are%20not%20good%20enough.%29%0D%0A%20*%20%20%20%20-%20There%20are%20exactly%20**two%20wildcard%20sequences**%20-%20%60*%60%20and%20%60**%60.%20%20All%20other%20characters%0D%0A%20*%20%20%20%20%20%20match%20themselves.%0D%0A%20*%20%20%20%20-%20%60*%60%3A%20matches%20zero%20or%20more%20occurrences%20of%20any%20character%20other%20than%20one%20of%20the%20following%206%0D%0A%20*%20%20%20%20%20%20characters%3A%20%27%60%3A%60%27%2C%20%27%60/%60%27%2C%20%27%60.%60%27%2C%20%27%60%3F%60%27%2C%20%27%60%26%60%27%20and%20%27%3B%27.%20%20It%27s%20a%20useful%20wildcard%20for%20use%0D%0A%20*%20%20%20%20%20%20in%20a%20whitelist.%0D%0A%20*%20%20%20%20-%20%60**%60%3A%20matches%20zero%20or%20more%20occurrences%20of%20*any*%20character.%20%20As%20such%2C%20it%27s%20not%0D%0A%20*%20%20%20%20%20%20not%20appropriate%20to%20use%20in%20for%20a%20scheme%2C%20domain%2C%20etc.%20as%20it%20would%20match%20too%20much.%20%20%28e.g.%0D%0A%20*%20%20%20%20%20%20http%3A//**.example.com/%20would%20match%20http%3A//evil.com/%3Fignore%3D.example.com/%20and%20that%20might%0D%0A%20*%20%20%20%20%20%20not%20have%20been%20the%20intention.%29%20%20Its%20usage%20at%20the%20very%20end%20of%20the%20path%20is%20ok.%20%20%28e.g.%0D%0A%20*%20%20%20%20%20%20http%3A//foo.example.com/templates/**%29.%0D%0A%20*%20%20-%20**RegExp**%20%28*see%20caveat%20below*%29%0D%0A%20*%20%20%20%20-%20*Caveat*%3A%20%20While%20regular%20expressions%20are%20powerful%20and%20offer%20great%20flexibility%2C%20%20their%20syntax%0D%0A%20*%20%20%20%20%20%20%28and%20all%20the%20inevitable%20escaping%29%20makes%20them%20*harder%20to%20maintain*.%20%20It%27s%20easy%20to%0D%0A%20*%20%20%20%20%20%20accidentally%20introduce%20a%20bug%20when%20one%20updates%20a%20complex%20expression%20%28imho%2C%20all%20regexes%20should%0D%0A%20*%20%20%20%20%20%20have%20good%20test%20coverage.%29.%20%20For%20instance%2C%20the%20use%20of%20%60.%60%20in%20the%20regex%20is%20correct%20only%20in%20a%0D%0A%20*%20%20%20%20%20%20small%20number%20of%20cases.%20%20A%20%60.%60%20character%20in%20the%20regex%20used%20when%20matching%20the%20scheme%20or%20a%0D%0A%20*%20%20%20%20%20%20subdomain%20could%20be%20matched%20against%20a%20%60%3A%60%20or%20literal%20%60.%60%20that%20was%20likely%20not%20intended.%20%20%20It%0D%0A%20*%20%20%20%20%20%20is%20highly%20recommended%20to%20use%20the%20string%20patterns%20and%20only%20fall%20back%20to%20regular%20expressions%0D%0A%20*%20%20%20%20%20%20if%20they%20as%20a%20last%20resort.%0D%0A%20*%20%20%20%20-%20The%20regular%20expression%20must%20be%20an%20instance%20of%20RegExp%20%28i.e.%20not%20a%20string.%29%20%20It%20is%0D%0A%20*%20%20%20%20%20%20matched%20against%20the%20**entire**%20*normalized%20/%20absolute%20URL*%20of%20the%20resource%20being%20tested%0D%0A%20*%20%20%20%20%20%20%28even%20when%20the%20RegExp%20did%20not%20have%20the%20%60%5E%60%20and%20%60%24%60%20codes.%29%20%20In%20addition%2C%20any%20flags%0D%0A%20*%20%20%20%20%20%20present%20on%20the%20RegExp%20%28such%20as%20multiline%2C%20global%2C%20ignoreCase%29%20are%20ignored.%0D%0A%20*%20%20%20%20-%20If%20you%20are%20generating%20your%20JavaScript%20from%20some%20other%20templating%20engine%20%28not%0D%0A%20*%20%20%20%20%20%20recommended%2C%20e.g.%20in%20issue%20%5B%234006%5D%28https%3A//github.com/angular/angular.js/issues/4006%29%29%2C%0D%0A%20*%20%20%20%20%20%20remember%20to%20escape%20your%20regular%20expression%20%28and%20be%20aware%20that%20you%20might%20need%20more%20than%0D%0A%20*%20%20%20%20%20%20one%20level%20of%20escaping%20depending%20on%20your%20templating%20engine%20and%20the%20way%20you%20interpolated%0D%0A%20*%20%20%20%20%20%20the%20value.%29%20%20Do%20make%20use%20of%20your%20platform%27s%20escaping%20mechanism%20as%20it%20might%20be%20good%0D%0A%20*%20%20%20%20%20%20enough%20before%20coding%20your%20own.%20%20e.g.%20Ruby%20has%0D%0A%20*%20%20%20%20%20%20%5BRegexp.escape%28str%29%5D%28http%3A//www.ruby-doc.org/core-2.0.0/Regexp.html%23method-c-escape%29%0D%0A%20*%20%20%20%20%20%20and%20Python%20has%20%5Bre.escape%5D%28http%3A//docs.python.org/library/re.html%23re.escape%29.%0D%0A%20*%20%20%20%20%20%20Javascript%20lacks%20a%20similar%20built%20in%20function%20for%20escaping.%20%20Take%20a%20look%20at%20Google%0D%0A%20*%20%20%20%20%20%20Closure%20library%27s%20%5Bgoog.string.regExpEscape%28s%29%5D%28%0D%0A%20*%20%20%20%20%20%20http%3A//docs.closure-library.googlecode.com/git/closure_goog_string_string.js.source.html%23line962%29.%0D%0A%20*%0D%0A%20*%20Refer%20%7B@link%20ng.%24sceDelegateProvider%20%24sceDelegateProvider%7D%20for%20an%20example.%0D%0A%20*%0D%0A%20*%20%23%23%20Show%20me%20an%20example%20using%20SCE.%0D%0A%20*%0D%0A%20*%20%3Cexample%20module%3D%22mySceApp%22%20deps%3D%22angular-sanitize.js%22%3E%0D%0A%20*%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%3Cdiv%20ng-controller%3D%22AppController%20as%20myCtrl%22%3E%0D%0A%20*%20%20%20%20%20%3Ci%20ng-bind-html%3D%22myCtrl.explicitlyTrustedHtml%22%20id%3D%22explicitlyTrustedHtml%22%3E%3C/i%3E%3Cbr%3E%3Cbr%3E%0D%0A%20*%20%20%20%20%20%3Cb%3EUser%20comments%3C/b%3E%3Cbr%3E%0D%0A%20*%20%20%20%20%20By%20default%2C%20HTML%20that%20isn%27t%20explicitly%20trusted%20%28e.g.%20Alice%27s%20comment%29%20is%20sanitized%20when%0D%0A%20*%20%20%20%20%20%24sanitize%20is%20available.%20%20If%20%24sanitize%20isn%27t%20available%2C%20this%20results%20in%20an%20error%20instead%20of%20an%0D%0A%20*%20%20%20%20%20exploit.%0D%0A%20*%20%20%20%20%20%3Cdiv%20class%3D%22well%22%3E%0D%0A%20*%20%20%20%20%20%20%20%3Cdiv%20ng-repeat%3D%22userComment%20in%20myCtrl.userComments%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cb%3E%7B%7BuserComment.name%7D%7D%3C/b%3E%3A%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cspan%20ng-bind-html%3D%22userComment.htmlComment%22%20class%3D%22htmlComment%22%3E%3C/span%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cbr%3E%0D%0A%20*%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%3C/file%3E%0D%0A%20*%0D%0A%20*%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20*%20%20%20angular.module%28%27mySceApp%27%2C%20%5B%27ngSanitize%27%5D%29%0D%0A%20*%20%20%20%20%20.controller%28%27AppController%27%2C%20%5B%27%24http%27%2C%20%27%24templateCache%27%2C%20%27%24sce%27%2C%0D%0A%20*%20%20%20%20%20%20%20function%28%24http%2C%20%24templateCache%2C%20%24sce%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%24http.get%28%22test_data.json%22%2C%20%7Bcache%3A%20%24templateCache%7D%29.success%28function%28userComments%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20self.userComments%20%3D%20userComments%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20self.explicitlyTrustedHtml%20%3D%20%24sce.trustAsHtml%28%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3Cspan%20onmouseover%3D%22this.textContent%3D%26quot%3BExplicitly%20trusted%20HTML%20bypasses%20%27%20+%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%27sanitization.%26quot%3B%22%3EHover%20over%20this%20text.%3C/span%3E%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20*%20%3C/file%3E%0D%0A%20*%0D%0A%20*%20%3Cfile%20name%3D%22test_data.json%22%3E%0D%0A%20*%20%5B%0D%0A%20*%20%20%20%7B%20%22name%22%3A%20%22Alice%22%2C%0D%0A%20*%20%20%20%20%20%22htmlComment%22%3A%0D%0A%20*%20%20%20%20%20%20%20%20%20%22%3Cspan%20onmouseover%3D%27this.textContent%3D%5C%22PWN3D%21%5C%22%27%3EIs%20%3Ci%3Eanyone%3C/i%3E%20reading%20this%3F%3C/span%3E%22%0D%0A%20*%20%20%20%7D%2C%0D%0A%20*%20%20%20%7B%20%22name%22%3A%20%22Bob%22%2C%0D%0A%20*%20%20%20%20%20%22htmlComment%22%3A%20%22%3Ci%3EYes%21%3C/i%3E%20%20Am%20I%20the%20only%20other%20one%3F%22%0D%0A%20*%20%20%20%7D%0D%0A%20*%20%5D%0D%0A%20*%20%3C/file%3E%0D%0A%20*%0D%0A%20*%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20describe%28%27SCE%20doc%20demo%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20it%28%27should%20sanitize%20untrusted%20values%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20expect%28element.all%28by.css%28%27.htmlComment%27%29%29.first%28%29.getInnerHtml%28%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.toBe%28%27%3Cspan%3EIs%20%3Ci%3Eanyone%3C/i%3E%20reading%20this%3F%3C/span%3E%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20it%28%27should%20NOT%20sanitize%20explicitly%20trusted%20values%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20expect%28element%28by.id%28%27explicitlyTrustedHtml%27%29%29.getInnerHtml%28%29%29.toBe%28%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%27%3Cspan%20onmouseover%3D%22this.textContent%3D%26quot%3BExplicitly%20trusted%20HTML%20bypasses%20%27%20+%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%27sanitization.%26quot%3B%22%3EHover%20over%20this%20text.%3C/span%3E%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%7D%29%3B%0D%0A%20*%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%20Can%20I%20disable%20SCE%20completely%3F%0D%0A%20*%0D%0A%20*%20Yes%2C%20you%20can.%20%20However%2C%20this%20is%20strongly%20discouraged.%20%20SCE%20gives%20you%20a%20lot%20of%20security%20benefits%0D%0A%20*%20for%20little%20coding%20overhead.%20%20It%20will%20be%20much%20harder%20to%20take%20an%20SCE%20disabled%20application%20and%0D%0A%20*%20either%20secure%20it%20on%20your%20own%20or%20enable%20SCE%20at%20a%20later%20stage.%20%20It%20might%20make%20sense%20to%20disable%20SCE%0D%0A%20*%20for%20cases%20where%20you%20have%20a%20lot%20of%20existing%20code%20that%20was%20written%20before%20SCE%20was%20introduced%20and%0D%0A%20*%20you%27re%20migrating%20them%20a%20module%20at%20a%20time.%0D%0A%20*%0D%0A%20*%20That%20said%2C%20here%27s%20how%20you%20can%20completely%20disable%20SCE%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20angular.module%28%27myAppWithSceDisabledmyApp%27%2C%20%5B%5D%29.config%28function%28%24sceProvider%29%20%7B%0D%0A%20*%20%20%20//%20Completely%20disable%20SCE.%20%20For%20demonstration%20purposes%20only%21%0D%0A%20*%20%20%20//%20Do%20not%20use%20in%20new%20projects.%0D%0A%20*%20%20%20%24sceProvider.enabled%28false%29%3B%0D%0A%20*%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*/%0D%0A/*%20jshint%20maxlen%3A%20100%20*/%0D%0A%0D%0Afunction%20%24SceProvider%28%29%20%7B%0D%0A%20%20var%20enabled%20%3D%20true%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24sceProvider%23enabled%0D%0A%20%20%20*%20@kind%20function%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20value%20If%20provided%2C%20then%20enables/disables%20SCE.%0D%0A%20%20%20*%20@return%20%7Bboolean%7D%20true%20if%20SCE%20is%20enabled%2C%20false%20otherwise.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Enables/disables%20SCE%20and%20returns%20the%20current%20value.%0D%0A%20%20%20*/%0D%0A%20%20this.enabled%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28arguments.length%29%20%7B%0D%0A%20%20%20%20%20%20enabled%20%3D%20%21%21value%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20enabled%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/*%20Design%20notes%20on%20the%20default%20implementation%20for%20SCE.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20API%20contract%20for%20the%20SCE%20delegate%0D%0A%20%20%20*%20-------------------------------------%0D%0A%20%20%20*%20The%20SCE%20delegate%20object%20must%20provide%20the%20following%203%20methods%3A%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20trustAs%28contextEnum%2C%20value%29%0D%0A%20%20%20*%20%20%20%20%20This%20method%20is%20used%20to%20tell%20the%20SCE%20service%20that%20the%20provided%20value%20is%20OK%20to%20use%20in%20the%0D%0A%20%20%20*%20%20%20%20%20contexts%20specified%20by%20contextEnum.%20%20It%20must%20return%20an%20object%20that%20will%20be%20accepted%20by%0D%0A%20%20%20*%20%20%20%20%20getTrusted%28%29%20for%20a%20compatible%20contextEnum%20and%20return%20this%20value.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20valueOf%28value%29%0D%0A%20%20%20*%20%20%20%20%20For%20values%20that%20were%20not%20produced%20by%20trustAs%28%29%2C%20return%20them%20as%20is.%20%20For%20values%20that%20were%0D%0A%20%20%20*%20%20%20%20%20produced%20by%20trustAs%28%29%2C%20return%20the%20corresponding%20input%20value%20to%20trustAs.%20%20Basically%2C%20if%0D%0A%20%20%20*%20%20%20%20%20trustAs%20is%20wrapping%20the%20given%20values%20into%20some%20type%2C%20this%20operation%20unwraps%20it%20when%20given%0D%0A%20%20%20*%20%20%20%20%20such%20a%20value.%0D%0A%20%20%20*%0D%0A%20%20%20*%20-%20getTrusted%28contextEnum%2C%20value%29%0D%0A%20%20%20*%20%20%20%20%20This%20function%20should%20return%20the%20a%20value%20that%20is%20safe%20to%20use%20in%20the%20context%20specified%20by%0D%0A%20%20%20*%20%20%20%20%20contextEnum%20or%20throw%20and%20exception%20otherwise.%0D%0A%20%20%20*%0D%0A%20%20%20*%20NOTE%3A%20This%20contract%20deliberately%20does%20NOT%20state%20that%20values%20returned%20by%20trustAs%28%29%20must%20be%0D%0A%20%20%20*%20opaque%20or%20wrapped%20in%20some%20holder%20object.%20%20That%20happens%20to%20be%20an%20implementation%20detail.%20%20For%0D%0A%20%20%20*%20instance%2C%20an%20implementation%20could%20maintain%20a%20registry%20of%20all%20trusted%20objects%20by%20context.%20%20In%0D%0A%20%20%20*%20such%20a%20case%2C%20trustAs%28%29%20would%20return%20the%20same%20object%20that%20was%20passed%20in.%20%20getTrusted%28%29%20would%0D%0A%20%20%20*%20return%20the%20same%20object%20passed%20in%20if%20it%20was%20found%20in%20the%20registry%20under%20a%20compatible%20context%20or%0D%0A%20%20%20*%20throw%20an%20exception%20otherwise.%20%20An%20implementation%20might%20only%20wrap%20values%20some%20of%20the%20time%20based%0D%0A%20%20%20*%20on%20some%20criteria.%20%20getTrusted%28%29%20might%20return%20a%20value%20and%20not%20throw%20an%20exception%20for%20special%0D%0A%20%20%20*%20constants%20or%20objects%20even%20if%20not%20wrapped.%20%20All%20such%20implementations%20fulfill%20this%20contract.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20A%20note%20on%20the%20inheritance%20model%20for%20SCE%20contexts%0D%0A%20%20%20*%20------------------------------------------------%0D%0A%20%20%20*%20I%27ve%20used%20inheritance%20and%20made%20RESOURCE_URL%20wrapped%20types%20a%20subtype%20of%20URL%20wrapped%20types.%20%20This%0D%0A%20%20%20*%20is%20purely%20an%20implementation%20details.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20contract%20is%20simply%20this%3A%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20getTrusted%28%24sce.RESOURCE_URL%2C%20value%29%20succeeding%20implies%20that%20getTrusted%28%24sce.URL%2C%20value%29%0D%0A%20%20%20*%20%20%20%20%20will%20also%20succeed.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Inheritance%20happens%20to%20capture%20this%20in%20a%20natural%20way.%20%20In%20some%20future%2C%20we%0D%0A%20%20%20*%20may%20not%20use%20inheritance%20anymore.%20%20That%20is%20OK%20because%20no%20code%20outside%20of%0D%0A%20%20%20*%20sce.js%20and%20sceSpecs.js%20would%20need%20to%20be%20aware%20of%20this%20detail.%0D%0A%20%20%20*/%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24parse%27%2C%20%27%24sceDelegate%27%2C%20function%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24parse%2C%20%20%20%24sceDelegate%29%20%7B%0D%0A%20%20%20%20//%20Prereq%3A%20Ensure%20that%20we%27re%20not%20running%20in%20IE%3C11%20quirks%20mode.%20%20In%20that%20mode%2C%20IE%20%3C%2011%20allow%0D%0A%20%20%20%20//%20the%20%22expression%28javascript%20expression%29%22%20syntax%20which%20is%20insecure.%0D%0A%20%20%20%20if%20%28enabled%20%26%26%20msie%20%3C%208%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24sceMinErr%28%27iequirks%27%2C%0D%0A%20%20%20%20%20%20%20%20%27Strict%20Contextual%20Escaping%20does%20not%20support%20Internet%20Explorer%20version%20%3C%2011%20in%20quirks%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%27mode.%20%20You%20can%20fix%20this%20by%20adding%20the%20text%20%3C%21doctype%20html%3E%20to%20the%20top%20of%20your%20HTML%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%27document.%20%20See%20http%3A//docs.angularjs.org/api/ng.%24sce%20for%20more%20information.%27%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20sce%20%3D%20shallowCopy%28SCE_CONTEXTS%29%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23isEnabled%0D%0A%20%20%20%20%20*%20@kind%20function%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@return%20%7BBoolean%7D%20true%20if%20SCE%20is%20enabled%2C%20false%20otherwise.%20%20If%20you%20want%20to%20set%20the%20value%2C%20you%0D%0A%20%20%20%20%20*%20have%20to%20do%20it%20at%20module%20config%20time%20on%20%7B@link%20ng.%24sceProvider%20%24sceProvider%7D.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Returns%20a%20boolean%20indicating%20if%20SCE%20is%20enabled.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20sce.isEnabled%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20enabled%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20sce.trustAs%20%3D%20%24sceDelegate.trustAs%3B%0D%0A%20%20%20%20sce.getTrusted%20%3D%20%24sceDelegate.getTrusted%3B%0D%0A%20%20%20%20sce.valueOf%20%3D%20%24sceDelegate.valueOf%3B%0D%0A%0D%0A%20%20%20%20if%20%28%21enabled%29%20%7B%0D%0A%20%20%20%20%20%20sce.trustAs%20%3D%20sce.getTrusted%20%3D%20function%28type%2C%20value%29%20%7B%20return%20value%3B%20%7D%3B%0D%0A%20%20%20%20%20%20sce.valueOf%20%3D%20identity%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Converts%20Angular%20%7B@link%20guide/expression%20expression%7D%20into%20a%20function.%20%20This%20is%20like%20%7B@link%0D%0A%20%20%20%20%20*%20ng.%24parse%20%24parse%7D%20and%20is%20identical%20when%20the%20expression%20is%20a%20literal%20constant.%20%20Otherwise%2C%20it%0D%0A%20%20%20%20%20*%20wraps%20the%20expression%20in%20a%20call%20to%20%7B@link%20ng.%24sce%23getTrusted%20%24sce.getTrusted%28*type*%2C%0D%0A%20%20%20%20%20*%20*result*%29%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20type%20The%20kind%20of%20SCE%20context%20in%20which%20this%20result%20will%20be%20used.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20sce.parseAs%20%3D%20function%20sceParseAs%28type%2C%20expr%29%20%7B%0D%0A%20%20%20%20%20%20var%20parsed%20%3D%20%24parse%28expr%29%3B%0D%0A%20%20%20%20%20%20if%20%28parsed.literal%20%26%26%20parsed.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20parsed%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%24parse%28expr%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sce.getTrusted%28type%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23trustAs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Delegates%20to%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%60%7D.%20%20As%20such%2C%0D%0A%20%20%20%20%20*%20returns%20an%20object%20that%20is%20trusted%20by%20angular%20for%20use%20in%20specified%20strict%20contextual%0D%0A%20%20%20%20%20*%20escaping%20contexts%20%28such%20as%20ng-bind-html%2C%20ng-include%2C%20any%20src%20attribute%0D%0A%20%20%20%20%20*%20interpolation%2C%20any%20dom%20event%20binding%20attribute%20interpolation%20such%20as%20for%20onclick%2C%20%20etc.%29%0D%0A%20%20%20%20%20*%20that%20uses%20the%20provided%20value.%20%20See%20*%20%7B@link%20ng.%24sce%20%24sce%7D%20for%20enabling%20strict%20contextual%0D%0A%20%20%20%20%20*%20escaping.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20type%20The%20kind%20of%20context%20in%20which%20this%20value%20is%20safe%20for%20use.%20%20e.g.%20url%2C%0D%0A%20%20%20%20%20*%20%20%20resourceUrl%2C%20html%2C%20js%20and%20css.%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20that%20that%20should%20be%20considered%20trusted/safe.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20A%20value%20that%20can%20be%20used%20to%20stand%20in%20for%20the%20provided%20%60value%60%20in%20places%0D%0A%20%20%20%20%20*%20where%20Angular%20expects%20a%20%24sce.trustAs%28%29%20return%20value.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23trustAsHtml%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.trustAsHtml%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%28%24sce.HTML%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20trustAs.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20An%20object%20that%20can%20be%20passed%20to%20%7B@link%20ng.%24sce%23getTrustedHtml%0D%0A%20%20%20%20%20*%20%20%20%20%20%24sce.getTrustedHtml%28value%29%7D%20to%20obtain%20the%20original%20value.%20%20%28privileged%20directives%0D%0A%20%20%20%20%20*%20%20%20%20%20only%20accept%20expressions%20that%20are%20either%20literal%20constants%20or%20are%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20value%20of%20%7B@link%20ng.%24sce%23trustAs%20%24sce.trustAs%7D.%29%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23trustAsUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.trustAsUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%28%24sce.URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20trustAs.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20An%20object%20that%20can%20be%20passed%20to%20%7B@link%20ng.%24sce%23getTrustedUrl%0D%0A%20%20%20%20%20*%20%20%20%20%20%24sce.getTrustedUrl%28value%29%7D%20to%20obtain%20the%20original%20value.%20%20%28privileged%20directives%0D%0A%20%20%20%20%20*%20%20%20%20%20only%20accept%20expressions%20that%20are%20either%20literal%20constants%20or%20are%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20value%20of%20%7B@link%20ng.%24sce%23trustAs%20%24sce.trustAs%7D.%29%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23trustAsResourceUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.trustAsResourceUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%28%24sce.RESOURCE_URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20trustAs.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20An%20object%20that%20can%20be%20passed%20to%20%7B@link%20ng.%24sce%23getTrustedResourceUrl%0D%0A%20%20%20%20%20*%20%20%20%20%20%24sce.getTrustedResourceUrl%28value%29%7D%20to%20obtain%20the%20original%20value.%20%20%28privileged%20directives%0D%0A%20%20%20%20%20*%20%20%20%20%20only%20accept%20expressions%20that%20are%20either%20literal%20constants%20or%20are%20the%20return%0D%0A%20%20%20%20%20*%20%20%20%20%20value%20of%20%7B@link%20ng.%24sce%23trustAs%20%24sce.trustAs%7D.%29%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23trustAsJs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.trustAsJs%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23trustAs%20%60%24sceDelegate.trustAs%28%24sce.JS%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20trustAs.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20An%20object%20that%20can%20be%20passed%20to%20%7B@link%20ng.%24sce%23getTrustedJs%0D%0A%20%20%20%20%20*%20%20%20%20%20%24sce.getTrustedJs%28value%29%7D%20to%20obtain%20the%20original%20value.%20%20%28privileged%20directives%0D%0A%20%20%20%20%20*%20%20%20%20%20only%20accept%20expressions%20that%20are%20either%20literal%20constants%20or%20are%20the%0D%0A%20%20%20%20%20*%20%20%20%20%20return%20value%20of%20%7B@link%20ng.%24sce%23trustAs%20%24sce.trustAs%7D.%29%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrusted%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Delegates%20to%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%60%7D.%20%20As%20such%2C%0D%0A%20%20%20%20%20*%20takes%20the%20result%20of%20a%20%7B@link%20ng.%24sce%23trustAs%20%60%24sce.trustAs%60%7D%28%29%20call%20and%20returns%20the%0D%0A%20%20%20%20%20*%20originally%20supplied%20value%20if%20the%20queried%20context%20type%20is%20a%20supertype%20of%20the%20created%20type.%0D%0A%20%20%20%20%20*%20If%20this%20condition%20isn%27t%20satisfied%2C%20throws%20an%20exception.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20type%20The%20kind%20of%20context%20in%20which%20this%20value%20is%20to%20be%20used.%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20maybeTrusted%20The%20result%20of%20a%20prior%20%7B@link%20ng.%24sce%23trustAs%20%60%24sce.trustAs%60%7D%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20call.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20value%20the%20was%20originally%20provided%20to%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B@link%20ng.%24sce%23trustAs%20%60%24sce.trustAs%60%7D%20if%20valid%20in%20this%20context.%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20Otherwise%2C%20throws%20an%20exception.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrustedHtml%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.getTrustedHtml%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%28%24sce.HTML%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20pass%20to%20%60%24sce.getTrusted%60.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20return%20value%20of%20%60%24sce.getTrusted%28%24sce.HTML%2C%20value%29%60%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrustedCss%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.getTrustedCss%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%28%24sce.CSS%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20pass%20to%20%60%24sce.getTrusted%60.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20return%20value%20of%20%60%24sce.getTrusted%28%24sce.CSS%2C%20value%29%60%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrustedUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.getTrustedUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%28%24sce.URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20pass%20to%20%60%24sce.getTrusted%60.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20return%20value%20of%20%60%24sce.getTrusted%28%24sce.URL%2C%20value%29%60%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrustedResourceUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.getTrustedResourceUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%28%24sce.RESOURCE_URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20pass%20to%20%60%24sceDelegate.getTrusted%60.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20return%20value%20of%20%60%24sce.getTrusted%28%24sce.RESOURCE_URL%2C%20value%29%60%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23getTrustedJs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.getTrustedJs%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sceDelegate%23getTrusted%20%60%24sceDelegate.getTrusted%28%24sce.JS%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20to%20pass%20to%20%60%24sce.getTrusted%60.%0D%0A%20%20%20%20%20*%20@returns%20%7B*%7D%20The%20return%20value%20of%20%60%24sce.getTrusted%28%24sce.JS%2C%20value%29%60%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAsHtml%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.parseAsHtml%28expression%20string%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sce%23parseAs%20%60%24sce.parseAs%28%24sce.HTML%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAsCss%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.parseAsCss%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sce%23parseAs%20%60%24sce.parseAs%28%24sce.CSS%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAsUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.parseAsUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sce%23parseAs%20%60%24sce.parseAs%28%24sce.URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAsResourceUrl%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.parseAsResourceUrl%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sce%23parseAs%20%60%24sce.parseAs%28%24sce.RESOURCE_URL%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20*%20@name%20%24sce%23parseAsJs%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shorthand%20method.%20%20%60%24sce.parseAsJs%28value%29%60%20%u2192%0D%0A%20%20%20%20%20*%20%20%20%20%20%7B@link%20ng.%24sce%23parseAs%20%60%24sce.parseAs%28%24sce.JS%2C%20value%29%60%7D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20String%20expression%20to%20compile.%0D%0A%20%20%20%20%20*%20@returns%20%7Bfunction%28context%2C%20locals%29%7D%20a%20function%20which%20represents%20the%20compiled%20expression%3A%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60context%60%20%u2013%20%60%7Bobject%7D%60%20%u2013%20an%20object%20against%20which%20any%20expressions%20embedded%20in%20the%20strings%0D%0A%20%20%20%20%20*%20%20%20%20%20%20are%20evaluated%20against%20%28typically%20a%20scope%20object%29.%0D%0A%20%20%20%20%20*%20%20%20%20*%20%60locals%60%20%u2013%20%60%7Bobject%3D%7D%60%20%u2013%20local%20variables%20context%20object%2C%20useful%20for%20overriding%20values%20in%0D%0A%20%20%20%20%20*%20%20%20%20%20%20%60context%60.%0D%0A%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20//%20Shorthand%20delegations.%0D%0A%20%20%20%20var%20parse%20%3D%20sce.parseAs%2C%0D%0A%20%20%20%20%20%20%20%20getTrusted%20%3D%20sce.getTrusted%2C%0D%0A%20%20%20%20%20%20%20%20trustAs%20%3D%20sce.trustAs%3B%0D%0A%0D%0A%20%20%20%20forEach%28SCE_CONTEXTS%2C%20function%28enumValue%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20var%20lName%20%3D%20lowercase%28name%29%3B%0D%0A%20%20%20%20%20%20sce%5BcamelCase%28%22parse_as_%22%20+%20lName%29%5D%20%3D%20function%28expr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20parse%28enumValue%2C%20expr%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20sce%5BcamelCase%28%22get_trusted_%22%20+%20lName%29%5D%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20getTrusted%28enumValue%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20sce%5BcamelCase%28%22trust_as_%22%20+%20lName%29%5D%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20trustAs%28enumValue%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20return%20sce%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20%21%21%21%20This%20is%20an%20undocumented%20%22private%22%20service%20%21%21%21%0D%0A%20*%0D%0A%20*%20@name%20%24sniffer%0D%0A%20*%20@requires%20%24window%0D%0A%20*%20@requires%20%24document%0D%0A%20*%0D%0A%20*%20@property%20%7Bboolean%7D%20history%20Does%20the%20browser%20support%20html5%20history%20api%20%3F%0D%0A%20*%20@property%20%7Bboolean%7D%20transitions%20Does%20the%20browser%20support%20CSS%20transition%20events%20%3F%0D%0A%20*%20@property%20%7Bboolean%7D%20animations%20Does%20the%20browser%20support%20CSS%20animation%20events%20%3F%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20This%20is%20very%20simple%20implementation%20of%20testing%20browser%27s%20features.%0D%0A%20*/%0D%0Afunction%20%24SnifferProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24window%27%2C%20%27%24document%27%2C%20function%28%24window%2C%20%24document%29%20%7B%0D%0A%20%20%20%20var%20eventSupport%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20android%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20toInt%28%28/android%20%28%5Cd+%29/.exec%28lowercase%28%28%24window.navigator%20%7C%7C%20%7B%7D%29.userAgent%29%29%20%7C%7C%20%5B%5D%29%5B1%5D%29%2C%0D%0A%20%20%20%20%20%20%20%20boxee%20%3D%20/Boxee/i.test%28%28%24window.navigator%20%7C%7C%20%7B%7D%29.userAgent%29%2C%0D%0A%20%20%20%20%20%20%20%20document%20%3D%20%24document%5B0%5D%20%7C%7C%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20vendorPrefix%2C%0D%0A%20%20%20%20%20%20%20%20vendorRegex%20%3D%20/%5E%28Moz%7Cwebkit%7Cms%29%28%3F%3D%5BA-Z%5D%29/%2C%0D%0A%20%20%20%20%20%20%20%20bodyStyle%20%3D%20document.body%20%26%26%20document.body.style%2C%0D%0A%20%20%20%20%20%20%20%20transitions%20%3D%20false%2C%0D%0A%20%20%20%20%20%20%20%20animations%20%3D%20false%2C%0D%0A%20%20%20%20%20%20%20%20match%3B%0D%0A%0D%0A%20%20%20%20if%20%28bodyStyle%29%20%7B%0D%0A%20%20%20%20%20%20for%20%28var%20prop%20in%20bodyStyle%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28match%20%3D%20vendorRegex.exec%28prop%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20vendorPrefix%20%3D%20match%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vendorPrefix%20%3D%20vendorPrefix.substr%280%2C%201%29.toUpperCase%28%29%20+%20vendorPrefix.substr%281%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21vendorPrefix%29%20%7B%0D%0A%20%20%20%20%20%20%20%20vendorPrefix%20%3D%20%28%27WebkitOpacity%27%20in%20bodyStyle%29%20%26%26%20%27webkit%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20transitions%20%3D%20%21%21%28%28%27transition%27%20in%20bodyStyle%29%20%7C%7C%20%28vendorPrefix%20+%20%27Transition%27%20in%20bodyStyle%29%29%3B%0D%0A%20%20%20%20%20%20animations%20%20%3D%20%21%21%28%28%27animation%27%20in%20bodyStyle%29%20%7C%7C%20%28vendorPrefix%20+%20%27Animation%27%20in%20bodyStyle%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28android%20%26%26%20%28%21transitions%20%7C%7C%20%20%21animations%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20transitions%20%3D%20isString%28bodyStyle.webkitTransition%29%3B%0D%0A%20%20%20%20%20%20%20%20animations%20%3D%20isString%28bodyStyle.webkitAnimation%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20//%20Android%20has%20history.pushState%2C%20but%20it%20does%20not%20update%20location%20correctly%0D%0A%20%20%20%20%20%20//%20so%20let%27s%20not%20use%20the%20history%20API%20at%20all.%0D%0A%20%20%20%20%20%20//%20http%3A//code.google.com/p/android/issues/detail%3Fid%3D17471%0D%0A%20%20%20%20%20%20//%20https%3A//github.com/angular/angular.js/issues/904%0D%0A%0D%0A%20%20%20%20%20%20//%20older%20webkit%20browser%20%28533.9%29%20on%20Boxee%20box%20has%20exactly%20the%20same%20problem%20as%20Android%20has%0D%0A%20%20%20%20%20%20//%20so%20let%27s%20not%20use%20the%20history%20API%20also%0D%0A%20%20%20%20%20%20//%20We%20are%20purposefully%20using%20%60%21%28android%20%3C%204%29%60%20to%20cover%20the%20case%20when%20%60android%60%20is%20undefined%0D%0A%20%20%20%20%20%20//%20jshint%20-W018%0D%0A%20%20%20%20%20%20history%3A%20%21%21%28%24window.history%20%26%26%20%24window.history.pushState%20%26%26%20%21%28android%20%3C%204%29%20%26%26%20%21boxee%29%2C%0D%0A%20%20%20%20%20%20//%20jshint%20+W018%0D%0A%20%20%20%20%20%20hasEvent%3A%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20IE9%20implements%20%27input%27%20event%20it%27s%20so%20fubared%20that%20we%20rather%20pretend%20that%20it%20doesn%27t%20have%0D%0A%20%20%20%20%20%20%20%20//%20it.%20In%20particular%20the%20event%20is%20not%20fired%20when%20backspace%20or%20delete%20key%20are%20pressed%20or%0D%0A%20%20%20%20%20%20%20%20//%20when%20cut%20operation%20is%20performed.%0D%0A%20%20%20%20%20%20%20%20//%20IE10+%20implements%20%27input%27%20event%20but%20it%20erroneously%20fires%20under%20various%20situations%2C%0D%0A%20%20%20%20%20%20%20%20//%20e.g.%20when%20placeholder%20changes%2C%20or%20a%20form%20is%20focused.%0D%0A%20%20%20%20%20%20%20%20if%20%28event%20%3D%3D%3D%20%27input%27%20%26%26%20msie%20%3C%3D%2011%29%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28eventSupport%5Bevent%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20divElm%20%3D%20document.createElement%28%27div%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20eventSupport%5Bevent%5D%20%3D%20%27on%27%20+%20event%20in%20divElm%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20eventSupport%5Bevent%5D%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20csp%3A%20csp%28%29%2C%0D%0A%20%20%20%20%20%20vendorPrefix%3A%20vendorPrefix%2C%0D%0A%20%20%20%20%20%20transitions%3A%20transitions%2C%0D%0A%20%20%20%20%20%20animations%3A%20animations%2C%0D%0A%20%20%20%20%20%20android%3A%20android%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Avar%20%24compileMinErr%20%3D%20minErr%28%27%24compile%27%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24templateRequest%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60%24templateRequest%60%20service%20downloads%20the%20provided%20template%20using%20%60%24http%60%20and%2C%20upon%20success%2C%0D%0A%20*%20stores%20the%20contents%20inside%20of%20%60%24templateCache%60.%20If%20the%20HTTP%20request%20fails%20or%20the%20response%20data%0D%0A%20*%20of%20the%20HTTP%20request%20is%20empty%2C%20a%20%60%24compile%60%20error%20will%20be%20thrown%20%28the%20exception%20can%20be%20thwarted%0D%0A%20*%20by%20setting%20the%202nd%20parameter%20of%20the%20function%20to%20true%29.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20tpl%20The%20HTTP%20request%20template%20URL%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20ignoreRequestError%20Whether%20or%20not%20to%20ignore%20the%20exception%20when%20the%20request%20fails%20or%20the%20template%20is%20empty%0D%0A%20*%0D%0A%20*%20@return%20%7BPromise%7D%20a%20promise%20for%20the%20HTTP%20response%20data%20of%20the%20given%20URL.%0D%0A%20*%0D%0A%20*%20@property%20%7Bnumber%7D%20totalPendingRequests%20total%20amount%20of%20pending%20template%20requests%20being%20downloaded.%0D%0A%20*/%0D%0Afunction%20%24TemplateRequestProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24templateCache%27%2C%20%27%24http%27%2C%20%27%24q%27%2C%20function%28%24templateCache%2C%20%24http%2C%20%24q%29%20%7B%0D%0A%20%20%20%20function%20handleRequestFn%28tpl%2C%20ignoreRequestError%29%20%7B%0D%0A%20%20%20%20%20%20handleRequestFn.totalPendingRequests++%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20transformResponse%20%3D%20%24http.defaults%20%26%26%20%24http.defaults.transformResponse%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28isArray%28transformResponse%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20transformResponse%20%3D%20transformResponse.filter%28function%28transformer%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20transformer%20%21%3D%3D%20defaultHttpResponseTransform%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28transformResponse%20%3D%3D%3D%20defaultHttpResponseTransform%29%20%7B%0D%0A%20%20%20%20%20%20%20%20transformResponse%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20httpOptions%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20cache%3A%20%24templateCache%2C%0D%0A%20%20%20%20%20%20%20%20transformResponse%3A%20transformResponse%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20%24http.get%28tpl%2C%20httpOptions%29%0D%0A%20%20%20%20%20%20%20%20%5B%27finally%27%5D%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20handleRequestFn.totalPendingRequests--%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20.then%28function%28response%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24templateCache.put%28tpl%2C%20response.data%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20response.data%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20handleError%29%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20handleError%28resp%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21ignoreRequestError%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24compileMinErr%28%27tpload%27%2C%20%27Failed%20to%20load%20template%3A%20%7B0%7D%20%28HTTP%20status%3A%20%7B1%7D%20%7B2%7D%29%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tpl%2C%20resp.status%2C%20resp.statusText%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20%24q.reject%28resp%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20handleRequestFn.totalPendingRequests%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20return%20handleRequestFn%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24%24TestabilityProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24rootScope%27%2C%20%27%24browser%27%2C%20%27%24location%27%2C%0D%0A%20%20%20%20%20%20%20function%28%24rootScope%2C%20%20%20%24browser%2C%20%20%20%24location%29%20%7B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24testability%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20The%20private%20%24%24testability%20service%20provides%20a%20collection%20of%20methods%20for%20use%20when%20debugging%0D%0A%20%20%20%20%20*%20or%20by%20automated%20test%20and%20debugging%20tools.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20var%20testability%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24%24testability%23findBindings%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Returns%20an%20array%20of%20elements%20that%20are%20bound%20%28via%20ng-bind%20or%20%7B%7B%7D%7D%29%0D%0A%20%20%20%20%20*%20to%20expressions%20matching%20the%20input.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BElement%7D%20element%20The%20element%20root%20to%20search%20from.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20The%20binding%20expression%20to%20match.%0D%0A%20%20%20%20%20*%20@param%20%7Bboolean%7D%20opt_exactMatch%20If%20true%2C%20only%20returns%20exact%20matches%0D%0A%20%20%20%20%20*%20%20%20%20%20for%20the%20expression.%20Filters%20and%20whitespace%20are%20ignored.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20testability.findBindings%20%3D%20function%28element%2C%20expression%2C%20opt_exactMatch%29%20%7B%0D%0A%20%20%20%20%20%20var%20bindings%20%3D%20element.getElementsByClassName%28%27ng-binding%27%29%3B%0D%0A%20%20%20%20%20%20var%20matches%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20forEach%28bindings%2C%20function%28binding%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20dataBinding%20%3D%20angular.element%28binding%29.data%28%27%24binding%27%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28dataBinding%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28dataBinding%2C%20function%28bindingName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opt_exactMatch%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20matcher%20%3D%20new%20RegExp%28%27%28%5E%7C%5C%5Cs%29%27%20+%20escapeForRegexp%28expression%29%20+%20%27%28%5C%5Cs%7C%5C%5C%7C%7C%24%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28matcher.test%28bindingName%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matches.push%28binding%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bindingName.indexOf%28expression%29%20%21%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matches.push%28binding%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20matches%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24%24testability%23findModels%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Returns%20an%20array%20of%20elements%20that%20are%20two-way%20found%20via%20ng-model%20to%0D%0A%20%20%20%20%20*%20expressions%20matching%20the%20input.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7BElement%7D%20element%20The%20element%20root%20to%20search%20from.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20expression%20The%20model%20expression%20to%20match.%0D%0A%20%20%20%20%20*%20@param%20%7Bboolean%7D%20opt_exactMatch%20If%20true%2C%20only%20returns%20exact%20matches%0D%0A%20%20%20%20%20*%20%20%20%20%20for%20the%20expression.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20testability.findModels%20%3D%20function%28element%2C%20expression%2C%20opt_exactMatch%29%20%7B%0D%0A%20%20%20%20%20%20var%20prefixes%20%3D%20%5B%27ng-%27%2C%20%27data-ng-%27%2C%20%27ng%5C%5C%3A%27%5D%3B%0D%0A%20%20%20%20%20%20for%20%28var%20p%20%3D%200%3B%20p%20%3C%20prefixes.length%3B%20++p%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20attributeEquals%20%3D%20opt_exactMatch%20%3F%20%27%3D%27%20%3A%20%27*%3D%27%3B%0D%0A%20%20%20%20%20%20%20%20var%20selector%20%3D%20%27%5B%27%20+%20prefixes%5Bp%5D%20+%20%27model%27%20+%20attributeEquals%20+%20%27%22%27%20+%20expression%20+%20%27%22%5D%27%3B%0D%0A%20%20%20%20%20%20%20%20var%20elements%20%3D%20element.querySelectorAll%28selector%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28elements.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20elements%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24%24testability%23getLocation%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20for%20getting%20the%20location%20in%20a%20browser%20agnostic%20way.%20Returns%0D%0A%20%20%20%20%20*%20%20%20%20%20the%20path%2C%20search%2C%20and%20hash.%20%28e.g.%20/path%3Fa%3Db%23hash%29%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20testability.getLocation%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20return%20%24location.url%28%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24%24testability%23setLocation%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Shortcut%20for%20navigating%20to%20a%20location%20without%20doing%20a%20full%20page%20reload.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20url%20The%20location%20url%20%28path%2C%20search%20and%20hash%2C%0D%0A%20%20%20%20%20*%20%20%20%20%20e.g.%20/path%3Fa%3Db%23hash%29%20to%20go%20to.%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20testability.setLocation%20%3D%20function%28url%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28url%20%21%3D%3D%20%24location.url%28%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24location.url%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20%24rootScope.%24digest%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@name%20%24%24testability%23whenStable%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Calls%20the%20callback%20when%20%24timeout%20and%20%24http%20requests%20are%20completed.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bfunction%7D%20callback%0D%0A%20%20%20%20%20*/%0D%0A%20%20%20%20testability.whenStable%20%3D%20function%28callback%29%20%7B%0D%0A%20%20%20%20%20%20%24browser.notifyWhenNoOutstandingRequests%28callback%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20testability%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20%24TimeoutProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%5B%27%24rootScope%27%2C%20%27%24browser%27%2C%20%27%24q%27%2C%20%27%24%24q%27%2C%20%27%24exceptionHandler%27%2C%0D%0A%20%20%20%20%20%20%20function%28%24rootScope%2C%20%20%20%24browser%2C%20%20%20%24q%2C%20%20%20%24%24q%2C%20%20%20%24exceptionHandler%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20deferreds%20%3D%20%7B%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20service%0D%0A%20%20%20%20%20%20*%20@name%20%24timeout%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Angular%27s%20wrapper%20for%20%60window.setTimeout%60.%20The%20%60fn%60%20function%20is%20wrapped%20into%20a%20try/catch%0D%0A%20%20%20%20%20%20*%20block%20and%20delegates%20any%20exceptions%20to%0D%0A%20%20%20%20%20%20*%20%7B@link%20ng.%24exceptionHandler%20%24exceptionHandler%7D%20service.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20The%20return%20value%20of%20calling%20%60%24timeout%60%20is%20a%20promise%2C%20which%20will%20be%20resolved%20when%0D%0A%20%20%20%20%20%20*%20the%20delay%20has%20passed%20and%20the%20timeout%20function%2C%20if%20provided%2C%20is%20executed.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20To%20cancel%20a%20timeout%20request%2C%20call%20%60%24timeout.cancel%28promise%29%60.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20In%20tests%20you%20can%20use%20%7B@link%20ngMock.%24timeout%20%60%24timeout.flush%28%29%60%7D%20to%0D%0A%20%20%20%20%20%20*%20synchronously%20flush%20the%20queue%20of%20deferred%20functions.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20If%20you%20only%20want%20a%20promise%20that%20will%20be%20resolved%20after%20some%20specified%20delay%0D%0A%20%20%20%20%20%20*%20then%20you%20can%20call%20%60%24timeout%60%20without%20the%20%60fn%60%20function.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@param%20%7Bfunction%28%29%3D%7D%20fn%20A%20function%2C%20whose%20execution%20should%20be%20delayed.%0D%0A%20%20%20%20%20%20*%20@param%20%7Bnumber%3D%7D%20%5Bdelay%3D0%5D%20Delay%20in%20milliseconds.%0D%0A%20%20%20%20%20%20*%20@param%20%7Bboolean%3D%7D%20%5BinvokeApply%3Dtrue%5D%20If%20set%20to%20%60false%60%20skips%20model%20dirty%20checking%2C%20otherwise%0D%0A%20%20%20%20%20%20*%20%20%20will%20invoke%20%60fn%60%20within%20the%20%7B@link%20ng.%24rootScope.Scope%23%24apply%20%24apply%7D%20block.%0D%0A%20%20%20%20%20%20*%20@param%20%7B...*%3D%7D%20Pass%20additional%20parameters%20to%20the%20executed%20function.%0D%0A%20%20%20%20%20%20*%20@returns%20%7BPromise%7D%20Promise%20that%20will%20be%20resolved%20when%20the%20timeout%20is%20reached.%20The%20value%20this%0D%0A%20%20%20%20%20%20*%20%20%20promise%20will%20be%20resolved%20with%20is%20the%20return%20value%20of%20the%20%60fn%60%20function.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20function%20timeout%28fn%2C%20delay%2C%20invokeApply%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21isFunction%28fn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20invokeApply%20%3D%20delay%3B%0D%0A%20%20%20%20%20%20%20%20delay%20%3D%20fn%3B%0D%0A%20%20%20%20%20%20%20%20fn%20%3D%20noop%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20args%20%3D%20sliceArgs%28arguments%2C%203%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20skipApply%20%3D%20%28isDefined%28invokeApply%29%20%26%26%20%21invokeApply%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20deferred%20%3D%20%28skipApply%20%3F%20%24%24q%20%3A%20%24q%29.defer%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20promise%20%3D%20deferred.promise%2C%0D%0A%20%20%20%20%20%20%20%20%20%20timeoutId%3B%0D%0A%0D%0A%20%20%20%20%20%20timeoutId%20%3D%20%24browser.defer%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.resolve%28fn.apply%28null%2C%20args%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deferred.reject%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20finally%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20deferreds%5Bpromise.%24%24timeoutId%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21skipApply%29%20%24rootScope.%24apply%28%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20delay%29%3B%0D%0A%0D%0A%20%20%20%20%20%20promise.%24%24timeoutId%20%3D%20timeoutId%3B%0D%0A%20%20%20%20%20%20deferreds%5BtimeoutId%5D%20%3D%20deferred%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20promise%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20%20%20%20*%20@name%20%24timeout%23cancel%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20%20*%20Cancels%20a%20task%20associated%20with%20the%20%60promise%60.%20As%20a%20result%20of%20this%2C%20the%20promise%20will%20be%0D%0A%20%20%20%20%20%20*%20resolved%20with%20a%20rejection.%0D%0A%20%20%20%20%20%20*%0D%0A%20%20%20%20%20%20*%20@param%20%7BPromise%3D%7D%20promise%20Promise%20returned%20by%20the%20%60%24timeout%60%20function.%0D%0A%20%20%20%20%20%20*%20@returns%20%7Bboolean%7D%20Returns%20%60true%60%20if%20the%20task%20hasn%27t%20executed%20yet%20and%20was%20successfully%0D%0A%20%20%20%20%20%20*%20%20%20canceled.%0D%0A%20%20%20%20%20%20*/%0D%0A%20%20%20%20timeout.cancel%20%3D%20function%28promise%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28promise%20%26%26%20promise.%24%24timeoutId%20in%20deferreds%29%20%7B%0D%0A%20%20%20%20%20%20%20%20deferreds%5Bpromise.%24%24timeoutId%5D.reject%28%27canceled%27%29%3B%0D%0A%20%20%20%20%20%20%20%20delete%20deferreds%5Bpromise.%24%24timeoutId%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20%24browser.defer.cancel%28promise.%24%24timeoutId%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20timeout%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A//%20NOTE%3A%20%20The%20usage%20of%20window%20and%20document%20instead%20of%20%24window%20and%20%24document%20here%20is%0D%0A//%20deliberate.%20%20This%20service%20depends%20on%20the%20specific%20behavior%20of%20anchor%20nodes%20created%20by%20the%0D%0A//%20browser%20%28resolving%20and%20parsing%20URLs%29%20that%20is%20unlikely%20to%20be%20provided%20by%20mock%20objects%20and%0D%0A//%20cause%20us%20to%20break%20tests.%20%20In%20addition%2C%20when%20the%20browser%20resolves%20a%20URL%20for%20XHR%2C%20it%0D%0A//%20doesn%27t%20know%20about%20mocked%20locations%20and%20resolves%20URLs%20to%20the%20real%20document%20-%20which%20is%0D%0A//%20exactly%20the%20behavior%20needed%20here.%20%20There%20is%20little%20value%20is%20mocking%20these%20out%20for%20this%0D%0A//%20service.%0D%0Avar%20urlParsingNode%20%3D%20document.createElement%28%22a%22%29%3B%0D%0Avar%20originUrl%20%3D%20urlResolve%28window.location.href%29%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%0D%0A%20*%20Implementation%20Notes%20for%20non-IE%20browsers%0D%0A%20*%20----------------------------------------%0D%0A%20*%20Assigning%20a%20URL%20to%20the%20href%20property%20of%20an%20anchor%20DOM%20node%2C%20even%20one%20attached%20to%20the%20DOM%2C%0D%0A%20*%20results%20both%20in%20the%20normalizing%20and%20parsing%20of%20the%20URL.%20%20Normalizing%20means%20that%20a%20relative%0D%0A%20*%20URL%20will%20be%20resolved%20into%20an%20absolute%20URL%20in%20the%20context%20of%20the%20application%20document.%0D%0A%20*%20Parsing%20means%20that%20the%20anchor%20node%27s%20host%2C%20hostname%2C%20protocol%2C%20port%2C%20pathname%20and%20related%0D%0A%20*%20properties%20are%20all%20populated%20to%20reflect%20the%20normalized%20URL.%20%20This%20approach%20has%20wide%0D%0A%20*%20compatibility%20-%20Safari%201+%2C%20Mozilla%201+%2C%20Opera%207+%2Ce%20etc.%20%20See%0D%0A%20*%20http%3A//www.aptana.com/reference/html/api/HTMLAnchorElement.html%0D%0A%20*%0D%0A%20*%20Implementation%20Notes%20for%20IE%0D%0A%20*%20---------------------------%0D%0A%20*%20IE%20%3E%3D%208%20and%20%3C%3D%2010%20normalizes%20the%20URL%20when%20assigned%20to%20the%20anchor%20node%20similar%20to%20the%20other%0D%0A%20*%20browsers.%20%20However%2C%20the%20parsed%20components%20will%20not%20be%20set%20if%20the%20URL%20assigned%20did%20not%20specify%0D%0A%20*%20them.%20%20%28e.g.%20if%20you%20assign%20a.href%20%3D%20%22foo%22%2C%20then%20a.protocol%2C%20a.host%2C%20etc.%20will%20be%20empty.%29%20%20We%0D%0A%20*%20work%20around%20that%20by%20performing%20the%20parsing%20in%20a%202nd%20step%20by%20taking%20a%20previously%20normalized%0D%0A%20*%20URL%20%28e.g.%20by%20assigning%20to%20a.href%29%20and%20assigning%20it%20a.href%20again.%20%20This%20correctly%20populates%20the%0D%0A%20*%20properties%20such%20as%20protocol%2C%20hostname%2C%20port%2C%20etc.%0D%0A%20*%0D%0A%20*%20IE7%20does%20not%20normalize%20the%20URL%20when%20assigned%20to%20an%20anchor%20node.%20%20%28Apparently%2C%20it%20does%2C%20if%20one%0D%0A%20*%20uses%20the%20inner%20HTML%20approach%20to%20assign%20the%20URL%20as%20part%20of%20an%20HTML%20snippet%20-%0D%0A%20*%20http%3A//stackoverflow.com/a/472729%29%20%20However%2C%20setting%20img%5Bsrc%5D%20does%20normalize%20the%20URL.%0D%0A%20*%20Unfortunately%2C%20setting%20img%5Bsrc%5D%20to%20something%20like%20%22javascript%3Afoo%22%20on%20IE%20throws%20an%20exception.%0D%0A%20*%20Since%20the%20primary%20usage%20for%20normalizing%20URLs%20is%20to%20sanitize%20such%20URLs%2C%20we%20can%27t%20use%20that%0D%0A%20*%20method%20and%20IE%20%3C%208%20is%20unsupported.%0D%0A%20*%0D%0A%20*%20References%3A%0D%0A%20*%20%20%20http%3A//developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement%0D%0A%20*%20%20%20http%3A//www.aptana.com/reference/html/api/HTMLAnchorElement.html%0D%0A%20*%20%20%20http%3A//url.spec.whatwg.org/%23urlutils%0D%0A%20*%20%20%20https%3A//github.com/angular/angular.js/pull/2902%0D%0A%20*%20%20%20http%3A//james.padolsey.com/javascript/parsing-urls-with-the-dom/%0D%0A%20*%0D%0A%20*%20@kind%20function%0D%0A%20*%20@param%20%7Bstring%7D%20url%20The%20URL%20to%20be%20parsed.%0D%0A%20*%20@description%20Normalizes%20and%20parses%20a%20URL.%0D%0A%20*%20@returns%20%7Bobject%7D%20Returns%20the%20normalized%20URL%20as%20a%20dictionary.%0D%0A%20*%0D%0A%20*%20%20%20%7C%20member%20name%20%20%20%7C%20Description%20%20%20%20%7C%0D%0A%20*%20%20%20%7C---------------%7C----------------%7C%0D%0A%20*%20%20%20%7C%20href%20%20%20%20%20%20%20%20%20%20%7C%20A%20normalized%20version%20of%20the%20provided%20URL%20if%20it%20was%20not%20an%20absolute%20URL%20%7C%0D%0A%20*%20%20%20%7C%20protocol%20%20%20%20%20%20%7C%20The%20protocol%20including%20the%20trailing%20colon%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%20%20%7C%20host%20%20%20%20%20%20%20%20%20%20%7C%20The%20host%20and%20port%20%28if%20the%20port%20is%20non-default%29%20of%20the%20normalizedUrl%20%20%20%20%7C%0D%0A%20*%20%20%20%7C%20search%20%20%20%20%20%20%20%20%7C%20The%20search%20params%2C%20minus%20the%20question%20mark%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%20%20%7C%20hash%20%20%20%20%20%20%20%20%20%20%7C%20The%20hash%20string%2C%20minus%20the%20hash%20symbol%0D%0A%20*%20%20%20%7C%20hostname%20%20%20%20%20%20%7C%20The%20hostname%0D%0A%20*%20%20%20%7C%20port%20%20%20%20%20%20%20%20%20%20%7C%20The%20port%2C%20without%20%22%3A%22%0D%0A%20*%20%20%20%7C%20pathname%20%20%20%20%20%20%7C%20The%20pathname%2C%20beginning%20with%20%22/%22%0D%0A%20*%0D%0A%20*/%0D%0Afunction%20urlResolve%28url%29%20%7B%0D%0A%20%20var%20href%20%3D%20url%3B%0D%0A%0D%0A%20%20if%20%28msie%29%20%7B%0D%0A%20%20%20%20//%20Normalize%20before%20parse.%20%20Refer%20Implementation%20Notes%20on%20why%20this%20is%0D%0A%20%20%20%20//%20done%20in%20two%20steps%20on%20IE.%0D%0A%20%20%20%20urlParsingNode.setAttribute%28%22href%22%2C%20href%29%3B%0D%0A%20%20%20%20href%20%3D%20urlParsingNode.href%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20urlParsingNode.setAttribute%28%27href%27%2C%20href%29%3B%0D%0A%0D%0A%20%20//%20urlParsingNode%20provides%20the%20UrlUtils%20interface%20-%20http%3A//url.spec.whatwg.org/%23urlutils%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20href%3A%20urlParsingNode.href%2C%0D%0A%20%20%20%20protocol%3A%20urlParsingNode.protocol%20%3F%20urlParsingNode.protocol.replace%28/%3A%24/%2C%20%27%27%29%20%3A%20%27%27%2C%0D%0A%20%20%20%20host%3A%20urlParsingNode.host%2C%0D%0A%20%20%20%20search%3A%20urlParsingNode.search%20%3F%20urlParsingNode.search.replace%28/%5E%5C%3F/%2C%20%27%27%29%20%3A%20%27%27%2C%0D%0A%20%20%20%20hash%3A%20urlParsingNode.hash%20%3F%20urlParsingNode.hash.replace%28/%5E%23/%2C%20%27%27%29%20%3A%20%27%27%2C%0D%0A%20%20%20%20hostname%3A%20urlParsingNode.hostname%2C%0D%0A%20%20%20%20port%3A%20urlParsingNode.port%2C%0D%0A%20%20%20%20pathname%3A%20%28urlParsingNode.pathname.charAt%280%29%20%3D%3D%3D%20%27/%27%29%0D%0A%20%20%20%20%20%20%3F%20urlParsingNode.pathname%0D%0A%20%20%20%20%20%20%3A%20%27/%27%20+%20urlParsingNode.pathname%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20Parse%20a%20request%20URL%20and%20determine%20whether%20this%20is%20a%20same-origin%20request%20as%20the%20application%20document.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7Cobject%7D%20requestUrl%20The%20url%20of%20the%20request%20as%20a%20string%20that%20will%20be%20resolved%0D%0A%20*%20or%20a%20parsed%20URL%20object.%0D%0A%20*%20@returns%20%7Bboolean%7D%20Whether%20the%20request%20is%20for%20the%20same%20origin%20as%20the%20application%20document.%0D%0A%20*/%0D%0Afunction%20urlIsSameOrigin%28requestUrl%29%20%7B%0D%0A%20%20var%20parsed%20%3D%20%28isString%28requestUrl%29%29%20%3F%20urlResolve%28requestUrl%29%20%3A%20requestUrl%3B%0D%0A%20%20return%20%28parsed.protocol%20%3D%3D%3D%20originUrl.protocol%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20parsed.host%20%3D%3D%3D%20originUrl.host%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24window%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20A%20reference%20to%20the%20browser%27s%20%60window%60%20object.%20While%20%60window%60%0D%0A%20*%20is%20globally%20available%20in%20JavaScript%2C%20it%20causes%20testability%20problems%2C%20because%0D%0A%20*%20it%20is%20a%20global%20variable.%20In%20angular%20we%20always%20refer%20to%20it%20through%20the%0D%0A%20*%20%60%24window%60%20service%2C%20so%20it%20may%20be%20overridden%2C%20removed%20or%20mocked%20for%20testing.%0D%0A%20*%0D%0A%20*%20Expressions%2C%20like%20the%20one%20defined%20for%20the%20%60ngClick%60%20directive%20in%20the%20example%0D%0A%20*%20below%2C%20are%20evaluated%20with%20respect%20to%20the%20current%20scope.%20%20Therefore%2C%20there%20is%0D%0A%20*%20no%20risk%20of%20inadvertently%20coding%20in%20a%20dependency%20on%20a%20global%20value%20in%20such%20an%0D%0A%20*%20expression.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22windowExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27windowExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20%27%24window%27%2C%20function%28%24scope%2C%20%24window%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.greeting%20%3D%20%27Hello%2C%20World%21%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.doGreeting%20%3D%20function%28greeting%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24window.alert%28greeting%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22greeting%22%20aria-label%3D%22greeting%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22doGreeting%28greeting%29%22%3EALERT%3C/button%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20it%28%27should%20display%20the%20greeting%20in%20the%20input%20box%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20element%28by.model%28%27greeting%27%29%29.sendKeys%28%27Hello%2C%20E2E%20Tests%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20If%20we%20click%20the%20button%20it%20will%20block%20the%20test%20runner%0D%0A%20%20%20%20%20%20%20//%20element%28%27%3Abutton%27%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20%24WindowProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20valueFn%28window%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@name%20%24%24cookieReader%0D%0A%20*%20@requires%20%24document%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20This%20is%20a%20private%20service%20for%20reading%20cookies%20used%20by%20%24http%20and%20ngCookies%0D%0A%20*%0D%0A%20*%20@return%20%7BObject%7D%20a%20key/value%20map%20of%20the%20current%20cookies%0D%0A%20*/%0D%0Afunction%20%24%24CookieReader%28%24document%29%20%7B%0D%0A%20%20var%20rawDocument%20%3D%20%24document%5B0%5D%20%7C%7C%20%7B%7D%3B%0D%0A%20%20var%20lastCookies%20%3D%20%7B%7D%3B%0D%0A%20%20var%20lastCookieString%20%3D%20%27%27%3B%0D%0A%0D%0A%20%20function%20safeDecodeURIComponent%28str%29%20%7B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20return%20decodeURIComponent%28str%29%3B%0D%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20return%20str%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20function%28%29%20%7B%0D%0A%20%20%20%20var%20cookieArray%2C%20cookie%2C%20i%2C%20index%2C%20name%3B%0D%0A%20%20%20%20var%20currentCookieString%20%3D%20rawDocument.cookie%20%7C%7C%20%27%27%3B%0D%0A%0D%0A%20%20%20%20if%20%28currentCookieString%20%21%3D%3D%20lastCookieString%29%20%7B%0D%0A%20%20%20%20%20%20lastCookieString%20%3D%20currentCookieString%3B%0D%0A%20%20%20%20%20%20cookieArray%20%3D%20lastCookieString.split%28%27%3B%20%27%29%3B%0D%0A%20%20%20%20%20%20lastCookies%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20cookieArray.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20cookie%20%3D%20cookieArray%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20index%20%3D%20cookie.indexOf%28%27%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28index%20%3E%200%29%20%7B%20//ignore%20nameless%20cookies%0D%0A%20%20%20%20%20%20%20%20%20%20name%20%3D%20safeDecodeURIComponent%28cookie.substring%280%2C%20index%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20the%20first%20value%20that%20is%20seen%20for%20a%20cookie%20is%20the%20most%0D%0A%20%20%20%20%20%20%20%20%20%20//%20specific%20one.%20%20values%20for%20the%20same%20cookie%20name%20that%0D%0A%20%20%20%20%20%20%20%20%20%20//%20follow%20are%20for%20less%20specific%20paths.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28lastCookies%5Bname%5D%20%3D%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lastCookies%5Bname%5D%20%3D%20safeDecodeURIComponent%28cookie.substring%28index%20+%201%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20lastCookies%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%24%24CookieReader.%24inject%20%3D%20%5B%27%24document%27%5D%3B%0D%0A%0D%0Afunction%20%24%24CookieReaderProvider%28%29%20%7B%0D%0A%20%20this.%24get%20%3D%20%24%24CookieReader%3B%0D%0A%7D%0D%0A%0D%0A/*%20global%20currencyFilter%3A%20true%2C%0D%0A%20dateFilter%3A%20true%2C%0D%0A%20filterFilter%3A%20true%2C%0D%0A%20jsonFilter%3A%20true%2C%0D%0A%20limitToFilter%3A%20true%2C%0D%0A%20lowercaseFilter%3A%20true%2C%0D%0A%20numberFilter%3A%20true%2C%0D%0A%20orderByFilter%3A%20true%2C%0D%0A%20uppercaseFilter%3A%20true%2C%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20provider%0D%0A%20*%20@name%20%24filterProvider%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20Filters%20are%20just%20functions%20which%20transform%20input%20to%20an%20output.%20However%20filters%20need%20to%20be%0D%0A%20*%20Dependency%20Injected.%20To%20achieve%20this%20a%20filter%20definition%20consists%20of%20a%20factory%20function%20which%20is%0D%0A%20*%20annotated%20with%20dependencies%20and%20is%20responsible%20for%20creating%20a%20filter%20function.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20Filter%20names%20must%20be%20valid%20angular%20%7B@link%20expression%7D%20identifiers%2C%20such%20as%20%60uppercase%60%20or%20%60orderBy%60.%0D%0A%20*%20Names%20with%20special%20characters%2C%20such%20as%20hyphens%20and%20dots%2C%20are%20not%20allowed.%20If%20you%20wish%20to%20namespace%0D%0A%20*%20your%20filters%2C%20then%20you%20can%20use%20capitalization%20%28%60myappSubsectionFilterx%60%29%20or%20underscores%0D%0A%20*%20%28%60myapp_subsection_filterx%60%29.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20//%20Filter%20registration%0D%0A%20*%20%20%20function%20MyModule%28%24provide%2C%20%24filterProvider%29%20%7B%0D%0A%20*%20%20%20%20%20//%20create%20a%20service%20to%20demonstrate%20injection%20%28not%20always%20needed%29%0D%0A%20*%20%20%20%20%20%24provide.value%28%27greet%27%2C%20function%28name%29%7B%0D%0A%20*%20%20%20%20%20%20%20return%20%27Hello%20%27%20+%20name%20+%20%27%21%27%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20//%20register%20a%20filter%20factory%20which%20uses%20the%0D%0A%20*%20%20%20%20%20//%20greet%20service%20to%20demonstrate%20DI.%0D%0A%20*%20%20%20%20%20%24filterProvider.register%28%27greet%27%2C%20function%28greet%29%7B%0D%0A%20*%20%20%20%20%20%20%20//%20return%20the%20filter%20function%20which%20uses%20the%20greet%20service%0D%0A%20*%20%20%20%20%20%20%20//%20to%20generate%20salutation%0D%0A%20*%20%20%20%20%20%20%20return%20function%28text%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20//%20filters%20need%20to%20be%20forgiving%20so%20check%20input%20validity%0D%0A%20*%20%20%20%20%20%20%20%20%20return%20text%20%26%26%20greet%28text%29%20%7C%7C%20text%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20filter%20function%20is%20registered%20with%20the%20%60%24injector%60%20under%20the%20filter%20name%20suffix%20with%0D%0A%20*%20%60Filter%60.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%20%20it%28%27should%20be%20the%20same%20instance%27%2C%20inject%28%0D%0A%20*%20%20%20%20%20function%28%24filterProvider%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%24filterProvider.register%28%27reverse%27%2C%20function%28%29%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20return%20...%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%20%20%7D%2C%0D%0A%20*%20%20%20%20%20function%28%24filter%2C%20reverseFilter%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20expect%28%24filter%28%27reverse%27%29%29.toBe%28reverseFilter%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20For%20more%20information%20about%20how%20angular%20filters%20work%2C%20and%20how%20to%20create%20your%20own%20filters%2C%20see%0D%0A%20*%20%7B@link%20guide/filter%20Filters%7D%20in%20the%20Angular%20Developer%20Guide.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20service%0D%0A%20*%20@name%20%24filter%0D%0A%20*%20@kind%20function%0D%0A%20*%20@description%0D%0A%20*%20Filters%20are%20used%20for%20formatting%20data%20displayed%20to%20the%20user.%0D%0A%20*%0D%0A%20*%20The%20general%20syntax%20in%20templates%20is%20as%20follows%3A%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%7B%7B%20expression%20%5B%7C%20filter_name%5B%3Aparameter_value%5D%20...%20%5D%20%7D%7D%0D%0A%20*%0D%0A%20*%20@param%20%7BString%7D%20name%20Name%20of%20the%20filter%20function%20to%20retrieve%0D%0A%20*%20@return%20%7BFunction%7D%20the%20filter%20function%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20name%3D%22%24filter%22%20module%3D%22filterExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22MainCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%7B%7B%20originalText%20%7D%7D%3C/h3%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%7B%7B%20filteredText%20%7D%7D%3C/h3%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27filterExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20.controller%28%27MainCtrl%27%2C%20function%28%24scope%2C%20%24filter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24scope.originalText%20%3D%20%27hello%27%3B%0D%0A%20%20%20%20%20%20%20%20%24scope.filteredText%20%3D%20%24filter%28%27uppercase%27%29%28%24scope.originalText%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20%20*/%0D%0A%24FilterProvider.%24inject%20%3D%20%5B%27%24provide%27%5D%3B%0D%0Afunction%20%24FilterProvider%28%24provide%29%20%7B%0D%0A%20%20var%20suffix%20%3D%20%27Filter%27%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20%24filterProvider%23register%0D%0A%20%20%20*%20@param%20%7Bstring%7CObject%7D%20name%20Name%20of%20the%20filter%20function%2C%20or%20an%20object%20map%20of%20filters%20where%0D%0A%20%20%20*%20%20%20%20the%20keys%20are%20the%20filter%20names%20and%20the%20values%20are%20the%20filter%20factories.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20*%20%20%20%20**Note%3A**%20Filter%20names%20must%20be%20valid%20angular%20%7B@link%20expression%7D%20identifiers%2C%20such%20as%20%60uppercase%60%20or%20%60orderBy%60.%0D%0A%20%20%20*%20%20%20%20Names%20with%20special%20characters%2C%20such%20as%20hyphens%20and%20dots%2C%20are%20not%20allowed.%20If%20you%20wish%20to%20namespace%0D%0A%20%20%20*%20%20%20%20your%20filters%2C%20then%20you%20can%20use%20capitalization%20%28%60myappSubsectionFilterx%60%29%20or%20underscores%0D%0A%20%20%20*%20%20%20%20%28%60myapp_subsection_filterx%60%29.%0D%0A%20%20%20*%20%20%20%20%3C/div%3E%0D%0A%20%20%20*%20@returns%20%7BObject%7D%20Registered%20filter%20instance%2C%20or%20if%20a%20map%20of%20filters%20was%20provided%20then%20a%20map%0D%0A%20%20%20*%20%20%20%20of%20the%20registered%20filter%20instances.%0D%0A%20%20%20*/%0D%0A%20%20function%20register%28name%2C%20factory%29%20%7B%0D%0A%20%20%20%20if%20%28isObject%28name%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20filters%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20forEach%28name%2C%20function%28filter%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20filters%5Bkey%5D%20%3D%20register%28key%2C%20filter%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20return%20filters%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20%24provide.factory%28name%20+%20suffix%2C%20factory%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20this.register%20%3D%20register%3B%0D%0A%0D%0A%20%20this.%24get%20%3D%20%5B%27%24injector%27%2C%20function%28%24injector%29%20%7B%0D%0A%20%20%20%20return%20function%28name%29%20%7B%0D%0A%20%20%20%20%20%20return%20%24injector.get%28name%20+%20suffix%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%0D%0A%20%20////////////////////////////////////////%0D%0A%0D%0A%20%20/*%20global%0D%0A%20%20%20%20currencyFilter%3A%20false%2C%0D%0A%20%20%20%20dateFilter%3A%20false%2C%0D%0A%20%20%20%20filterFilter%3A%20false%2C%0D%0A%20%20%20%20jsonFilter%3A%20false%2C%0D%0A%20%20%20%20limitToFilter%3A%20false%2C%0D%0A%20%20%20%20lowercaseFilter%3A%20false%2C%0D%0A%20%20%20%20numberFilter%3A%20false%2C%0D%0A%20%20%20%20orderByFilter%3A%20false%2C%0D%0A%20%20%20%20uppercaseFilter%3A%20false%2C%0D%0A%20%20*/%0D%0A%0D%0A%20%20register%28%27currency%27%2C%20currencyFilter%29%3B%0D%0A%20%20register%28%27date%27%2C%20dateFilter%29%3B%0D%0A%20%20register%28%27filter%27%2C%20filterFilter%29%3B%0D%0A%20%20register%28%27json%27%2C%20jsonFilter%29%3B%0D%0A%20%20register%28%27limitTo%27%2C%20limitToFilter%29%3B%0D%0A%20%20register%28%27lowercase%27%2C%20lowercaseFilter%29%3B%0D%0A%20%20register%28%27number%27%2C%20numberFilter%29%3B%0D%0A%20%20register%28%27orderBy%27%2C%20orderByFilter%29%3B%0D%0A%20%20register%28%27uppercase%27%2C%20uppercaseFilter%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20filter%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Selects%20a%20subset%20of%20items%20from%20%60array%60%20and%20returns%20it%20as%20a%20new%20array.%0D%0A%20*%0D%0A%20*%20@param%20%7BArray%7D%20array%20The%20source%20array.%0D%0A%20*%20@param%20%7Bstring%7CObject%7Cfunction%28%29%7D%20expression%20The%20predicate%20to%20be%20used%20for%20selecting%20items%20from%0D%0A%20*%20%20%20%60array%60.%0D%0A%20*%0D%0A%20*%20%20%20Can%20be%20one%20of%3A%0D%0A%20*%0D%0A%20*%20%20%20-%20%60string%60%3A%20The%20string%20is%20used%20for%20matching%20against%20the%20contents%20of%20the%20%60array%60.%20All%20strings%20or%0D%0A%20*%20%20%20%20%20objects%20with%20string%20properties%20in%20%60array%60%20that%20match%20this%20string%20will%20be%20returned.%20This%20also%0D%0A%20*%20%20%20%20%20applies%20to%20nested%20object%20properties.%0D%0A%20*%20%20%20%20%20The%20predicate%20can%20be%20negated%20by%20prefixing%20the%20string%20with%20%60%21%60.%0D%0A%20*%0D%0A%20*%20%20%20-%20%60Object%60%3A%20A%20pattern%20object%20can%20be%20used%20to%20filter%20specific%20properties%20on%20objects%20contained%0D%0A%20*%20%20%20%20%20by%20%60array%60.%20For%20example%20%60%7Bname%3A%22M%22%2C%20phone%3A%221%22%7D%60%20predicate%20will%20return%20an%20array%20of%20items%0D%0A%20*%20%20%20%20%20which%20have%20property%20%60name%60%20containing%20%22M%22%20and%20property%20%60phone%60%20containing%20%221%22.%20A%20special%0D%0A%20*%20%20%20%20%20property%20name%20%60%24%60%20can%20be%20used%20%28as%20in%20%60%7B%24%3A%22text%22%7D%60%29%20to%20accept%20a%20match%20against%20any%0D%0A%20*%20%20%20%20%20property%20of%20the%20object%20or%20its%20nested%20object%20properties.%20That%27s%20equivalent%20to%20the%20simple%0D%0A%20*%20%20%20%20%20substring%20match%20with%20a%20%60string%60%20as%20described%20above.%20The%20predicate%20can%20be%20negated%20by%20prefixing%0D%0A%20*%20%20%20%20%20the%20string%20with%20%60%21%60.%0D%0A%20*%20%20%20%20%20For%20example%20%60%7Bname%3A%20%22%21M%22%7D%60%20predicate%20will%20return%20an%20array%20of%20items%20which%20have%20property%20%60name%60%0D%0A%20*%20%20%20%20%20not%20containing%20%22M%22.%0D%0A%20*%0D%0A%20*%20%20%20%20%20Note%20that%20a%20named%20property%20will%20match%20properties%20on%20the%20same%20level%20only%2C%20while%20the%20special%0D%0A%20*%20%20%20%20%20%60%24%60%20property%20will%20match%20properties%20on%20the%20same%20level%20or%20deeper.%20E.g.%20an%20array%20item%20like%0D%0A%20*%20%20%20%20%20%60%7Bname%3A%20%7Bfirst%3A%20%27John%27%2C%20last%3A%20%27Doe%27%7D%7D%60%20will%20**not**%20be%20matched%20by%20%60%7Bname%3A%20%27John%27%7D%60%2C%20but%0D%0A%20*%20%20%20%20%20**will**%20be%20matched%20by%20%60%7B%24%3A%20%27John%27%7D%60.%0D%0A%20*%0D%0A%20*%20%20%20-%20%60function%28value%2C%20index%29%60%3A%20A%20predicate%20function%20can%20be%20used%20to%20write%20arbitrary%20filters.%20The%0D%0A%20*%20%20%20%20%20function%20is%20called%20for%20each%20element%20of%20%60array%60.%20The%20final%20result%20is%20an%20array%20of%20those%0D%0A%20*%20%20%20%20%20elements%20that%20the%20predicate%20returned%20true%20for.%0D%0A%20*%0D%0A%20*%20@param%20%7Bfunction%28actual%2C%20expected%29%7Ctrue%7Cundefined%7D%20comparator%20Comparator%20which%20is%20used%20in%0D%0A%20*%20%20%20%20%20determining%20if%20the%20expected%20value%20%28from%20the%20filter%20expression%29%20and%20actual%20value%20%28from%0D%0A%20*%20%20%20%20%20the%20object%20in%20the%20array%29%20should%20be%20considered%20a%20match.%0D%0A%20*%0D%0A%20*%20%20%20Can%20be%20one%20of%3A%0D%0A%20*%0D%0A%20*%20%20%20-%20%60function%28actual%2C%20expected%29%60%3A%0D%0A%20*%20%20%20%20%20The%20function%20will%20be%20given%20the%20object%20value%20and%20the%20predicate%20value%20to%20compare%20and%0D%0A%20*%20%20%20%20%20should%20return%20true%20if%20both%20values%20should%20be%20considered%20equal.%0D%0A%20*%0D%0A%20*%20%20%20-%20%60true%60%3A%20A%20shorthand%20for%20%60function%28actual%2C%20expected%29%20%7B%20return%20angular.equals%28actual%2C%20expected%29%7D%60.%0D%0A%20*%20%20%20%20%20This%20is%20essentially%20strict%20comparison%20of%20expected%20and%20actual.%0D%0A%20*%0D%0A%20*%20%20%20-%20%60false%7Cundefined%60%3A%20A%20short%20hand%20for%20a%20function%20which%20will%20look%20for%20a%20substring%20match%20in%20case%0D%0A%20*%20%20%20%20%20insensitive%20way.%0D%0A%20*%0D%0A%20*%20%20%20%20%20Primitive%20values%20are%20converted%20to%20strings.%20Objects%20are%20not%20compared%20against%20primitives%2C%0D%0A%20*%20%20%20%20%20unless%20they%20have%20a%20custom%20%60toString%60%20method%20%28e.g.%20%60Date%60%20objects%29.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-init%3D%22friends%20%3D%20%5B%7Bname%3A%27John%27%2C%20phone%3A%27555-1276%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mary%27%2C%20phone%3A%27800-BIG-MARY%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mike%27%2C%20phone%3A%27555-4321%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Adam%27%2C%20phone%3A%27555-5678%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Julie%27%2C%20phone%3A%27555-8765%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Juliette%27%2C%20phone%3A%27555-5678%27%7D%5D%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%3Clabel%3ESearch%3A%20%3Cinput%20ng-model%3D%22searchText%22%3E%3C/label%3E%0D%0A%20%20%20%20%20%20%20%3Ctable%20id%3D%22searchTextResults%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctr%3E%3Cth%3EName%3C/th%3E%3Cth%3EPhone%3C/th%3E%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctr%20ng-repeat%3D%22friend%20in%20friends%20%7C%20filter%3AsearchText%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.name%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.phone%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%3C/table%3E%0D%0A%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3EAny%3A%20%3Cinput%20ng-model%3D%22search.%24%22%3E%3C/label%3E%20%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3EName%20only%20%3Cinput%20ng-model%3D%22search.name%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3EPhone%20only%20%3Cinput%20ng-model%3D%22search.phone%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3EEquality%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22strict%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Ctable%20id%3D%22searchObjResults%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctr%3E%3Cth%3EName%3C/th%3E%3Cth%3EPhone%3C/th%3E%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctr%20ng-repeat%3D%22friendObj%20in%20friends%20%7C%20filter%3Asearch%3Astrict%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7BfriendObj.name%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7BfriendObj.phone%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%3C/table%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20var%20expectFriendNames%20%3D%20function%28expectedNames%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20element.all%28by.repeater%28key%20+%20%27%20in%20friends%27%29.column%28key%20+%20%27.name%27%29%29.then%28function%28arr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20arr.forEach%28function%28wd%2C%20i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20expect%28wd.getText%28%29%29.toMatch%28expectedNames%5Bi%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20search%20across%20all%20fields%20when%20filtering%20with%20a%20string%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20searchText%20%3D%20element%28by.model%28%27searchText%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchText.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchText.sendKeys%28%27m%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expectFriendNames%28%5B%27Mary%27%2C%20%27Mike%27%2C%20%27Adam%27%5D%2C%20%27friend%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20searchText.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchText.sendKeys%28%2776%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expectFriendNames%28%5B%27John%27%2C%20%27Julie%27%5D%2C%20%27friend%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20search%20in%20specific%20fields%20when%20filtering%20with%20a%20predicate%20object%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20searchAny%20%3D%20element%28by.model%28%27search.%24%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchAny.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchAny.sendKeys%28%27i%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expectFriendNames%28%5B%27Mary%27%2C%20%27Mike%27%2C%20%27Julie%27%2C%20%27Juliette%27%5D%2C%20%27friendObj%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20it%28%27should%20use%20a%20equal%20comparison%20when%20comparator%20is%20true%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20searchName%20%3D%20element%28by.model%28%27search.name%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20var%20strict%20%3D%20element%28by.model%28%27strict%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchName.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20searchName.sendKeys%28%27Julie%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20strict.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expectFriendNames%28%5B%27Julie%27%5D%2C%20%27friendObj%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Afunction%20filterFilter%28%29%20%7B%0D%0A%20%20return%20function%28array%2C%20expression%2C%20comparator%29%20%7B%0D%0A%20%20%20%20if%20%28%21isArrayLike%28array%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28array%20%3D%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20array%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20minErr%28%27filter%27%29%28%27notarray%27%2C%20%27Expected%20array%20but%20received%3A%20%7B0%7D%27%2C%20array%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20expressionType%20%3D%20getTypeForFilter%28expression%29%3B%0D%0A%20%20%20%20var%20predicateFn%3B%0D%0A%20%20%20%20var%20matchAgainstAnyProp%3B%0D%0A%0D%0A%20%20%20%20switch%20%28expressionType%29%20%7B%0D%0A%20%20%20%20%20%20case%20%27function%27%3A%0D%0A%20%20%20%20%20%20%20%20predicateFn%20%3D%20expression%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%20%27boolean%27%3A%0D%0A%20%20%20%20%20%20case%20%27null%27%3A%0D%0A%20%20%20%20%20%20case%20%27number%27%3A%0D%0A%20%20%20%20%20%20case%20%27string%27%3A%0D%0A%20%20%20%20%20%20%20%20matchAgainstAnyProp%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20//jshint%20-W086%0D%0A%20%20%20%20%20%20case%20%27object%27%3A%0D%0A%20%20%20%20%20%20%20%20//jshint%20+W086%0D%0A%20%20%20%20%20%20%20%20predicateFn%20%3D%20createPredicateFn%28expression%2C%20comparator%2C%20matchAgainstAnyProp%29%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20return%20array%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20Array.prototype.filter.call%28array%2C%20predicateFn%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20hasCustomToString%28obj%29%20%7B%0D%0A%20%20return%20isFunction%28obj.toString%29%20%26%26%20obj.toString%20%21%3D%3D%20Object.prototype.toString%3B%0D%0A%7D%0D%0A%0D%0A//%20Helper%20functions%20for%20%60filterFilter%60%0D%0Afunction%20createPredicateFn%28expression%2C%20comparator%2C%20matchAgainstAnyProp%29%20%7B%0D%0A%20%20var%20shouldMatchPrimitives%20%3D%20isObject%28expression%29%20%26%26%20%28%27%24%27%20in%20expression%29%3B%0D%0A%20%20var%20predicateFn%3B%0D%0A%0D%0A%20%20if%20%28comparator%20%3D%3D%3D%20true%29%20%7B%0D%0A%20%20%20%20comparator%20%3D%20equals%3B%0D%0A%20%20%7D%20else%20if%20%28%21isFunction%28comparator%29%29%20%7B%0D%0A%20%20%20%20comparator%20%3D%20function%28actual%2C%20expected%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28actual%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20No%20substring%20matching%20against%20%60undefined%60%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28%28actual%20%3D%3D%3D%20null%29%20%7C%7C%20%28expected%20%3D%3D%3D%20null%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20No%20substring%20matching%20against%20%60null%60%3B%20only%20match%20against%20%60null%60%0D%0A%20%20%20%20%20%20%20%20return%20actual%20%3D%3D%3D%20expected%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28isObject%28expected%29%20%7C%7C%20%28isObject%28actual%29%20%26%26%20%21hasCustomToString%28actual%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Should%20not%20compare%20primitives%20against%20objects%2C%20unless%20they%20have%20custom%20%60toString%60%20method%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20actual%20%3D%20lowercase%28%27%27%20+%20actual%29%3B%0D%0A%20%20%20%20%20%20expected%20%3D%20lowercase%28%27%27%20+%20expected%29%3B%0D%0A%20%20%20%20%20%20return%20actual.indexOf%28expected%29%20%21%3D%3D%20-1%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20predicateFn%20%3D%20function%28item%29%20%7B%0D%0A%20%20%20%20if%20%28shouldMatchPrimitives%20%26%26%20%21isObject%28item%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20deepCompare%28item%2C%20expression.%24%2C%20comparator%2C%20false%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20deepCompare%28item%2C%20expression%2C%20comparator%2C%20matchAgainstAnyProp%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20return%20predicateFn%3B%0D%0A%7D%0D%0A%0D%0Afunction%20deepCompare%28actual%2C%20expected%2C%20comparator%2C%20matchAgainstAnyProp%2C%20dontMatchWholeObject%29%20%7B%0D%0A%20%20var%20actualType%20%3D%20getTypeForFilter%28actual%29%3B%0D%0A%20%20var%20expectedType%20%3D%20getTypeForFilter%28expected%29%3B%0D%0A%0D%0A%20%20if%20%28%28expectedType%20%3D%3D%3D%20%27string%27%29%20%26%26%20%28expected.charAt%280%29%20%3D%3D%3D%20%27%21%27%29%29%20%7B%0D%0A%20%20%20%20return%20%21deepCompare%28actual%2C%20expected.substring%281%29%2C%20comparator%2C%20matchAgainstAnyProp%29%3B%0D%0A%20%20%7D%20else%20if%20%28isArray%28actual%29%29%20%7B%0D%0A%20%20%20%20//%20In%20case%20%60actual%60%20is%20an%20array%2C%20consider%20it%20a%20match%0D%0A%20%20%20%20//%20if%20ANY%20of%20it%27s%20items%20matches%20%60expected%60%0D%0A%20%20%20%20return%20actual.some%28function%28item%29%20%7B%0D%0A%20%20%20%20%20%20return%20deepCompare%28item%2C%20expected%2C%20comparator%2C%20matchAgainstAnyProp%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20switch%20%28actualType%29%20%7B%0D%0A%20%20%20%20case%20%27object%27%3A%0D%0A%20%20%20%20%20%20var%20key%3B%0D%0A%20%20%20%20%20%20if%20%28matchAgainstAnyProp%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20actual%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28key.charAt%280%29%20%21%3D%3D%20%27%24%27%29%20%26%26%20deepCompare%28actual%5Bkey%5D%2C%20expected%2C%20comparator%2C%20true%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20dontMatchWholeObject%20%3F%20false%20%3A%20deepCompare%28actual%2C%20expected%2C%20comparator%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28expectedType%20%3D%3D%3D%20%27object%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20%28key%20in%20expected%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20expectedVal%20%3D%20expected%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isFunction%28expectedVal%29%20%7C%7C%20isUndefined%28expectedVal%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20matchAnyProperty%20%3D%20key%20%3D%3D%3D%20%27%24%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20actualVal%20%3D%20matchAnyProperty%20%3F%20actual%20%3A%20actual%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21deepCompare%28actualVal%2C%20expectedVal%2C%20comparator%2C%20matchAnyProperty%2C%20matchAnyProperty%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20comparator%28actual%2C%20expected%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20%27function%27%3A%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20return%20comparator%28actual%2C%20expected%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20Used%20for%20easily%20differentiating%20between%20%60null%60%20and%20actual%20%60object%60%0D%0Afunction%20getTypeForFilter%28val%29%20%7B%0D%0A%20%20return%20%28val%20%3D%3D%3D%20null%29%20%3F%20%27null%27%20%3A%20typeof%20val%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20currency%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Formats%20a%20number%20as%20a%20currency%20%28ie%20%241%2C234.56%29.%20When%20no%20currency%20symbol%20is%20provided%2C%20default%0D%0A%20*%20symbol%20for%20current%20locale%20is%20used.%0D%0A%20*%0D%0A%20*%20@param%20%7Bnumber%7D%20amount%20Input%20to%20filter.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20symbol%20Currency%20symbol%20or%20identifier%20to%20be%20displayed.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20fractionSize%20Number%20of%20decimal%20places%20to%20round%20the%20amount%20to%2C%20defaults%20to%20default%20max%20fraction%20size%20for%20current%20locale%0D%0A%20*%20@returns%20%7Bstring%7D%20Formatted%20number.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22currencyExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27currencyExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.amount%20%3D%201234.56%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20ng-model%3D%22amount%22%20aria-label%3D%22amount%22%3E%20%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20default%20currency%20symbol%20%28%24%29%3A%20%3Cspan%20id%3D%22currency-default%22%3E%7B%7Bamount%20%7C%20currency%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20custom%20currency%20identifier%20%28USD%24%29%3A%20%3Cspan%20id%3D%22currency-custom%22%3E%7B%7Bamount%20%7C%20currency%3A%22USD%24%22%7D%7D%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20no%20fractions%20%280%29%3A%20%3Cspan%20id%3D%22currency-no-fractions%22%3E%7B%7Bamount%20%7C%20currency%3A%22USD%24%22%3A0%7D%7D%3C/span%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20init%20with%201234.56%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-default%27%29%29.getText%28%29%29.toBe%28%27%241%2C234.56%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-custom%27%29%29.getText%28%29%29.toBe%28%27USD%241%2C234.56%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-no-fractions%27%29%29.getText%28%29%29.toBe%28%27USD%241%2C235%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20it%28%27should%20update%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20if%20%28browser.params.browser%20%3D%3D%20%27safari%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20Safari%20does%20not%20understand%20the%20minus%20key.%20See%0D%0A%20%20%20%20%20%20%20%20%20%20%20//%20https%3A//github.com/angular/protractor/issues/481%0D%0A%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27amount%27%29%29.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27amount%27%29%29.sendKeys%28%27-1234%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-default%27%29%29.getText%28%29%29.toBe%28%27%28%241%2C234.00%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-custom%27%29%29.getText%28%29%29.toBe%28%27%28USD%241%2C234.00%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27currency-no-fractions%27%29%29.getText%28%29%29.toBe%28%27%28USD%241%2C234%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0AcurrencyFilter.%24inject%20%3D%20%5B%27%24locale%27%5D%3B%0D%0Afunction%20currencyFilter%28%24locale%29%20%7B%0D%0A%20%20var%20formats%20%3D%20%24locale.NUMBER_FORMATS%3B%0D%0A%20%20return%20function%28amount%2C%20currencySymbol%2C%20fractionSize%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28currencySymbol%29%29%20%7B%0D%0A%20%20%20%20%20%20currencySymbol%20%3D%20formats.CURRENCY_SYM%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28isUndefined%28fractionSize%29%29%20%7B%0D%0A%20%20%20%20%20%20fractionSize%20%3D%20formats.PATTERNS%5B1%5D.maxFrac%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20if%20null%20or%20undefined%20pass%20it%20through%0D%0A%20%20%20%20return%20%28amount%20%3D%3D%20null%29%0D%0A%20%20%20%20%20%20%20%20%3F%20amount%0D%0A%20%20%20%20%20%20%20%20%3A%20formatNumber%28amount%2C%20formats.PATTERNS%5B1%5D%2C%20formats.GROUP_SEP%2C%20formats.DECIMAL_SEP%2C%20fractionSize%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20replace%28/%5Cu00A4/g%2C%20currencySymbol%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20number%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Formats%20a%20number%20as%20text.%0D%0A%20*%0D%0A%20*%20If%20the%20input%20is%20not%20a%20number%20an%20empty%20string%20is%20returned.%0D%0A%20*%0D%0A%20*%20If%20the%20input%20is%20an%20infinite%20%28Infinity/-Infinity%29%20the%20Infinity%20symbol%20%27%u221E%27%20is%20returned.%0D%0A%20*%0D%0A%20*%20@param%20%7Bnumber%7Cstring%7D%20number%20Number%20to%20format.%0D%0A%20*%20@param%20%7B%28number%7Cstring%29%3D%7D%20fractionSize%20Number%20of%20decimal%20places%20to%20round%20the%20number%20to.%0D%0A%20*%20If%20this%20is%20not%20provided%20then%20the%20fraction%20size%20is%20computed%20from%20the%20current%20locale%27s%20number%0D%0A%20*%20formatting%20pattern.%20In%20the%20case%20of%20the%20default%20locale%2C%20it%20will%20be%203.%0D%0A%20*%20@returns%20%7Bstring%7D%20Number%20rounded%20to%20decimalPlaces%20and%20places%20a%20%u201C%2C%u201D%20after%20each%20third%20digit.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22numberFilterExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27numberFilterExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.val%20%3D%201234.56789%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3EEnter%20number%3A%20%3Cinput%20ng-model%3D%27val%27%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20Default%20formatting%3A%20%3Cspan%20id%3D%27number-default%27%3E%7B%7Bval%20%7C%20number%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20No%20fractions%3A%20%3Cspan%3E%7B%7Bval%20%7C%20number%3A0%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20Negative%20number%3A%20%3Cspan%3E%7B%7B-val%20%7C%20number%3A4%7D%7D%3C/span%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20format%20numbers%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27number-default%27%29%29.getText%28%29%29.toBe%28%271%2C234.568%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27val%20%7C%20number%3A0%27%29%29.getText%28%29%29.toBe%28%271%2C235%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27-val%20%7C%20number%3A4%27%29%29.getText%28%29%29.toBe%28%27-1%2C234.5679%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20update%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27val%27%29%29.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27val%27%29%29.sendKeys%28%273374.333%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27number-default%27%29%29.getText%28%29%29.toBe%28%273%2C374.333%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27val%20%7C%20number%3A0%27%29%29.getText%28%29%29.toBe%28%273%2C374%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27-val%20%7C%20number%3A4%27%29%29.getText%28%29%29.toBe%28%27-3%2C374.3330%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0AnumberFilter.%24inject%20%3D%20%5B%27%24locale%27%5D%3B%0D%0Afunction%20numberFilter%28%24locale%29%20%7B%0D%0A%20%20var%20formats%20%3D%20%24locale.NUMBER_FORMATS%3B%0D%0A%20%20return%20function%28number%2C%20fractionSize%29%20%7B%0D%0A%0D%0A%20%20%20%20//%20if%20null%20or%20undefined%20pass%20it%20through%0D%0A%20%20%20%20return%20%28number%20%3D%3D%20null%29%0D%0A%20%20%20%20%20%20%20%20%3F%20number%0D%0A%20%20%20%20%20%20%20%20%3A%20formatNumber%28number%2C%20formats.PATTERNS%5B0%5D%2C%20formats.GROUP_SEP%2C%20formats.DECIMAL_SEP%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fractionSize%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Avar%20DECIMAL_SEP%20%3D%20%27.%27%3B%0D%0Afunction%20formatNumber%28number%2C%20pattern%2C%20groupSep%2C%20decimalSep%2C%20fractionSize%29%20%7B%0D%0A%20%20if%20%28isObject%28number%29%29%20return%20%27%27%3B%0D%0A%0D%0A%20%20var%20isNegative%20%3D%20number%20%3C%200%3B%0D%0A%20%20number%20%3D%20Math.abs%28number%29%3B%0D%0A%0D%0A%20%20var%20isInfinity%20%3D%20number%20%3D%3D%3D%20Infinity%3B%0D%0A%20%20if%20%28%21isInfinity%20%26%26%20%21isFinite%28number%29%29%20return%20%27%27%3B%0D%0A%0D%0A%20%20var%20numStr%20%3D%20number%20+%20%27%27%2C%0D%0A%20%20%20%20%20%20formatedText%20%3D%20%27%27%2C%0D%0A%20%20%20%20%20%20hasExponent%20%3D%20false%2C%0D%0A%20%20%20%20%20%20parts%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20if%20%28isInfinity%29%20formatedText%20%3D%20%27%5Cu221e%27%3B%0D%0A%0D%0A%20%20if%20%28%21isInfinity%20%26%26%20numStr.indexOf%28%27e%27%29%20%21%3D%3D%20-1%29%20%7B%0D%0A%20%20%20%20var%20match%20%3D%20numStr.match%28/%28%5B%5Cd%5C.%5D+%29e%28-%3F%29%28%5Cd+%29/%29%3B%0D%0A%20%20%20%20if%20%28match%20%26%26%20match%5B2%5D%20%3D%3D%20%27-%27%20%26%26%20match%5B3%5D%20%3E%20fractionSize%20+%201%29%20%7B%0D%0A%20%20%20%20%20%20number%20%3D%200%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20formatedText%20%3D%20numStr%3B%0D%0A%20%20%20%20%20%20hasExponent%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28%21isInfinity%20%26%26%20%21hasExponent%29%20%7B%0D%0A%20%20%20%20var%20fractionLen%20%3D%20%28numStr.split%28DECIMAL_SEP%29%5B1%5D%20%7C%7C%20%27%27%29.length%3B%0D%0A%0D%0A%20%20%20%20//%20determine%20fractionSize%20if%20it%20is%20not%20specified%0D%0A%20%20%20%20if%20%28isUndefined%28fractionSize%29%29%20%7B%0D%0A%20%20%20%20%20%20fractionSize%20%3D%20Math.min%28Math.max%28pattern.minFrac%2C%20fractionLen%29%2C%20pattern.maxFrac%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20safely%20round%20numbers%20in%20JS%20without%20hitting%20imprecisions%20of%20floating-point%20arithmetics%0D%0A%20%20%20%20//%20inspired%20by%3A%0D%0A%20%20%20%20//%20https%3A//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round%0D%0A%20%20%20%20number%20%3D%20+%28Math.round%28+%28number.toString%28%29%20+%20%27e%27%20+%20fractionSize%29%29.toString%28%29%20+%20%27e%27%20+%20-fractionSize%29%3B%0D%0A%0D%0A%20%20%20%20var%20fraction%20%3D%20%28%27%27%20+%20number%29.split%28DECIMAL_SEP%29%3B%0D%0A%20%20%20%20var%20whole%20%3D%20fraction%5B0%5D%3B%0D%0A%20%20%20%20fraction%20%3D%20fraction%5B1%5D%20%7C%7C%20%27%27%3B%0D%0A%0D%0A%20%20%20%20var%20i%2C%20pos%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20lgroup%20%3D%20pattern.lgSize%2C%0D%0A%20%20%20%20%20%20%20%20group%20%3D%20pattern.gSize%3B%0D%0A%0D%0A%20%20%20%20if%20%28whole.length%20%3E%3D%20%28lgroup%20+%20group%29%29%20%7B%0D%0A%20%20%20%20%20%20pos%20%3D%20whole.length%20-%20lgroup%3B%0D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20pos%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%28pos%20-%20i%29%20%25%20group%20%3D%3D%3D%200%20%26%26%20i%20%21%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20formatedText%20+%3D%20groupSep%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20formatedText%20+%3D%20whole.charAt%28i%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20for%20%28i%20%3D%20pos%3B%20i%20%3C%20whole.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%28whole.length%20-%20i%29%20%25%20lgroup%20%3D%3D%3D%200%20%26%26%20i%20%21%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20formatedText%20+%3D%20groupSep%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20formatedText%20+%3D%20whole.charAt%28i%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20format%20fraction%20part.%0D%0A%20%20%20%20while%20%28fraction.length%20%3C%20fractionSize%29%20%7B%0D%0A%20%20%20%20%20%20fraction%20+%3D%20%270%27%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28fractionSize%20%26%26%20fractionSize%20%21%3D%3D%20%220%22%29%20formatedText%20+%3D%20decimalSep%20+%20fraction.substr%280%2C%20fractionSize%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20if%20%28fractionSize%20%3E%200%20%26%26%20number%20%3C%201%29%20%7B%0D%0A%20%20%20%20%20%20formatedText%20%3D%20number.toFixed%28fractionSize%29%3B%0D%0A%20%20%20%20%20%20number%20%3D%20parseFloat%28formatedText%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28number%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20isNegative%20%3D%20false%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20parts.push%28isNegative%20%3F%20pattern.negPre%20%3A%20pattern.posPre%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20formatedText%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20isNegative%20%3F%20pattern.negSuf%20%3A%20pattern.posSuf%29%3B%0D%0A%20%20return%20parts.join%28%27%27%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20padNumber%28num%2C%20digits%2C%20trim%29%20%7B%0D%0A%20%20var%20neg%20%3D%20%27%27%3B%0D%0A%20%20if%20%28num%20%3C%200%29%20%7B%0D%0A%20%20%20%20neg%20%3D%20%20%27-%27%3B%0D%0A%20%20%20%20num%20%3D%20-num%3B%0D%0A%20%20%7D%0D%0A%20%20num%20%3D%20%27%27%20+%20num%3B%0D%0A%20%20while%20%28num.length%20%3C%20digits%29%20num%20%3D%20%270%27%20+%20num%3B%0D%0A%20%20if%20%28trim%29%20%7B%0D%0A%20%20%20%20num%20%3D%20num.substr%28num.length%20-%20digits%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20neg%20+%20num%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Afunction%20dateGetter%28name%2C%20size%2C%20offset%2C%20trim%29%20%7B%0D%0A%20%20offset%20%3D%20offset%20%7C%7C%200%3B%0D%0A%20%20return%20function%28date%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20date%5B%27get%27%20+%20name%5D%28%29%3B%0D%0A%20%20%20%20if%20%28offset%20%3E%200%20%7C%7C%20value%20%3E%20-offset%29%20%7B%0D%0A%20%20%20%20%20%20value%20+%3D%20offset%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28value%20%3D%3D%3D%200%20%26%26%20offset%20%3D%3D%20-12%29%20value%20%3D%2012%3B%0D%0A%20%20%20%20return%20padNumber%28value%2C%20size%2C%20trim%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20dateStrGetter%28name%2C%20shortForm%29%20%7B%0D%0A%20%20return%20function%28date%2C%20formats%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20date%5B%27get%27%20+%20name%5D%28%29%3B%0D%0A%20%20%20%20var%20get%20%3D%20uppercase%28shortForm%20%3F%20%28%27SHORT%27%20+%20name%29%20%3A%20name%29%3B%0D%0A%0D%0A%20%20%20%20return%20formats%5Bget%5D%5Bvalue%5D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20timeZoneGetter%28date%2C%20formats%2C%20offset%29%20%7B%0D%0A%20%20var%20zone%20%3D%20-1%20*%20offset%3B%0D%0A%20%20var%20paddedZone%20%3D%20%28zone%20%3E%3D%200%29%20%3F%20%22+%22%20%3A%20%22%22%3B%0D%0A%0D%0A%20%20paddedZone%20+%3D%20padNumber%28Math%5Bzone%20%3E%200%20%3F%20%27floor%27%20%3A%20%27ceil%27%5D%28zone%20/%2060%29%2C%202%29%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padNumber%28Math.abs%28zone%20%25%2060%29%2C%202%29%3B%0D%0A%0D%0A%20%20return%20paddedZone%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getFirstThursdayOfYear%28year%29%20%7B%0D%0A%20%20%20%20//%200%20%3D%20index%20of%20January%0D%0A%20%20%20%20var%20dayOfWeekOnFirst%20%3D%20%28new%20Date%28year%2C%200%2C%201%29%29.getDay%28%29%3B%0D%0A%20%20%20%20//%204%20%3D%20index%20of%20Thursday%20%28+1%20to%20account%20for%201st%20%3D%205%29%0D%0A%20%20%20%20//%2011%20%3D%20index%20of%20*next*%20Thursday%20%28+1%20account%20for%201st%20%3D%2012%29%0D%0A%20%20%20%20return%20new%20Date%28year%2C%200%2C%20%28%28dayOfWeekOnFirst%20%3C%3D%204%29%20%3F%205%20%3A%2012%29%20-%20dayOfWeekOnFirst%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getThursdayThisWeek%28datetime%29%20%7B%0D%0A%20%20%20%20return%20new%20Date%28datetime.getFullYear%28%29%2C%20datetime.getMonth%28%29%2C%0D%0A%20%20%20%20%20%20//%204%20%3D%20index%20of%20Thursday%0D%0A%20%20%20%20%20%20datetime.getDate%28%29%20+%20%284%20-%20datetime.getDay%28%29%29%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20weekGetter%28size%29%20%7B%0D%0A%20%20%20return%20function%28date%29%20%7B%0D%0A%20%20%20%20%20%20var%20firstThurs%20%3D%20getFirstThursdayOfYear%28date.getFullYear%28%29%29%2C%0D%0A%20%20%20%20%20%20%20%20%20thisThurs%20%3D%20getThursdayThisWeek%28date%29%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20diff%20%3D%20+thisThurs%20-%20+firstThurs%2C%0D%0A%20%20%20%20%20%20%20%20%20result%20%3D%201%20+%20Math.round%28diff%20/%206.048e8%29%3B%20//%206.048e8%20ms%20per%20week%0D%0A%0D%0A%20%20%20%20%20%20return%20padNumber%28result%2C%20size%29%3B%0D%0A%20%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20ampmGetter%28date%2C%20formats%29%20%7B%0D%0A%20%20return%20date.getHours%28%29%20%3C%2012%20%3F%20formats.AMPMS%5B0%5D%20%3A%20formats.AMPMS%5B1%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20eraGetter%28date%2C%20formats%29%20%7B%0D%0A%20%20return%20date.getFullYear%28%29%20%3C%3D%200%20%3F%20formats.ERAS%5B0%5D%20%3A%20formats.ERAS%5B1%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20longEraGetter%28date%2C%20formats%29%20%7B%0D%0A%20%20return%20date.getFullYear%28%29%20%3C%3D%200%20%3F%20formats.ERANAMES%5B0%5D%20%3A%20formats.ERANAMES%5B1%5D%3B%0D%0A%7D%0D%0A%0D%0Avar%20DATE_FORMATS%20%3D%20%7B%0D%0A%20%20yyyy%3A%20dateGetter%28%27FullYear%27%2C%204%29%2C%0D%0A%20%20%20%20yy%3A%20dateGetter%28%27FullYear%27%2C%202%2C%200%2C%20true%29%2C%0D%0A%20%20%20%20%20y%3A%20dateGetter%28%27FullYear%27%2C%201%29%2C%0D%0A%20%20MMMM%3A%20dateStrGetter%28%27Month%27%29%2C%0D%0A%20%20%20MMM%3A%20dateStrGetter%28%27Month%27%2C%20true%29%2C%0D%0A%20%20%20%20MM%3A%20dateGetter%28%27Month%27%2C%202%2C%201%29%2C%0D%0A%20%20%20%20%20M%3A%20dateGetter%28%27Month%27%2C%201%2C%201%29%2C%0D%0A%20%20%20%20dd%3A%20dateGetter%28%27Date%27%2C%202%29%2C%0D%0A%20%20%20%20%20d%3A%20dateGetter%28%27Date%27%2C%201%29%2C%0D%0A%20%20%20%20HH%3A%20dateGetter%28%27Hours%27%2C%202%29%2C%0D%0A%20%20%20%20%20H%3A%20dateGetter%28%27Hours%27%2C%201%29%2C%0D%0A%20%20%20%20hh%3A%20dateGetter%28%27Hours%27%2C%202%2C%20-12%29%2C%0D%0A%20%20%20%20%20h%3A%20dateGetter%28%27Hours%27%2C%201%2C%20-12%29%2C%0D%0A%20%20%20%20mm%3A%20dateGetter%28%27Minutes%27%2C%202%29%2C%0D%0A%20%20%20%20%20m%3A%20dateGetter%28%27Minutes%27%2C%201%29%2C%0D%0A%20%20%20%20ss%3A%20dateGetter%28%27Seconds%27%2C%202%29%2C%0D%0A%20%20%20%20%20s%3A%20dateGetter%28%27Seconds%27%2C%201%29%2C%0D%0A%20%20%20%20%20//%20while%20ISO%208601%20requires%20fractions%20to%20be%20prefixed%20with%20%60.%60%20or%20%60%2C%60%0D%0A%20%20%20%20%20//%20we%20can%20be%20just%20safely%20rely%20on%20using%20%60sss%60%20since%20we%20currently%20don%27t%20support%20single%20or%20two%20digit%20fractions%0D%0A%20%20%20sss%3A%20dateGetter%28%27Milliseconds%27%2C%203%29%2C%0D%0A%20%20EEEE%3A%20dateStrGetter%28%27Day%27%29%2C%0D%0A%20%20%20EEE%3A%20dateStrGetter%28%27Day%27%2C%20true%29%2C%0D%0A%20%20%20%20%20a%3A%20ampmGetter%2C%0D%0A%20%20%20%20%20Z%3A%20timeZoneGetter%2C%0D%0A%20%20%20%20ww%3A%20weekGetter%282%29%2C%0D%0A%20%20%20%20%20w%3A%20weekGetter%281%29%2C%0D%0A%20%20%20%20%20G%3A%20eraGetter%2C%0D%0A%20%20%20%20%20GG%3A%20eraGetter%2C%0D%0A%20%20%20%20%20GGG%3A%20eraGetter%2C%0D%0A%20%20%20%20%20GGGG%3A%20longEraGetter%0D%0A%7D%3B%0D%0A%0D%0Avar%20DATE_FORMATS_SPLIT%20%3D%20/%28%28%3F%3A%5B%5EyMdHhmsaZEwG%27%5D+%29%7C%28%3F%3A%27%28%3F%3A%5B%5E%27%5D%7C%27%27%29*%27%29%7C%28%3F%3AE+%7Cy+%7CM+%7Cd+%7CH+%7Ch+%7Cm+%7Cs+%7Ca%7CZ%7CG+%7Cw+%29%29%28.*%29/%2C%0D%0A%20%20%20%20NUMBER_STRING%20%3D%20/%5E%5C-%3F%5Cd+%24/%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20date%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%20%20Formats%20%60date%60%20to%20a%20string%20based%20on%20the%20requested%20%60format%60.%0D%0A%20*%0D%0A%20*%20%20%20%60format%60%20string%20can%20be%20composed%20of%20the%20following%20elements%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20%60%27yyyy%27%60%3A%204%20digit%20representation%20of%20year%20%28e.g.%20AD%201%20%3D%3E%200001%2C%20AD%202010%20%3D%3E%202010%29%0D%0A%20*%20%20%20*%20%60%27yy%27%60%3A%202%20digit%20representation%20of%20year%2C%20padded%20%2800-99%29.%20%28e.g.%20AD%202001%20%3D%3E%2001%2C%20AD%202010%20%3D%3E%2010%29%0D%0A%20*%20%20%20*%20%60%27y%27%60%3A%201%20digit%20representation%20of%20year%2C%20e.g.%20%28AD%201%20%3D%3E%201%2C%20AD%20199%20%3D%3E%20199%29%0D%0A%20*%20%20%20*%20%60%27MMMM%27%60%3A%20Month%20in%20year%20%28January-December%29%0D%0A%20*%20%20%20*%20%60%27MMM%27%60%3A%20Month%20in%20year%20%28Jan-Dec%29%0D%0A%20*%20%20%20*%20%60%27MM%27%60%3A%20Month%20in%20year%2C%20padded%20%2801-12%29%0D%0A%20*%20%20%20*%20%60%27M%27%60%3A%20Month%20in%20year%20%281-12%29%0D%0A%20*%20%20%20*%20%60%27dd%27%60%3A%20Day%20in%20month%2C%20padded%20%2801-31%29%0D%0A%20*%20%20%20*%20%60%27d%27%60%3A%20Day%20in%20month%20%281-31%29%0D%0A%20*%20%20%20*%20%60%27EEEE%27%60%3A%20Day%20in%20Week%2C%28Sunday-Saturday%29%0D%0A%20*%20%20%20*%20%60%27EEE%27%60%3A%20Day%20in%20Week%2C%20%28Sun-Sat%29%0D%0A%20*%20%20%20*%20%60%27HH%27%60%3A%20Hour%20in%20day%2C%20padded%20%2800-23%29%0D%0A%20*%20%20%20*%20%60%27H%27%60%3A%20Hour%20in%20day%20%280-23%29%0D%0A%20*%20%20%20*%20%60%27hh%27%60%3A%20Hour%20in%20AM/PM%2C%20padded%20%2801-12%29%0D%0A%20*%20%20%20*%20%60%27h%27%60%3A%20Hour%20in%20AM/PM%2C%20%281-12%29%0D%0A%20*%20%20%20*%20%60%27mm%27%60%3A%20Minute%20in%20hour%2C%20padded%20%2800-59%29%0D%0A%20*%20%20%20*%20%60%27m%27%60%3A%20Minute%20in%20hour%20%280-59%29%0D%0A%20*%20%20%20*%20%60%27ss%27%60%3A%20Second%20in%20minute%2C%20padded%20%2800-59%29%0D%0A%20*%20%20%20*%20%60%27s%27%60%3A%20Second%20in%20minute%20%280-59%29%0D%0A%20*%20%20%20*%20%60%27sss%27%60%3A%20Millisecond%20in%20second%2C%20padded%20%28000-999%29%0D%0A%20*%20%20%20*%20%60%27a%27%60%3A%20AM/PM%20marker%0D%0A%20*%20%20%20*%20%60%27Z%27%60%3A%204%20digit%20%28+sign%29%20representation%20of%20the%20timezone%20offset%20%28-1200-+1200%29%0D%0A%20*%20%20%20*%20%60%27ww%27%60%3A%20Week%20of%20year%2C%20padded%20%2800-53%29.%20Week%2001%20is%20the%20week%20with%20the%20first%20Thursday%20of%20the%20year%0D%0A%20*%20%20%20*%20%60%27w%27%60%3A%20Week%20of%20year%20%280-53%29.%20Week%201%20is%20the%20week%20with%20the%20first%20Thursday%20of%20the%20year%0D%0A%20*%20%20%20*%20%60%27G%27%60%2C%20%60%27GG%27%60%2C%20%60%27GGG%27%60%3A%20The%20abbreviated%20form%20of%20the%20era%20string%20%28e.g.%20%27AD%27%29%0D%0A%20*%20%20%20*%20%60%27GGGG%27%60%3A%20The%20long%20form%20of%20the%20era%20string%20%28e.g.%20%27Anno%20Domini%27%29%0D%0A%20*%0D%0A%20*%20%20%20%60format%60%20string%20can%20also%20be%20one%20of%20the%20following%20predefined%0D%0A%20*%20%20%20%7B@link%20guide/i18n%20localizable%20formats%7D%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20%60%27medium%27%60%3A%20equivalent%20to%20%60%27MMM%20d%2C%20y%20h%3Amm%3Ass%20a%27%60%20for%20en_US%20locale%0D%0A%20*%20%20%20%20%20%28e.g.%20Sep%203%2C%202010%2012%3A05%3A08%20PM%29%0D%0A%20*%20%20%20*%20%60%27short%27%60%3A%20equivalent%20to%20%60%27M/d/yy%20h%3Amm%20a%27%60%20for%20en_US%20%20locale%20%28e.g.%209/3/10%2012%3A05%20PM%29%0D%0A%20*%20%20%20*%20%60%27fullDate%27%60%3A%20equivalent%20to%20%60%27EEEE%2C%20MMMM%20d%2C%20y%27%60%20for%20en_US%20%20locale%0D%0A%20*%20%20%20%20%20%28e.g.%20Friday%2C%20September%203%2C%202010%29%0D%0A%20*%20%20%20*%20%60%27longDate%27%60%3A%20equivalent%20to%20%60%27MMMM%20d%2C%20y%27%60%20for%20en_US%20%20locale%20%28e.g.%20September%203%2C%202010%29%0D%0A%20*%20%20%20*%20%60%27mediumDate%27%60%3A%20equivalent%20to%20%60%27MMM%20d%2C%20y%27%60%20for%20en_US%20%20locale%20%28e.g.%20Sep%203%2C%202010%29%0D%0A%20*%20%20%20*%20%60%27shortDate%27%60%3A%20equivalent%20to%20%60%27M/d/yy%27%60%20for%20en_US%20locale%20%28e.g.%209/3/10%29%0D%0A%20*%20%20%20*%20%60%27mediumTime%27%60%3A%20equivalent%20to%20%60%27h%3Amm%3Ass%20a%27%60%20for%20en_US%20locale%20%28e.g.%2012%3A05%3A08%20PM%29%0D%0A%20*%20%20%20*%20%60%27shortTime%27%60%3A%20equivalent%20to%20%60%27h%3Amm%20a%27%60%20for%20en_US%20locale%20%28e.g.%2012%3A05%20PM%29%0D%0A%20*%0D%0A%20*%20%20%20%60format%60%20string%20can%20contain%20literal%20values.%20These%20need%20to%20be%20escaped%20by%20surrounding%20with%20single%20quotes%20%28e.g.%0D%0A%20*%20%20%20%60%22h%20%27in%20the%20morning%27%22%60%29.%20In%20order%20to%20output%20a%20single%20quote%2C%20escape%20it%20-%20i.e.%2C%20two%20single%20quotes%20in%20a%20sequence%0D%0A%20*%20%20%20%28e.g.%20%60%22h%20%27o%27%27clock%27%22%60%29.%0D%0A%20*%0D%0A%20*%20@param%20%7B%28Date%7Cnumber%7Cstring%29%7D%20date%20Date%20to%20format%20either%20as%20Date%20object%2C%20milliseconds%20%28string%20or%0D%0A%20*%20%20%20%20number%29%20or%20various%20ISO%208601%20datetime%20string%20formats%20%28e.g.%20yyyy-MM-ddTHH%3Amm%3Ass.sssZ%20and%20its%0D%0A%20*%20%20%20%20shorter%20versions%20like%20yyyy-MM-ddTHH%3AmmZ%2C%20yyyy-MM-dd%20or%20yyyyMMddTHHmmssZ%29.%20If%20no%20timezone%20is%0D%0A%20*%20%20%20%20specified%20in%20the%20string%20input%2C%20the%20time%20is%20considered%20to%20be%20in%20the%20local%20timezone.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20format%20Formatting%20rules%20%28see%20Description%29.%20If%20not%20specified%2C%0D%0A%20*%20%20%20%20%60mediumDate%60%20is%20used.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20timezone%20Timezone%20to%20be%20used%20for%20formatting.%20It%20understands%20UTC/GMT%20and%20the%0D%0A%20*%20%20%20%20continental%20US%20time%20zone%20abbreviations%2C%20but%20for%20general%20use%2C%20use%20a%20time%20zone%20offset%2C%20for%0D%0A%20*%20%20%20%20example%2C%20%60%27+0430%27%60%20%284%20hours%2C%2030%20minutes%20east%20of%20the%20Greenwich%20meridian%29%0D%0A%20*%20%20%20%20If%20not%20specified%2C%20the%20timezone%20of%20the%20browser%20will%20be%20used.%0D%0A%20*%20@returns%20%7Bstring%7D%20Formatted%20string%20or%20the%20input%20if%20input%20is%20not%20recognized%20as%20date/millis.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cspan%20ng-non-bindable%3E%7B%7B1288323623006%20%7C%20date%3A%27medium%27%7D%7D%3C/span%3E%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%7B%7B1288323623006%20%7C%20date%3A%27medium%27%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Cspan%20ng-non-bindable%3E%7B%7B1288323623006%20%7C%20date%3A%27yyyy-MM-dd%20HH%3Amm%3Ass%20Z%27%7D%7D%3C/span%3E%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%7B%7B1288323623006%20%7C%20date%3A%27yyyy-MM-dd%20HH%3Amm%3Ass%20Z%27%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Cspan%20ng-non-bindable%3E%7B%7B1288323623006%20%7C%20date%3A%27MM/dd/yyyy%20@%20h%3Amma%27%7D%7D%3C/span%3E%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%7B%7B%271288323623006%27%20%7C%20date%3A%27MM/dd/yyyy%20@%20h%3Amma%27%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Cspan%20ng-non-bindable%3E%7B%7B1288323623006%20%7C%20date%3A%22MM/dd/yyyy%20%27at%27%20h%3Amma%22%7D%7D%3C/span%3E%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%7B%7B%271288323623006%27%20%7C%20date%3A%22MM/dd/yyyy%20%27at%27%20h%3Amma%22%7D%7D%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20format%20date%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%221288323623006%20%7C%20date%3A%27medium%27%22%29%29.getText%28%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toMatch%28/Oct%202%5Cd%2C%202010%20%5Cd%7B1%2C2%7D%3A%5Cd%7B2%7D%3A%5Cd%7B2%7D%20%28AM%7CPM%29/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%221288323623006%20%7C%20date%3A%27yyyy-MM-dd%20HH%3Amm%3Ass%20Z%27%22%29%29.getText%28%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toMatch%28/2010%5C-10%5C-2%5Cd%20%5Cd%7B2%7D%3A%5Cd%7B2%7D%3A%5Cd%7B2%7D%20%28%5C-%7C%5C+%29%3F%5Cd%7B4%7D/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%22%271288323623006%27%20%7C%20date%3A%27MM/dd/yyyy%20@%20h%3Amma%27%22%29%29.getText%28%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toMatch%28/10%5C/2%5Cd%5C/2010%20@%20%5Cd%7B1%2C2%7D%3A%5Cd%7B2%7D%28AM%7CPM%29/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%22%271288323623006%27%20%7C%20date%3A%5C%22MM/dd/yyyy%20%27at%27%20h%3Amma%5C%22%22%29%29.getText%28%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toMatch%28/10%5C/2%5Cd%5C/2010%20at%20%5Cd%7B1%2C2%7D%3A%5Cd%7B2%7D%28AM%7CPM%29/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0AdateFilter.%24inject%20%3D%20%5B%27%24locale%27%5D%3B%0D%0Afunction%20dateFilter%28%24locale%29%20%7B%0D%0A%0D%0A%0D%0A%20%20var%20R_ISO8601_STR%20%3D%20/%5E%28%5Cd%7B4%7D%29-%3F%28%5Cd%5Cd%29-%3F%28%5Cd%5Cd%29%28%3F%3AT%28%5Cd%5Cd%29%28%3F%3A%3A%3F%28%5Cd%5Cd%29%28%3F%3A%3A%3F%28%5Cd%5Cd%29%28%3F%3A%5C.%28%5Cd+%29%29%3F%29%3F%29%3F%28Z%7C%28%5B+-%5D%29%28%5Cd%5Cd%29%3A%3F%28%5Cd%5Cd%29%29%3F%29%3F%24/%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201%20%20%20%20%20%20%20%202%20%20%20%20%20%20%203%20%20%20%20%20%20%20%20%204%20%20%20%20%20%20%20%20%20%205%20%20%20%20%20%20%20%20%20%206%20%20%20%20%20%20%20%20%20%207%20%20%20%20%20%20%20%20%20%208%20%209%20%20%20%20%2010%20%20%20%20%20%2011%0D%0A%20%20function%20jsonStringToDate%28string%29%20%7B%0D%0A%20%20%20%20var%20match%3B%0D%0A%20%20%20%20if%20%28match%20%3D%20string.match%28R_ISO8601_STR%29%29%20%7B%0D%0A%20%20%20%20%20%20var%20date%20%3D%20new%20Date%280%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20tzHour%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20tzMin%20%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20dateSetter%20%3D%20match%5B8%5D%20%3F%20date.setUTCFullYear%20%3A%20date.setFullYear%2C%0D%0A%20%20%20%20%20%20%20%20%20%20timeSetter%20%3D%20match%5B8%5D%20%3F%20date.setUTCHours%20%3A%20date.setHours%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28match%5B9%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20tzHour%20%3D%20toInt%28match%5B9%5D%20+%20match%5B10%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20tzMin%20%3D%20toInt%28match%5B9%5D%20+%20match%5B11%5D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20dateSetter.call%28date%2C%20toInt%28match%5B1%5D%29%2C%20toInt%28match%5B2%5D%29%20-%201%2C%20toInt%28match%5B3%5D%29%29%3B%0D%0A%20%20%20%20%20%20var%20h%20%3D%20toInt%28match%5B4%5D%20%7C%7C%200%29%20-%20tzHour%3B%0D%0A%20%20%20%20%20%20var%20m%20%3D%20toInt%28match%5B5%5D%20%7C%7C%200%29%20-%20tzMin%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20toInt%28match%5B6%5D%20%7C%7C%200%29%3B%0D%0A%20%20%20%20%20%20var%20ms%20%3D%20Math.round%28parseFloat%28%270.%27%20+%20%28match%5B7%5D%20%7C%7C%200%29%29%20*%201000%29%3B%0D%0A%20%20%20%20%20%20timeSetter.call%28date%2C%20h%2C%20m%2C%20s%2C%20ms%29%3B%0D%0A%20%20%20%20%20%20return%20date%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20string%3B%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20return%20function%28date%2C%20format%2C%20timezone%29%20%7B%0D%0A%20%20%20%20var%20text%20%3D%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20parts%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20fn%2C%20match%3B%0D%0A%0D%0A%20%20%20%20format%20%3D%20format%20%7C%7C%20%27mediumDate%27%3B%0D%0A%20%20%20%20format%20%3D%20%24locale.DATETIME_FORMATS%5Bformat%5D%20%7C%7C%20format%3B%0D%0A%20%20%20%20if%20%28isString%28date%29%29%20%7B%0D%0A%20%20%20%20%20%20date%20%3D%20NUMBER_STRING.test%28date%29%20%3F%20toInt%28date%29%20%3A%20jsonStringToDate%28date%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28isNumber%28date%29%29%20%7B%0D%0A%20%20%20%20%20%20date%20%3D%20new%20Date%28date%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28%21isDate%28date%29%20%7C%7C%20%21isFinite%28date.getTime%28%29%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20date%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20while%20%28format%29%20%7B%0D%0A%20%20%20%20%20%20match%20%3D%20DATE_FORMATS_SPLIT.exec%28format%29%3B%0D%0A%20%20%20%20%20%20if%20%28match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parts%20%3D%20concat%28parts%2C%20match%2C%201%29%3B%0D%0A%20%20%20%20%20%20%20%20format%20%3D%20parts.pop%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20parts.push%28format%29%3B%0D%0A%20%20%20%20%20%20%20%20format%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20dateTimezoneOffset%20%3D%20date.getTimezoneOffset%28%29%3B%0D%0A%20%20%20%20if%20%28timezone%29%20%7B%0D%0A%20%20%20%20%20%20dateTimezoneOffset%20%3D%20timezoneToOffset%28timezone%2C%20date.getTimezoneOffset%28%29%29%3B%0D%0A%20%20%20%20%20%20date%20%3D%20convertTimezoneToLocal%28date%2C%20timezone%2C%20true%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20forEach%28parts%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20fn%20%3D%20DATE_FORMATS%5Bvalue%5D%3B%0D%0A%20%20%20%20%20%20text%20+%3D%20fn%20%3F%20fn%28date%2C%20%24locale.DATETIME_FORMATS%2C%20dateTimezoneOffset%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20value.replace%28/%28%5E%27%7C%27%24%29/g%2C%20%27%27%29.replace%28/%27%27/g%2C%20%22%27%22%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20return%20text%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20json%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%20%20Allows%20you%20to%20convert%20a%20JavaScript%20object%20into%20JSON%20string.%0D%0A%20*%0D%0A%20*%20%20%20This%20filter%20is%20mostly%20useful%20for%20debugging.%20When%20using%20the%20double%20curly%20%7B%7Bvalue%7D%7D%20notation%0D%0A%20*%20%20%20the%20binding%20is%20automatically%20converted%20to%20JSON.%0D%0A%20*%0D%0A%20*%20@param%20%7B*%7D%20object%20Any%20JavaScript%20object%20%28including%20arrays%20and%20primitive%20types%29%20to%20filter.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20spacing%20The%20number%20of%20spaces%20to%20use%20per%20indentation%2C%20defaults%20to%202.%0D%0A%20*%20@returns%20%7Bstring%7D%20JSON%20string.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cpre%20id%3D%22default-spacing%22%3E%7B%7B%20%7B%27name%27%3A%27value%27%7D%20%7C%20json%20%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%20%20%20%3Cpre%20id%3D%22custom-spacing%22%3E%7B%7B%20%7B%27name%27%3A%27value%27%7D%20%7C%20json%3A4%20%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20jsonify%20filtered%20objects%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27default-spacing%27%29%29.getText%28%29%29.toMatch%28/%5C%7B%5Cn%20%20%22name%22%3A%20%3F%22value%22%5Cn%7D/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27custom-spacing%27%29%29.getText%28%29%29.toMatch%28/%5C%7B%5Cn%20%20%20%20%22name%22%3A%20%3F%22value%22%5Cn%7D/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*/%0D%0Afunction%20jsonFilter%28%29%20%7B%0D%0A%20%20return%20function%28object%2C%20spacing%29%20%7B%0D%0A%20%20%20%20if%20%28isUndefined%28spacing%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20spacing%20%3D%202%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20toJson%28object%2C%20spacing%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20lowercase%0D%0A%20*%20@kind%20function%0D%0A%20*%20@description%0D%0A%20*%20Converts%20string%20to%20lowercase.%0D%0A%20*%20@see%20angular.lowercase%0D%0A%20*/%0D%0Avar%20lowercaseFilter%20%3D%20valueFn%28lowercase%29%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20uppercase%0D%0A%20*%20@kind%20function%0D%0A%20*%20@description%0D%0A%20*%20Converts%20string%20to%20uppercase.%0D%0A%20*%20@see%20angular.uppercase%0D%0A%20*/%0D%0Avar%20uppercaseFilter%20%3D%20valueFn%28uppercase%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20limitTo%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Creates%20a%20new%20array%20or%20string%20containing%20only%20a%20specified%20number%20of%20elements.%20The%20elements%0D%0A%20*%20are%20taken%20from%20either%20the%20beginning%20or%20the%20end%20of%20the%20source%20array%2C%20string%20or%20number%2C%20as%20specified%20by%0D%0A%20*%20the%20value%20and%20sign%20%28positive%20or%20negative%29%20of%20%60limit%60.%20If%20a%20number%20is%20used%20as%20input%2C%20it%20is%0D%0A%20*%20converted%20to%20a%20string.%0D%0A%20*%0D%0A%20*%20@param%20%7BArray%7Cstring%7Cnumber%7D%20input%20Source%20array%2C%20string%20or%20number%20to%20be%20limited.%0D%0A%20*%20@param%20%7Bstring%7Cnumber%7D%20limit%20The%20length%20of%20the%20returned%20array%20or%20string.%20If%20the%20%60limit%60%20number%0D%0A%20*%20%20%20%20%20is%20positive%2C%20%60limit%60%20number%20of%20items%20from%20the%20beginning%20of%20the%20source%20array/string%20are%20copied.%0D%0A%20*%20%20%20%20%20If%20the%20number%20is%20negative%2C%20%60limit%60%20number%20%20of%20items%20from%20the%20end%20of%20the%20source%20array/string%0D%0A%20*%20%20%20%20%20are%20copied.%20The%20%60limit%60%20will%20be%20trimmed%20if%20it%20exceeds%20%60array.length%60.%20If%20%60limit%60%20is%20undefined%2C%0D%0A%20*%20%20%20%20%20the%20input%20will%20be%20returned%20unchanged.%0D%0A%20*%20@param%20%7B%28string%7Cnumber%29%3D%7D%20begin%20Index%20at%20which%20to%20begin%20limitation.%20As%20a%20negative%20index%2C%20%60begin%60%0D%0A%20*%20%20%20%20%20indicates%20an%20offset%20from%20the%20end%20of%20%60input%60.%20Defaults%20to%20%600%60.%0D%0A%20*%20@returns%20%7BArray%7Cstring%7D%20A%20new%20sub-array%20or%20substring%20of%20length%20%60limit%60%20or%20less%20if%20input%20array%0D%0A%20*%20%20%20%20%20had%20less%20than%20%60limit%60%20elements.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22limitToExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27limitToExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.numbers%20%3D%20%5B1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.letters%20%3D%20%22abcdefghi%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.longNumber%20%3D%202345432342%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.numLimit%20%3D%203%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.letterLimit%20%3D%203%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.longNumberLimit%20%3D%203%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Limit%20%7B%7Bnumbers%7D%7D%20to%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20step%3D%221%22%20ng-model%3D%22numLimit%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3EOutput%20numbers%3A%20%7B%7B%20numbers%20%7C%20limitTo%3AnumLimit%20%7D%7D%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Limit%20%7B%7Bletters%7D%7D%20to%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20step%3D%221%22%20ng-model%3D%22letterLimit%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3EOutput%20letters%3A%20%7B%7B%20letters%20%7C%20limitTo%3AletterLimit%20%7D%7D%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Limit%20%7B%7BlongNumber%7D%7D%20to%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20step%3D%221%22%20ng-model%3D%22longNumberLimit%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cp%3EOutput%20long%20number%3A%20%7B%7B%20longNumber%20%7C%20limitTo%3AlongNumberLimit%20%7D%7D%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20var%20numLimitInput%20%3D%20element%28by.model%28%27numLimit%27%29%29%3B%0D%0A%20%20%20%20%20%20%20var%20letterLimitInput%20%3D%20element%28by.model%28%27letterLimit%27%29%29%3B%0D%0A%20%20%20%20%20%20%20var%20longNumberLimitInput%20%3D%20element%28by.model%28%27longNumberLimit%27%29%29%3B%0D%0A%20%20%20%20%20%20%20var%20limitedNumbers%20%3D%20element%28by.binding%28%27numbers%20%7C%20limitTo%3AnumLimit%27%29%29%3B%0D%0A%20%20%20%20%20%20%20var%20limitedLetters%20%3D%20element%28by.binding%28%27letters%20%7C%20limitTo%3AletterLimit%27%29%29%3B%0D%0A%20%20%20%20%20%20%20var%20limitedLongNumber%20%3D%20element%28by.binding%28%27longNumber%20%7C%20limitTo%3AlongNumberLimit%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20limit%20the%20number%20array%20to%20first%20three%20items%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28numLimitInput.getAttribute%28%27value%27%29%29.toBe%28%273%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28letterLimitInput.getAttribute%28%27value%27%29%29.toBe%28%273%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28longNumberLimitInput.getAttribute%28%27value%27%29%29.toBe%28%273%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedNumbers.getText%28%29%29.toEqual%28%27Output%20numbers%3A%20%5B1%2C2%2C3%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedLetters.getText%28%29%29.toEqual%28%27Output%20letters%3A%20abc%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedLongNumber.getText%28%29%29.toEqual%28%27Output%20long%20number%3A%20234%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20//%20There%20is%20a%20bug%20in%20safari%20and%20protractor%20that%20doesn%27t%20like%20the%20minus%20key%0D%0A%20%20%20%20%20%20%20//%20it%28%27should%20update%20the%20output%20when%20-3%20is%20entered%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20//%20%20%20numLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20numLimitInput.sendKeys%28%27-3%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20letterLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20letterLimitInput.sendKeys%28%27-3%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20longNumberLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20longNumberLimitInput.sendKeys%28%27-3%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20expect%28limitedNumbers.getText%28%29%29.toEqual%28%27Output%20numbers%3A%20%5B7%2C8%2C9%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20expect%28limitedLetters.getText%28%29%29.toEqual%28%27Output%20letters%3A%20ghi%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%20%20expect%28limitedLongNumber.getText%28%29%29.toEqual%28%27Output%20long%20number%3A%20342%27%29%3B%0D%0A%20%20%20%20%20%20%20//%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20not%20exceed%20the%20maximum%20size%20of%20input%20array%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20numLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20numLimitInput.sendKeys%28%27100%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20letterLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20letterLimitInput.sendKeys%28%27100%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20longNumberLimitInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20longNumberLimitInput.sendKeys%28%27100%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedNumbers.getText%28%29%29.toEqual%28%27Output%20numbers%3A%20%5B1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedLetters.getText%28%29%29.toEqual%28%27Output%20letters%3A%20abcdefghi%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28limitedLongNumber.getText%28%29%29.toEqual%28%27Output%20long%20number%3A%202345432342%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A*/%0D%0Afunction%20limitToFilter%28%29%20%7B%0D%0A%20%20return%20function%28input%2C%20limit%2C%20begin%29%20%7B%0D%0A%20%20%20%20if%20%28Math.abs%28Number%28limit%29%29%20%3D%3D%3D%20Infinity%29%20%7B%0D%0A%20%20%20%20%20%20limit%20%3D%20Number%28limit%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20limit%20%3D%20toInt%28limit%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isNaN%28limit%29%29%20return%20input%3B%0D%0A%0D%0A%20%20%20%20if%20%28isNumber%28input%29%29%20input%20%3D%20input.toString%28%29%3B%0D%0A%20%20%20%20if%20%28%21isArray%28input%29%20%26%26%20%21isString%28input%29%29%20return%20input%3B%0D%0A%0D%0A%20%20%20%20begin%20%3D%20%28%21begin%20%7C%7C%20isNaN%28begin%29%29%20%3F%200%20%3A%20toInt%28begin%29%3B%0D%0A%20%20%20%20begin%20%3D%20%28begin%20%3C%200%20%26%26%20begin%20%3E%3D%20-input.length%29%20%3F%20input.length%20+%20begin%20%3A%20begin%3B%0D%0A%0D%0A%20%20%20%20if%20%28limit%20%3E%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20return%20input.slice%28begin%2C%20begin%20+%20limit%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20if%20%28begin%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20input.slice%28limit%2C%20input.length%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20input.slice%28Math.max%280%2C%20begin%20+%20limit%29%2C%20begin%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20filter%0D%0A%20*%20@name%20orderBy%0D%0A%20*%20@kind%20function%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Orders%20a%20specified%20%60array%60%20by%20the%20%60expression%60%20predicate.%20It%20is%20ordered%20alphabetically%0D%0A%20*%20for%20strings%20and%20numerically%20for%20numbers.%20Note%3A%20if%20you%20notice%20numbers%20are%20not%20being%20sorted%0D%0A%20*%20correctly%2C%20make%20sure%20they%20are%20actually%20being%20saved%20as%20numbers%20and%20not%20strings.%0D%0A%20*%0D%0A%20*%20@param%20%7BArray%7D%20array%20The%20array%20to%20sort.%0D%0A%20*%20@param%20%7Bfunction%28*%29%7Cstring%7CArray.%3C%28function%28*%29%7Cstring%29%3E%3D%7D%20expression%20A%20predicate%20to%20be%0D%0A%20*%20%20%20%20used%20by%20the%20comparator%20to%20determine%20the%20order%20of%20elements.%0D%0A%20*%0D%0A%20*%20%20%20%20Can%20be%20one%20of%3A%0D%0A%20*%0D%0A%20*%20%20%20%20-%20%60function%60%3A%20Getter%20function.%20The%20result%20of%20this%20function%20will%20be%20sorted%20using%20the%0D%0A%20*%20%20%20%20%20%20%60%3C%60%2C%20%60%3D%3D%3D%60%2C%20%60%3E%60%20operator.%0D%0A%20*%20%20%20%20-%20%60string%60%3A%20An%20Angular%20expression.%20The%20result%20of%20this%20expression%20is%20used%20to%20compare%20elements%0D%0A%20*%20%20%20%20%20%20%28for%20example%20%60name%60%20to%20sort%20by%20a%20property%20called%20%60name%60%20or%20%60name.substr%280%2C%203%29%60%20to%20sort%20by%0D%0A%20*%20%20%20%20%20%203%20first%20characters%20of%20a%20property%20called%20%60name%60%29.%20The%20result%20of%20a%20constant%20expression%0D%0A%20*%20%20%20%20%20%20is%20interpreted%20as%20a%20property%20name%20to%20be%20used%20in%20comparisons%20%28for%20example%20%60%22special%20name%22%60%0D%0A%20*%20%20%20%20%20%20to%20sort%20object%20by%20the%20value%20of%20their%20%60special%20name%60%20property%29.%20An%20expression%20can%20be%0D%0A%20*%20%20%20%20%20%20optionally%20prefixed%20with%20%60+%60%20or%20%60-%60%20to%20control%20ascending%20or%20descending%20sort%20order%0D%0A%20*%20%20%20%20%20%20%28for%20example%2C%20%60+name%60%20or%20%60-name%60%29.%20If%20no%20property%20is%20provided%2C%20%28e.g.%20%60%27+%27%60%29%20then%20the%20array%0D%0A%20*%20%20%20%20%20%20element%20itself%20is%20used%20to%20compare%20where%20sorting.%0D%0A%20*%20%20%20%20-%20%60Array%60%3A%20An%20array%20of%20function%20or%20string%20predicates.%20The%20first%20predicate%20in%20the%20array%0D%0A%20*%20%20%20%20%20%20is%20used%20for%20sorting%2C%20but%20when%20two%20items%20are%20equivalent%2C%20the%20next%20predicate%20is%20used.%0D%0A%20*%0D%0A%20*%20%20%20%20If%20the%20predicate%20is%20missing%20or%20empty%20then%20it%20defaults%20to%20%60%27+%27%60.%0D%0A%20*%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20reverse%20Reverse%20the%20order%20of%20the%20array.%0D%0A%20*%20@returns%20%7BArray%7D%20Sorted%20copy%20of%20the%20source%20array.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20The%20example%20below%20demonstrates%20a%20simple%20ngRepeat%2C%20where%20the%20data%20is%20sorted%0D%0A%20*%20by%20age%20in%20descending%20order%20%28predicate%20is%20set%20to%20%60%27-age%27%60%29.%0D%0A%20*%20%60reverse%60%20is%20not%20set%2C%20which%20means%20it%20defaults%20to%20%60false%60.%0D%0A%20%20%20%3Cexample%20module%3D%22orderByExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27orderByExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.friends%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%7Bname%3A%27John%27%2C%20phone%3A%27555-1212%27%2C%20age%3A10%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mary%27%2C%20phone%3A%27555-9876%27%2C%20age%3A19%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mike%27%2C%20phone%3A%27555-4321%27%2C%20age%3A21%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Adam%27%2C%20phone%3A%27555-5678%27%2C%20age%3A35%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Julie%27%2C%20phone%3A%27555-8765%27%2C%20age%3A29%7D%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctable%20class%3D%22friend%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3EName%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3EPhone%20Number%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3EAge%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctr%20ng-repeat%3D%22friend%20in%20friends%20%7C%20orderBy%3A%27-age%27%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.name%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.phone%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.age%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/table%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20The%20predicate%20and%20reverse%20parameters%20can%20be%20controlled%20dynamically%20through%20scope%20properties%2C%0D%0A%20*%20as%20shown%20in%20the%20next%20example.%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22orderByExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27orderByExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.friends%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%7Bname%3A%27John%27%2C%20phone%3A%27555-1212%27%2C%20age%3A10%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mary%27%2C%20phone%3A%27555-9876%27%2C%20age%3A19%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Mike%27%2C%20phone%3A%27555-4321%27%2C%20age%3A21%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Adam%27%2C%20phone%3A%27555-5678%27%2C%20age%3A35%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27Julie%27%2C%20phone%3A%27555-8765%27%2C%20age%3A29%7D%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.predicate%20%3D%20%27-age%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cpre%3ESorting%20predicate%20%3D%20%7B%7Bpredicate%7D%7D%3B%20reverse%20%3D%20%7B%7Breverse%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%5B%20%3Ca%20href%3D%22%22%20ng-click%3D%22predicate%3D%27%27%22%3Eunsorted%3C/a%3E%20%5D%0D%0A%20%20%20%20%20%20%20%20%20%3Ctable%20class%3D%22friend%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22predicate%20%3D%20%27name%27%3B%20reverse%3Dfalse%22%3EName%3C/a%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%3Ca%20href%3D%22%22%20ng-click%3D%22predicate%20%3D%20%27-name%27%3B%20reverse%3Dfalse%22%3E%5E%3C/a%3E%29%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22predicate%20%3D%20%27phone%27%3B%20reverse%3D%21reverse%22%3EPhone%20Number%3C/a%3E%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22predicate%20%3D%20%27age%27%3B%20reverse%3D%21reverse%22%3EAge%3C/a%3E%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctr%20ng-repeat%3D%22friend%20in%20friends%20%7C%20orderBy%3Apredicate%3Areverse%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.name%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.phone%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.age%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/table%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20It%27s%20also%20possible%20to%20call%20the%20orderBy%20filter%20manually%2C%20by%20injecting%20%60%24filter%60%2C%20retrieving%20the%0D%0A%20*%20filter%20routine%20with%20%60%24filter%28%27orderBy%27%29%60%2C%20and%20calling%20the%20returned%20filter%20routine%20with%20the%0D%0A%20*%20desired%20parameters.%0D%0A%20*%0D%0A%20*%20Example%3A%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22orderByExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctable%20class%3D%22friend%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22reverse%3Dfalse%3Border%28%27name%27%2C%20false%29%22%3EName%3C/a%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%3Ca%20href%3D%22%22%20ng-click%3D%22order%28%27-name%27%2Cfalse%29%22%3E%5E%3C/a%3E%29%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22reverse%3D%21reverse%3Border%28%27phone%27%2C%20reverse%29%22%3EPhone%20Number%3C/a%3E%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%3Ca%20href%3D%22%22%20ng-click%3D%22reverse%3D%21reverse%3Border%28%27age%27%2Creverse%29%22%3EAge%3C/a%3E%3C/th%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Ctr%20ng-repeat%3D%22friend%20in%20friends%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.name%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.phone%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%7B%7Bfriend.age%7D%7D%3C/td%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0D%0A%20%20%20%20%20%20%20%20%3C/table%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%0D%0A%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27orderByExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20%27%24filter%27%2C%20function%28%24scope%2C%20%24filter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20orderBy%20%3D%20%24filter%28%27orderBy%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.friends%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27John%27%2C%20%20%20%20phone%3A%20%27555-1212%27%2C%20%20%20%20age%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27Mary%27%2C%20%20%20%20phone%3A%20%27555-9876%27%2C%20%20%20%20age%3A%2019%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27Mike%27%2C%20%20%20%20phone%3A%20%27555-4321%27%2C%20%20%20%20age%3A%2021%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27Adam%27%2C%20%20%20%20phone%3A%20%27555-5678%27%2C%20%20%20%20age%3A%2035%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27Julie%27%2C%20%20%20phone%3A%20%27555-8765%27%2C%20%20%20%20age%3A%2029%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.order%20%3D%20function%28predicate%2C%20reverse%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.friends%20%3D%20orderBy%28%24scope.friends%2C%20predicate%2C%20reverse%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.order%28%27-age%27%2Cfalse%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%3C/example%3E%0D%0A%20*/%0D%0AorderByFilter.%24inject%20%3D%20%5B%27%24parse%27%5D%3B%0D%0Afunction%20orderByFilter%28%24parse%29%20%7B%0D%0A%20%20return%20function%28array%2C%20sortPredicate%2C%20reverseOrder%29%20%7B%0D%0A%20%20%20%20if%20%28%21%28isArrayLike%28array%29%29%29%20return%20array%3B%0D%0A%20%20%20%20sortPredicate%20%3D%20isArray%28sortPredicate%29%20%3F%20sortPredicate%20%3A%20%5BsortPredicate%5D%3B%0D%0A%20%20%20%20if%20%28sortPredicate.length%20%3D%3D%3D%200%29%20%7B%20sortPredicate%20%3D%20%5B%27+%27%5D%3B%20%7D%0D%0A%20%20%20%20sortPredicate%20%3D%20sortPredicate.map%28function%28predicate%29%20%7B%0D%0A%20%20%20%20%20%20var%20descending%20%3D%20false%2C%20get%20%3D%20predicate%20%7C%7C%20identity%3B%0D%0A%20%20%20%20%20%20if%20%28isString%28predicate%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%28predicate.charAt%280%29%20%3D%3D%20%27+%27%20%7C%7C%20predicate.charAt%280%29%20%3D%3D%20%27-%27%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20descending%20%3D%20predicate.charAt%280%29%20%3D%3D%20%27-%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20predicate%20%3D%20predicate.substring%281%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28predicate%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Effectively%20no%20predicate%20was%20passed%20so%20we%20compare%20identity%0D%0A%20%20%20%20%20%20%20%20%20%20return%20reverseComparator%28compare%2C%20descending%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20get%20%3D%20%24parse%28predicate%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28get.constant%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20key%20%3D%20get%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20reverseComparator%28function%28a%2C%20b%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20compare%28a%5Bkey%5D%2C%20b%5Bkey%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20descending%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20reverseComparator%28function%28a%2C%20b%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20compare%28get%28a%29%2Cget%28b%29%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20descending%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20return%20slice.call%28array%29.sort%28reverseComparator%28comparator%2C%20reverseOrder%29%29%3B%0D%0A%0D%0A%20%20%20%20function%20comparator%28o1%2C%20o2%29%20%7B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20sortPredicate.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20comp%20%3D%20sortPredicate%5Bi%5D%28o1%2C%20o2%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28comp%20%21%3D%3D%200%29%20return%20comp%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20function%20reverseComparator%28comp%2C%20descending%29%20%7B%0D%0A%20%20%20%20%20%20return%20descending%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20function%28a%2C%20b%29%20%7Breturn%20comp%28b%2Ca%29%3B%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20comp%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20isPrimitive%28value%29%20%7B%0D%0A%20%20%20%20%20%20switch%20%28typeof%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%27number%27%3A%20/*%20falls%20through%20*/%0D%0A%20%20%20%20%20%20%20%20case%20%27boolean%27%3A%20/*%20falls%20through%20*/%0D%0A%20%20%20%20%20%20%20%20case%20%27string%27%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20objectToString%28value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20null%29%20return%20%27null%27%3B%0D%0A%20%20%20%20%20%20if%20%28typeof%20value.valueOf%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20value.valueOf%28%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isPrimitive%28value%29%29%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28typeof%20value.toString%20%3D%3D%3D%20%27function%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20value.toString%28%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isPrimitive%28value%29%29%20return%20value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%27%27%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20compare%28v1%2C%20v2%29%20%7B%0D%0A%20%20%20%20%20%20var%20t1%20%3D%20typeof%20v1%3B%0D%0A%20%20%20%20%20%20var%20t2%20%3D%20typeof%20v2%3B%0D%0A%20%20%20%20%20%20if%20%28t1%20%3D%3D%3D%20t2%20%26%26%20t1%20%3D%3D%3D%20%22object%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20v1%20%3D%20objectToString%28v1%29%3B%0D%0A%20%20%20%20%20%20%20%20v2%20%3D%20objectToString%28v2%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28t1%20%3D%3D%3D%20t2%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28t1%20%3D%3D%3D%20%22string%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20v1%20%3D%20v1.toLowerCase%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20v2%20%3D%20v2.toLowerCase%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20%28v1%20%3D%3D%3D%20v2%29%20return%200%3B%0D%0A%20%20%20%20%20%20%20%20return%20v1%20%3C%20v2%20%3F%20-1%20%3A%201%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20t1%20%3C%20t2%20%3F%20-1%20%3A%201%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20ngDirective%28directive%29%20%7B%0D%0A%20%20if%20%28isFunction%28directive%29%29%20%7B%0D%0A%20%20%20%20directive%20%3D%20%7B%0D%0A%20%20%20%20%20%20link%3A%20directive%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%20%20directive.restrict%20%3D%20directive.restrict%20%7C%7C%20%27AC%27%3B%0D%0A%20%20return%20valueFn%28directive%29%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20a%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Modifies%20the%20default%20behavior%20of%20the%20html%20A%20tag%20so%20that%20the%20default%20action%20is%20prevented%20when%0D%0A%20*%20the%20href%20attribute%20is%20empty.%0D%0A%20*%0D%0A%20*%20This%20change%20permits%20the%20easy%20creation%20of%20action%20links%20with%20the%20%60ngClick%60%20directive%0D%0A%20*%20without%20changing%20the%20location%20or%20causing%20page%20reloads%2C%20e.g.%3A%0D%0A%20*%20%60%3Ca%20href%3D%22%22%20ng-click%3D%22list.addItem%28%29%22%3EAdd%20Item%3C/a%3E%60%0D%0A%20*/%0D%0Avar%20htmlAnchorDirective%20%3D%20valueFn%28%7B%0D%0A%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20compile%3A%20function%28element%2C%20attr%29%20%7B%0D%0A%20%20%20%20if%20%28%21attr.href%20%26%26%20%21attr.xlinkHref%29%20%7B%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20If%20the%20linked%20element%20is%20not%20an%20anchor%20tag%20anymore%2C%20do%20nothing%0D%0A%20%20%20%20%20%20%20%20if%20%28element%5B0%5D.nodeName.toLowerCase%28%29%20%21%3D%3D%20%27a%27%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20SVGAElement%20does%20not%20use%20the%20href%20attribute%2C%20but%20rather%20the%20%27xlinkHref%27%20attribute.%0D%0A%20%20%20%20%20%20%20%20var%20href%20%3D%20toString.call%28element.prop%28%27href%27%29%29%20%3D%3D%3D%20%27%5Bobject%20SVGAnimatedString%5D%27%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27xlink%3Ahref%27%20%3A%20%27href%27%3B%0D%0A%20%20%20%20%20%20%20%20element.on%28%27click%27%2C%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20if%20we%20have%20no%20href%20url%2C%20then%20don%27t%20navigate%20anywhere.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21element.attr%28href%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngHref%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%2099%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Using%20Angular%20markup%20like%20%60%7B%7Bhash%7D%7D%60%20in%20an%20href%20attribute%20will%0D%0A%20*%20make%20the%20link%20go%20to%20the%20wrong%20URL%20if%20the%20user%20clicks%20it%20before%0D%0A%20*%20Angular%20has%20a%20chance%20to%20replace%20the%20%60%7B%7Bhash%7D%7D%60%20markup%20with%20its%0D%0A%20*%20value.%20Until%20Angular%20replaces%20the%20markup%20the%20link%20will%20be%20broken%0D%0A%20*%20and%20will%20most%20likely%20return%20a%20404%20error.%20The%20%60ngHref%60%20directive%0D%0A%20*%20solves%20this%20problem.%0D%0A%20*%0D%0A%20*%20The%20wrong%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Ca%20href%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%22%3Elink1%3C/a%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20correct%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Ca%20ng-href%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%22%3Elink1%3C/a%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@element%20A%0D%0A%20*%20@param%20%7Btemplate%7D%20ngHref%20any%20string%20which%20can%20contain%20%60%7B%7B%7D%7D%60%20markup.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20This%20example%20shows%20various%20combinations%20of%20%60href%60%2C%20%60ng-href%60%20and%20%60ng-click%60%20attributes%0D%0A%20*%20in%20links%20and%20their%20different%20behaviors%3A%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22value%22%20/%3E%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-1%22%20href%20ng-click%3D%22value%20%3D%201%22%3Elink%201%3C/a%3E%20%28link%2C%20don%27t%20reload%29%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-2%22%20href%3D%22%22%20ng-click%3D%22value%20%3D%202%22%3Elink%202%3C/a%3E%20%28link%2C%20don%27t%20reload%29%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-3%22%20ng-href%3D%22/%7B%7B%27123%27%7D%7D%22%3Elink%203%3C/a%3E%20%28link%2C%20reload%21%29%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-4%22%20href%3D%22%22%20name%3D%22xx%22%20ng-click%3D%22value%20%3D%204%22%3Eanchor%3C/a%3E%20%28link%2C%20don%27t%20reload%29%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-5%22%20name%3D%22xxx%22%20ng-click%3D%22value%20%3D%205%22%3Eanchor%3C/a%3E%20%28no%20link%29%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ca%20id%3D%22link-6%22%20ng-href%3D%22%7B%7Bvalue%7D%7D%22%3Elink%3C/a%3E%20%28link%2C%20change%20location%29%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20execute%20ng-click%20but%20not%20reload%20when%20href%20without%20value%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-1%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.model%28%27value%27%29%29.getAttribute%28%27value%27%29%29.toEqual%28%271%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-1%27%29%29.getAttribute%28%27href%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20execute%20ng-click%20but%20not%20reload%20when%20href%20empty%20string%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-2%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.model%28%27value%27%29%29.getAttribute%28%27value%27%29%29.toEqual%28%272%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-2%27%29%29.getAttribute%28%27href%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20execute%20ng-click%20and%20change%20url%20when%20ng-href%20specified%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-3%27%29%29.getAttribute%28%27href%27%29%29.toMatch%28/%5C/123%24/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-3%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20At%20this%20point%2C%20we%20navigate%20away%20from%20an%20Angular%20page%2C%20so%20we%20need%0D%0A%20%20%20%20%20%20%20%20%20%20//%20to%20use%20browser.driver%20to%20get%20the%20base%20webdriver.%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20browser.wait%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20browser.driver.getCurrentUrl%28%29.then%28function%28url%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20url.match%28/%5C/123%24/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%205000%2C%20%27page%20should%20navigate%20to%20/123%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20execute%20ng-click%20but%20not%20reload%20when%20href%20empty%20string%20and%20name%20specified%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-4%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.model%28%27value%27%29%29.getAttribute%28%27value%27%29%29.toEqual%28%274%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-4%27%29%29.getAttribute%28%27href%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20execute%20ng-click%20but%20not%20reload%20when%20no%20href%20but%20name%20specified%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-5%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.model%28%27value%27%29%29.getAttribute%28%27value%27%29%29.toEqual%28%275%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-5%27%29%29.getAttribute%28%27href%27%29%29.toBe%28null%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20only%20change%20url%20when%20only%20ng-href%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27value%27%29%29.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27value%27%29%29.sendKeys%28%276%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27link-6%27%29%29.getAttribute%28%27href%27%29%29.toMatch%28/%5C/6%24/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.id%28%27link-6%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20At%20this%20point%2C%20we%20navigate%20away%20from%20an%20Angular%20page%2C%20so%20we%20need%0D%0A%20%20%20%20%20%20%20%20%20%20//%20to%20use%20browser.driver%20to%20get%20the%20base%20webdriver.%0D%0A%20%20%20%20%20%20%20%20%20%20browser.wait%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20browser.driver.getCurrentUrl%28%29.then%28function%28url%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20url.match%28/%5C/6%24/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%205000%2C%20%27page%20should%20navigate%20to%20/6%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngSrc%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%2099%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Using%20Angular%20markup%20like%20%60%7B%7Bhash%7D%7D%60%20in%20a%20%60src%60%20attribute%20doesn%27t%0D%0A%20*%20work%20right%3A%20The%20browser%20will%20fetch%20from%20the%20URL%20with%20the%20literal%0D%0A%20*%20text%20%60%7B%7Bhash%7D%7D%60%20until%20Angular%20replaces%20the%20expression%20inside%0D%0A%20*%20%60%7B%7Bhash%7D%7D%60.%20The%20%60ngSrc%60%20directive%20solves%20this%20problem.%0D%0A%20*%0D%0A%20*%20The%20buggy%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cimg%20src%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%22%20alt%3D%22Description%22/%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20correct%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cimg%20ng-src%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%22%20alt%3D%22Description%22%20/%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@element%20IMG%0D%0A%20*%20@param%20%7Btemplate%7D%20ngSrc%20any%20string%20which%20can%20contain%20%60%7B%7B%7D%7D%60%20markup.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngSrcset%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%2099%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Using%20Angular%20markup%20like%20%60%7B%7Bhash%7D%7D%60%20in%20a%20%60srcset%60%20attribute%20doesn%27t%0D%0A%20*%20work%20right%3A%20The%20browser%20will%20fetch%20from%20the%20URL%20with%20the%20literal%0D%0A%20*%20text%20%60%7B%7Bhash%7D%7D%60%20until%20Angular%20replaces%20the%20expression%20inside%0D%0A%20*%20%60%7B%7Bhash%7D%7D%60.%20The%20%60ngSrcset%60%20directive%20solves%20this%20problem.%0D%0A%20*%0D%0A%20*%20The%20buggy%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cimg%20srcset%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%202x%22%20alt%3D%22Description%22/%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20correct%20way%20to%20write%20it%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cimg%20ng-srcset%3D%22http%3A//www.gravatar.com/avatar/%7B%7Bhash%7D%7D%202x%22%20alt%3D%22Description%22%20/%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@element%20IMG%0D%0A%20*%20@param%20%7Btemplate%7D%20ngSrcset%20any%20string%20which%20can%20contain%20%60%7B%7B%7D%7D%60%20markup.%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngDisabled%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%20100%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20This%20directive%20sets%20the%20%60disabled%60%20attribute%20on%20the%20element%20if%20the%0D%0A%20*%20%7B@link%20guide/expression%20expression%7D%20inside%20%60ngDisabled%60%20evaluates%20to%20truthy.%0D%0A%20*%0D%0A%20*%20A%20special%20directive%20is%20necessary%20because%20we%20cannot%20use%20interpolation%20inside%20the%20%60disabled%60%0D%0A%20*%20attribute.%20%20The%20following%20example%20would%20make%20the%20button%20enabled%20on%20Chrome/Firefox%0D%0A%20*%20but%20not%20on%20older%20IEs%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3C%21--%20See%20below%20for%20an%20example%20of%20ng-disabled%20being%20used%20correctly%20--%3E%0D%0A%20*%20%3Cdiv%20ng-init%3D%22isDisabled%20%3D%20false%22%3E%0D%0A%20*%20%20%3Cbutton%20disabled%3D%22%7B%7BisDisabled%7D%7D%22%3EDisabled%3C/button%3E%0D%0A%20*%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20This%20is%20because%20the%20HTML%20specification%20does%20not%20require%20browsers%20to%20preserve%20the%20values%20of%0D%0A%20*%20boolean%20attributes%20such%20as%20%60disabled%60%20%28Their%20presence%20means%20true%20and%20their%20absence%20means%20false.%29%0D%0A%20*%20If%20we%20put%20an%20Angular%20interpolation%20expression%20into%20such%20an%20attribute%20then%20the%0D%0A%20*%20binding%20information%20would%20be%20lost%20when%20the%20browser%20removes%20the%20attribute.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3EClick%20me%20to%20toggle%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checked%22%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20ng-model%3D%22button%22%20ng-disabled%3D%22checked%22%3EButton%3C/button%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20toggle%20button%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27button%27%29%29.getAttribute%28%27disabled%27%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27checked%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27button%27%29%29.getAttribute%28%27disabled%27%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20INPUT%0D%0A%20*%20@param%20%7Bexpression%7D%20ngDisabled%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%2C%0D%0A%20*%20%20%20%20%20then%20the%20%60disabled%60%20attribute%20will%20be%20set%20on%20the%20element%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngChecked%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%20100%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20HTML%20specification%20does%20not%20require%20browsers%20to%20preserve%20the%20values%20of%20boolean%20attributes%0D%0A%20*%20such%20as%20checked.%20%28Their%20presence%20means%20true%20and%20their%20absence%20means%20false.%29%0D%0A%20*%20If%20we%20put%20an%20Angular%20interpolation%20expression%20into%20such%20an%20attribute%20then%20the%0D%0A%20*%20binding%20information%20would%20be%20lost%20when%20the%20browser%20removes%20the%20attribute.%0D%0A%20*%20The%20%60ngChecked%60%20directive%20solves%20this%20problem%20for%20the%20%60checked%60%20attribute.%0D%0A%20*%20This%20complementary%20directive%20is%20not%20removed%20by%20the%20browser%20and%20so%20provides%0D%0A%20*%20a%20permanent%20reliable%20place%20to%20store%20the%20binding%20information.%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3ECheck%20me%20to%20check%20both%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22master%22%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22checkSlave%22%20type%3D%22checkbox%22%20ng-checked%3D%22master%22%20aria-label%3D%22Slave%20input%22%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20check%20both%20checkBoxes%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27checkSlave%27%29%29.getAttribute%28%27checked%27%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27master%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27checkSlave%27%29%29.getAttribute%28%27checked%27%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20INPUT%0D%0A%20*%20@param%20%7Bexpression%7D%20ngChecked%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%2C%0D%0A%20*%20%20%20%20%20then%20special%20attribute%20%22checked%22%20will%20be%20set%20on%20the%20element%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngReadonly%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%20100%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20HTML%20specification%20does%20not%20require%20browsers%20to%20preserve%20the%20values%20of%20boolean%20attributes%0D%0A%20*%20such%20as%20readonly.%20%28Their%20presence%20means%20true%20and%20their%20absence%20means%20false.%29%0D%0A%20*%20If%20we%20put%20an%20Angular%20interpolation%20expression%20into%20such%20an%20attribute%20then%20the%0D%0A%20*%20binding%20information%20would%20be%20lost%20when%20the%20browser%20removes%20the%20attribute.%0D%0A%20*%20The%20%60ngReadonly%60%20directive%20solves%20this%20problem%20for%20the%20%60readonly%60%20attribute.%0D%0A%20*%20This%20complementary%20directive%20is%20not%20removed%20by%20the%20browser%20and%20so%20provides%0D%0A%20*%20a%20permanent%20reliable%20place%20to%20store%20the%20binding%20information.%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3ECheck%20me%20to%20make%20text%20readonly%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checked%22%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-readonly%3D%22checked%22%20value%3D%22I%27m%20Angular%22%20aria-label%3D%22Readonly%20field%22%20/%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20toggle%20readonly%20attr%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27%5Btype%3D%22text%22%5D%27%29%29.getAttribute%28%27readonly%27%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27checked%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27%5Btype%3D%22text%22%5D%27%29%29.getAttribute%28%27readonly%27%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20INPUT%0D%0A%20*%20@param%20%7Bexpression%7D%20ngReadonly%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%2C%0D%0A%20*%20%20%20%20%20then%20special%20attribute%20%22readonly%22%20will%20be%20set%20on%20the%20element%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngSelected%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%20100%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20HTML%20specification%20does%20not%20require%20browsers%20to%20preserve%20the%20values%20of%20boolean%20attributes%0D%0A%20*%20such%20as%20selected.%20%28Their%20presence%20means%20true%20and%20their%20absence%20means%20false.%29%0D%0A%20*%20If%20we%20put%20an%20Angular%20interpolation%20expression%20into%20such%20an%20attribute%20then%20the%0D%0A%20*%20binding%20information%20would%20be%20lost%20when%20the%20browser%20removes%20the%20attribute.%0D%0A%20*%20The%20%60ngSelected%60%20directive%20solves%20this%20problem%20for%20the%20%60selected%60%20attribute.%0D%0A%20*%20This%20complementary%20directive%20is%20not%20removed%20by%20the%20browser%20and%20so%20provides%0D%0A%20*%20a%20permanent%20reliable%20place%20to%20store%20the%20binding%20information.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3ECheck%20me%20to%20select%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22selected%22%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cselect%20aria-label%3D%22ngSelected%20demo%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Coption%3EHello%21%3C/option%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20id%3D%22greet%22%20ng-selected%3D%22selected%22%3EGreetings%21%3C/option%3E%0D%0A%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20select%20Greetings%21%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27greet%27%29%29.getAttribute%28%27selected%27%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27selected%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27greet%27%29%29.getAttribute%28%27selected%27%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20OPTION%0D%0A%20*%20@param%20%7Bexpression%7D%20ngSelected%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%2C%0D%0A%20*%20%20%20%20%20then%20special%20attribute%20%22selected%22%20will%20be%20set%20on%20the%20element%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngOpen%0D%0A%20*%20@restrict%20A%0D%0A%20*%20@priority%20100%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20HTML%20specification%20does%20not%20require%20browsers%20to%20preserve%20the%20values%20of%20boolean%20attributes%0D%0A%20*%20such%20as%20open.%20%28Their%20presence%20means%20true%20and%20their%20absence%20means%20false.%29%0D%0A%20*%20If%20we%20put%20an%20Angular%20interpolation%20expression%20into%20such%20an%20attribute%20then%20the%0D%0A%20*%20binding%20information%20would%20be%20lost%20when%20the%20browser%20removes%20the%20attribute.%0D%0A%20*%20The%20%60ngOpen%60%20directive%20solves%20this%20problem%20for%20the%20%60open%60%20attribute.%0D%0A%20*%20This%20complementary%20directive%20is%20not%20removed%20by%20the%20browser%20and%20so%20provides%0D%0A%20*%20a%20permanent%20reliable%20place%20to%20store%20the%20binding%20information.%0D%0A%20*%20@example%0D%0A%20%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3ECheck%20me%20check%20multiple%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22open%22%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdetails%20id%3D%22details%22%20ng-open%3D%22open%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Csummary%3EShow/Hide%20me%3C/summary%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/details%3E%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20it%28%27should%20toggle%20open%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27details%27%29%29.getAttribute%28%27open%27%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27open%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28element%28by.id%28%27details%27%29%29.getAttribute%28%27open%27%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20DETAILS%0D%0A%20*%20@param%20%7Bexpression%7D%20ngOpen%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%2C%0D%0A%20*%20%20%20%20%20then%20special%20attribute%20%22open%22%20will%20be%20set%20on%20the%20element%0D%0A%20*/%0D%0A%0D%0Avar%20ngAttributeAliasDirectives%20%3D%20%7B%7D%3B%0D%0A%0D%0A//%20boolean%20attrs%20are%20evaluated%0D%0AforEach%28BOOLEAN_ATTR%2C%20function%28propName%2C%20attrName%29%20%7B%0D%0A%20%20//%20binding%20to%20multiple%20is%20not%20supported%0D%0A%20%20if%20%28propName%20%3D%3D%20%22multiple%22%29%20return%3B%0D%0A%0D%0A%20%20function%20defaultLinkFn%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20scope.%24watch%28attr%5Bnormalized%5D%2C%20function%20ngBooleanAttrWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20attr.%24set%28attrName%2C%20%21%21value%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20normalized%20%3D%20directiveNormalize%28%27ng-%27%20+%20attrName%29%3B%0D%0A%20%20var%20linkFn%20%3D%20defaultLinkFn%3B%0D%0A%0D%0A%20%20if%20%28propName%20%3D%3D%3D%20%27checked%27%29%20%7B%0D%0A%20%20%20%20linkFn%20%3D%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20//%20ensuring%20ngChecked%20doesn%27t%20interfere%20with%20ngModel%20when%20both%20are%20set%20on%20the%20same%20input%0D%0A%20%20%20%20%20%20if%20%28attr.ngModel%20%21%3D%3D%20attr%5Bnormalized%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20defaultLinkFn%28scope%2C%20element%2C%20attr%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20ngAttributeAliasDirectives%5Bnormalized%5D%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20%20%20link%3A%20linkFn%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%29%3B%0D%0A%0D%0A//%20aliased%20input%20attrs%20are%20evaluated%0D%0AforEach%28ALIASED_ATTR%2C%20function%28htmlAttr%2C%20ngAttr%29%20%7B%0D%0A%20%20ngAttributeAliasDirectives%5BngAttr%5D%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//special%20case%20ngPattern%20when%20a%20literal%20regular%20expression%20value%0D%0A%20%20%20%20%20%20%20%20//is%20used%20as%20the%20expression%20%28this%20way%20we%20don%27t%20have%20to%20watch%20anything%29.%0D%0A%20%20%20%20%20%20%20%20if%20%28ngAttr%20%3D%3D%3D%20%22ngPattern%22%20%26%26%20attr.ngPattern.charAt%280%29%20%3D%3D%20%22/%22%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20match%20%3D%20attr.ngPattern.match%28REGEX_STRING_REGEXP%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attr.%24set%28%22ngPattern%22%2C%20new%20RegExp%28match%5B1%5D%2C%20match%5B2%5D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28attr%5BngAttr%5D%2C%20function%20ngAttrAliasWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24set%28ngAttr%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%29%3B%0D%0A%0D%0A//%20ng-src%2C%20ng-srcset%2C%20ng-href%20are%20interpolated%0D%0AforEach%28%5B%27src%27%2C%20%27srcset%27%2C%20%27href%27%5D%2C%20function%28attrName%29%20%7B%0D%0A%20%20var%20normalized%20%3D%20directiveNormalize%28%27ng-%27%20+%20attrName%29%3B%0D%0A%20%20ngAttributeAliasDirectives%5Bnormalized%5D%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20priority%3A%2099%2C%20//%20it%20needs%20to%20run%20after%20the%20attributes%20are%20interpolated%0D%0A%20%20%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20propName%20%3D%20attrName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20attrName%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28attrName%20%3D%3D%3D%20%27href%27%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toString.call%28element.prop%28%27href%27%29%29%20%3D%3D%3D%20%27%5Bobject%20SVGAnimatedString%5D%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20name%20%3D%20%27xlinkHref%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24attr%5Bname%5D%20%3D%20%27xlink%3Ahref%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20propName%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20attr.%24observe%28normalized%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28attrName%20%3D%3D%3D%20%27href%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr.%24set%28name%2C%20null%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24set%28name%2C%20value%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20on%20IE%2C%20if%20%22ng%3Asrc%22%20directive%20declaration%20is%20used%20and%20%22src%22%20attribute%20doesn%27t%20exist%0D%0A%20%20%20%20%20%20%20%20%20%20//%20then%20calling%20element.setAttribute%28%27src%27%2C%20%27foo%27%29%20doesn%27t%20do%20anything%2C%20so%20we%20need%0D%0A%20%20%20%20%20%20%20%20%20%20//%20to%20set%20the%20property%20as%20well%20to%20achieve%20the%20desired%20effect.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20we%20use%20attr%5BattrName%5D%20value%20since%20%24set%20can%20sanitize%20the%20url.%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28msie%20%26%26%20propName%29%20element.prop%28propName%2C%20attr%5Bname%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%3B%0D%0A%7D%29%3B%0D%0A%0D%0A/*%20global%20-nullFormCtrl%2C%20-SUBMITTED_CLASS%2C%20addSetValidityMethod%3A%20true%0D%0A%20*/%0D%0Avar%20nullFormCtrl%20%3D%20%7B%0D%0A%20%20%24addControl%3A%20noop%2C%0D%0A%20%20%24%24renameControl%3A%20nullFormRenameControl%2C%0D%0A%20%20%24removeControl%3A%20noop%2C%0D%0A%20%20%24setValidity%3A%20noop%2C%0D%0A%20%20%24setDirty%3A%20noop%2C%0D%0A%20%20%24setPristine%3A%20noop%2C%0D%0A%20%20%24setSubmitted%3A%20noop%0D%0A%7D%2C%0D%0ASUBMITTED_CLASS%20%3D%20%27ng-submitted%27%3B%0D%0A%0D%0Afunction%20nullFormRenameControl%28control%2C%20name%29%20%7B%0D%0A%20%20control.%24name%20%3D%20name%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20type%0D%0A%20*%20@name%20form.FormController%0D%0A%20*%0D%0A%20*%20@property%20%7Bboolean%7D%20%24pristine%20True%20if%20user%20has%20not%20interacted%20with%20the%20form%20yet.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24dirty%20True%20if%20user%20has%20already%20interacted%20with%20the%20form.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24valid%20True%20if%20all%20of%20the%20containing%20forms%20and%20controls%20are%20valid.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24invalid%20True%20if%20at%20least%20one%20containing%20control%20or%20form%20is%20invalid.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24submitted%20True%20if%20user%20has%20submitted%20the%20form%20even%20if%20its%20invalid.%0D%0A%20*%0D%0A%20*%20@property%20%7BObject%7D%20%24error%20Is%20an%20object%20hash%2C%20containing%20references%20to%20controls%20or%0D%0A%20*%20%20forms%20with%20failing%20validators%2C%20where%3A%0D%0A%20*%0D%0A%20*%20%20-%20keys%20are%20validation%20tokens%20%28error%20names%29%2C%0D%0A%20*%20%20-%20values%20are%20arrays%20of%20controls%20or%20forms%20that%20have%20a%20failing%20validator%20for%20given%20error%20name.%0D%0A%20*%0D%0A%20*%20%20Built-in%20validation%20tokens%3A%0D%0A%20*%0D%0A%20*%20%20-%20%60email%60%0D%0A%20*%20%20-%20%60max%60%0D%0A%20*%20%20-%20%60maxlength%60%0D%0A%20*%20%20-%20%60min%60%0D%0A%20*%20%20-%20%60minlength%60%0D%0A%20*%20%20-%20%60number%60%0D%0A%20*%20%20-%20%60pattern%60%0D%0A%20*%20%20-%20%60required%60%0D%0A%20*%20%20-%20%60url%60%0D%0A%20*%20%20-%20%60date%60%0D%0A%20*%20%20-%20%60datetimelocal%60%0D%0A%20*%20%20-%20%60time%60%0D%0A%20*%20%20-%20%60week%60%0D%0A%20*%20%20-%20%60month%60%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%60FormController%60%20keeps%20track%20of%20all%20its%20controls%20and%20nested%20forms%20as%20well%20as%20the%20state%20of%20them%2C%0D%0A%20*%20such%20as%20being%20valid/invalid%20or%20dirty/pristine.%0D%0A%20*%0D%0A%20*%20Each%20%7B@link%20ng.directive%3Aform%20form%7D%20directive%20creates%20an%20instance%0D%0A%20*%20of%20%60FormController%60.%0D%0A%20*%0D%0A%20*/%0D%0A//asks%20for%20%24scope%20to%20fool%20the%20BC%20controller%20module%0D%0AFormController.%24inject%20%3D%20%5B%27%24element%27%2C%20%27%24attrs%27%2C%20%27%24scope%27%2C%20%27%24animate%27%2C%20%27%24interpolate%27%5D%3B%0D%0Afunction%20FormController%28element%2C%20attrs%2C%20%24scope%2C%20%24animate%2C%20%24interpolate%29%20%7B%0D%0A%20%20var%20form%20%3D%20this%2C%0D%0A%20%20%20%20%20%20controls%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20var%20parentForm%20%3D%20form.%24%24parentForm%20%3D%20element.parent%28%29.controller%28%27form%27%29%20%7C%7C%20nullFormCtrl%3B%0D%0A%0D%0A%20%20//%20init%20state%0D%0A%20%20form.%24error%20%3D%20%7B%7D%3B%0D%0A%20%20form.%24%24success%20%3D%20%7B%7D%3B%0D%0A%20%20form.%24pending%20%3D%20undefined%3B%0D%0A%20%20form.%24name%20%3D%20%24interpolate%28attrs.name%20%7C%7C%20attrs.ngForm%20%7C%7C%20%27%27%29%28%24scope%29%3B%0D%0A%20%20form.%24dirty%20%3D%20false%3B%0D%0A%20%20form.%24pristine%20%3D%20true%3B%0D%0A%20%20form.%24valid%20%3D%20true%3B%0D%0A%20%20form.%24invalid%20%3D%20false%3B%0D%0A%20%20form.%24submitted%20%3D%20false%3B%0D%0A%0D%0A%20%20parentForm.%24addControl%28form%29%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24rollbackViewValue%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Rollback%20all%20form%20controls%20pending%20updates%20to%20the%20%60%24modelValue%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Updates%20may%20be%20pending%20by%20a%20debounced%20event%20or%20because%20the%20input%20is%20waiting%20for%20a%20some%20future%0D%0A%20%20%20*%20event%20defined%20in%20%60ng-model-options%60.%20This%20method%20is%20typically%20needed%20by%20the%20reset%20button%20of%0D%0A%20%20%20*%20a%20form%20that%20uses%20%60ng-model-options%60%20to%20pend%20updates.%0D%0A%20%20%20*/%0D%0A%20%20form.%24rollbackViewValue%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20forEach%28controls%2C%20function%28control%29%20%7B%0D%0A%20%20%20%20%20%20control.%24rollbackViewValue%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24commitViewValue%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Commit%20all%20form%20controls%20pending%20updates%20to%20the%20%60%24modelValue%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Updates%20may%20be%20pending%20by%20a%20debounced%20event%20or%20because%20the%20input%20is%20waiting%20for%20a%20some%20future%0D%0A%20%20%20*%20event%20defined%20in%20%60ng-model-options%60.%20This%20method%20is%20rarely%20needed%20as%20%60NgModelController%60%0D%0A%20%20%20*%20usually%20handles%20calling%20this%20in%20response%20to%20input%20events.%0D%0A%20%20%20*/%0D%0A%20%20form.%24commitViewValue%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20forEach%28controls%2C%20function%28control%29%20%7B%0D%0A%20%20%20%20%20%20control.%24commitViewValue%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24addControl%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Register%20a%20control%20with%20the%20form.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Input%20elements%20using%20ngModelController%20do%20this%20automatically%20when%20they%20are%20linked.%0D%0A%20%20%20*/%0D%0A%20%20form.%24addControl%20%3D%20function%28control%29%20%7B%0D%0A%20%20%20%20//%20Breaking%20change%20-%20before%2C%20inputs%20whose%20name%20was%20%22hasOwnProperty%22%20were%20quietly%20ignored%0D%0A%20%20%20%20//%20and%20not%20added%20to%20the%20scope.%20%20Now%20we%20throw%20an%20error.%0D%0A%20%20%20%20assertNotHasOwnProperty%28control.%24name%2C%20%27input%27%29%3B%0D%0A%20%20%20%20controls.push%28control%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28control.%24name%29%20%7B%0D%0A%20%20%20%20%20%20form%5Bcontrol.%24name%5D%20%3D%20control%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20Private%20API%3A%20rename%20a%20form%20control%0D%0A%20%20form.%24%24renameControl%20%3D%20function%28control%2C%20newName%29%20%7B%0D%0A%20%20%20%20var%20oldName%20%3D%20control.%24name%3B%0D%0A%0D%0A%20%20%20%20if%20%28form%5BoldName%5D%20%3D%3D%3D%20control%29%20%7B%0D%0A%20%20%20%20%20%20delete%20form%5BoldName%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20form%5BnewName%5D%20%3D%20control%3B%0D%0A%20%20%20%20control.%24name%20%3D%20newName%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24removeControl%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Deregister%20a%20control%20from%20the%20form.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Input%20elements%20using%20ngModelController%20do%20this%20automatically%20when%20they%20are%20destroyed.%0D%0A%20%20%20*/%0D%0A%20%20form.%24removeControl%20%3D%20function%28control%29%20%7B%0D%0A%20%20%20%20if%20%28control.%24name%20%26%26%20form%5Bcontrol.%24name%5D%20%3D%3D%3D%20control%29%20%7B%0D%0A%20%20%20%20%20%20delete%20form%5Bcontrol.%24name%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20forEach%28form.%24pending%2C%20function%28value%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20form.%24setValidity%28name%2C%20null%2C%20control%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20forEach%28form.%24error%2C%20function%28value%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20form.%24setValidity%28name%2C%20null%2C%20control%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20forEach%28form.%24%24success%2C%20function%28value%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20form.%24setValidity%28name%2C%20null%2C%20control%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20arrayRemove%28controls%2C%20control%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24setValidity%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20validity%20of%20a%20form%20control.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20will%20also%20propagate%20to%20parent%20forms.%0D%0A%20%20%20*/%0D%0A%20%20addSetValidityMethod%28%7B%0D%0A%20%20%20%20ctrl%3A%20this%2C%0D%0A%20%20%20%20%24element%3A%20element%2C%0D%0A%20%20%20%20set%3A%20function%28object%2C%20property%2C%20controller%29%20%7B%0D%0A%20%20%20%20%20%20var%20list%20%3D%20object%5Bproperty%5D%3B%0D%0A%20%20%20%20%20%20if%20%28%21list%29%20%7B%0D%0A%20%20%20%20%20%20%20%20object%5Bproperty%5D%20%3D%20%5Bcontroller%5D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20index%20%3D%20list.indexOf%28controller%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28index%20%3D%3D%3D%20-1%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20list.push%28controller%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20unset%3A%20function%28object%2C%20property%2C%20controller%29%20%7B%0D%0A%20%20%20%20%20%20var%20list%20%3D%20object%5Bproperty%5D%3B%0D%0A%20%20%20%20%20%20if%20%28%21list%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20arrayRemove%28list%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20if%20%28list.length%20%3D%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20delete%20object%5Bproperty%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20parentForm%3A%20parentForm%2C%0D%0A%20%20%20%20%24animate%3A%20%24animate%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24setDirty%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20form%20to%20a%20dirty%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20add%20the%20%27ng-dirty%27%20class%20and%20set%20the%20form%20to%20a%20dirty%0D%0A%20%20%20*%20state%20%28ng-dirty%20class%29.%20This%20method%20will%20also%20propagate%20to%20parent%20forms.%0D%0A%20%20%20*/%0D%0A%20%20form.%24setDirty%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%24animate.removeClass%28element%2C%20PRISTINE_CLASS%29%3B%0D%0A%20%20%20%20%24animate.addClass%28element%2C%20DIRTY_CLASS%29%3B%0D%0A%20%20%20%20form.%24dirty%20%3D%20true%3B%0D%0A%20%20%20%20form.%24pristine%20%3D%20false%3B%0D%0A%20%20%20%20parentForm.%24setDirty%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24setPristine%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20form%20to%20its%20pristine%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%27ng-dirty%27%20class%20and%20set%20the%20form%20to%20its%20pristine%0D%0A%20%20%20*%20state%20%28ng-pristine%20class%29.%20This%20method%20will%20also%20propagate%20to%20all%20the%20controls%20contained%0D%0A%20%20%20*%20in%20this%20form.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Setting%20a%20form%20back%20to%20a%20pristine%20state%20is%20often%20useful%20when%20we%20want%20to%20%27reuse%27%20a%20form%20after%0D%0A%20%20%20*%20saving%20or%20resetting%20it.%0D%0A%20%20%20*/%0D%0A%20%20form.%24setPristine%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%24animate.setClass%28element%2C%20PRISTINE_CLASS%2C%20DIRTY_CLASS%20+%20%27%20%27%20+%20SUBMITTED_CLASS%29%3B%0D%0A%20%20%20%20form.%24dirty%20%3D%20false%3B%0D%0A%20%20%20%20form.%24pristine%20%3D%20true%3B%0D%0A%20%20%20%20form.%24submitted%20%3D%20false%3B%0D%0A%20%20%20%20forEach%28controls%2C%20function%28control%29%20%7B%0D%0A%20%20%20%20%20%20control.%24setPristine%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24setUntouched%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20form%20to%20its%20untouched%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%27ng-touched%27%20class%20and%20set%20the%20form%20controls%20to%20their%0D%0A%20%20%20*%20untouched%20state%20%28ng-untouched%20class%29.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Setting%20a%20form%20controls%20back%20to%20their%20untouched%20state%20is%20often%20useful%20when%20setting%20the%20form%0D%0A%20%20%20*%20back%20to%20its%20pristine%20state.%0D%0A%20%20%20*/%0D%0A%20%20form.%24setUntouched%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20forEach%28controls%2C%20function%28control%29%20%7B%0D%0A%20%20%20%20%20%20control.%24setUntouched%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20form.FormController%23%24setSubmitted%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20form%20to%20its%20submitted%20state.%0D%0A%20%20%20*/%0D%0A%20%20form.%24setSubmitted%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%24animate.addClass%28element%2C%20SUBMITTED_CLASS%29%3B%0D%0A%20%20%20%20form.%24submitted%20%3D%20true%3B%0D%0A%20%20%20%20parentForm.%24setSubmitted%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngForm%0D%0A%20*%20@restrict%20EAC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Nestable%20alias%20of%20%7B@link%20ng.directive%3Aform%20%60form%60%7D%20directive.%20HTML%0D%0A%20*%20does%20not%20allow%20nesting%20of%20form%20elements.%20It%20is%20useful%20to%20nest%20forms%2C%20for%20example%20if%20the%20validity%20of%20a%0D%0A%20*%20sub-group%20of%20controls%20needs%20to%20be%20determined.%0D%0A%20*%0D%0A%20*%20Note%3A%20the%20purpose%20of%20%60ngForm%60%20is%20to%20group%20controls%2C%0D%0A%20*%20but%20not%20to%20be%20a%20replacement%20for%20the%20%60%3Cform%3E%60%20tag%20with%20all%20of%20its%20capabilities%0D%0A%20*%20%28e.g.%20posting%20to%20the%20server%2C%20...%29.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngForm%7Cname%20Name%20of%20the%20form.%20If%20specified%2C%20the%20form%20controller%20will%20be%20published%20into%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20related%20scope%2C%20under%20this%20name.%0D%0A%20*%0D%0A%20*/%0D%0A%0D%0A%20/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20form%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Directive%20that%20instantiates%0D%0A%20*%20%7B@link%20form.FormController%20FormController%7D.%0D%0A%20*%0D%0A%20*%20If%20the%20%60name%60%20attribute%20is%20specified%2C%20the%20form%20controller%20is%20published%20onto%20the%20current%20scope%20under%0D%0A%20*%20this%20name.%0D%0A%20*%0D%0A%20*%20%23%20Alias%3A%20%7B@link%20ng.directive%3AngForm%20%60ngForm%60%7D%0D%0A%20*%0D%0A%20*%20In%20Angular%2C%20forms%20can%20be%20nested.%20This%20means%20that%20the%20outer%20form%20is%20valid%20when%20all%20of%20the%20child%0D%0A%20*%20forms%20are%20valid%20as%20well.%20However%2C%20browsers%20do%20not%20allow%20nesting%20of%20%60%3Cform%3E%60%20elements%2C%20so%0D%0A%20*%20Angular%20provides%20the%20%7B@link%20ng.directive%3AngForm%20%60ngForm%60%7D%20directive%20which%20behaves%20identically%20to%0D%0A%20*%20%60%3Cform%3E%60%20but%20can%20be%20nested.%20%20This%20allows%20you%20to%20have%20nested%20forms%2C%20which%20is%20very%20useful%20when%0D%0A%20*%20using%20Angular%20validation%20directives%20in%20forms%20that%20are%20dynamically%20generated%20using%20the%0D%0A%20*%20%7B@link%20ng.directive%3AngRepeat%20%60ngRepeat%60%7D%20directive.%20Since%20you%20cannot%20dynamically%20generate%20the%20%60name%60%0D%0A%20*%20attribute%20of%20input%20elements%20using%20interpolation%2C%20you%20have%20to%20wrap%20each%20set%20of%20repeated%20inputs%20in%20an%0D%0A%20*%20%60ngForm%60%20directive%20and%20nest%20these%20in%20an%20outer%20%60form%60%20element.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20CSS%20classes%0D%0A%20*%20%20-%20%60ng-valid%60%20is%20set%20if%20the%20form%20is%20valid.%0D%0A%20*%20%20-%20%60ng-invalid%60%20is%20set%20if%20the%20form%20is%20invalid.%0D%0A%20*%20%20-%20%60ng-pristine%60%20is%20set%20if%20the%20form%20is%20pristine.%0D%0A%20*%20%20-%20%60ng-dirty%60%20is%20set%20if%20the%20form%20is%20dirty.%0D%0A%20*%20%20-%20%60ng-submitted%60%20is%20set%20if%20the%20form%20was%20submitted.%0D%0A%20*%0D%0A%20*%20Keep%20in%20mind%20that%20ngAnimate%20can%20detect%20each%20of%20these%20classes%20when%20added%20and%20removed.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20Submitting%20a%20form%20and%20preventing%20the%20default%20action%0D%0A%20*%0D%0A%20*%20Since%20the%20role%20of%20forms%20in%20client-side%20Angular%20applications%20is%20different%20than%20in%20classical%0D%0A%20*%20roundtrip%20apps%2C%20it%20is%20desirable%20for%20the%20browser%20not%20to%20translate%20the%20form%20submission%20into%20a%20full%0D%0A%20*%20page%20reload%20that%20sends%20the%20data%20to%20the%20server.%20Instead%20some%20javascript%20logic%20should%20be%20triggered%0D%0A%20*%20to%20handle%20the%20form%20submission%20in%20an%20application-specific%20way.%0D%0A%20*%0D%0A%20*%20For%20this%20reason%2C%20Angular%20prevents%20the%20default%20action%20%28form%20submission%20to%20the%20server%29%20unless%20the%0D%0A%20*%20%60%3Cform%3E%60%20element%20has%20an%20%60action%60%20attribute%20specified.%0D%0A%20*%0D%0A%20*%20You%20can%20use%20one%20of%20the%20following%20two%20ways%20to%20specify%20what%20javascript%20method%20should%20be%20called%20when%0D%0A%20*%20a%20form%20is%20submitted%3A%0D%0A%20*%0D%0A%20*%20-%20%7B@link%20ng.directive%3AngSubmit%20ngSubmit%7D%20directive%20on%20the%20form%20element%0D%0A%20*%20-%20%7B@link%20ng.directive%3AngClick%20ngClick%7D%20directive%20on%20the%20first%0D%0A%20%20*%20%20button%20or%20input%20field%20of%20type%20submit%20%28input%5Btype%3Dsubmit%5D%29%0D%0A%20*%0D%0A%20*%20To%20prevent%20double%20execution%20of%20the%20handler%2C%20use%20only%20one%20of%20the%20%7B@link%20ng.directive%3AngSubmit%20ngSubmit%7D%0D%0A%20*%20or%20%7B@link%20ng.directive%3AngClick%20ngClick%7D%20directives.%0D%0A%20*%20This%20is%20because%20of%20the%20following%20form%20submission%20rules%20in%20the%20HTML%20specification%3A%0D%0A%20*%0D%0A%20*%20-%20If%20a%20form%20has%20only%20one%20input%20field%20then%20hitting%20enter%20in%20this%20field%20triggers%20form%20submit%0D%0A%20*%20%28%60ngSubmit%60%29%0D%0A%20*%20-%20if%20a%20form%20has%202+%20input%20fields%20and%20no%20buttons%20or%20input%5Btype%3Dsubmit%5D%20then%20hitting%20enter%0D%0A%20*%20doesn%27t%20trigger%20submit%0D%0A%20*%20-%20if%20a%20form%20has%20one%20or%20more%20input%20fields%20and%20one%20or%20more%20buttons%20or%20input%5Btype%3Dsubmit%5D%20then%0D%0A%20*%20hitting%20enter%20in%20any%20of%20the%20input%20fields%20will%20trigger%20the%20click%20handler%20on%20the%20*first*%20button%20or%0D%0A%20*%20input%5Btype%3Dsubmit%5D%20%28%60ngClick%60%29%20*and*%20a%20submit%20handler%20on%20the%20enclosing%20form%20%28%60ngSubmit%60%29%0D%0A%20*%0D%0A%20*%20Any%20pending%20%60ngModelOptions%60%20changes%20will%20take%20place%20immediately%20when%20an%20enclosing%20form%20is%0D%0A%20*%20submitted.%20Note%20that%20%60ngClick%60%20events%20will%20occur%20before%20the%20model%20is%20updated.%20Use%20%60ngSubmit%60%0D%0A%20*%20to%20have%20access%20to%20the%20updated%20model.%0D%0A%20*%0D%0A%20*%20%23%23%20Animation%20Hooks%0D%0A%20*%0D%0A%20*%20Animations%20in%20ngForm%20are%20triggered%20when%20any%20of%20the%20associated%20CSS%20classes%20are%20added%20and%20removed.%0D%0A%20*%20These%20classes%20are%3A%20%60.ng-pristine%60%2C%20%60.ng-dirty%60%2C%20%60.ng-invalid%60%20and%20%60.ng-valid%60%20as%20well%20as%20any%0D%0A%20*%20other%20validations%20that%20are%20performed%20within%20the%20form.%20Animations%20in%20ngForm%20are%20similar%20to%20how%0D%0A%20*%20they%20work%20in%20ngClass%20and%20animations%20can%20be%20hooked%20into%20using%20CSS%20transitions%2C%20keyframes%20as%20well%0D%0A%20*%20as%20JS%20animations.%0D%0A%20*%0D%0A%20*%20The%20following%20example%20shows%20a%20simple%20way%20to%20utilize%20CSS%20transitions%20to%20style%20a%20form%20element%0D%0A%20*%20that%20has%20been%20rendered%20as%20invalid%20after%20it%20has%20been%20validated%3A%0D%0A%20*%0D%0A%20*%20%3Cpre%3E%0D%0A%20*%20//be%20sure%20to%20include%20ngAnimate%20as%20a%20module%20to%20hook%20into%20more%0D%0A%20*%20//advanced%20animations%0D%0A%20*%20.my-form%20%7B%0D%0A%20*%20%20%20transition%3A0.5s%20linear%20all%3B%0D%0A%20*%20%20%20background%3A%20white%3B%0D%0A%20*%20%7D%0D%0A%20*%20.my-form.ng-invalid%20%7B%0D%0A%20*%20%20%20background%3A%20red%3B%0D%0A%20*%20%20%20color%3Awhite%3B%0D%0A%20*%20%7D%0D%0A%20*%20%3C/pre%3E%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%20fixBase%3D%22true%22%20module%3D%22formExample%22%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27formExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27FormController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.userType%20%3D%20%27guest%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cstyle%3E%0D%0A%20%20%20%20%20%20%20%20.my-form%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20.my-form.ng-invalid%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20background%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%3C/style%3E%0D%0A%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22FormController%22%20class%3D%22my-form%22%3E%0D%0A%20%20%20%20%20%20%20%20%20userType%3A%20%3Cinput%20name%3D%22input%22%20ng-model%3D%22userType%22%20required%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3ERequired%21%3C/span%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ccode%3EuserType%20%3D%20%7B%7BuserType%7D%7D%3C/code%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ccode%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/code%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ccode%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/code%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ccode%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/code%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ccode%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/code%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20userType%20%3D%20element%28by.binding%28%27userType%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28userType.getText%28%29%29.toContain%28%27guest%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20userType%20%3D%20element%28by.binding%28%27userType%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20userInput%20%3D%20element%28by.model%28%27userType%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20userInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20userInput.sendKeys%28%27%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28userType.getText%28%29%29.toEqual%28%27userType%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%3D%7D%20name%20Name%20of%20the%20form.%20If%20specified%2C%20the%20form%20controller%20will%20be%20published%20into%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20related%20scope%2C%20under%20this%20name.%0D%0A%20*/%0D%0Avar%20formDirectiveFactory%20%3D%20function%28isNgForm%29%20%7B%0D%0A%20%20return%20%5B%27%24timeout%27%2C%20function%28%24timeout%29%20%7B%0D%0A%20%20%20%20var%20formDirective%20%3D%20%7B%0D%0A%20%20%20%20%20%20name%3A%20%27form%27%2C%0D%0A%20%20%20%20%20%20restrict%3A%20isNgForm%20%3F%20%27EAC%27%20%3A%20%27E%27%2C%0D%0A%20%20%20%20%20%20controller%3A%20FormController%2C%0D%0A%20%20%20%20%20%20compile%3A%20function%20ngFormCompile%28formElement%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Setup%20initial%20state%20of%20the%20control%0D%0A%20%20%20%20%20%20%20%20formElement.addClass%28PRISTINE_CLASS%29.addClass%28VALID_CLASS%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20nameAttr%20%3D%20attr.name%20%3F%20%27name%27%20%3A%20%28isNgForm%20%26%26%20attr.ngForm%20%3F%20%27ngForm%27%20%3A%20false%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20pre%3A%20function%20ngFormPreLink%28scope%2C%20formElement%2C%20attr%2C%20controller%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20%60action%60%20attr%20is%20not%20present%20on%20the%20form%2C%20prevent%20the%20default%20action%20%28submission%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%28%27action%27%20in%20attr%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20can%27t%20use%20jq%20events%20because%20if%20a%20form%20is%20destroyed%20during%20submission%20the%20default%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20action%20is%20not%20prevented.%20see%20%231238%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20IE%209%20is%20not%20affected%20because%20it%20doesn%27t%20fire%20a%20submit%20event%20and%20try%20to%20do%20a%20full%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20page%20reload%20if%20the%20form%20was%20destroyed%20by%20submission%20of%20the%20form%20via%20a%20click%20handler%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20on%20a%20button%20in%20the%20form.%20Looks%20like%20an%20IE9%20specific%20bug.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20handleFormSubmission%20%3D%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24apply%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller.%24commitViewValue%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller.%24setSubmitted%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addEventListenerFn%28formElement%5B0%5D%2C%20%27submit%27%2C%20handleFormSubmission%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20unregister%20the%20preventDefault%20listener%20so%20that%20we%20don%27t%20not%20leak%20memory%20but%20in%20a%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20way%20that%20will%20achieve%20the%20prevention%20of%20the%20default%20action.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20formElement.on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24timeout%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEventListenerFn%28formElement%5B0%5D%2C%20%27submit%27%2C%20handleFormSubmission%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%200%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20parentFormCtrl%20%3D%20controller.%24%24parentForm%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nameAttr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setter%28scope%2C%20controller.%24name%2C%20controller%2C%20controller.%24name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr.%24observe%28nameAttr%2C%20function%28newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28controller.%24name%20%3D%3D%3D%20newValue%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setter%28scope%2C%20controller.%24name%2C%20undefined%2C%20controller.%24name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parentFormCtrl.%24%24renameControl%28controller%2C%20newValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setter%28scope%2C%20controller.%24name%2C%20controller%2C%20controller.%24name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20formElement.on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20parentFormCtrl.%24removeControl%28controller%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nameAttr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setter%28scope%2C%20attr%5BnameAttr%5D%2C%20undefined%2C%20controller.%24name%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20extend%28controller%2C%20nullFormCtrl%29%3B%20//stop%20propagating%20child%20destruction%20handlers%20upwards%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20formDirective%3B%0D%0A%20%20%7D%5D%3B%0D%0A%7D%3B%0D%0A%0D%0Avar%20formDirective%20%3D%20formDirectiveFactory%28%29%3B%0D%0Avar%20ngFormDirective%20%3D%20formDirectiveFactory%28true%29%3B%0D%0A%0D%0A/*%20global%20VALID_CLASS%3A%20false%2C%0D%0A%20%20INVALID_CLASS%3A%20false%2C%0D%0A%20%20PRISTINE_CLASS%3A%20false%2C%0D%0A%20%20DIRTY_CLASS%3A%20false%2C%0D%0A%20%20UNTOUCHED_CLASS%3A%20false%2C%0D%0A%20%20TOUCHED_CLASS%3A%20false%2C%0D%0A%20%20%24ngModelMinErr%3A%20false%2C%0D%0A*/%0D%0A%0D%0A//%20Regex%20code%20is%20obtained%20from%20SO%3A%20https%3A//stackoverflow.com/questions/3143070/javascript-regex-iso-datetime%23answer-3143231%0D%0Avar%20ISO_DATE_REGEXP%20%3D%20/%5Cd%7B4%7D-%5B01%5D%5Cd-%5B0-3%5D%5CdT%5B0-2%5D%5Cd%3A%5B0-5%5D%5Cd%3A%5B0-5%5D%5Cd%5C.%5Cd+%28%5B+-%5D%5B0-2%5D%5Cd%3A%5B0-5%5D%5Cd%7CZ%29/%3B%0D%0Avar%20URL_REGEXP%20%3D%20/%5E%28ftp%7Chttp%7Chttps%29%3A%5C/%5C/%28%5Cw+%3A%7B0%2C1%7D%5Cw*@%29%3F%28%5CS+%29%28%3A%5B0-9%5D+%29%3F%28%5C/%7C%5C/%28%5B%5Cw%23%21%3A.%3F+%3D%26%25@%21%5C-%5C/%5D%29%29%3F%24/%3B%0D%0Avar%20EMAIL_REGEXP%20%3D%20/%5E%5Ba-z0-9%21%23%24%25%26%27*+%5C/%3D%3F%5E_%60%7B%7C%7D%7E.-%5D+@%5Ba-z0-9%5D%28%5Ba-z0-9-%5D*%5Ba-z0-9%5D%29%3F%28%5C.%5Ba-z0-9%5D%28%5Ba-z0-9-%5D*%5Ba-z0-9%5D%29%3F%29*%24/i%3B%0D%0Avar%20NUMBER_REGEXP%20%3D%20/%5E%5Cs*%28%5C-%7C%5C+%29%3F%28%5Cd+%7C%28%5Cd*%28%5C.%5Cd*%29%29%29%5Cs*%24/%3B%0D%0Avar%20DATE_REGEXP%20%3D%20/%5E%28%5Cd%7B4%7D%29-%28%5Cd%7B2%7D%29-%28%5Cd%7B2%7D%29%24/%3B%0D%0Avar%20DATETIMELOCAL_REGEXP%20%3D%20/%5E%28%5Cd%7B4%7D%29-%28%5Cd%5Cd%29-%28%5Cd%5Cd%29T%28%5Cd%5Cd%29%3A%28%5Cd%5Cd%29%28%3F%3A%3A%28%5Cd%5Cd%29%28%5C.%5Cd%7B1%2C3%7D%29%3F%29%3F%24/%3B%0D%0Avar%20WEEK_REGEXP%20%3D%20/%5E%28%5Cd%7B4%7D%29-W%28%5Cd%5Cd%29%24/%3B%0D%0Avar%20MONTH_REGEXP%20%3D%20/%5E%28%5Cd%7B4%7D%29-%28%5Cd%5Cd%29%24/%3B%0D%0Avar%20TIME_REGEXP%20%3D%20/%5E%28%5Cd%5Cd%29%3A%28%5Cd%5Cd%29%28%3F%3A%3A%28%5Cd%5Cd%29%28%5C.%5Cd%7B1%2C3%7D%29%3F%29%3F%24/%3B%0D%0A%0D%0Avar%20inputType%20%3D%20%7B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Btext%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Standard%20HTML%20text%20input%20with%20angular%20data%20binding%2C%20inherited%20by%20most%20of%20the%20%60input%60%20elements.%0D%0A%20%20%20*%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Adds%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20%20%20*%20%20%20%20minlength.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20%20%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%0D%0A%20%20%20*%20%20%20%20any%20length.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20pattern%20Similar%20to%20%60ngPattern%60%20except%20that%20the%20attribute%20value%20is%20the%20actual%20string%0D%0A%20%20%20*%20%20%20%20that%20contains%20the%20regular%20expression%20body%20that%20will%20be%20converted%20to%20a%20regular%20expression%0D%0A%20%20%20*%20%20%20%20as%20in%20the%20ngPattern%20directive.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20%20%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20%20%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20%20%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20%20%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20%20%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20%20%20*%20%20%20%20account.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%20@param%20%7Bboolean%3D%7D%20%5BngTrim%3Dtrue%5D%20If%20set%20to%20false%20Angular%20will%20not%20automatically%20trim%20the%20input.%0D%0A%20%20%20*%20%20%20%20This%20parameter%20is%20ignored%20for%20input%5Btype%3Dpassword%5D%20controls%2C%20which%20will%20never%20trim%20the%0D%0A%20%20%20*%20%20%20%20input.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22text-input-directive%22%20module%3D%22textInputExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27textInputExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%27guest%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20word%3A%20/%5E%5Cs*%5Cw*%5Cs*%24/%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3ESingle%20word%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22input%22%20ng-model%3D%22example.text%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-pattern%3D%22example.word%22%20required%20ng-trim%3D%22false%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.pattern%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Single%20word%20only%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Etext%20%3D%20%7B%7Bexample.text%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20var%20text%20%3D%20element%28by.binding%28%27example.text%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.text%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toContain%28%27guest%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toEqual%28%27text%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20multi%20word%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27hello%20world%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27text%27%3A%20textInputType%2C%0D%0A%0D%0A%20%20%20%20/**%0D%0A%20%20%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20%20%20*%20@name%20input%5Bdate%5D%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@description%0D%0A%20%20%20%20%20*%20Input%20with%20date%20validation%20and%20transformation.%20In%20browsers%20that%20do%20not%20yet%20support%0D%0A%20%20%20%20%20*%20the%20HTML5%20date%20input%2C%20a%20text%20element%20will%20be%20used.%20In%20that%20case%2C%20text%20must%20be%20entered%20in%20a%20valid%20ISO-8601%0D%0A%20%20%20%20%20*%20date%20format%20%28yyyy-MM-dd%29%2C%20for%20example%3A%20%602009-01-06%60.%20Since%20many%0D%0A%20%20%20%20%20*%20modern%20browsers%20do%20not%20yet%20support%20this%20input%20type%2C%20it%20is%20important%20to%20provide%20cues%20to%20users%20on%20the%0D%0A%20%20%20%20%20*%20expected%20input%20format%20via%20a%20placeholder%20or%20label.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20model%20must%20always%20be%20a%20Date%20object%2C%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20%20%20*%20Invalid%20%60Date%60%20objects%20%28dates%20whose%20%60getTime%28%29%60%20is%20%60NaN%60%29%20will%20be%20rendered%20as%20an%20empty%20string.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20The%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20can%20be%20defined%20using%0D%0A%20%20%20%20%20*%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D.%20By%20default%2C%20this%20is%20the%20timezone%20of%20the%20browser.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%20This%20must%20be%20a%0D%0A%20%20%20%20%20*%20valid%20ISO%20date%20string%20%28yyyy-MM-dd%29.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%20This%20must%20be%0D%0A%20%20%20%20%20*%20a%20valid%20ISO%20date%20string%20%28yyyy-MM-dd%29.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20@example%0D%0A%20%20%20%20%20%3Cexample%20name%3D%22date-input-directive%22%20module%3D%22dateInputExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20angular.module%28%27dateInputExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27DateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20new%20Date%282013%2C%209%2C%2022%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22DateController%20as%20dateCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22exampleInput%22%3EPick%20a%20date%20in%202013%3A%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22date%22%20id%3D%22exampleInput%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22yyyy-MM-dd%22%20min%3D%222013-01-01%22%20max%3D%222013-12-31%22%20required%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.date%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20a%20valid%20date%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%20%7C%20date%3A%20%22yyyy-MM-dd%22%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%20%7C%20date%3A%20%22yyyy-MM-dd%22%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20currently%20protractor/webdriver%20does%20not%20support%0D%0A%20%20%20%20%20%20%20%20//%20sending%20keys%20to%20all%20known%20HTML5%20input%20controls%0D%0A%20%20%20%20%20%20%20%20//%20for%20various%20browsers%20%28see%20https%3A//github.com/angular/protractor/issues/562%29.%0D%0A%20%20%20%20%20%20%20%20function%20setInput%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20set%20the%20value%20of%20the%20element%20and%20force%20validation.%0D%0A%20%20%20%20%20%20%20%20%20%20var%20scr%20%3D%20%22var%20ipt%20%3D%20document.getElementById%28%27exampleInput%27%29%3B%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%22ipt.value%20%3D%20%27%22%20+%20val%20+%20%22%27%3B%22%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%22angular.element%28ipt%29.scope%28%29.%24apply%28function%28s%29%20%7B%20s.myForm%5Bipt.name%5D.%24setViewValue%28%27%22%20+%20val%20+%20%22%27%29%3B%20%7D%29%3B%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20browser.executeScript%28scr%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%272013-10-22%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20setInput%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20setInput%28%272015-01-01%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20%20%20*/%0D%0A%20%20%27date%27%3A%20createDateInputType%28%27date%27%2C%20DATE_REGEXP%2C%0D%0A%20%20%20%20%20%20%20%20%20createDateParser%28DATE_REGEXP%2C%20%5B%27yyyy%27%2C%20%27MM%27%2C%20%27dd%27%5D%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%27yyyy-MM-dd%27%29%2C%0D%0A%0D%0A%20%20%20/**%0D%0A%20%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20%20*%20@name%20input%5Bdatetime-local%5D%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@description%0D%0A%20%20%20%20*%20Input%20with%20datetime%20validation%20and%20transformation.%20In%20browsers%20that%20do%20not%20yet%20support%0D%0A%20%20%20%20*%20the%20HTML5%20date%20input%2C%20a%20text%20element%20will%20be%20used.%20In%20that%20case%2C%20the%20text%20must%20be%20entered%20in%20a%20valid%20ISO-8601%0D%0A%20%20%20%20*%20local%20datetime%20format%20%28yyyy-MM-ddTHH%3Amm%3Ass%29%2C%20for%20example%3A%20%602010-12-28T14%3A57%3A00%60.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20The%20model%20must%20always%20be%20a%20Date%20object%2C%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20%20*%20Invalid%20%60Date%60%20objects%20%28dates%20whose%20%60getTime%28%29%60%20is%20%60NaN%60%29%20will%20be%20rendered%20as%20an%20empty%20string.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20The%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20can%20be%20defined%20using%0D%0A%20%20%20%20*%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D.%20By%20default%2C%20this%20is%20the%20timezone%20of%20the%20browser.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%20This%20must%20be%20a%0D%0A%20%20%20%20*%20valid%20ISO%20datetime%20format%20%28yyyy-MM-ddTHH%3Amm%3Ass%29.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%20This%20must%20be%0D%0A%20%20%20%20*%20a%20valid%20ISO%20datetime%20format%20%28yyyy-MM-ddTHH%3Amm%3Ass%29.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@example%0D%0A%20%20%20%20%3Cexample%20name%3D%22datetimelocal-input-directive%22%20module%3D%22dateExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20angular.module%28%27dateExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20.controller%28%27DateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20new%20Date%282010%2C%2011%2C%2028%2C%2014%2C%2057%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22DateController%20as%20dateCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22exampleInput%22%3EPick%20a%20date%20between%20in%202013%3A%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22datetime-local%22%20id%3D%22exampleInput%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22yyyy-MM-ddTHH%3Amm%3Ass%22%20min%3D%222001-01-01T00%3A00%3A00%22%20max%3D%222013-12-31T00%3A00%3A00%22%20required%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.datetimelocal%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20a%20valid%20date%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%20%7C%20date%3A%20%22yyyy-MM-ddTHH%3Amm%3Ass%22%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%20%7C%20date%3A%20%22yyyy-MM-ddTHH%3Amm%3Ass%22%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20currently%20protractor/webdriver%20does%20not%20support%0D%0A%20%20%20%20%20%20//%20sending%20keys%20to%20all%20known%20HTML5%20input%20controls%0D%0A%20%20%20%20%20%20//%20for%20various%20browsers%20%28https%3A//github.com/angular/protractor/issues/562%29.%0D%0A%20%20%20%20%20%20function%20setInput%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20set%20the%20value%20of%20the%20element%20and%20force%20validation.%0D%0A%20%20%20%20%20%20%20%20var%20scr%20%3D%20%22var%20ipt%20%3D%20document.getElementById%28%27exampleInput%27%29%3B%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%22ipt.value%20%3D%20%27%22%20+%20val%20+%20%22%27%3B%22%20+%0D%0A%20%20%20%20%20%20%20%20%22angular.element%28ipt%29.scope%28%29.%24apply%28function%28s%29%20%7B%20s.myForm%5Bipt.name%5D.%24setViewValue%28%27%22%20+%20val%20+%20%22%27%29%3B%20%7D%29%3B%22%3B%0D%0A%20%20%20%20%20%20%20%20browser.executeScript%28scr%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%272010-12-28T14%3A57%3A00%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20true%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%272015-01-01T23%3A59%3A00%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20%20%20%20*/%0D%0A%20%20%27datetime-local%27%3A%20createDateInputType%28%27datetimelocal%27%2C%20DATETIMELOCAL_REGEXP%2C%0D%0A%20%20%20%20%20%20createDateParser%28DATETIMELOCAL_REGEXP%2C%20%5B%27yyyy%27%2C%20%27MM%27%2C%20%27dd%27%2C%20%27HH%27%2C%20%27mm%27%2C%20%27ss%27%2C%20%27sss%27%5D%29%2C%0D%0A%20%20%20%20%20%20%27yyyy-MM-ddTHH%3Amm%3Ass.sss%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Btime%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Input%20with%20time%20validation%20and%20transformation.%20In%20browsers%20that%20do%20not%20yet%20support%0D%0A%20%20%20*%20the%20HTML5%20date%20input%2C%20a%20text%20element%20will%20be%20used.%20In%20that%20case%2C%20the%20text%20must%20be%20entered%20in%20a%20valid%20ISO-8601%0D%0A%20%20%20*%20local%20time%20format%20%28HH%3Amm%3Ass%29%2C%20for%20example%3A%20%6014%3A57%3A00%60.%20Model%20must%20be%20a%20Date%20object.%20This%20binding%20will%20always%20output%20a%0D%0A%20%20%20*%20Date%20object%20to%20the%20model%20of%20January%201%2C%201970%2C%20or%20local%20date%20%60new%20Date%281970%2C%200%2C%201%2C%20HH%2C%20mm%2C%20ss%29%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20model%20must%20always%20be%20a%20Date%20object%2C%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20*%20Invalid%20%60Date%60%20objects%20%28dates%20whose%20%60getTime%28%29%60%20is%20%60NaN%60%29%20will%20be%20rendered%20as%20an%20empty%20string.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20can%20be%20defined%20using%0D%0A%20%20%20*%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D.%20By%20default%2C%20this%20is%20the%20timezone%20of%20the%20browser.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%20This%20must%20be%20a%0D%0A%20%20%20*%20valid%20ISO%20time%20format%20%28HH%3Amm%3Ass%29.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%20This%20must%20be%20a%0D%0A%20%20%20*%20valid%20ISO%20time%20format%20%28HH%3Amm%3Ass%29.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%3Cexample%20name%3D%22time-input-directive%22%20module%3D%22timeExample%22%3E%0D%0A%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20angular.module%28%27timeExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27DateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20new%20Date%281970%2C%200%2C%201%2C%2014%2C%2057%2C%200%29%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22DateController%20as%20dateCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22exampleInput%22%3EPick%20a%20between%208am%20and%205pm%3A%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22time%22%20id%3D%22exampleInput%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22HH%3Amm%3Ass%22%20min%3D%2208%3A00%3A00%22%20max%3D%2217%3A00%3A00%22%20required%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.time%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20a%20valid%20date%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%20%7C%20date%3A%20%22HH%3Amm%3Ass%22%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%20%7C%20date%3A%20%22HH%3Amm%3Ass%22%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20currently%20protractor/webdriver%20does%20not%20support%0D%0A%20%20%20%20%20%20//%20sending%20keys%20to%20all%20known%20HTML5%20input%20controls%0D%0A%20%20%20%20%20%20//%20for%20various%20browsers%20%28https%3A//github.com/angular/protractor/issues/562%29.%0D%0A%20%20%20%20%20%20function%20setInput%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20set%20the%20value%20of%20the%20element%20and%20force%20validation.%0D%0A%20%20%20%20%20%20%20%20var%20scr%20%3D%20%22var%20ipt%20%3D%20document.getElementById%28%27exampleInput%27%29%3B%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%22ipt.value%20%3D%20%27%22%20+%20val%20+%20%22%27%3B%22%20+%0D%0A%20%20%20%20%20%20%20%20%22angular.element%28ipt%29.scope%28%29.%24apply%28function%28s%29%20%7B%20s.myForm%5Bipt.name%5D.%24setViewValue%28%27%22%20+%20val%20+%20%22%27%29%3B%20%7D%29%3B%22%3B%0D%0A%20%20%20%20%20%20%20%20browser.executeScript%28scr%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%2714%3A57%3A00%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20true%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%2723%3A59%3A00%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27time%27%3A%20createDateInputType%28%27time%27%2C%20TIME_REGEXP%2C%0D%0A%20%20%20%20%20%20createDateParser%28TIME_REGEXP%2C%20%5B%27HH%27%2C%20%27mm%27%2C%20%27ss%27%2C%20%27sss%27%5D%29%2C%0D%0A%20%20%20%20%20%27HH%3Amm%3Ass.sss%27%29%2C%0D%0A%0D%0A%20%20%20/**%0D%0A%20%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20%20*%20@name%20input%5Bweek%5D%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@description%0D%0A%20%20%20%20*%20Input%20with%20week-of-the-year%20validation%20and%20transformation%20to%20Date.%20In%20browsers%20that%20do%20not%20yet%20support%0D%0A%20%20%20%20*%20the%20HTML5%20week%20input%2C%20a%20text%20element%20will%20be%20used.%20In%20that%20case%2C%20the%20text%20must%20be%20entered%20in%20a%20valid%20ISO-8601%0D%0A%20%20%20%20*%20week%20format%20%28yyyy-W%23%23%29%2C%20for%20example%3A%20%602013-W02%60.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20The%20model%20must%20always%20be%20a%20Date%20object%2C%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20%20*%20Invalid%20%60Date%60%20objects%20%28dates%20whose%20%60getTime%28%29%60%20is%20%60NaN%60%29%20will%20be%20rendered%20as%20an%20empty%20string.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20The%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20can%20be%20defined%20using%0D%0A%20%20%20%20*%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D.%20By%20default%2C%20this%20is%20the%20timezone%20of%20the%20browser.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%20This%20must%20be%20a%0D%0A%20%20%20%20*%20valid%20ISO%20week%20format%20%28yyyy-W%23%23%29.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%20This%20must%20be%0D%0A%20%20%20%20*%20a%20valid%20ISO%20week%20format%20%28yyyy-W%23%23%29.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20%20*%0D%0A%20%20%20%20*%20@example%0D%0A%20%20%20%20%3Cexample%20name%3D%22week-input-directive%22%20module%3D%22weekExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20angular.module%28%27weekExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27DateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20new%20Date%282013%2C%200%2C%203%29%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22DateController%20as%20dateCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3EPick%20a%20date%20between%20in%202013%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22exampleInput%22%20type%3D%22week%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22YYYY-W%23%23%22%20min%3D%222012-W32%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max%3D%222013-W52%22%20required%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.week%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20a%20valid%20date%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%20%7C%20date%3A%20%22yyyy-Www%22%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%20%7C%20date%3A%20%22yyyy-Www%22%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20currently%20protractor/webdriver%20does%20not%20support%0D%0A%20%20%20%20%20%20//%20sending%20keys%20to%20all%20known%20HTML5%20input%20controls%0D%0A%20%20%20%20%20%20//%20for%20various%20browsers%20%28https%3A//github.com/angular/protractor/issues/562%29.%0D%0A%20%20%20%20%20%20function%20setInput%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20set%20the%20value%20of%20the%20element%20and%20force%20validation.%0D%0A%20%20%20%20%20%20%20%20var%20scr%20%3D%20%22var%20ipt%20%3D%20document.getElementById%28%27exampleInput%27%29%3B%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%22ipt.value%20%3D%20%27%22%20+%20val%20+%20%22%27%3B%22%20+%0D%0A%20%20%20%20%20%20%20%20%22angular.element%28ipt%29.scope%28%29.%24apply%28function%28s%29%20%7B%20s.myForm%5Bipt.name%5D.%24setViewValue%28%27%22%20+%20val%20+%20%22%27%29%3B%20%7D%29%3B%22%3B%0D%0A%20%20%20%20%20%20%20%20browser.executeScript%28scr%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%272013-W01%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20true%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%272015-W01%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20%20%20%20*/%0D%0A%20%20%27week%27%3A%20createDateInputType%28%27week%27%2C%20WEEK_REGEXP%2C%20weekParser%2C%20%27yyyy-Www%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Bmonth%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Input%20with%20month%20validation%20and%20transformation.%20In%20browsers%20that%20do%20not%20yet%20support%0D%0A%20%20%20*%20the%20HTML5%20month%20input%2C%20a%20text%20element%20will%20be%20used.%20In%20that%20case%2C%20the%20text%20must%20be%20entered%20in%20a%20valid%20ISO-8601%0D%0A%20%20%20*%20month%20format%20%28yyyy-MM%29%2C%20for%20example%3A%20%602009-01%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20model%20must%20always%20be%20a%20Date%20object%2C%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20*%20Invalid%20%60Date%60%20objects%20%28dates%20whose%20%60getTime%28%29%60%20is%20%60NaN%60%29%20will%20be%20rendered%20as%20an%20empty%20string.%0D%0A%20%20%20*%20If%20the%20model%20is%20not%20set%20to%20the%20first%20of%20the%20month%2C%20the%20next%20view%20to%20model%20update%20will%20set%20it%0D%0A%20%20%20*%20to%20the%20first%20of%20the%20month.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20can%20be%20defined%20using%0D%0A%20%20%20*%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D.%20By%20default%2C%20this%20is%20the%20timezone%20of%20the%20browser.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%20This%20must%20be%0D%0A%20%20%20*%20a%20valid%20ISO%20month%20format%20%28yyyy-MM%29.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%20This%20must%0D%0A%20%20%20*%20be%20a%20valid%20ISO%20month%20format%20%28yyyy-MM%29.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%3Cexample%20name%3D%22month-input-directive%22%20module%3D%22monthExample%22%3E%0D%0A%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20angular.module%28%27monthExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27DateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20new%20Date%282013%2C%209%2C%201%29%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22DateController%20as%20dateCtrl%22%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%20for%3D%22exampleInput%22%3EPick%20a%20month%20in%202013%3A%3C/label%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20id%3D%22exampleInput%22%20type%3D%22month%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20placeholder%3D%22yyyy-MM%22%20min%3D%222013-01%22%20max%3D%222013-12%22%20required%20/%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.month%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Not%20a%20valid%20month%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%20%7C%20date%3A%20%22yyyy-MM%22%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%20%7C%20date%3A%20%22yyyy-MM%22%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20currently%20protractor/webdriver%20does%20not%20support%0D%0A%20%20%20%20%20%20//%20sending%20keys%20to%20all%20known%20HTML5%20input%20controls%0D%0A%20%20%20%20%20%20//%20for%20various%20browsers%20%28https%3A//github.com/angular/protractor/issues/562%29.%0D%0A%20%20%20%20%20%20function%20setInput%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20set%20the%20value%20of%20the%20element%20and%20force%20validation.%0D%0A%20%20%20%20%20%20%20%20var%20scr%20%3D%20%22var%20ipt%20%3D%20document.getElementById%28%27exampleInput%27%29%3B%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%22ipt.value%20%3D%20%27%22%20+%20val%20+%20%22%27%3B%22%20+%0D%0A%20%20%20%20%20%20%20%20%22angular.element%28ipt%29.scope%28%29.%24apply%28function%28s%29%20%7B%20s.myForm%5Bipt.name%5D.%24setViewValue%28%27%22%20+%20val%20+%20%22%27%29%3B%20%7D%29%3B%22%3B%0D%0A%20%20%20%20%20%20%20%20browser.executeScript%28scr%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%272013-10%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20true%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setInput%28%272015-01%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27myForm.input.%24valid%20%3D%20false%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27month%27%3A%20createDateInputType%28%27month%27%2C%20MONTH_REGEXP%2C%0D%0A%20%20%20%20%20createDateParser%28MONTH_REGEXP%2C%20%5B%27yyyy%27%2C%20%27MM%27%5D%29%2C%0D%0A%20%20%20%20%20%27yyyy-MM%27%29%2C%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Bnumber%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Text%20input%20with%20number%20validation%20and%20transformation.%20Sets%20the%20%60number%60%20validation%0D%0A%20%20%20*%20error%20if%20not%20a%20valid%20number.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20*%20The%20model%20must%20always%20be%20of%20type%20%60number%60%20otherwise%20Angular%20will%20throw%20an%20error.%0D%0A%20%20%20*%20Be%20aware%20that%20a%20string%20containing%20a%20number%20is%20not%20enough.%20See%20the%20%7B@link%20ngModel%3Anumfmt%7D%0D%0A%20%20%20*%20error%20docs%20for%20more%20information%20and%20an%20example%20of%20how%20to%20convert%20your%20model%20if%20necessary.%0D%0A%20%20%20*%20%3C/div%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20min%20Sets%20the%20%60min%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20less%20than%20%60min%60.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20max%20Sets%20the%20%60max%60%20validation%20error%20key%20if%20the%20value%20entered%20is%20greater%20than%20%60max%60.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20%20%20*%20%20%20%20minlength.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20%20%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%0D%0A%20%20%20*%20%20%20%20any%20length.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20pattern%20Similar%20to%20%60ngPattern%60%20except%20that%20the%20attribute%20value%20is%20the%20actual%20string%0D%0A%20%20%20*%20%20%20%20that%20contains%20the%20regular%20expression%20body%20that%20will%20be%20converted%20to%20a%20regular%20expression%0D%0A%20%20%20*%20%20%20%20as%20in%20the%20ngPattern%20directive.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20%20%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20%20%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20%20%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20%20%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20%20%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20%20%20*%20%20%20%20account.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22number-input-directive%22%20module%3D%22numberExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27numberExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.example%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%2012%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3ENumber%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20name%3D%22input%22%20ng-model%3D%22example.value%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%3D%220%22%20max%3D%2299%22%20required%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.number%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20valid%20number%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Evalue%20%3D%20%7B%7Bexample.value%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20element%28by.binding%28%27example.value%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27example.value%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toContain%28%2712%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20over%20max%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27123%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value.getText%28%29%29.toEqual%28%27value%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27number%27%3A%20numberInputType%2C%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Burl%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Text%20input%20with%20URL%20validation.%20Sets%20the%20%60url%60%20validation%20error%20key%20if%20the%20content%20is%20not%20a%0D%0A%20%20%20*%20valid%20URL.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20*%20**Note%3A**%20%60input%5Burl%5D%60%20uses%20a%20regex%20to%20validate%20urls%20that%20is%20derived%20from%20the%20regex%0D%0A%20%20%20*%20used%20in%20Chromium.%20If%20you%20need%20stricter%20validation%2C%20you%20can%20use%20%60ng-pattern%60%20or%20modify%0D%0A%20%20%20*%20the%20built-in%20validators%20%28see%20the%20%7B@link%20guide/forms%20Forms%20guide%7D%29%0D%0A%20%20%20*%20%3C/div%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20%20%20*%20%20%20%20minlength.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20%20%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%0D%0A%20%20%20*%20%20%20%20any%20length.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20pattern%20Similar%20to%20%60ngPattern%60%20except%20that%20the%20attribute%20value%20is%20the%20actual%20string%0D%0A%20%20%20*%20%20%20%20that%20contains%20the%20regular%20expression%20body%20that%20will%20be%20converted%20to%20a%20regular%20expression%0D%0A%20%20%20*%20%20%20%20as%20in%20the%20ngPattern%20directive.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20%20%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20%20%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20%20%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20%20%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20%20%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20%20%20*%20%20%20%20account.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22url-input-directive%22%20module%3D%22urlExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27urlExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.url%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%27http%3A//google.com%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EURL%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22url%22%20name%3D%22input%22%20ng-model%3D%22url.text%22%20required%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.url%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20valid%20url%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Etext%20%3D%20%7B%7Burl.text%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.url%20%3D%20%7B%7B%21%21myForm.%24error.url%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20var%20text%20%3D%20element%28by.binding%28%27url.text%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27url.text%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toContain%28%27http%3A//google.com%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toEqual%28%27text%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20not%20url%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27box%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27url%27%3A%20urlInputType%2C%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Bemail%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Text%20input%20with%20email%20validation.%20Sets%20the%20%60email%60%20validation%20error%20key%20if%20not%20a%20valid%20email%0D%0A%20%20%20*%20address.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20%20%20*%20**Note%3A**%20%60input%5Bemail%5D%60%20uses%20a%20regex%20to%20validate%20email%20addresses%20that%20is%20derived%20from%20the%20regex%0D%0A%20%20%20*%20used%20in%20Chromium.%20If%20you%20need%20stricter%20validation%20%28e.g.%20requiring%20a%20top-level%20domain%29%2C%20you%20can%0D%0A%20%20%20*%20use%20%60ng-pattern%60%20or%20modify%20the%20built-in%20validators%20%28see%20the%20%7B@link%20guide/forms%20Forms%20guide%7D%29%0D%0A%20%20%20*%20%3C/div%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20%20%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20%20%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20%20%20*%20%20%20%20minlength.%0D%0A%20%20%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20%20%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%0D%0A%20%20%20*%20%20%20%20any%20length.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20pattern%20Similar%20to%20%60ngPattern%60%20except%20that%20the%20attribute%20value%20is%20the%20actual%20string%0D%0A%20%20%20*%20%20%20%20that%20contains%20the%20regular%20expression%20body%20that%20will%20be%20converted%20to%20a%20regular%20expression%0D%0A%20%20%20*%20%20%20%20as%20in%20the%20ngPattern%20directive.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20%20%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20%20%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20%20%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20%20%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20%20%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20%20%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20%20%20*%20%20%20%20account.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22email-input-directive%22%20module%3D%22emailExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27emailExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.email%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%27me@example.com%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EEmail%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22email%22%20name%3D%22input%22%20ng-model%3D%22email.text%22%20required%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.input.%24error.email%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20valid%20email%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Etext%20%3D%20%7B%7Bemail.text%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24valid%20%3D%20%7B%7BmyForm.input.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.input.%24error%20%3D%20%7B%7BmyForm.input.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.email%20%3D%20%7B%7B%21%21myForm.%24error.email%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20var%20text%20%3D%20element%28by.binding%28%27email.text%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.input.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27email.text%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toContain%28%27me@example.com%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28text.getText%28%29%29.toEqual%28%27text%20%3D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20not%20email%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20input.sendKeys%28%27xxx%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27email%27%3A%20emailInputType%2C%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Bradio%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20HTML%20radio%20button.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20value%20The%20value%20to%20which%20the%20expression%20should%20be%20set%20when%20selected.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngValue%20Angular%20expression%20which%20sets%20the%20value%20to%20which%20the%20expression%20should%0D%0A%20%20%20*%20%20%20%20be%20set%20when%20selected.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22radio-input-directive%22%20module%3D%22radioExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27radioExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.color%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%27blue%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.specialValue%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22id%22%3A%20%2212345%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%20%22green%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20ng-model%3D%22color.name%22%20value%3D%22red%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Red%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20ng-model%3D%22color.name%22%20ng-value%3D%22specialValue%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Green%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20ng-model%3D%22color.name%22%20value%3D%22blue%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20Blue%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Ecolor%20%3D%20%7B%7Bcolor.name%20%7C%20json%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%20%20Note%20that%20%60ng-value%3D%22specialValue%22%60%20sets%20radio%20item%27s%20value%20to%20be%20the%20value%20of%20%60%24scope.specialValue%60.%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20change%20state%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20color%20%3D%20element%28by.binding%28%27color.name%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28color.getText%28%29%29.toContain%28%27blue%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20element.all%28by.model%28%27color.name%27%29%29.get%280%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28color.getText%28%29%29.toContain%28%27red%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27radio%27%3A%20radioInputType%2C%0D%0A%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20input%0D%0A%20%20%20*%20@name%20input%5Bcheckbox%5D%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20HTML%20checkbox.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20%20%20*%20@param%20%7Bexpression%3D%7D%20ngTrueValue%20The%20value%20to%20which%20the%20expression%20should%20be%20set%20when%20selected.%0D%0A%20%20%20*%20@param%20%7Bexpression%3D%7D%20ngFalseValue%20The%20value%20to%20which%20the%20expression%20should%20be%20set%20when%20not%20selected.%0D%0A%20%20%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20%20%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@example%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22checkbox-input-directive%22%20module%3D%22checkboxExample%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27checkboxExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.checkboxModel%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value1%20%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value2%20%3A%20%27YES%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EValue1%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checkboxModel.value1%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EValue2%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checkboxModel.value2%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-true-value%3D%22%27YES%27%22%20ng-false-value%3D%22%27NO%27%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Evalue1%20%3D%20%7B%7BcheckboxModel.value1%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Ctt%3Evalue2%20%3D%20%7B%7BcheckboxModel.value2%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20change%20state%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20value1%20%3D%20element%28by.binding%28%27checkboxModel.value1%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20value2%20%3D%20element%28by.binding%28%27checkboxModel.value2%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value1.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value2.getText%28%29%29.toContain%28%27YES%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27checkboxModel.value1%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20element%28by.model%28%27checkboxModel.value2%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value1.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28value2.getText%28%29%29.toContain%28%27NO%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20%27checkbox%27%3A%20checkboxInputType%2C%0D%0A%0D%0A%20%20%27hidden%27%3A%20noop%2C%0D%0A%20%20%27button%27%3A%20noop%2C%0D%0A%20%20%27submit%27%3A%20noop%2C%0D%0A%20%20%27reset%27%3A%20noop%2C%0D%0A%20%20%27file%27%3A%20noop%0D%0A%7D%3B%0D%0A%0D%0Afunction%20stringBasedInputType%28ctrl%29%20%7B%0D%0A%20%20ctrl.%24formatters.push%28function%28value%29%20%7B%0D%0A%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%3F%20value%20%3A%20value.toString%28%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20textInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%20%7B%0D%0A%20%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%3B%0D%0A%20%20stringBasedInputType%28ctrl%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%20%7B%0D%0A%20%20var%20type%20%3D%20lowercase%28element%5B0%5D.type%29%3B%0D%0A%0D%0A%20%20//%20In%20composition%20mode%2C%20users%20are%20still%20inputing%20intermediate%20text%20buffer%2C%0D%0A%20%20//%20hold%20the%20listener%20until%20composition%20is%20done.%0D%0A%20%20//%20More%20about%20composition%20events%3A%20https%3A//developer.mozilla.org/en-US/docs/Web/API/CompositionEvent%0D%0A%20%20if%20%28%21%24sniffer.android%29%20%7B%0D%0A%20%20%20%20var%20composing%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20element.on%28%27compositionstart%27%2C%20function%28data%29%20%7B%0D%0A%20%20%20%20%20%20composing%20%3D%20true%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20element.on%28%27compositionend%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20composing%20%3D%20false%3B%0D%0A%20%20%20%20%20%20listener%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20listener%20%3D%20function%28ev%29%20%7B%0D%0A%20%20%20%20if%20%28timeout%29%20%7B%0D%0A%20%20%20%20%20%20%24browser.defer.cancel%28timeout%29%3B%0D%0A%20%20%20%20%20%20timeout%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28composing%29%20return%3B%0D%0A%20%20%20%20var%20value%20%3D%20element.val%28%29%2C%0D%0A%20%20%20%20%20%20%20%20event%20%3D%20ev%20%26%26%20ev.type%3B%0D%0A%0D%0A%20%20%20%20//%20By%20default%20we%20will%20trim%20the%20value%0D%0A%20%20%20%20//%20If%20the%20attribute%20ng-trim%20exists%20we%20will%20avoid%20trimming%0D%0A%20%20%20%20//%20If%20input%20type%20is%20%27password%27%2C%20the%20value%20is%20never%20trimmed%0D%0A%20%20%20%20if%20%28type%20%21%3D%3D%20%27password%27%20%26%26%20%28%21attr.ngTrim%20%7C%7C%20attr.ngTrim%20%21%3D%3D%20%27false%27%29%29%20%7B%0D%0A%20%20%20%20%20%20value%20%3D%20trim%28value%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20If%20a%20control%20is%20suffering%20from%20bad%20input%20%28due%20to%20native%20validators%29%2C%20browsers%20discard%20its%0D%0A%20%20%20%20//%20value%2C%20so%20it%20may%20be%20necessary%20to%20revalidate%20%28by%20calling%20%24setViewValue%20again%29%20even%20if%20the%0D%0A%20%20%20%20//%20control%27s%20value%20is%20the%20same%20empty%20value%20twice%20in%20a%20row.%0D%0A%20%20%20%20if%20%28ctrl.%24viewValue%20%21%3D%3D%20value%20%7C%7C%20%28value%20%3D%3D%3D%20%27%27%20%26%26%20ctrl.%24%24hasNativeValidators%29%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24setViewValue%28value%2C%20event%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20if%20the%20browser%20does%20support%20%22input%22%20event%2C%20we%20are%20fine%20-%20except%20on%20IE9%20which%20doesn%27t%20fire%20the%0D%0A%20%20//%20input%20event%20on%20backspace%2C%20delete%20or%20cut%0D%0A%20%20if%20%28%24sniffer.hasEvent%28%27input%27%29%29%20%7B%0D%0A%20%20%20%20element.on%28%27input%27%2C%20listener%29%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20var%20timeout%3B%0D%0A%0D%0A%20%20%20%20var%20deferListener%20%3D%20function%28ev%2C%20input%2C%20origValue%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21timeout%29%20%7B%0D%0A%20%20%20%20%20%20%20%20timeout%20%3D%20%24browser.defer%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20timeout%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21input%20%7C%7C%20input.value%20%21%3D%3D%20origValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listener%28ev%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20element.on%28%27keydown%27%2C%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20var%20key%20%3D%20event.keyCode%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20ignore%0D%0A%20%20%20%20%20%20//%20%20%20%20command%20%20%20%20%20%20%20%20%20%20%20%20modifiers%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrows%0D%0A%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%2091%20%7C%7C%20%2815%20%3C%20key%20%26%26%20key%20%3C%2019%29%20%7C%7C%20%2837%20%3C%3D%20key%20%26%26%20key%20%3C%3D%2040%29%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20deferListener%28event%2C%20this%2C%20this.value%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20//%20if%20user%20modifies%20input%20value%20using%20context%20menu%20in%20IE%2C%20we%20need%20%22paste%22%20and%20%22cut%22%20events%20to%20catch%20it%0D%0A%20%20%20%20if%20%28%24sniffer.hasEvent%28%27paste%27%29%29%20%7B%0D%0A%20%20%20%20%20%20element.on%28%27paste%20cut%27%2C%20deferListener%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//%20if%20user%20paste%20into%20input%20using%20mouse%20on%20older%20browser%0D%0A%20%20//%20or%20form%20autocomplete%20on%20newer%20browser%2C%20we%20need%20%22change%22%20event%20to%20catch%20it%0D%0A%20%20element.on%28%27change%27%2C%20listener%29%3B%0D%0A%0D%0A%20%20ctrl.%24render%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20element.val%28ctrl.%24isEmpty%28ctrl.%24viewValue%29%20%3F%20%27%27%20%3A%20ctrl.%24viewValue%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20weekParser%28isoWeek%2C%20existingDate%29%20%7B%0D%0A%20%20if%20%28isDate%28isoWeek%29%29%20%7B%0D%0A%20%20%20%20return%20isoWeek%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28isString%28isoWeek%29%29%20%7B%0D%0A%20%20%20%20WEEK_REGEXP.lastIndex%20%3D%200%3B%0D%0A%20%20%20%20var%20parts%20%3D%20WEEK_REGEXP.exec%28isoWeek%29%3B%0D%0A%20%20%20%20if%20%28parts%29%20%7B%0D%0A%20%20%20%20%20%20var%20year%20%3D%20+parts%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20week%20%3D%20+parts%5B2%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hours%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20minutes%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20seconds%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20milliseconds%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20firstThurs%20%3D%20getFirstThursdayOfYear%28year%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20addDays%20%3D%20%28week%20-%201%29%20*%207%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28existingDate%29%20%7B%0D%0A%20%20%20%20%20%20%20%20hours%20%3D%20existingDate.getHours%28%29%3B%0D%0A%20%20%20%20%20%20%20%20minutes%20%3D%20existingDate.getMinutes%28%29%3B%0D%0A%20%20%20%20%20%20%20%20seconds%20%3D%20existingDate.getSeconds%28%29%3B%0D%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20existingDate.getMilliseconds%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20new%20Date%28year%2C%200%2C%20firstThurs.getDate%28%29%20+%20addDays%2C%20hours%2C%20minutes%2C%20seconds%2C%20milliseconds%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20NaN%3B%0D%0A%7D%0D%0A%0D%0Afunction%20createDateParser%28regexp%2C%20mapping%29%20%7B%0D%0A%20%20return%20function%28iso%2C%20date%29%20%7B%0D%0A%20%20%20%20var%20parts%2C%20map%3B%0D%0A%0D%0A%20%20%20%20if%20%28isDate%28iso%29%29%20%7B%0D%0A%20%20%20%20%20%20return%20iso%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28isString%28iso%29%29%20%7B%0D%0A%20%20%20%20%20%20//%20When%20a%20date%20is%20JSON%27ified%20to%20wraps%20itself%20inside%20of%20an%20extra%0D%0A%20%20%20%20%20%20//%20set%20of%20double%20quotes.%20This%20makes%20the%20date%20parsing%20code%20unable%0D%0A%20%20%20%20%20%20//%20to%20match%20the%20date%20string%20and%20parse%20it%20as%20a%20date.%0D%0A%20%20%20%20%20%20if%20%28iso.charAt%280%29%20%3D%3D%20%27%22%27%20%26%26%20iso.charAt%28iso.length%20-%201%29%20%3D%3D%20%27%22%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20iso%20%3D%20iso.substring%281%2C%20iso.length%20-%201%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28ISO_DATE_REGEXP.test%28iso%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20new%20Date%28iso%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20regexp.lastIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20parts%20%3D%20regexp.exec%28iso%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28parts%29%20%7B%0D%0A%20%20%20%20%20%20%20%20parts.shift%28%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28date%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20map%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20yyyy%3A%20date.getFullYear%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20MM%3A%20date.getMonth%28%29%20+%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dd%3A%20date.getDate%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20HH%3A%20date.getHours%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20mm%3A%20date.getMinutes%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ss%3A%20date.getSeconds%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sss%3A%20date.getMilliseconds%28%29%20/%201000%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20map%20%3D%20%7B%20yyyy%3A%201970%2C%20MM%3A%201%2C%20dd%3A%201%2C%20HH%3A%200%2C%20mm%3A%200%2C%20ss%3A%200%2C%20sss%3A%200%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20forEach%28parts%2C%20function%28part%2C%20index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3C%20mapping.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20map%5Bmapping%5Bindex%5D%5D%20%3D%20+part%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20new%20Date%28map.yyyy%2C%20map.MM%20-%201%2C%20map.dd%2C%20map.HH%2C%20map.mm%2C%20map.ss%20%7C%7C%200%2C%20map.sss%20*%201000%20%7C%7C%200%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20NaN%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20createDateInputType%28type%2C%20regexp%2C%20parseDate%2C%20format%29%20%7B%0D%0A%20%20return%20function%20dynamicDateInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%2C%20%24filter%29%20%7B%0D%0A%20%20%20%20badInputChecker%28scope%2C%20element%2C%20attr%2C%20ctrl%29%3B%0D%0A%20%20%20%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%3B%0D%0A%20%20%20%20var%20timezone%20%3D%20ctrl%20%26%26%20ctrl.%24options%20%26%26%20ctrl.%24options.timezone%3B%0D%0A%20%20%20%20var%20previousDate%3B%0D%0A%0D%0A%20%20%20%20ctrl.%24%24parserName%20%3D%20type%3B%0D%0A%20%20%20%20ctrl.%24parsers.push%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28ctrl.%24isEmpty%28value%29%29%20return%20null%3B%0D%0A%20%20%20%20%20%20if%20%28regexp.test%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Note%3A%20We%20cannot%20read%20ctrl.%24modelValue%2C%20as%20there%20might%20be%20a%20different%0D%0A%20%20%20%20%20%20%20%20//%20parser/formatter%20in%20the%20processing%20chain%20so%20that%20the%20model%0D%0A%20%20%20%20%20%20%20%20//%20contains%20some%20different%20data%20format%21%0D%0A%20%20%20%20%20%20%20%20var%20parsedDate%20%3D%20parseDate%28value%2C%20previousDate%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28timezone%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parsedDate%20%3D%20convertTimezoneToLocal%28parsedDate%2C%20timezone%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20parsedDate%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20undefined%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20ctrl.%24formatters.push%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28value%20%26%26%20%21isDate%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24ngModelMinErr%28%27datefmt%27%2C%20%27Expected%20%60%7B0%7D%60%20to%20be%20a%20date%27%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28isValidDate%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20previousDate%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28previousDate%20%26%26%20timezone%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20previousDate%20%3D%20convertTimezoneToLocal%28previousDate%2C%20timezone%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20%24filter%28%27date%27%29%28value%2C%20format%2C%20timezone%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20previousDate%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%20%27%27%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20if%20%28isDefined%28attr.min%29%20%7C%7C%20attr.ngMin%29%20%7B%0D%0A%20%20%20%20%20%20var%20minVal%3B%0D%0A%20%20%20%20%20%20ctrl.%24validators.min%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%21isValidDate%28value%29%20%7C%7C%20isUndefined%28minVal%29%20%7C%7C%20parseDate%28value%29%20%3E%3D%20minVal%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20attr.%24observe%28%27min%27%2C%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20minVal%20%3D%20parseObservedDateValue%28val%29%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20%28isDefined%28attr.max%29%20%7C%7C%20attr.ngMax%29%20%7B%0D%0A%20%20%20%20%20%20var%20maxVal%3B%0D%0A%20%20%20%20%20%20ctrl.%24validators.max%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%21isValidDate%28value%29%20%7C%7C%20isUndefined%28maxVal%29%20%7C%7C%20parseDate%28value%29%20%3C%3D%20maxVal%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20attr.%24observe%28%27max%27%2C%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20%20%20maxVal%20%3D%20parseObservedDateValue%28val%29%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20isValidDate%28value%29%20%7B%0D%0A%20%20%20%20%20%20//%20Invalid%20Date%3A%20getTime%28%29%20returns%20NaN%0D%0A%20%20%20%20%20%20return%20value%20%26%26%20%21%28value.getTime%20%26%26%20value.getTime%28%29%20%21%3D%3D%20value.getTime%28%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20parseObservedDateValue%28val%29%20%7B%0D%0A%20%20%20%20%20%20return%20isDefined%28val%29%20%3F%20%28isDate%28val%29%20%3F%20val%20%3A%20parseDate%28val%29%29%20%3A%20undefined%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20badInputChecker%28scope%2C%20element%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20var%20node%20%3D%20element%5B0%5D%3B%0D%0A%20%20var%20nativeValidation%20%3D%20ctrl.%24%24hasNativeValidators%20%3D%20isObject%28node.validity%29%3B%0D%0A%20%20if%20%28nativeValidation%29%20%7B%0D%0A%20%20%20%20ctrl.%24parsers.push%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20var%20validity%20%3D%20element.prop%28VALIDITY_STATE_PROPERTY%29%20%7C%7C%20%7B%7D%3B%0D%0A%20%20%20%20%20%20//%20Detect%20bug%20in%20FF35%20for%20input%5Bemail%5D%20%28https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1064430%29%3A%0D%0A%20%20%20%20%20%20//%20-%20also%20sets%20validity.badInput%20%28should%20only%20be%20validity.typeMismatch%29.%0D%0A%20%20%20%20%20%20//%20-%20see%20http%3A//www.whatwg.org/specs/web-apps/current-work/multipage/forms.html%23e-mail-state-%28type%3Demail%29%0D%0A%20%20%20%20%20%20//%20-%20can%20ignore%20this%20case%20as%20we%20can%20still%20read%20out%20the%20erroneous%20email...%0D%0A%20%20%20%20%20%20return%20validity.badInput%20%26%26%20%21validity.typeMismatch%20%3F%20undefined%20%3A%20value%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20numberInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%20%7B%0D%0A%20%20badInputChecker%28scope%2C%20element%2C%20attr%2C%20ctrl%29%3B%0D%0A%20%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%3B%0D%0A%0D%0A%20%20ctrl.%24%24parserName%20%3D%20%27number%27%3B%0D%0A%20%20ctrl.%24parsers.push%28function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28ctrl.%24isEmpty%28value%29%29%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20if%20%28NUMBER_REGEXP.test%28value%29%29%20return%20parseFloat%28value%29%3B%0D%0A%20%20%20%20return%20undefined%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20ctrl.%24formatters.push%28function%28value%29%20%7B%0D%0A%20%20%20%20if%20%28%21ctrl.%24isEmpty%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21isNumber%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%24ngModelMinErr%28%27numfmt%27%2C%20%27Expected%20%60%7B0%7D%60%20to%20be%20a%20number%27%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20value%20%3D%20value.toString%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20value%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20if%20%28isDefined%28attr.min%29%20%7C%7C%20attr.ngMin%29%20%7B%0D%0A%20%20%20%20var%20minVal%3B%0D%0A%20%20%20%20ctrl.%24validators.min%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%7C%7C%20isUndefined%28minVal%29%20%7C%7C%20value%20%3E%3D%20minVal%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20attr.%24observe%28%27min%27%2C%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28val%29%20%26%26%20%21isNumber%28val%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20val%20%3D%20parseFloat%28val%2C%2010%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20minVal%20%3D%20isNumber%28val%29%20%26%26%20%21isNaN%28val%29%20%3F%20val%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20//%20TODO%28matsko%29%3A%20implement%20validateLater%20to%20reduce%20number%20of%20validations%0D%0A%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20if%20%28isDefined%28attr.max%29%20%7C%7C%20attr.ngMax%29%20%7B%0D%0A%20%20%20%20var%20maxVal%3B%0D%0A%20%20%20%20ctrl.%24validators.max%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%7C%7C%20isUndefined%28maxVal%29%20%7C%7C%20value%20%3C%3D%20maxVal%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20attr.%24observe%28%27max%27%2C%20function%28val%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28isDefined%28val%29%20%26%26%20%21isNumber%28val%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20val%20%3D%20parseFloat%28val%2C%2010%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20maxVal%20%3D%20isNumber%28val%29%20%26%26%20%21isNaN%28val%29%20%3F%20val%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20//%20TODO%28matsko%29%3A%20implement%20validateLater%20to%20reduce%20number%20of%20validations%0D%0A%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20urlInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%20%7B%0D%0A%20%20//%20Note%3A%20no%20badInputChecker%20here%20by%20purpose%20as%20%60url%60%20is%20only%20a%20validation%0D%0A%20%20//%20in%20browsers%2C%20i.e.%20we%20can%20always%20read%20out%20input.value%20even%20if%20it%20is%20not%20valid%21%0D%0A%20%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%3B%0D%0A%20%20stringBasedInputType%28ctrl%29%3B%0D%0A%0D%0A%20%20ctrl.%24%24parserName%20%3D%20%27url%27%3B%0D%0A%20%20ctrl.%24validators.url%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20modelValue%20%7C%7C%20viewValue%3B%0D%0A%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%7C%7C%20URL_REGEXP.test%28value%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20emailInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%20%7B%0D%0A%20%20//%20Note%3A%20no%20badInputChecker%20here%20by%20purpose%20as%20%60url%60%20is%20only%20a%20validation%0D%0A%20%20//%20in%20browsers%2C%20i.e.%20we%20can%20always%20read%20out%20input.value%20even%20if%20it%20is%20not%20valid%21%0D%0A%20%20baseInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%29%3B%0D%0A%20%20stringBasedInputType%28ctrl%29%3B%0D%0A%0D%0A%20%20ctrl.%24%24parserName%20%3D%20%27email%27%3B%0D%0A%20%20ctrl.%24validators.email%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20modelValue%20%7C%7C%20viewValue%3B%0D%0A%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%7C%7C%20EMAIL_REGEXP.test%28value%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20radioInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20//%20make%20the%20name%20unique%2C%20if%20not%20defined%0D%0A%20%20if%20%28isUndefined%28attr.name%29%29%20%7B%0D%0A%20%20%20%20element.attr%28%27name%27%2C%20nextUid%28%29%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20var%20listener%20%3D%20function%28ev%29%20%7B%0D%0A%20%20%20%20if%20%28element%5B0%5D.checked%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24setViewValue%28attr.value%2C%20ev%20%26%26%20ev.type%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20element.on%28%27click%27%2C%20listener%29%3B%0D%0A%0D%0A%20%20ctrl.%24render%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20value%20%3D%20attr.value%3B%0D%0A%20%20%20%20element%5B0%5D.checked%20%3D%20%28value%20%3D%3D%20ctrl.%24viewValue%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20attr.%24observe%28%27value%27%2C%20ctrl.%24render%29%3B%0D%0A%7D%0D%0A%0D%0Afunction%20parseConstantExpr%28%24parse%2C%20context%2C%20name%2C%20expression%2C%20fallback%29%20%7B%0D%0A%20%20var%20parseFn%3B%0D%0A%20%20if%20%28isDefined%28expression%29%29%20%7B%0D%0A%20%20%20%20parseFn%20%3D%20%24parse%28expression%29%3B%0D%0A%20%20%20%20if%20%28%21parseFn.constant%29%20%7B%0D%0A%20%20%20%20%20%20throw%20minErr%28%27ngModel%27%29%28%27constexpr%27%2C%20%27Expected%20constant%20expression%20for%20%60%7B0%7D%60%2C%20but%20saw%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%60%7B1%7D%60.%27%2C%20name%2C%20expression%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20parseFn%28context%29%3B%0D%0A%20%20%7D%0D%0A%20%20return%20fallback%3B%0D%0A%7D%0D%0A%0D%0Afunction%20checkboxInputType%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24sniffer%2C%20%24browser%2C%20%24filter%2C%20%24parse%29%20%7B%0D%0A%20%20var%20trueValue%20%3D%20parseConstantExpr%28%24parse%2C%20scope%2C%20%27ngTrueValue%27%2C%20attr.ngTrueValue%2C%20true%29%3B%0D%0A%20%20var%20falseValue%20%3D%20parseConstantExpr%28%24parse%2C%20scope%2C%20%27ngFalseValue%27%2C%20attr.ngFalseValue%2C%20false%29%3B%0D%0A%0D%0A%20%20var%20listener%20%3D%20function%28ev%29%20%7B%0D%0A%20%20%20%20ctrl.%24setViewValue%28element%5B0%5D.checked%2C%20ev%20%26%26%20ev.type%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20element.on%28%27click%27%2C%20listener%29%3B%0D%0A%0D%0A%20%20ctrl.%24render%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20element%5B0%5D.checked%20%3D%20ctrl.%24viewValue%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20Override%20the%20standard%20%60%24isEmpty%60%20because%20the%20%24viewValue%20of%20an%20empty%20checkbox%20is%20always%20set%20to%20%60false%60%0D%0A%20%20//%20This%20is%20because%20of%20the%20parser%20below%2C%20which%20compares%20the%20%60%24modelValue%60%20with%20%60trueValue%60%20to%20convert%0D%0A%20%20//%20it%20to%20a%20boolean.%0D%0A%20%20ctrl.%24isEmpty%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20return%20value%20%3D%3D%3D%20false%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20ctrl.%24formatters.push%28function%28value%29%20%7B%0D%0A%20%20%20%20return%20equals%28value%2C%20trueValue%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20ctrl.%24parsers.push%28function%28value%29%20%7B%0D%0A%20%20%20%20return%20value%20%3F%20trueValue%20%3A%20falseValue%3B%0D%0A%20%20%7D%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20textarea%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20HTML%20textarea%20element%20control%20with%20angular%20data-binding.%20The%20data-binding%20and%20validation%0D%0A%20*%20properties%20of%20this%20element%20are%20exactly%20the%20same%20as%20those%20of%20the%0D%0A%20*%20%7B@link%20ng.directive%3Ainput%20input%20element%7D.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20*%20%20%20%20minlength.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%20any%0D%0A%20*%20%20%20%20length.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20*%20%20%20%20account.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20%5BngTrim%3Dtrue%5D%20If%20set%20to%20false%20Angular%20will%20not%20automatically%20trim%20the%20input.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20input%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20HTML%20input%20element%20control.%20When%20used%20together%20with%20%7B@link%20ngModel%20%60ngModel%60%7D%2C%20it%20provides%20data-binding%2C%0D%0A%20*%20input%20state%20control%2C%20and%20validation.%0D%0A%20*%20Input%20control%20follows%20HTML5%20input%20types%20and%20polyfills%20the%20HTML5%20validation%20behavior%20for%20older%20browsers.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note%3A**%20Not%20every%20feature%20offered%20is%20available%20for%20all%20input%20types.%0D%0A%20*%20Specifically%2C%20data%20binding%20and%20event%20handling%20via%20%60ng-model%60%20is%20unsupported%20for%20%60input%5Bfile%5D%60.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20required%20Sets%20%60required%60%20validation%20error%20key%20if%20the%20value%20is%20not%20entered.%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20ngRequired%20Sets%20%60required%60%20attribute%20if%20set%20to%20true%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20ngMinlength%20Sets%20%60minlength%60%20validation%20error%20key%20if%20the%20value%20is%20shorter%20than%0D%0A%20*%20%20%20%20minlength.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20ngMaxlength%20Sets%20%60maxlength%60%20validation%20error%20key%20if%20the%20value%20is%20longer%20than%0D%0A%20*%20%20%20%20maxlength.%20Setting%20the%20attribute%20to%20a%20negative%20or%20non-numeric%20value%2C%20allows%20view%20values%20of%20any%0D%0A%20*%20%20%20%20length.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngPattern%20Sets%20%60pattern%60%20validation%20error%20key%20if%20the%20ngModel%20value%20does%20not%20match%0D%0A%20*%20%20%20%20a%20RegExp%20found%20by%20evaluating%20the%20Angular%20expression%20given%20in%20the%20attribute%20value.%0D%0A%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20RegExp%20object%2C%20then%20this%20is%20used%20directly.%0D%0A%20*%20%20%20%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20then%20it%20will%20be%20converted%20to%20a%20RegExp%0D%0A%20*%20%20%20%20after%20wrapping%20it%20in%20%60%5E%60%20and%20%60%24%60%20characters.%20For%20instance%2C%20%60%22abc%22%60%20will%20be%20converted%20to%0D%0A%20*%20%20%20%20%60new%20RegExp%28%27%5Eabc%24%27%29%60.%3Cbr%20/%3E%0D%0A%20*%20%20%20%20**Note%3A**%20Avoid%20using%20the%20%60g%60%20flag%20on%20the%20RegExp%2C%20as%20it%20will%20cause%20each%20successive%20search%20to%0D%0A%20*%20%20%20%20start%20at%20the%20index%20of%20the%20last%20search%27s%20match%2C%20thus%20not%20taking%20the%20whole%20input%20value%20into%0D%0A%20*%20%20%20%20account.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngChange%20Angular%20expression%20to%20be%20executed%20when%20input%20changes%20due%20to%20user%0D%0A%20*%20%20%20%20interaction%20with%20the%20input%20element.%0D%0A%20*%20@param%20%7Bboolean%3D%7D%20%5BngTrim%3Dtrue%5D%20If%20set%20to%20false%20Angular%20will%20not%20automatically%20trim%20the%20input.%0D%0A%20*%20%20%20%20This%20parameter%20is%20ignored%20for%20input%5Btype%3Dpassword%5D%20controls%2C%20which%20will%20never%20trim%20the%0D%0A%20*%20%20%20%20input.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%20name%3D%22input-directive%22%20module%3D%22inputExample%22%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20angular.module%28%27inputExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7Bname%3A%20%27guest%27%2C%20last%3A%20%27visitor%27%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20User%20name%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22userName%22%20ng-model%3D%22user.name%22%20required%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.userName.%24error.required%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Last%20name%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22lastName%22%20ng-model%3D%22user.last%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-minlength%3D%223%22%20ng-maxlength%3D%2210%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20role%3D%22alert%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.lastName.%24error.minlength%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Too%20short%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.lastName.%24error.maxlength%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Too%20long%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3Euser%20%3D%20%7B%7Buser%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.userName.%24valid%20%3D%20%7B%7BmyForm.userName.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.userName.%24error%20%3D%20%7B%7BmyForm.userName.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.lastName.%24valid%20%3D%20%7B%7BmyForm.lastName.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.lastName.%24error%20%3D%20%7B%7BmyForm.lastName.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.minlength%20%3D%20%7B%7B%21%21myForm.%24error.minlength%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.maxlength%20%3D%20%7B%7B%21%21myForm.%24error.maxlength%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20var%20user%20%3D%20element%28by.exactBinding%28%27user%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20userNameValid%20%3D%20element%28by.binding%28%27myForm.userName.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20lastNameValid%20%3D%20element%28by.binding%28%27myForm.lastName.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20lastNameError%20%3D%20element%28by.binding%28%27myForm.lastName.%24error%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20formValid%20%3D%20element%28by.binding%28%27myForm.%24valid%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20userNameInput%20%3D%20element%28by.model%28%27user.name%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20userLastInput%20%3D%20element%28by.model%28%27user.last%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28user.getText%28%29%29.toContain%28%27%7B%22name%22%3A%22guest%22%2C%22last%22%3A%22visitor%22%7D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28userNameValid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28formValid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%20when%20required%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20userNameInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20userNameInput.sendKeys%28%27%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28user.getText%28%29%29.toContain%28%27%7B%22last%22%3A%22visitor%22%7D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28userNameValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28formValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20valid%20if%20empty%20when%20min%20length%20is%20set%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.sendKeys%28%27%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28user.getText%28%29%29.toContain%28%27%7B%22name%22%3A%22guest%22%2C%22last%22%3A%22%22%7D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28lastNameValid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28formValid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20less%20than%20required%20min%20length%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.sendKeys%28%27xx%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28user.getText%28%29%29.toContain%28%27%7B%22name%22%3A%22guest%22%7D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28lastNameValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28lastNameError.getText%28%29%29.toContain%28%27minlength%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28formValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20be%20invalid%20if%20longer%20than%20max%20length%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20userLastInput.sendKeys%28%27some%20ridiculously%20long%20name%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28user.getText%28%29%29.toContain%28%27%7B%22name%22%3A%22guest%22%7D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28lastNameValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28lastNameError.getText%28%29%29.toContain%28%27maxlength%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28formValid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20inputDirective%20%3D%20%5B%27%24browser%27%2C%20%27%24sniffer%27%2C%20%27%24filter%27%2C%20%27%24parse%27%2C%0D%0A%20%20%20%20function%28%24browser%2C%20%24sniffer%2C%20%24filter%2C%20%24parse%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20%20%20require%3A%20%5B%27%3FngModel%27%5D%2C%0D%0A%20%20%20%20link%3A%20%7B%0D%0A%20%20%20%20%20%20pre%3A%20function%28scope%2C%20element%2C%20attr%2C%20ctrls%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28ctrls%5B0%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%28inputType%5Blowercase%28attr.type%29%5D%20%7C%7C%20inputType.text%29%28scope%2C%20element%2C%20attr%2C%20ctrls%5B0%5D%2C%20%24sniffer%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24browser%2C%20%24filter%2C%20%24parse%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A%0D%0A%0D%0Avar%20CONSTANT_VALUE_REGEXP%20%3D%20/%5E%28true%7Cfalse%7C%5Cd+%29%24/%3B%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngValue%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Binds%20the%20given%20expression%20to%20the%20value%20of%20%60%3Coption%3E%60%20or%20%7B@link%20input%5Bradio%5D%20%60input%5Bradio%5D%60%7D%2C%0D%0A%20*%20so%20that%20when%20the%20element%20is%20selected%2C%20the%20%7B@link%20ngModel%20%60ngModel%60%7D%20of%20that%20element%20is%20set%20to%0D%0A%20*%20the%20bound%20value.%0D%0A%20*%0D%0A%20*%20%60ngValue%60%20is%20useful%20when%20dynamically%20generating%20lists%20of%20radio%20buttons%20using%0D%0A%20*%20%7B@link%20ngRepeat%20%60ngRepeat%60%7D%2C%20as%20shown%20below.%0D%0A%20*%0D%0A%20*%20Likewise%2C%20%60ngValue%60%20can%20be%20used%20to%20generate%20%60%3Coption%3E%60%20elements%20for%0D%0A%20*%20the%20%7B@link%20select%20%60select%60%7D%20element.%20In%20that%20case%20however%2C%20only%20strings%20are%20supported%0D%0A%20*%20for%20the%20%60value%20%60attribute%2C%20so%20the%20resulting%20%60ngModel%60%20will%20always%20be%20a%20string.%0D%0A%20*%20Support%20for%20%60select%60%20models%20with%20non-string%20values%20is%20available%20via%20%60ngOptions%60.%0D%0A%20*%0D%0A%20*%20@element%20input%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngValue%20angular%20expression%2C%20whose%20value%20will%20be%20bound%20to%20the%20%60value%60%20attribute%0D%0A%20*%20%20%20of%20the%20%60input%60%20element%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%20name%3D%22ngValue-directive%22%20module%3D%22valueExample%22%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20angular.module%28%27valueExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.names%20%3D%20%5B%27pizza%27%2C%20%27unicorns%27%2C%20%27robots%27%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.my%20%3D%20%7B%20favorite%3A%20%27unicorns%27%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%3Cform%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Ch2%3EWhich%20is%20your%20favorite%3F%3C/h2%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20ng-repeat%3D%22name%20in%20names%22%20for%3D%22%7B%7Bname%7D%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7Bname%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model%3D%22my.favorite%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-value%3D%22name%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3D%22%7B%7Bname%7D%7D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22favorite%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3EYou%20chose%20%7B%7Bmy.favorite%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20var%20favorite%20%3D%20element%28by.binding%28%27my.favorite%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28favorite.getText%28%29%29.toContain%28%27unicorns%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20bind%20the%20values%20to%20the%20inputs%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.all%28by.model%28%27my.favorite%27%29%29.get%280%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28favorite.getText%28%29%29.toContain%28%27pizza%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngValueDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20compile%3A%20function%28tpl%2C%20tplAttr%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28CONSTANT_VALUE_REGEXP.test%28tplAttr.ngValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20function%20ngValueConstantLink%28scope%2C%20elm%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24set%28%27value%27%2C%20scope.%24eval%28attr.ngValue%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20function%20ngValueLink%28scope%2C%20elm%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24watch%28attr.ngValue%2C%20function%20valueWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20attr.%24set%28%27value%27%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngBind%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngBind%60%20attribute%20tells%20Angular%20to%20replace%20the%20text%20content%20of%20the%20specified%20HTML%20element%0D%0A%20*%20with%20the%20value%20of%20a%20given%20expression%2C%20and%20to%20update%20the%20text%20content%20when%20the%20value%20of%20that%0D%0A%20*%20expression%20changes.%0D%0A%20*%0D%0A%20*%20Typically%2C%20you%20don%27t%20use%20%60ngBind%60%20directly%2C%20but%20instead%20you%20use%20the%20double%20curly%20markup%20like%0D%0A%20*%20%60%7B%7B%20expression%20%7D%7D%60%20which%20is%20similar%20but%20less%20verbose.%0D%0A%20*%0D%0A%20*%20It%20is%20preferable%20to%20use%20%60ngBind%60%20instead%20of%20%60%7B%7B%20expression%20%7D%7D%60%20if%20a%20template%20is%20momentarily%0D%0A%20*%20displayed%20by%20the%20browser%20in%20its%20raw%20state%20before%20Angular%20compiles%20it.%20Since%20%60ngBind%60%20is%20an%0D%0A%20*%20element%20attribute%2C%20it%20makes%20the%20bindings%20invisible%20to%20the%20user%20while%20the%20page%20is%20loading.%0D%0A%20*%0D%0A%20*%20An%20alternative%20solution%20to%20this%20problem%20would%20be%20using%20the%0D%0A%20*%20%7B@link%20ng.directive%3AngCloak%20ngCloak%7D%20directive.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngBind%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Enter%20a%20name%20in%20the%20Live%20Preview%20text%20box%3B%20the%20greeting%20below%20the%20text%20box%20changes%20instantly.%0D%0A%20%20%20%3Cexample%20module%3D%22bindExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27bindExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.name%20%3D%20%27Whirled%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Clabel%3EEnter%20name%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22name%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%20Hello%20%3Cspan%20ng-bind%3D%22name%22%3E%3C/span%3E%21%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-bind%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20nameInput%20%3D%20element%28by.model%28%27name%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27name%27%29%29.getText%28%29%29.toBe%28%27Whirled%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20nameInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20nameInput.sendKeys%28%27world%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27name%27%29%29.getText%28%29%29.toBe%28%27world%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngBindDirective%20%3D%20%5B%27%24compile%27%2C%20function%28%24compile%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27AC%27%2C%0D%0A%20%20%20%20compile%3A%20function%20ngBindCompile%28templateElement%29%20%7B%0D%0A%20%20%20%20%20%20%24compile.%24%24addBindingClass%28templateElement%29%3B%0D%0A%20%20%20%20%20%20return%20function%20ngBindLink%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24compile.%24%24addBindingInfo%28element%2C%20attr.ngBind%29%3B%0D%0A%20%20%20%20%20%20%20%20element%20%3D%20element%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28attr.ngBind%2C%20function%20ngBindWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.textContent%20%3D%20value%20%3D%3D%3D%20undefined%20%3F%20%27%27%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngBindTemplate%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngBindTemplate%60%20directive%20specifies%20that%20the%20element%0D%0A%20*%20text%20content%20should%20be%20replaced%20with%20the%20interpolation%20of%20the%20template%0D%0A%20*%20in%20the%20%60ngBindTemplate%60%20attribute.%0D%0A%20*%20Unlike%20%60ngBind%60%2C%20the%20%60ngBindTemplate%60%20can%20contain%20multiple%20%60%7B%7B%60%20%60%7D%7D%60%0D%0A%20*%20expressions.%20This%20directive%20is%20needed%20since%20some%20HTML%20elements%0D%0A%20*%20%28such%20as%20TITLE%20and%20OPTION%29%20cannot%20contain%20SPAN%20elements.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bstring%7D%20ngBindTemplate%20template%20of%20form%0D%0A%20*%20%20%20%3Ctt%3E%7B%7B%3C/tt%3E%20%3Ctt%3Eexpression%3C/tt%3E%20%3Ctt%3E%7D%7D%3C/tt%3E%20to%20eval.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Try%20it%20here%3A%20enter%20text%20in%20text%20box%20and%20watch%20the%20greeting%20change.%0D%0A%20%20%20%3Cexample%20module%3D%22bindExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27bindExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.salutation%20%3D%20%27Hello%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.name%20%3D%20%27World%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3ESalutation%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22salutation%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22name%22%3E%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%20ng-bind-template%3D%22%7B%7Bsalutation%7D%7D%20%7B%7Bname%7D%7D%21%22%3E%3C/pre%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-bind%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20salutationElem%20%3D%20element%28by.binding%28%27salutation%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20var%20salutationInput%20%3D%20element%28by.model%28%27salutation%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20var%20nameInput%20%3D%20element%28by.model%28%27name%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28salutationElem.getText%28%29%29.toBe%28%27Hello%20World%21%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20salutationInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20salutationInput.sendKeys%28%27Greetings%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20nameInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20nameInput.sendKeys%28%27user%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28salutationElem.getText%28%29%29.toBe%28%27Greetings%20user%21%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngBindTemplateDirective%20%3D%20%5B%27%24interpolate%27%2C%20%27%24compile%27%2C%20function%28%24interpolate%2C%20%24compile%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20compile%3A%20function%20ngBindTemplateCompile%28templateElement%29%20%7B%0D%0A%20%20%20%20%20%20%24compile.%24%24addBindingClass%28templateElement%29%3B%0D%0A%20%20%20%20%20%20return%20function%20ngBindTemplateLink%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20interpolateFn%20%3D%20%24interpolate%28element.attr%28attr.%24attr.ngBindTemplate%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%24compile.%24%24addBindingInfo%28element%2C%20interpolateFn.expressions%29%3B%0D%0A%20%20%20%20%20%20%20%20element%20%3D%20element%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20attr.%24observe%28%27ngBindTemplate%27%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.textContent%20%3D%20value%20%3D%3D%3D%20undefined%20%3F%20%27%27%20%3A%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngBindHtml%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Evaluates%20the%20expression%20and%20inserts%20the%20resulting%20HTML%20into%20the%20element%20in%20a%20secure%20way.%20By%20default%2C%0D%0A%20*%20the%20resulting%20HTML%20content%20will%20be%20sanitized%20using%20the%20%7B@link%20ngSanitize.%24sanitize%20%24sanitize%7D%20service.%0D%0A%20*%20To%20utilize%20this%20functionality%2C%20ensure%20that%20%60%24sanitize%60%20is%20available%2C%20for%20example%2C%20by%20including%20%7B@link%0D%0A%20*%20ngSanitize%7D%20in%20your%20module%27s%20dependencies%20%28not%20in%20core%20Angular%29.%20In%20order%20to%20use%20%7B@link%20ngSanitize%7D%0D%0A%20*%20in%20your%20module%27s%20dependencies%2C%20you%20need%20to%20include%20%22angular-sanitize.js%22%20in%20your%20application.%0D%0A%20*%0D%0A%20*%20You%20may%20also%20bypass%20sanitization%20for%20values%20you%20know%20are%20safe.%20To%20do%20so%2C%20bind%20to%0D%0A%20*%20an%20explicitly%20trusted%20value%20via%20%7B@link%20ng.%24sce%23trustAsHtml%20%24sce.trustAsHtml%7D.%20%20See%20the%20example%0D%0A%20*%20under%20%7B@link%20ng.%24sce%23show-me-an-example-using-sce-%20Strict%20Contextual%20Escaping%20%28SCE%29%7D.%0D%0A%20*%0D%0A%20*%20Note%3A%20If%20a%20%60%24sanitize%60%20service%20is%20unavailable%20and%20the%20bound%20value%20isn%27t%20explicitly%20trusted%2C%20you%0D%0A%20*%20will%20have%20an%20exception%20%28instead%20of%20an%20exploit.%29%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngBindHtml%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%0D%0A%20%20%20%3Cexample%20module%3D%22bindHtmlExample%22%20deps%3D%22angular-sanitize.js%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cp%20ng-bind-html%3D%22myHTML%22%3E%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20angular.module%28%27bindHtmlExample%27%2C%20%5B%27ngSanitize%27%5D%29%0D%0A%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.myHTML%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27I%20am%20an%20%3Ccode%3EHTML%3C/code%3Estring%20with%20%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3Ca%20href%3D%22%23%22%3Elinks%21%3C/a%3E%20and%20other%20%3Cem%3Estuff%3C/em%3E%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-bind-html%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27myHTML%27%29%29.getText%28%29%29.toBe%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%27I%20am%20an%20HTMLstring%20with%20links%21%20and%20other%20stuff%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngBindHtmlDirective%20%3D%20%5B%27%24sce%27%2C%20%27%24parse%27%2C%20%27%24compile%27%2C%20function%28%24sce%2C%20%24parse%2C%20%24compile%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20compile%3A%20function%20ngBindHtmlCompile%28tElement%2C%20tAttrs%29%20%7B%0D%0A%20%20%20%20%20%20var%20ngBindHtmlGetter%20%3D%20%24parse%28tAttrs.ngBindHtml%29%3B%0D%0A%20%20%20%20%20%20var%20ngBindHtmlWatch%20%3D%20%24parse%28tAttrs.ngBindHtml%2C%20function%20getStringValue%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%28value%20%7C%7C%20%27%27%29.toString%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%24compile.%24%24addBindingClass%28tElement%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20function%20ngBindHtmlLink%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24compile.%24%24addBindingInfo%28element%2C%20attr.ngBindHtml%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28ngBindHtmlWatch%2C%20function%20ngBindHtmlWatchAction%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20we%20re-evaluate%20the%20expr%20because%20we%20want%20a%20TrustedValueHolderType%0D%0A%20%20%20%20%20%20%20%20%20%20//%20for%20%24sce%2C%20not%20a%20string%0D%0A%20%20%20%20%20%20%20%20%20%20element.html%28%24sce.getTrustedHtml%28ngBindHtmlGetter%28scope%29%29%20%7C%7C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngChange%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Evaluate%20the%20given%20expression%20when%20the%20user%20changes%20the%20input.%0D%0A%20*%20The%20expression%20is%20evaluated%20immediately%2C%20unlike%20the%20JavaScript%20onchange%20event%0D%0A%20*%20which%20only%20triggers%20at%20the%20end%20of%20a%20change%20%28usually%2C%20when%20the%20user%20leaves%20the%0D%0A%20*%20form%20element%20or%20presses%20the%20return%20key%29.%0D%0A%20*%0D%0A%20*%20The%20%60ngChange%60%20expression%20is%20only%20evaluated%20when%20a%20change%20in%20the%20input%20value%20causes%0D%0A%20*%20a%20new%20value%20to%20be%20committed%20to%20the%20model.%0D%0A%20*%0D%0A%20*%20It%20will%20not%20be%20evaluated%3A%0D%0A%20*%20*%20if%20the%20value%20returned%20from%20the%20%60%24parsers%60%20transformation%20pipeline%20has%20not%20changed%0D%0A%20*%20*%20if%20the%20input%20has%20continued%20to%20be%20invalid%20since%20the%20model%20will%20stay%20%60null%60%0D%0A%20*%20*%20if%20the%20model%20is%20changed%20programmatically%20and%20not%20by%20a%20change%20to%20the%20input%20value%0D%0A%20*%0D%0A%20*%0D%0A%20*%20Note%2C%20this%20directive%20requires%20%60ngModel%60%20to%20be%20present.%0D%0A%20*%0D%0A%20*%20@element%20input%0D%0A%20*%20@param%20%7Bexpression%7D%20ngChange%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%20change%0D%0A%20*%20in%20input%20value.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20%3Cexample%20name%3D%22ngChange-directive%22%20module%3D%22changeExample%22%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%20%20%3Cscript%3E%0D%0A%20*%20%20%20%20%20%20%20angular.module%28%27changeExample%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.counter%20%3D%200%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.change%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.counter++%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20*%20%20%20%20%20%3C/script%3E%0D%0A%20*%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20*%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22confirmed%22%20ng-change%3D%22change%28%29%22%20id%3D%22ng-change-example1%22%20/%3E%0D%0A%20*%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22confirmed%22%20id%3D%22ng-change-example2%22%20/%3E%0D%0A%20*%20%20%20%20%20%20%20%3Clabel%20for%3D%22ng-change-example2%22%3EConfirmed%3C/label%3E%3Cbr%20/%3E%0D%0A%20*%20%20%20%20%20%20%20%3Ctt%3Edebug%20%3D%20%7B%7Bconfirmed%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20%20%3Ctt%3Ecounter%20%3D%20%7B%7Bcounter%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20%20var%20counter%20%3D%20element%28by.binding%28%27counter%27%29%29%3B%0D%0A%20*%20%20%20%20%20var%20debug%20%3D%20element%28by.binding%28%27confirmed%27%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20it%28%27should%20evaluate%20the%20expression%20if%20changing%20from%20view%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20expect%28counter.getText%28%29%29.toContain%28%270%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20element%28by.id%28%27ng-change-example1%27%29%29.click%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28counter.getText%28%29%29.toContain%28%271%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28debug.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20it%28%27should%20not%20evaluate%20the%20expression%20if%20changing%20from%20model%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20element%28by.id%28%27ng-change-example2%27%29%29.click%28%29%3B%0D%0A%0D%0A%20*%20%20%20%20%20%20%20expect%28counter.getText%28%29%29.toContain%28%270%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28debug.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngChangeDirective%20%3D%20valueFn%28%7B%0D%0A%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20require%3A%20%27ngModel%27%2C%0D%0A%20%20link%3A%20function%28scope%2C%20element%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20ctrl.%24viewChangeListeners.push%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20scope.%24eval%28attr.ngChange%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0Afunction%20classDirective%28name%2C%20selector%29%20%7B%0D%0A%20%20name%20%3D%20%27ngClass%27%20+%20name%3B%0D%0A%20%20return%20%5B%27%24animate%27%2C%20function%28%24animate%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20restrict%3A%20%27AC%27%2C%0D%0A%20%20%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20oldVal%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28attr%5Bname%5D%2C%20ngClassWatchAction%2C%20true%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20attr.%24observe%28%27class%27%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ngClassWatchAction%28scope.%24eval%28attr%5Bname%5D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28name%20%21%3D%3D%20%27ngClass%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%27%24index%27%2C%20function%28%24index%2C%20old%24index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20jshint%20bitwise%3A%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20mod%20%3D%20%24index%20%26%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mod%20%21%3D%3D%20%28old%24index%20%26%201%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20classes%20%3D%20arrayClasses%28scope.%24eval%28attr%5Bname%5D%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mod%20%3D%3D%3D%20selector%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addClasses%28classes%29%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeClasses%28classes%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20addClasses%28classes%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newClasses%20%3D%20digestClassCounts%28classes%2C%201%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24addClass%28newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20removeClasses%28classes%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20newClasses%20%3D%20digestClassCounts%28classes%2C%20-1%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24removeClass%28newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20digestClassCounts%28classes%2C%20count%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Use%20createMap%28%29%20to%20prevent%20class%20assumptions%20involving%20property%0D%0A%20%20%20%20%20%20%20%20%20%20//%20names%20in%20Object.prototype%0D%0A%20%20%20%20%20%20%20%20%20%20var%20classCounts%20%3D%20element.data%28%27%24classCounts%27%29%20%7C%7C%20createMap%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20classesToUpdate%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28classes%2C%20function%28className%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28count%20%3E%200%20%7C%7C%20classCounts%5BclassName%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20classCounts%5BclassName%5D%20%3D%20%28classCounts%5BclassName%5D%20%7C%7C%200%29%20+%20count%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28classCounts%5BclassName%5D%20%3D%3D%3D%20+%28count%20%3E%200%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20classesToUpdate.push%28className%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element.data%28%27%24classCounts%27%2C%20classCounts%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20classesToUpdate.join%28%27%20%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20updateClasses%28oldClasses%2C%20newClasses%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20toAdd%20%3D%20arrayDifference%28newClasses%2C%20oldClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20toRemove%20%3D%20arrayDifference%28oldClasses%2C%20newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20toAdd%20%3D%20digestClassCounts%28toAdd%2C%201%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20toRemove%20%3D%20digestClassCounts%28toRemove%2C%20-1%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28toAdd%20%26%26%20toAdd.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24animate.addClass%28element%2C%20toAdd%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28toRemove%20%26%26%20toRemove.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24animate.removeClass%28element%2C%20toRemove%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20ngClassWatchAction%28newVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28selector%20%3D%3D%3D%20true%20%7C%7C%20scope.%24index%20%25%202%20%3D%3D%3D%20selector%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newClasses%20%3D%20arrayClasses%28newVal%20%7C%7C%20%5B%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21oldVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addClasses%28newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21equals%28newVal%2ColdVal%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20oldClasses%20%3D%20arrayClasses%28oldVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateClasses%28oldClasses%2C%20newClasses%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20oldVal%20%3D%20shallowCopy%28newVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20function%20arrayDifference%28tokens1%2C%20tokens2%29%20%7B%0D%0A%20%20%20%20%20%20var%20values%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20outer%3A%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20tokens1.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20token%20%3D%20tokens1%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%20tokens2.length%3B%20j++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28token%20%3D%3D%20tokens2%5Bj%5D%29%20continue%20outer%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20values.push%28token%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20values%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20arrayClasses%28classVal%29%20%7B%0D%0A%20%20%20%20%20%20var%20classes%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20if%20%28isArray%28classVal%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28classVal%2C%20function%28v%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20classes%20%3D%20classes.concat%28arrayClasses%28v%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20classes%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isString%28classVal%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20classVal.split%28%27%20%27%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isObject%28classVal%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28classVal%2C%20function%28v%2C%20k%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28v%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20classes%20%3D%20classes.concat%28k.split%28%27%20%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20classes%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20classVal%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%5D%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngClass%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngClass%60%20directive%20allows%20you%20to%20dynamically%20set%20CSS%20classes%20on%20an%20HTML%20element%20by%20databinding%0D%0A%20*%20an%20expression%20that%20represents%20all%20classes%20to%20be%20added.%0D%0A%20*%0D%0A%20*%20The%20directive%20operates%20in%20three%20different%20ways%2C%20depending%20on%20which%20of%20three%20types%20the%20expression%0D%0A%20*%20evaluates%20to%3A%0D%0A%20*%0D%0A%20*%201.%20If%20the%20expression%20evaluates%20to%20a%20string%2C%20the%20string%20should%20be%20one%20or%20more%20space-delimited%20class%0D%0A%20*%20names.%0D%0A%20*%0D%0A%20*%202.%20If%20the%20expression%20evaluates%20to%20an%20object%2C%20then%20for%20each%20key-value%20pair%20of%20the%0D%0A%20*%20object%20with%20a%20truthy%20value%20the%20corresponding%20key%20is%20used%20as%20a%20class%20name.%0D%0A%20*%0D%0A%20*%203.%20If%20the%20expression%20evaluates%20to%20an%20array%2C%20each%20element%20of%20the%20array%20should%20either%20be%20a%20string%20as%20in%0D%0A%20*%20type%201%20or%20an%20object%20as%20in%20type%202.%20This%20means%20that%20you%20can%20mix%20strings%20and%20objects%20together%20in%20an%20array%0D%0A%20*%20to%20give%20you%20more%20control%20over%20what%20CSS%20classes%20appear.%20See%20the%20code%20below%20for%20an%20example%20of%20this.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20The%20directive%20won%27t%20add%20duplicate%20classes%20if%20a%20particular%20class%20was%20already%20set.%0D%0A%20*%0D%0A%20*%20When%20the%20expression%20changes%2C%20the%20previously%20added%20classes%20are%20removed%20and%20only%20then%20are%20the%0D%0A%20*%20new%20classes%20added.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20**add**%20-%20happens%20just%20before%20the%20class%20is%20applied%20to%20the%20elements%0D%0A%20*%0D%0A%20*%20**remove**%20-%20happens%20just%20before%20the%20class%20is%20removed%20from%20the%20element%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngClass%20%7B@link%20guide/expression%20Expression%7D%20to%20eval.%20The%20result%0D%0A%20*%20%20%20of%20the%20evaluation%20can%20be%20a%20string%20representing%20space%20delimited%20class%0D%0A%20*%20%20%20names%2C%20an%20array%2C%20or%20a%20map%20of%20class%20names%20to%20boolean%20values.%20In%20the%20case%20of%20a%20map%2C%20the%0D%0A%20*%20%20%20names%20of%20the%20properties%20whose%20values%20are%20truthy%20will%20be%20added%20as%20css%20classes%20to%20the%0D%0A%20*%20%20%20element.%0D%0A%20*%0D%0A%20*%20@example%20Example%20that%20demonstrates%20basic%20bindings%20via%20ngClass%20directive.%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cp%20ng-class%3D%22%7Bstrike%3A%20deleted%2C%20bold%3A%20important%2C%20red%3A%20error%7D%22%3EMap%20Syntax%20Example%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22deleted%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20deleted%20%28apply%20%22strike%22%20class%29%0D%0A%20%20%20%20%20%20%20%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22important%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20important%20%28apply%20%22bold%22%20class%29%0D%0A%20%20%20%20%20%20%20%3C/label%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22error%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20error%20%28apply%20%22red%22%20class%29%0D%0A%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%3Cp%20ng-class%3D%22style%22%3EUsing%20String%20Syntax%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22style%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22Type%3A%20bold%20strike%20red%22%20aria-label%3D%22Type%3A%20bold%20strike%20red%22%3E%0D%0A%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%3Cp%20ng-class%3D%22%5Bstyle1%2C%20style2%2C%20style3%5D%22%3EUsing%20Array%20Syntax%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22style1%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22Type%3A%20bold%2C%20strike%20or%20red%22%20aria-label%3D%22Type%3A%20bold%2C%20strike%20or%20red%22%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22style2%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22Type%3A%20bold%2C%20strike%20or%20red%22%20aria-label%3D%22Type%3A%20bold%2C%20strike%20or%20red%202%22%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22style3%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%22Type%3A%20bold%2C%20strike%20or%20red%22%20aria-label%3D%22Type%3A%20bold%2C%20strike%20or%20red%203%22%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%3Cp%20ng-class%3D%22%5Bstyle4%2C%20%7Borange%3A%20warning%7D%5D%22%3EUsing%20Array%20and%20Map%20Syntax%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22style4%22%20placeholder%3D%22Type%3A%20bold%2C%20strike%22%20aria-label%3D%22Type%3A%20bold%2C%20strike%22%3E%3Cbr%3E%0D%0A%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22warning%22%3E%20warning%20%28apply%20%22orange%22%20class%29%3C/label%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20.strike%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20text-decoration%3A%20line-through%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20.bold%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20.red%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20color%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20.orange%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20color%3A%20orange%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20var%20ps%20%3D%20element.all%28by.css%28%27p%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20let%20you%20toggle%20the%20class%27%2C%20function%28%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.first%28%29.getAttribute%28%27class%27%29%29.not.toMatch%28/bold/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.first%28%29.getAttribute%28%27class%27%29%29.not.toMatch%28/red/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27important%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.first%28%29.getAttribute%28%27class%27%29%29.toMatch%28/bold/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27error%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.first%28%29.getAttribute%28%27class%27%29%29.toMatch%28/red/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20let%20you%20toggle%20string%20example%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.get%281%29.getAttribute%28%27class%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style%27%29%29.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style%27%29%29.sendKeys%28%27red%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.get%281%29.getAttribute%28%27class%27%29%29.toBe%28%27red%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27array%20example%20should%20have%203%20classes%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.get%282%29.getAttribute%28%27class%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style1%27%29%29.sendKeys%28%27bold%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style2%27%29%29.sendKeys%28%27strike%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style3%27%29%29.sendKeys%28%27red%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.get%282%29.getAttribute%28%27class%27%29%29.toBe%28%27bold%20strike%20red%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27array%20with%20map%20example%20should%20have%202%20classes%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.last%28%29.getAttribute%28%27class%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27style4%27%29%29.sendKeys%28%27bold%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27warning%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28ps.last%28%29.getAttribute%28%27class%27%29%29.toBe%28%27bold%20orange%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%0D%0A%20%20%20%23%23%20Animations%0D%0A%0D%0A%20%20%20The%20example%20below%20demonstrates%20how%20to%20perform%20animations%20using%20ngClass.%0D%0A%0D%0A%20%20%20%3Cexample%20module%3D%22ngAnimate%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20id%3D%22setbtn%22%20type%3D%22button%22%20value%3D%22set%22%20ng-click%3D%22myVar%3D%27my-class%27%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20id%3D%22clearbtn%22%20type%3D%22button%22%20value%3D%22clear%22%20ng-click%3D%22myVar%3D%27%27%22%3E%0D%0A%20%20%20%20%20%20%3Cbr%3E%0D%0A%20%20%20%20%20%20%3Cspan%20class%3D%22base-class%22%20ng-class%3D%22myVar%22%3ESample%20Text%3C/span%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20.base-class%20%7B%0D%0A%20%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20%20transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20.base-class.my-class%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%20%20font-size%3A3em%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-class%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27.base-class%27%29%29.getAttribute%28%27class%27%29%29.not.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/my-class/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20element%28by.id%28%27setbtn%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27.base-class%27%29%29.getAttribute%28%27class%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/my-class/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20element%28by.id%28%27clearbtn%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27.base-class%27%29%29.getAttribute%28%27class%27%29%29.not.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/my-class/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%0D%0A%0D%0A%20%20%20%23%23%20ngClass%20and%20pre-existing%20CSS3%20Transitions/Animations%0D%0A%20%20%20The%20ngClass%20directive%20still%20supports%20CSS3%20Transitions/Animations%20even%20if%20they%20do%20not%20follow%20the%20ngAnimate%20CSS%20naming%20structure.%0D%0A%20%20%20Upon%20animation%20ngAnimate%20will%20apply%20supplementary%20CSS%20classes%20to%20track%20the%20start%20and%20end%20of%20an%20animation%2C%20but%20this%20will%20not%20hinder%0D%0A%20%20%20any%20pre-existing%20CSS%20transitions%20already%20on%20the%20element.%20To%20get%20an%20idea%20of%20what%20happens%20during%20a%20class-based%20animation%2C%20be%20sure%0D%0A%20%20%20to%20view%20the%20step%20by%20step%20details%20of%20%7B@link%20%24animate%23addClass%20%24animate.addClass%7D%20and%0D%0A%20%20%20%7B@link%20%24animate%23removeClass%20%24animate.removeClass%7D.%0D%0A%20*/%0D%0Avar%20ngClassDirective%20%3D%20classDirective%28%27%27%2C%20true%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngClassOdd%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngClassOdd%60%20and%20%60ngClassEven%60%20directives%20work%20exactly%20as%0D%0A%20*%20%7B@link%20ng.directive%3AngClass%20ngClass%7D%2C%20except%20they%20work%20in%0D%0A%20*%20conjunction%20with%20%60ngRepeat%60%20and%20take%20effect%20only%20on%20odd%20%28even%29%20rows.%0D%0A%20*%0D%0A%20*%20This%20directive%20can%20be%20applied%20only%20within%20the%20scope%20of%20an%0D%0A%20*%20%7B@link%20ng.directive%3AngRepeat%20ngRepeat%7D.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngClassOdd%20%7B@link%20guide/expression%20Expression%7D%20to%20eval.%20The%20result%0D%0A%20*%20%20%20of%20the%20evaluation%20can%20be%20a%20string%20representing%20space%20delimited%20class%20names%20or%20an%20array.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Col%20ng-init%3D%22names%3D%5B%27John%27%2C%20%27Mary%27%2C%20%27Cate%27%2C%20%27Suz%27%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cli%20ng-repeat%3D%22name%20in%20names%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20ng-class-odd%3D%22%27odd%27%22%20ng-class-even%3D%22%27even%27%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7Bname%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%3C/ol%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20.odd%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20.even%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20blue%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-class-odd%20and%20ng-class-even%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.repeater%28%27name%20in%20names%27%29.row%280%29.column%28%27name%27%29%29.getAttribute%28%27class%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/odd/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.repeater%28%27name%20in%20names%27%29.row%281%29.column%28%27name%27%29%29.getAttribute%28%27class%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/even/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngClassOddDirective%20%3D%20classDirective%28%27Odd%27%2C%200%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngClassEven%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngClassOdd%60%20and%20%60ngClassEven%60%20directives%20work%20exactly%20as%0D%0A%20*%20%7B@link%20ng.directive%3AngClass%20ngClass%7D%2C%20except%20they%20work%20in%0D%0A%20*%20conjunction%20with%20%60ngRepeat%60%20and%20take%20effect%20only%20on%20odd%20%28even%29%20rows.%0D%0A%20*%0D%0A%20*%20This%20directive%20can%20be%20applied%20only%20within%20the%20scope%20of%20an%0D%0A%20*%20%7B@link%20ng.directive%3AngRepeat%20ngRepeat%7D.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngClassEven%20%7B@link%20guide/expression%20Expression%7D%20to%20eval.%20The%0D%0A%20*%20%20%20result%20of%20the%20evaluation%20can%20be%20a%20string%20representing%20space%20delimited%20class%20names%20or%20an%20array.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Col%20ng-init%3D%22names%3D%5B%27John%27%2C%20%27Mary%27%2C%20%27Cate%27%2C%20%27Suz%27%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cli%20ng-repeat%3D%22name%20in%20names%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20ng-class-odd%3D%22%27odd%27%22%20ng-class-even%3D%22%27even%27%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7Bname%7D%7D%20%26nbsp%3B%20%26nbsp%3B%20%26nbsp%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%3C/ol%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20.odd%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20.even%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20blue%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-class-odd%20and%20ng-class-even%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.repeater%28%27name%20in%20names%27%29.row%280%29.column%28%27name%27%29%29.getAttribute%28%27class%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/odd/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.repeater%28%27name%20in%20names%27%29.row%281%29.column%28%27name%27%29%29.getAttribute%28%27class%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toMatch%28/even/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngClassEvenDirective%20%3D%20classDirective%28%27Even%27%2C%201%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngCloak%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngCloak%60%20directive%20is%20used%20to%20prevent%20the%20Angular%20html%20template%20from%20being%20briefly%0D%0A%20*%20displayed%20by%20the%20browser%20in%20its%20raw%20%28uncompiled%29%20form%20while%20your%20application%20is%20loading.%20Use%20this%0D%0A%20*%20directive%20to%20avoid%20the%20undesirable%20flicker%20effect%20caused%20by%20the%20html%20template%20display.%0D%0A%20*%0D%0A%20*%20The%20directive%20can%20be%20applied%20to%20the%20%60%3Cbody%3E%60%20element%2C%20but%20the%20preferred%20usage%20is%20to%20apply%0D%0A%20*%20multiple%20%60ngCloak%60%20directives%20to%20small%20portions%20of%20the%20page%20to%20permit%20progressive%20rendering%0D%0A%20*%20of%20the%20browser%20view.%0D%0A%20*%0D%0A%20*%20%60ngCloak%60%20works%20in%20cooperation%20with%20the%20following%20css%20rule%20embedded%20within%20%60angular.js%60%20and%0D%0A%20*%20%60angular.min.js%60.%0D%0A%20*%20For%20CSP%20mode%20please%20add%20%60angular-csp.css%60%20to%20your%20html%20file%20%28see%20%7B@link%20ng.directive%3AngCsp%20ngCsp%7D%29.%0D%0A%20*%0D%0A%20*%20%60%60%60css%0D%0A%20*%20%5Bng%5C%3Acloak%5D%2C%20%5Bng-cloak%5D%2C%20%5Bdata-ng-cloak%5D%2C%20%5Bx-ng-cloak%5D%2C%20.ng-cloak%2C%20.x-ng-cloak%20%7B%0D%0A%20*%20%20%20display%3A%20none%20%21important%3B%0D%0A%20*%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20When%20this%20css%20rule%20is%20loaded%20by%20the%20browser%2C%20all%20html%20elements%20%28including%20their%20children%29%20that%0D%0A%20*%20are%20tagged%20with%20the%20%60ngCloak%60%20directive%20are%20hidden.%20When%20Angular%20encounters%20this%20directive%0D%0A%20*%20during%20the%20compilation%20of%20the%20template%20it%20deletes%20the%20%60ngCloak%60%20element%20attribute%2C%20making%0D%0A%20*%20the%20compiled%20element%20visible.%0D%0A%20*%0D%0A%20*%20For%20the%20best%20result%2C%20the%20%60angular.js%60%20script%20must%20be%20loaded%20in%20the%20head%20section%20of%20the%20html%0D%0A%20*%20document%3B%20alternatively%2C%20the%20css%20rule%20above%20must%20be%20included%20in%20the%20external%20stylesheet%20of%20the%0D%0A%20*%20application.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22template1%22%20ng-cloak%3E%7B%7B%20%27hello%27%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22template2%22%20class%3D%22ng-cloak%22%3E%7B%7B%20%27world%27%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20remove%20the%20template%20directive%20and%20css%20class%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28%24%28%27%23template1%27%29.getAttribute%28%27ng-cloak%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toBeNull%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28%24%28%27%23template2%27%29.getAttribute%28%27ng-cloak%27%29%29.%0D%0A%20%20%20%20%20%20%20%20%20%20%20toBeNull%28%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*/%0D%0Avar%20ngCloakDirective%20%3D%20ngDirective%28%7B%0D%0A%20%20compile%3A%20function%28element%2C%20attr%29%20%7B%0D%0A%20%20%20%20attr.%24set%28%27ngCloak%27%2C%20undefined%29%3B%0D%0A%20%20%20%20element.removeClass%28%27ng-cloak%27%29%3B%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngController%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngController%60%20directive%20attaches%20a%20controller%20class%20to%20the%20view.%20This%20is%20a%20key%20aspect%20of%20how%20angular%0D%0A%20*%20supports%20the%20principles%20behind%20the%20Model-View-Controller%20design%20pattern.%0D%0A%20*%0D%0A%20*%20MVC%20components%20in%20angular%3A%0D%0A%20*%0D%0A%20*%20*%20Model%20%u2014%20Models%20are%20the%20properties%20of%20a%20scope%3B%20scopes%20are%20attached%20to%20the%20DOM%20where%20scope%20properties%0D%0A%20*%20%20%20are%20accessed%20through%20bindings.%0D%0A%20*%20*%20View%20%u2014%20The%20template%20%28HTML%20with%20data%20bindings%29%20that%20is%20rendered%20into%20the%20View.%0D%0A%20*%20*%20Controller%20%u2014%20The%20%60ngController%60%20directive%20specifies%20a%20Controller%20class%3B%20the%20class%20contains%20business%0D%0A%20*%20%20%20logic%20behind%20the%20application%20to%20decorate%20the%20scope%20with%20functions%20and%20values%0D%0A%20*%0D%0A%20*%20Note%20that%20you%20can%20also%20attach%20controllers%20to%20the%20DOM%20by%20declaring%20it%20in%20a%20route%20definition%0D%0A%20*%20via%20the%20%7B@link%20ngRoute.%24route%20%24route%7D%20service.%20A%20common%20mistake%20is%20to%20declare%20the%20controller%0D%0A%20*%20again%20using%20%60ng-controller%60%20in%20the%20template%20itself.%20%20This%20will%20cause%20the%20controller%20to%20be%20attached%0D%0A%20*%20and%20executed%20twice.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@scope%0D%0A%20*%20@priority%20500%0D%0A%20*%20@param%20%7Bexpression%7D%20ngController%20Name%20of%20a%20constructor%20function%20registered%20with%20the%20current%0D%0A%20*%20%7B@link%20ng.%24controllerProvider%20%24controllerProvider%7D%20or%20an%20%7B@link%20guide/expression%20expression%7D%0D%0A%20*%20that%20on%20the%20current%20scope%20evaluates%20to%20a%20constructor%20function.%0D%0A%20*%0D%0A%20*%20The%20controller%20instance%20can%20be%20published%20into%20a%20scope%20property%20by%20specifying%0D%0A%20*%20%60ng-controller%3D%22as%20propertyName%22%60.%0D%0A%20*%0D%0A%20*%20If%20the%20current%20%60%24controllerProvider%60%20is%20configured%20to%20use%20globals%20%28via%0D%0A%20*%20%7B@link%20ng.%24controllerProvider%23allowGlobals%20%60%24controllerProvider.allowGlobals%28%29%60%20%7D%29%2C%20this%20may%0D%0A%20*%20also%20be%20the%20name%20of%20a%20globally%20accessible%20constructor%20function%20%28not%20recommended%29.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20Here%20is%20a%20simple%20form%20for%20editing%20user%20contact%20information.%20Adding%2C%20removing%2C%20clearing%2C%20and%0D%0A%20*%20greeting%20are%20methods%20declared%20on%20the%20controller%20%28see%20source%20tab%29.%20These%20methods%20can%0D%0A%20*%20easily%20be%20called%20from%20the%20angular%20markup.%20Any%20changes%20to%20the%20data%20are%20automatically%20reflected%0D%0A%20*%20in%20the%20View%20without%20the%20need%20for%20a%20manual%20update.%0D%0A%20*%0D%0A%20*%20Two%20different%20declaration%20styles%20are%20included%20below%3A%0D%0A%20*%0D%0A%20*%20*%20one%20binds%20methods%20and%20properties%20directly%20onto%20the%20controller%20using%20%60this%60%3A%0D%0A%20*%20%60ng-controller%3D%22SettingsController1%20as%20settings%22%60%0D%0A%20*%20*%20one%20injects%20%60%24scope%60%20into%20the%20controller%3A%0D%0A%20*%20%60ng-controller%3D%22SettingsController2%22%60%0D%0A%20*%0D%0A%20*%20The%20second%20option%20is%20more%20common%20in%20the%20Angular%20community%2C%20and%20is%20generally%20used%20in%20boilerplates%0D%0A%20*%20and%20in%20this%20guide.%20However%2C%20there%20are%20advantages%20to%20binding%20properties%20directly%20to%20the%20controller%0D%0A%20*%20and%20avoiding%20scope.%0D%0A%20*%0D%0A%20*%20*%20Using%20%60controller%20as%60%20makes%20it%20obvious%20which%20controller%20you%20are%20accessing%20in%20the%20template%20when%0D%0A%20*%20multiple%20controllers%20apply%20to%20an%20element.%0D%0A%20*%20*%20If%20you%20are%20writing%20your%20controllers%20as%20classes%20you%20have%20easier%20access%20to%20the%20properties%20and%0D%0A%20*%20methods%2C%20which%20will%20appear%20on%20the%20scope%2C%20from%20inside%20the%20controller%20code.%0D%0A%20*%20*%20Since%20there%20is%20always%20a%20%60.%60%20in%20the%20bindings%2C%20you%20don%27t%20have%20to%20worry%20about%20prototypal%0D%0A%20*%20inheritance%20masking%20primitives.%0D%0A%20*%0D%0A%20*%20This%20example%20demonstrates%20the%20%60controller%20as%60%20syntax.%0D%0A%20*%0D%0A%20*%20%3Cexample%20name%3D%22ngControllerAs%22%20module%3D%22controllerAsExample%22%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%20%3Cdiv%20id%3D%22ctrl-as-exmpl%22%20ng-controller%3D%22SettingsController1%20as%20settings%22%3E%0D%0A%20*%20%20%20%20%20%20%3Clabel%3EName%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22settings.name%22/%3E%3C/label%3E%0D%0A%20*%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22settings.greet%28%29%22%3Egreet%3C/button%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20Contact%3A%0D%0A%20*%20%20%20%20%20%20%3Cul%3E%0D%0A%20*%20%20%20%20%20%20%20%20%3Cli%20ng-repeat%3D%22contact%20in%20settings.contacts%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22contact.type%22%20aria-label%3D%22Contact%20method%22%20id%3D%22select_%7B%7B%24index%7D%7D%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%3Ephone%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%3Eemail%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22contact.value%22%20aria-labelledby%3D%22select_%7B%7B%24index%7D%7D%22%20/%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22settings.clearContact%28contact%29%22%3Eclear%3C/button%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22settings.removeContact%28contact%29%22%20aria-label%3D%22Remove%22%3EX%3C/button%3E%0D%0A%20*%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20*%20%20%20%20%20%20%20%20%3Cli%3E%3Cbutton%20ng-click%3D%22settings.addContact%28%29%22%3Eadd%3C/button%3E%3C/li%3E%0D%0A%20*%20%20%20%20%20%3C/ul%3E%0D%0A%20*%20%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20*%20%20%20%20angular.module%28%27controllerAsExample%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20%20%20%20.controller%28%27SettingsController1%27%2C%20SettingsController1%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20function%20SettingsController1%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20this.name%20%3D%20%22John%20Smith%22%3B%0D%0A%20*%20%20%20%20%20%20this.contacts%20%3D%20%5B%0D%0A%20*%20%20%20%20%20%20%20%20%7Btype%3A%20%27phone%27%2C%20value%3A%20%27408%20555%201212%27%7D%2C%0D%0A%20*%20%20%20%20%20%20%20%20%7Btype%3A%20%27email%27%2C%20value%3A%20%27john.smith@example.org%27%7D%20%5D%3B%0D%0A%20*%20%20%20%20%7D%0D%0A%20*%0D%0A%20*%20%20%20%20SettingsController1.prototype.greet%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20alert%28this.name%29%3B%0D%0A%20*%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20SettingsController1.prototype.addContact%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20this.contacts.push%28%7Btype%3A%20%27email%27%2C%20value%3A%20%27yourname@example.org%27%7D%29%3B%0D%0A%20*%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20SettingsController1.prototype.removeContact%20%3D%20function%28contactToRemove%29%20%7B%0D%0A%20*%20%20%20%20%20var%20index%20%3D%20this.contacts.indexOf%28contactToRemove%29%3B%0D%0A%20*%20%20%20%20%20%20this.contacts.splice%28index%2C%201%29%3B%0D%0A%20*%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20SettingsController1.prototype.clearContact%20%3D%20function%28contact%29%20%7B%0D%0A%20*%20%20%20%20%20%20contact.type%20%3D%20%27phone%27%3B%0D%0A%20*%20%20%20%20%20%20contact.value%20%3D%20%27%27%3B%0D%0A%20*%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20%20it%28%27should%20check%20controller%20as%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20var%20container%20%3D%20element%28by.id%28%27ctrl-as-exmpl%27%29%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20expect%28container.element%28by.model%28%27settings.name%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.getAttribute%28%27value%27%29%29.toBe%28%27John%20Smith%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20var%20firstRepeat%20%3D%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20container.element%28by.repeater%28%27contact%20in%20settings.contacts%27%29.row%280%29%29%3B%0D%0A%20*%20%20%20%20%20%20%20var%20secondRepeat%20%3D%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20container.element%28by.repeater%28%27contact%20in%20settings.contacts%27%29.row%281%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28firstRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.toBe%28%27408%20555%201212%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28secondRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.toBe%28%27john.smith@example.org%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20firstRepeat.element%28by.buttonText%28%27clear%27%29%29.click%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28firstRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.toBe%28%27%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20container.element%28by.buttonText%28%27add%27%29%29.click%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28container.element%28by.repeater%28%27contact%20in%20settings.contacts%27%29.row%282%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.element%28by.model%28%27contact.value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20.toBe%28%27yourname@example.org%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20This%20example%20demonstrates%20the%20%22attach%20to%20%60%24scope%60%22%20style%20of%20controller.%0D%0A%20*%0D%0A%20*%20%3Cexample%20name%3D%22ngController%22%20module%3D%22controllerExample%22%3E%0D%0A%20*%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%3Cdiv%20id%3D%22ctrl-exmpl%22%20ng-controller%3D%22SettingsController2%22%3E%0D%0A%20*%20%20%20%20%20%3Clabel%3EName%3A%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22name%22/%3E%3C/label%3E%0D%0A%20*%20%20%20%20%20%3Cbutton%20ng-click%3D%22greet%28%29%22%3Egreet%3C/button%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20Contact%3A%0D%0A%20*%20%20%20%20%20%3Cul%3E%0D%0A%20*%20%20%20%20%20%20%20%3Cli%20ng-repeat%3D%22contact%20in%20contacts%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22contact.type%22%20id%3D%22select_%7B%7B%24index%7D%7D%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%3Ephone%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%3Eemail%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22contact.value%22%20aria-labelledby%3D%22select_%7B%7B%24index%7D%7D%22%20/%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22clearContact%28contact%29%22%3Eclear%3C/button%3E%0D%0A%20*%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22removeContact%28contact%29%22%3EX%3C/button%3E%0D%0A%20*%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20*%20%20%20%20%20%20%20%3Cli%3E%5B%20%3Cbutton%20ng-click%3D%22addContact%28%29%22%3Eadd%3C/button%3E%20%5D%3C/li%3E%0D%0A%20*%20%20%20%20%3C/ul%3E%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%20%3C/file%3E%0D%0A%20*%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20*%20%20%20angular.module%28%27controllerExample%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20%20%20.controller%28%27SettingsController2%27%2C%20%5B%27%24scope%27%2C%20SettingsController2%5D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20function%20SettingsController2%28%24scope%29%20%7B%0D%0A%20*%20%20%20%20%20%24scope.name%20%3D%20%22John%20Smith%22%3B%0D%0A%20*%20%20%20%20%20%24scope.contacts%20%3D%20%5B%0D%0A%20*%20%20%20%20%20%20%20%7Btype%3A%27phone%27%2C%20value%3A%27408%20555%201212%27%7D%2C%0D%0A%20*%20%20%20%20%20%20%20%7Btype%3A%27email%27%2C%20value%3A%27john.smith@example.org%27%7D%20%5D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%24scope.greet%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20alert%28%24scope.name%29%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%24scope.addContact%20%3D%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%24scope.contacts.push%28%7Btype%3A%27email%27%2C%20value%3A%27yourname@example.org%27%7D%29%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%24scope.removeContact%20%3D%20function%28contactToRemove%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20var%20index%20%3D%20%24scope.contacts.indexOf%28contactToRemove%29%3B%0D%0A%20*%20%20%20%20%20%20%20%24scope.contacts.splice%28index%2C%201%29%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%24scope.clearContact%20%3D%20function%28contact%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20contact.type%20%3D%20%27phone%27%3B%0D%0A%20*%20%20%20%20%20%20%20contact.value%20%3D%20%27%27%3B%0D%0A%20*%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%7D%0D%0A%20*%20%20%3C/file%3E%0D%0A%20*%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20it%28%27should%20check%20controller%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20var%20container%20%3D%20element%28by.id%28%27ctrl-exmpl%27%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20expect%28container.element%28by.model%28%27name%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.getAttribute%28%27value%27%29%29.toBe%28%27John%20Smith%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20var%20firstRepeat%20%3D%0D%0A%20*%20%20%20%20%20%20%20%20%20%20container.element%28by.repeater%28%27contact%20in%20contacts%27%29.row%280%29%29%3B%0D%0A%20*%20%20%20%20%20%20var%20secondRepeat%20%3D%0D%0A%20*%20%20%20%20%20%20%20%20%20%20container.element%28by.repeater%28%27contact%20in%20contacts%27%29.row%281%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20expect%28firstRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.toBe%28%27408%20555%201212%27%29%3B%0D%0A%20*%20%20%20%20%20%20expect%28secondRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.toBe%28%27john.smith@example.org%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20firstRepeat.element%28by.buttonText%28%27clear%27%29%29.click%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20expect%28firstRepeat.element%28by.model%28%27contact.value%27%29%29.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.toBe%28%27%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20container.element%28by.buttonText%28%27add%27%29%29.click%28%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20expect%28container.element%28by.repeater%28%27contact%20in%20contacts%27%29.row%282%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.element%28by.model%28%27contact.value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.getAttribute%28%27value%27%29%29%0D%0A%20*%20%20%20%20%20%20%20%20%20%20.toBe%28%27yourname@example.org%27%29%3B%0D%0A%20*%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%3C/file%3E%0D%0A%20*%3C/example%3E%0D%0A%0D%0A%20*/%0D%0Avar%20ngControllerDirective%20%3D%20%5Bfunction%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20scope%3A%20true%2C%0D%0A%20%20%20%20controller%3A%20%27@%27%2C%0D%0A%20%20%20%20priority%3A%20500%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngCsp%0D%0A%20*%0D%0A%20*%20@element%20html%0D%0A%20*%20@description%0D%0A%20*%20Enables%20%5BCSP%20%28Content%20Security%20Policy%29%5D%28https%3A//developer.mozilla.org/en/Security/CSP%29%20support.%0D%0A%20*%0D%0A%20*%20This%20is%20necessary%20when%20developing%20things%20like%20Google%20Chrome%20Extensions%20or%20Universal%20Windows%20Apps.%0D%0A%20*%0D%0A%20*%20CSP%20forbids%20apps%20to%20use%20%60eval%60%20or%20%60Function%28string%29%60%20generated%20functions%20%28among%20other%20things%29.%0D%0A%20*%20For%20Angular%20to%20be%20CSP%20compatible%20there%20are%20only%20two%20things%20that%20we%20need%20to%20do%20differently%3A%0D%0A%20*%0D%0A%20*%20-%20don%27t%20use%20%60Function%60%20constructor%20to%20generate%20optimized%20value%20getters%0D%0A%20*%20-%20don%27t%20inject%20custom%20stylesheet%20into%20the%20document%0D%0A%20*%0D%0A%20*%20AngularJS%20uses%20%60Function%28string%29%60%20generated%20functions%20as%20a%20speed%20optimization.%20Applying%20the%20%60ngCsp%60%0D%0A%20*%20directive%20will%20cause%20Angular%20to%20use%20CSP%20compatibility%20mode.%20When%20this%20mode%20is%20on%20AngularJS%20will%0D%0A%20*%20evaluate%20all%20expressions%20up%20to%2030%25%20slower%20than%20in%20non-CSP%20mode%2C%20but%20no%20security%20violations%20will%0D%0A%20*%20be%20raised.%0D%0A%20*%0D%0A%20*%20CSP%20forbids%20JavaScript%20to%20inline%20stylesheet%20rules.%20In%20non%20CSP%20mode%20Angular%20automatically%0D%0A%20*%20includes%20some%20CSS%20rules%20%28e.g.%20%7B@link%20ng.directive%3AngCloak%20ngCloak%7D%29.%0D%0A%20*%20To%20make%20those%20directives%20work%20in%20CSP%20mode%2C%20include%20the%20%60angular-csp.css%60%20manually.%0D%0A%20*%0D%0A%20*%20Angular%20tries%20to%20autodetect%20if%20CSP%20is%20active%20and%20automatically%20turn%20on%20the%20CSP-safe%20mode.%20This%0D%0A%20*%20autodetection%20however%20triggers%20a%20CSP%20error%20to%20be%20logged%20in%20the%20console%3A%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20Refused%20to%20evaluate%20a%20string%20as%20JavaScript%20because%20%27unsafe-eval%27%20is%20not%20an%20allowed%20source%20of%0D%0A%20*%20script%20in%20the%20following%20Content%20Security%20Policy%20directive%3A%20%22default-src%20%27self%27%22.%20Note%20that%0D%0A%20*%20%27script-src%27%20was%20not%20explicitly%20set%2C%20so%20%27default-src%27%20is%20used%20as%20a%20fallback.%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20This%20error%20is%20harmless%20but%20annoying.%20To%20prevent%20the%20error%20from%20showing%20up%2C%20put%20the%20%60ngCsp%60%0D%0A%20*%20directive%20on%20the%20root%20element%20of%20the%20application%20or%20on%20the%20%60angular.js%60%20script%20tag%2C%20whichever%0D%0A%20*%20appears%20first%20in%20the%20html%20document.%0D%0A%20*%0D%0A%20*%20*Note%3A%20This%20directive%20is%20only%20available%20in%20the%20%60ng-csp%60%20and%20%60data-ng-csp%60%20attribute%20form.*%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20This%20example%20shows%20how%20to%20apply%20the%20%60ngCsp%60%20directive%20to%20the%20%60html%60%20tag.%0D%0A%20%20%20%60%60%60html%0D%0A%20%20%20%20%20%3C%21doctype%20html%3E%0D%0A%20%20%20%20%20%3Chtml%20ng-app%20ng-csp%3E%0D%0A%20%20%20%20%20...%0D%0A%20%20%20%20%20...%0D%0A%20%20%20%20%20%3C/html%3E%0D%0A%20%20%20%60%60%60%0D%0A%20%20*%20@example%0D%0A%20%20%20%20%20%20//%20Note%3A%20the%20suffix%20%60.csp%60%20in%20the%20example%20name%20triggers%0D%0A%20%20%20%20%20%20//%20csp%20mode%20in%20our%20http%20server%21%0D%0A%20%20%20%20%20%20%3Cexample%20name%3D%22example.csp%22%20module%3D%22cspExample%22%20ng-csp%3D%22true%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22MainController%20as%20ctrl%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22ctrl.inc%28%29%22%20id%3D%22inc%22%3EIncrement%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22counter%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7Bctrl.counter%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22ctrl.evil%28%29%22%20id%3D%22evil%22%3EEvil%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22evilError%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7Bctrl.evilError%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20angular.module%28%27cspExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27MainController%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.counter%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inc%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.counter++%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.evil%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20jshint%20evil%3Atrue%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eval%28%271+2%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.evilError%20%3D%20e.message%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20var%20util%2C%20webdriver%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20incBtn%20%3D%20element%28by.id%28%27inc%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20counter%20%3D%20element%28by.id%28%27counter%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20evilBtn%20%3D%20element%28by.id%28%27evil%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20evilError%20%3D%20element%28by.id%28%27evilError%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20function%20getAndClearSevereErrors%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20browser.manage%28%29.logs%28%29.get%28%27browser%27%29.then%28function%28browserLog%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20browserLog.filter%28function%28logEntry%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20logEntry.level.value%20%3E%20webdriver.logging.Level.WARNING.value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20function%20clearErrors%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20getAndClearSevereErrors%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20function%20expectNoErrors%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20getAndClearSevereErrors%28%29.then%28function%28filteredLog%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20expect%28filteredLog.length%29.toEqual%280%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28filteredLog.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27browser%20console%20errors%3A%20%27%20+%20util.inspect%28filteredLog%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20function%20expectError%28regex%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20getAndClearSevereErrors%28%29.then%28function%28filteredLog%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20found%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredLog.forEach%28function%28log%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28log.message.match%28regex%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20found%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21found%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27expected%20an%20error%20that%20matches%20%27%20+%20regex%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20beforeEach%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util%20%3D%20require%28%27util%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20webdriver%20%3D%20require%28%27protractor/node_modules/selenium-webdriver%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20For%20now%2C%20we%20only%20test%20on%20Chrome%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20as%20Safari%20does%20not%20load%20the%20page%20with%20Protractor%27s%20injected%20scripts%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20and%20Firefox%20webdriver%20always%20disables%20content%20security%20policy%20%28%236358%29%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28browser.params.browser%20%21%3D%3D%20%27chrome%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20not%20report%20errors%20when%20the%20page%20is%20loaded%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20clear%20errors%20so%20we%20are%20not%20dependent%20on%20previous%20tests%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearErrors%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Need%20to%20reload%20the%20page%20as%20the%20page%20is%20already%20loaded%20when%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20come%20here%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20browser.driver.getCurrentUrl%28%29.then%28function%28url%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20browser.get%28url%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expectNoErrors%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20evaluate%20expressions%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28counter.getText%28%29%29.toEqual%28%270%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20incBtn.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28counter.getText%28%29%29.toEqual%28%271%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expectNoErrors%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20it%28%27should%20throw%20and%20report%20an%20error%20when%20using%20%22eval%22%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20evilBtn.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expect%28evilError.getText%28%29%29.toMatch%28/Content%20Security%20Policy/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expectError%28/Content%20Security%20Policy/%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3C/example%3E%0D%0A%20%20*/%0D%0A%0D%0A//%20ngCsp%20is%20not%20implemented%20as%20a%20proper%20directive%20any%20more%2C%20because%20we%20need%20it%20be%20processed%20while%20we%0D%0A//%20bootstrap%20the%20system%20%28before%20%24parse%20is%20instantiated%29%2C%20for%20this%20reason%20we%20just%20have%0D%0A//%20the%20csp.isActive%28%29%20fn%20that%20looks%20for%20ng-csp%20attribute%20anywhere%20in%20the%20current%20doc%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngClick%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20ngClick%20directive%20allows%20you%20to%20specify%20custom%20behavior%20when%0D%0A%20*%20an%20element%20is%20clicked.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngClick%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20click.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20%3Cspan%3E%0D%0A%20%20%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-click%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27count%27%29%29.getText%28%29%29.toMatch%28%270%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27button%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27count%27%29%29.getText%28%29%29.toMatch%28%271%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A/*%0D%0A%20*%20A%20collection%20of%20directives%20that%20allows%20creation%20of%20custom%20event%20handlers%20that%20are%20defined%20as%0D%0A%20*%20angular%20expressions%20and%20are%20compiled%20and%20executed%20within%20the%20current%20scope.%0D%0A%20*/%0D%0Avar%20ngEventDirectives%20%3D%20%7B%7D%3B%0D%0A%0D%0A//%20For%20events%20that%20might%20fire%20synchronously%20during%20DOM%20manipulation%0D%0A//%20we%20need%20to%20execute%20their%20event%20handlers%20asynchronously%20using%20%24evalAsync%2C%0D%0A//%20so%20that%20they%20are%20not%20executed%20in%20an%20inconsistent%20state.%0D%0Avar%20forceAsyncEvents%20%3D%20%7B%0D%0A%20%20%27blur%27%3A%20true%2C%0D%0A%20%20%27focus%27%3A%20true%0D%0A%7D%3B%0D%0AforEach%28%0D%0A%20%20%27click%20dblclick%20mousedown%20mouseup%20mouseover%20mouseout%20mousemove%20mouseenter%20mouseleave%20keydown%20keyup%20keypress%20submit%20focus%20blur%20copy%20cut%20paste%27.split%28%27%20%27%29%2C%0D%0A%20%20function%28eventName%29%20%7B%0D%0A%20%20%20%20var%20directiveName%20%3D%20directiveNormalize%28%27ng-%27%20+%20eventName%29%3B%0D%0A%20%20%20%20ngEventDirectives%5BdirectiveName%5D%20%3D%20%5B%27%24parse%27%2C%20%27%24rootScope%27%2C%20function%28%24parse%2C%20%24rootScope%29%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20%20%20%20%20compile%3A%20function%28%24element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20We%20expose%20the%20powerful%20%24event%20object%20on%20the%20scope%20that%20provides%20access%20to%20the%20Window%2C%0D%0A%20%20%20%20%20%20%20%20%20%20//%20etc.%20that%20isn%27t%20protected%20by%20the%20fast%20paths%20in%20%24parse.%20%20We%20explicitly%20request%20better%0D%0A%20%20%20%20%20%20%20%20%20%20//%20checks%20at%20the%20cost%20of%20speed%20since%20event%20handler%20expressions%20are%20not%20executed%20as%0D%0A%20%20%20%20%20%20%20%20%20%20//%20frequently%20as%20regular%20change%20detection.%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fn%20%3D%20%24parse%28attr%5BdirectiveName%5D%2C%20/*%20interceptorFn%20*/%20null%2C%20/*%20expensiveChecks%20*/%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%20ngEventHandler%28scope%2C%20element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20element.on%28eventName%2C%20function%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20callback%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fn%28scope%2C%20%7B%24event%3Aevent%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28forceAsyncEvents%5BeventName%5D%20%26%26%20%24rootScope.%24%24phase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24evalAsync%28callback%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24apply%28callback%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%5D%3B%0D%0A%20%20%7D%0D%0A%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngDblclick%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngDblclick%60%20directive%20allows%20you%20to%20specify%20custom%20behavior%20on%20a%20dblclick%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngDblclick%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20a%20dblclick.%20%28The%20Event%20object%20is%20available%20as%20%60%24event%60%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-dblclick%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28on%20double%20click%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMousedown%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20ngMousedown%20directive%20allows%20you%20to%20specify%20custom%20behavior%20on%20mousedown%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMousedown%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mousedown.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mousedown%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28on%20mouse%20down%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMouseup%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20mouseup%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMouseup%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mouseup.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mouseup%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28on%20mouse%20up%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMouseover%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20mouseover%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMouseover%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mouseover.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mouseover%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28when%20mouse%20is%20over%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMouseenter%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20mouseenter%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMouseenter%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mouseenter.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mouseenter%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28when%20mouse%20enters%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMouseleave%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20mouseleave%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMouseleave%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mouseleave.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mouseleave%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28when%20mouse%20leaves%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngMousemove%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20mousemove%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngMousemove%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20mousemove.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cbutton%20ng-mousemove%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20%20%20Increment%20%28when%20mouse%20moves%29%0D%0A%20%20%20%20%20%20%3C/button%3E%0D%0A%20%20%20%20%20%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngKeydown%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20keydown%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngKeydown%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20keydown.%20%28Event%20object%20is%20available%20as%20%60%24event%60%20and%20can%20be%20interrogated%20for%20keyCode%2C%20altKey%2C%20etc.%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-keydown%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20key%20down%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngKeyup%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20keyup%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngKeyup%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20keyup.%20%28Event%20object%20is%20available%20as%20%60%24event%60%20and%20can%20be%20interrogated%20for%20keyCode%2C%20altKey%2C%20etc.%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cp%3ETyping%20in%20the%20input%20box%20below%20updates%20the%20key%20count%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-keyup%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%20key%20up%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%3Cp%3ETyping%20in%20the%20input%20box%20below%20updates%20the%20keycode%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cinput%20ng-keyup%3D%22event%3D%24event%22%3E%0D%0A%20%20%20%20%20%20%20%3Cp%3Eevent%20keyCode%3A%20%7B%7B%20event.keyCode%20%7D%7D%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cp%3Eevent%20altKey%3A%20%7B%7B%20event.altKey%20%7D%7D%3C/p%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngKeypress%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20keypress%20event.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngKeypress%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20keypress.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%0D%0A%20*%20and%20can%20be%20interrogated%20for%20keyCode%2C%20altKey%2C%20etc.%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-keypress%3D%22count%20%3D%20count%20+%201%22%20ng-init%3D%22count%3D0%22%3E%0D%0A%20%20%20%20%20%20key%20press%20count%3A%20%7B%7Bcount%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngSubmit%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Enables%20binding%20angular%20expressions%20to%20onsubmit%20events.%0D%0A%20*%0D%0A%20*%20Additionally%20it%20prevents%20the%20default%20action%20%28which%20for%20form%20means%20sending%20the%20request%20to%20the%0D%0A%20*%20server%20and%20reloading%20the%20current%20page%29%2C%20but%20only%20if%20the%20form%20does%20not%20contain%20%60action%60%2C%0D%0A%20*%20%60data-action%60%2C%20or%20%60x-action%60%20attributes.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Warning%3A**%20Be%20careful%20not%20to%20cause%20%22double-submission%22%20by%20using%20both%20the%20%60ngClick%60%20and%0D%0A%20*%20%60ngSubmit%60%20handlers%20together.%20See%20the%0D%0A%20*%20%7B@link%20form%23submitting-a-form-and-preventing-the-default-action%20%60form%60%20directive%20documentation%7D%0D%0A%20*%20for%20a%20detailed%20discussion%20of%20when%20%60ngSubmit%60%20may%20be%20triggered.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20@element%20form%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngSubmit%20%7B@link%20guide/expression%20Expression%7D%20to%20eval.%0D%0A%20*%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22submitExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20angular.module%28%27submitExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.list%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.text%20%3D%20%27hello%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.submit%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24scope.text%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.list.push%28this.text%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.text%20%3D%20%27%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%3Cform%20ng-submit%3D%22submit%28%29%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20Enter%20text%20and%20hit%20enter%3A%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22text%22%20name%3D%22text%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22submit%22%20id%3D%22submit%22%20value%3D%22Submit%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%3Elist%3D%7B%7Blist%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-submit%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27list%27%29%29.getText%28%29%29.toBe%28%27list%3D%5B%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27%23submit%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27list%27%29%29.getText%28%29%29.toContain%28%27hello%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.model%28%27text%27%29%29.getAttribute%28%27value%27%29%29.toBe%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20it%28%27should%20ignore%20empty%20strings%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27list%27%29%29.getText%28%29%29.toBe%28%27list%3D%5B%5D%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27%23submit%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27%23submit%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27list%27%29%29.getText%28%29%29.toContain%28%27hello%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngFocus%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20focus%20event.%0D%0A%20*%0D%0A%20*%20Note%3A%20As%20the%20%60focus%60%20event%20is%20executed%20synchronously%20when%20calling%20%60input.focus%28%29%60%0D%0A%20*%20AngularJS%20executes%20the%20expression%20using%20%60scope.%24evalAsync%60%20if%20the%20event%20is%20fired%0D%0A%20*%20during%20an%20%60%24apply%60%20to%20ensure%20a%20consistent%20state.%0D%0A%20*%0D%0A%20*%20@element%20window%2C%20input%2C%20select%2C%20textarea%2C%20a%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngFocus%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20focus.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20See%20%7B@link%20ng.directive%3AngClick%20ngClick%7D%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngBlur%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20blur%20event.%0D%0A%20*%0D%0A%20*%20A%20%5Bblur%20event%5D%28https%3A//developer.mozilla.org/en-US/docs/Web/Events/blur%29%20fires%20when%0D%0A%20*%20an%20element%20has%20lost%20focus.%0D%0A%20*%0D%0A%20*%20Note%3A%20As%20the%20%60blur%60%20event%20is%20executed%20synchronously%20also%20during%20DOM%20manipulations%0D%0A%20*%20%28e.g.%20removing%20a%20focussed%20input%29%2C%0D%0A%20*%20AngularJS%20executes%20the%20expression%20using%20%60scope.%24evalAsync%60%20if%20the%20event%20is%20fired%0D%0A%20*%20during%20an%20%60%24apply%60%20to%20ensure%20a%20consistent%20state.%0D%0A%20*%0D%0A%20*%20@element%20window%2C%20input%2C%20select%2C%20textarea%2C%20a%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngBlur%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20blur.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20See%20%7B@link%20ng.directive%3AngClick%20ngClick%7D%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngCopy%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20copy%20event.%0D%0A%20*%0D%0A%20*%20@element%20window%2C%20input%2C%20select%2C%20textarea%2C%20a%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngCopy%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20copy.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-copy%3D%22copied%3Dtrue%22%20ng-init%3D%22copied%3Dfalse%3B%20value%3D%27copy%20me%27%22%20ng-model%3D%22value%22%3E%0D%0A%20%20%20%20%20%20copied%3A%20%7B%7Bcopied%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngCut%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20cut%20event.%0D%0A%20*%0D%0A%20*%20@element%20window%2C%20input%2C%20select%2C%20textarea%2C%20a%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngCut%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20cut.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-cut%3D%22cut%3Dtrue%22%20ng-init%3D%22cut%3Dfalse%3B%20value%3D%27cut%20me%27%22%20ng-model%3D%22value%22%3E%0D%0A%20%20%20%20%20%20cut%3A%20%7B%7Bcut%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngPaste%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Specify%20custom%20behavior%20on%20paste%20event.%0D%0A%20*%0D%0A%20*%20@element%20window%2C%20input%2C%20select%2C%20textarea%2C%20a%0D%0A%20*%20@priority%200%0D%0A%20*%20@param%20%7Bexpression%7D%20ngPaste%20%7B@link%20guide/expression%20Expression%7D%20to%20evaluate%20upon%0D%0A%20*%20paste.%20%28%7B@link%20guide/expression%23-event-%20Event%20object%20is%20available%20as%20%60%24event%60%7D%29%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cinput%20ng-paste%3D%22paste%3Dtrue%22%20ng-init%3D%22paste%3Dfalse%22%20placeholder%3D%27paste%20here%27%3E%0D%0A%20%20%20%20%20%20pasted%3A%20%7B%7Bpaste%7D%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngIf%0D%0A%20*%20@restrict%20A%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngIf%60%20directive%20removes%20or%20recreates%20a%20portion%20of%20the%20DOM%20tree%20based%20on%20an%0D%0A%20*%20%7Bexpression%7D.%20If%20the%20expression%20assigned%20to%20%60ngIf%60%20evaluates%20to%20a%20false%0D%0A%20*%20value%20then%20the%20element%20is%20removed%20from%20the%20DOM%2C%20otherwise%20a%20clone%20of%20the%0D%0A%20*%20element%20is%20reinserted%20into%20the%20DOM.%0D%0A%20*%0D%0A%20*%20%60ngIf%60%20differs%20from%20%60ngShow%60%20and%20%60ngHide%60%20in%20that%20%60ngIf%60%20completely%20removes%20and%20recreates%20the%0D%0A%20*%20element%20in%20the%20DOM%20rather%20than%20changing%20its%20visibility%20via%20the%20%60display%60%20css%20property.%20%20A%20common%0D%0A%20*%20case%20when%20this%20difference%20is%20significant%20is%20when%20using%20css%20selectors%20that%20rely%20on%20an%20element%27s%0D%0A%20*%20position%20within%20the%20DOM%2C%20such%20as%20the%20%60%3Afirst-child%60%20or%20%60%3Alast-child%60%20pseudo-classes.%0D%0A%20*%0D%0A%20*%20Note%20that%20when%20an%20element%20is%20removed%20using%20%60ngIf%60%20its%20scope%20is%20destroyed%20and%20a%20new%20scope%0D%0A%20*%20is%20created%20when%20the%20element%20is%20restored.%20%20The%20scope%20created%20within%20%60ngIf%60%20inherits%20from%0D%0A%20*%20its%20parent%20scope%20using%0D%0A%20*%20%5Bprototypal%20inheritance%5D%28https%3A//github.com/angular/angular.js/wiki/Understanding-Scopes%23javascript-prototypal-inheritance%29.%0D%0A%20*%20An%20important%20implication%20of%20this%20is%20if%20%60ngModel%60%20is%20used%20within%20%60ngIf%60%20to%20bind%20to%0D%0A%20*%20a%20javascript%20primitive%20defined%20in%20the%20parent%20scope.%20In%20this%20case%20any%20modifications%20made%20to%20the%0D%0A%20*%20variable%20within%20the%20child%20scope%20will%20override%20%28hide%29%20the%20value%20in%20the%20parent%20scope.%0D%0A%20*%0D%0A%20*%20Also%2C%20%60ngIf%60%20recreates%20elements%20using%20their%20compiled%20state.%20An%20example%20of%20this%20behavior%0D%0A%20*%20is%20if%20an%20element%27s%20class%20attribute%20is%20directly%20modified%20after%20it%27s%20compiled%2C%20using%20something%20like%0D%0A%20*%20jQuery%27s%20%60.addClass%28%29%60%20method%2C%20and%20the%20element%20is%20later%20removed.%20When%20%60ngIf%60%20recreates%20the%20element%0D%0A%20*%20the%20added%20class%20will%20be%20lost%20because%20the%20original%20compiled%20state%20is%20used%20to%20regenerate%20the%20element.%0D%0A%20*%0D%0A%20*%20Additionally%2C%20you%20can%20provide%20animations%20via%20the%20%60ngAnimate%60%20module%20to%20animate%20the%20%60enter%60%0D%0A%20*%20and%20%60leave%60%20effects.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20enter%20-%20happens%20just%20after%20the%20%60ngIf%60%20contents%20change%20and%20a%20new%20DOM%20element%20is%20created%20and%20injected%20into%20the%20%60ngIf%60%20container%0D%0A%20*%20leave%20-%20happens%20just%20before%20the%20%60ngIf%60%20contents%20are%20removed%20from%20the%20DOM%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@scope%0D%0A%20*%20@priority%20600%0D%0A%20*%20@param%20%7Bexpression%7D%20ngIf%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20falsy%20then%0D%0A%20*%20%20%20%20%20the%20element%20is%20removed%20from%20the%20DOM%20tree.%20If%20it%20is%20truthy%20a%20copy%20of%20the%20compiled%0D%0A%20*%20%20%20%20%20element%20is%20added%20to%20the%20DOM%20tree.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22ngAnimate%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Clabel%3EClick%20me%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checked%22%20ng-init%3D%22checked%3Dtrue%22%20/%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20Show%20when%20checked%3A%0D%0A%20%20%20%20%20%20%3Cspan%20ng-if%3D%22checked%22%20class%3D%22animate-if%22%3E%0D%0A%20%20%20%20%20%20%20%20This%20is%20removed%20when%20the%20checkbox%20is%20unchecked.%0D%0A%20%20%20%20%20%20%3C/span%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.animate-if%20%7B%0D%0A%20%20%20%20%20%20%20%20background%3Awhite%3B%0D%0A%20%20%20%20%20%20%20%20border%3A1px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A10px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-if.ng-enter%2C%20.animate-if.ng-leave%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-if.ng-enter%2C%0D%0A%20%20%20%20%20%20.animate-if.ng-leave.ng-leave-active%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-if.ng-leave%2C%0D%0A%20%20%20%20%20%20.animate-if.ng-enter.ng-enter-active%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity%3A1%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngIfDirective%20%3D%20%5B%27%24animate%27%2C%20function%28%24animate%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20multiElement%3A%20true%2C%0D%0A%20%20%20%20transclude%3A%20%27element%27%2C%0D%0A%20%20%20%20priority%3A%20600%2C%0D%0A%20%20%20%20terminal%3A%20true%2C%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20%24%24tlb%3A%20true%2C%0D%0A%20%20%20%20link%3A%20function%28%24scope%2C%20%24element%2C%20%24attr%2C%20ctrl%2C%20%24transclude%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20block%2C%20childScope%2C%20previousElements%3B%0D%0A%20%20%20%20%20%20%20%20%24scope.%24watch%28%24attr.ngIf%2C%20function%20ngIfWatchAction%28value%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21childScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24transclude%28function%28clone%2C%20newScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope%20%3D%20newScope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clone%5Bclone.length++%5D%20%3D%20document.createComment%28%27%20end%20ngIf%3A%20%27%20+%20%24attr.ngIf%20+%20%27%20%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%3A%20We%20only%20need%20the%20first/last%20node%20of%20the%20cloned%20nodes.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20However%2C%20we%20need%20to%20keep%20the%20reference%20to%20the%20jqlite%20wrapper%20as%20it%20might%20be%20changed%20later%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20by%20a%20directive%20with%20templateUrl%20when%20its%20template%20arrives.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clone%3A%20clone%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.enter%28clone%2C%20%24element.parent%28%29%2C%20%24element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28previousElements%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousElements.remove%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousElements%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28childScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope.%24destroy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20childScope%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28block%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousElements%20%3D%20getBlockNodes%28block.clone%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.leave%28previousElements%29.then%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousElements%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngInclude%0D%0A%20*%20@restrict%20ECA%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Fetches%2C%20compiles%20and%20includes%20an%20external%20HTML%20fragment.%0D%0A%20*%0D%0A%20*%20By%20default%2C%20the%20template%20URL%20is%20restricted%20to%20the%20same%20domain%20and%20protocol%20as%20the%0D%0A%20*%20application%20document.%20This%20is%20done%20by%20calling%20%7B@link%20%24sce%23getTrustedResourceUrl%0D%0A%20*%20%24sce.getTrustedResourceUrl%7D%20on%20it.%20To%20load%20templates%20from%20other%20domains%20or%20protocols%0D%0A%20*%20you%20may%20either%20%7B@link%20ng.%24sceDelegateProvider%23resourceUrlWhitelist%20whitelist%20them%7D%20or%0D%0A%20*%20%7B@link%20%24sce%23trustAsResourceUrl%20wrap%20them%7D%20as%20trusted%20values.%20Refer%20to%20Angular%27s%20%7B@link%0D%0A%20*%20ng.%24sce%20Strict%20Contextual%20Escaping%7D.%0D%0A%20*%0D%0A%20*%20In%20addition%2C%20the%20browser%27s%0D%0A%20*%20%5BSame%20Origin%20Policy%5D%28https%3A//code.google.com/p/browsersec/wiki/Part2%23Same-origin_policy_for_XMLHttpRequest%29%0D%0A%20*%20and%20%5BCross-Origin%20Resource%20Sharing%20%28CORS%29%5D%28http%3A//www.w3.org/TR/cors/%29%0D%0A%20*%20policy%20may%20further%20restrict%20whether%20the%20template%20is%20successfully%20loaded.%0D%0A%20*%20For%20example%2C%20%60ngInclude%60%20won%27t%20work%20for%20cross-domain%20requests%20on%20all%20browsers%20and%20for%20%60file%3A//%60%0D%0A%20*%20access%20on%20some%20browsers.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20enter%20-%20animation%20is%20used%20to%20bring%20new%20content%20into%20the%20browser.%0D%0A%20*%20leave%20-%20animation%20is%20used%20to%20animate%20existing%20content%20away.%0D%0A%20*%0D%0A%20*%20The%20enter%20and%20leave%20animation%20occur%20concurrently.%0D%0A%20*%0D%0A%20*%20@scope%0D%0A%20*%20@priority%20400%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20ngInclude%7Csrc%20angular%20expression%20evaluating%20to%20URL.%20If%20the%20source%20is%20a%20string%20constant%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20make%20sure%20you%20wrap%20it%20in%20**single**%20quotes%2C%20e.g.%20%60src%3D%22%27myPartialTemplate.html%27%22%60.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20onload%20Expression%20to%20evaluate%20when%20a%20new%20partial%20is%20loaded.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%3D%7D%20autoscroll%20Whether%20%60ngInclude%60%20should%20call%20%7B@link%20ng.%24anchorScroll%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24anchorScroll%7D%20to%20scroll%20the%20viewport%20after%20the%20content%20is%20loaded.%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-%20If%20the%20attribute%20is%20not%20set%2C%20disable%20scrolling.%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-%20If%20the%20attribute%20is%20set%20without%20value%2C%20enable%20scrolling.%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-%20Otherwise%20enable%20scrolling%20only%20if%20the%20expression%20evaluates%20to%20truthy%20value.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22includeExample%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22template%22%20ng-options%3D%22t.name%20for%20t%20in%20templates%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22%22%3E%28blank%29%3C/option%3E%0D%0A%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%20url%20of%20the%20template%3A%20%3Ccode%3E%7B%7Btemplate.url%7D%7D%3C/code%3E%0D%0A%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20class%3D%22slide-animate-container%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22slide-animate%22%20ng-include%3D%22template.url%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27includeExample%27%2C%20%5B%27ngAnimate%27%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.templates%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%20%7B%20name%3A%20%27template1.html%27%2C%20url%3A%20%27template1.html%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%27template2.html%27%2C%20url%3A%20%27template2.html%27%7D%20%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.template%20%3D%20%24scope.templates%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22template1.html%22%3E%0D%0A%20%20%20%20%20%20Content%20of%20template1.html%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22template2.html%22%3E%0D%0A%20%20%20%20%20%20Content%20of%20template2.html%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.slide-animate-container%20%7B%0D%0A%20%20%20%20%20%20%20%20position%3Arelative%3B%0D%0A%20%20%20%20%20%20%20%20background%3Awhite%3B%0D%0A%20%20%20%20%20%20%20%20border%3A1px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20height%3A40px%3B%0D%0A%20%20%20%20%20%20%20%20overflow%3Ahidden%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.slide-animate%20%7B%0D%0A%20%20%20%20%20%20%20%20padding%3A10px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.slide-animate.ng-enter%2C%20.slide-animate.ng-leave%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20position%3Aabsolute%3B%0D%0A%20%20%20%20%20%20%20%20top%3A0%3B%0D%0A%20%20%20%20%20%20%20%20left%3A0%3B%0D%0A%20%20%20%20%20%20%20%20right%3A0%3B%0D%0A%20%20%20%20%20%20%20%20bottom%3A0%3B%0D%0A%20%20%20%20%20%20%20%20display%3Ablock%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A10px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.slide-animate.ng-enter%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A-50px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20.slide-animate.ng-enter.ng-enter-active%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.slide-animate.ng-leave%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20.slide-animate.ng-leave.ng-leave-active%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A50px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20templateSelect%20%3D%20element%28by.model%28%27template%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20includeElem%20%3D%20element%28by.css%28%27%5Bng-include%5D%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20load%20template1.html%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28includeElem.getText%28%29%29.toMatch%28/Content%20of%20template1.html/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20load%20template2.html%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28browser.params.browser%20%3D%3D%20%27firefox%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Firefox%20can%27t%20handle%20using%20selects%0D%0A%20%20%20%20%20%20%20%20%20%20//%20See%20https%3A//github.com/angular/protractor/issues/480%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20templateSelect.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20templateSelect.all%28by.css%28%27option%27%29%29.get%282%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28includeElem.getText%28%29%29.toMatch%28/Content%20of%20template2.html/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20change%20to%20blank%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28browser.params.browser%20%3D%3D%20%27firefox%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Firefox%20can%27t%20handle%20using%20selects%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20templateSelect.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20templateSelect.all%28by.css%28%27option%27%29%29.get%280%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28includeElem.isPresent%28%29%29.toBe%28false%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20event%0D%0A%20*%20@name%20ngInclude%23%24includeContentRequested%0D%0A%20*%20@eventType%20emit%20on%20the%20scope%20ngInclude%20was%20declared%20in%0D%0A%20*%20@description%0D%0A%20*%20Emitted%20every%20time%20the%20ngInclude%20content%20is%20requested.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20angularEvent%20Synthetic%20event%20object.%0D%0A%20*%20@param%20%7BString%7D%20src%20URL%20of%20content%20to%20load.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20event%0D%0A%20*%20@name%20ngInclude%23%24includeContentLoaded%0D%0A%20*%20@eventType%20emit%20on%20the%20current%20ngInclude%20scope%0D%0A%20*%20@description%0D%0A%20*%20Emitted%20every%20time%20the%20ngInclude%20content%20is%20reloaded.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20angularEvent%20Synthetic%20event%20object.%0D%0A%20*%20@param%20%7BString%7D%20src%20URL%20of%20content%20to%20load.%0D%0A%20*/%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20event%0D%0A%20*%20@name%20ngInclude%23%24includeContentError%0D%0A%20*%20@eventType%20emit%20on%20the%20scope%20ngInclude%20was%20declared%20in%0D%0A%20*%20@description%0D%0A%20*%20Emitted%20when%20a%20template%20HTTP%20request%20yields%20an%20erroneous%20response%20%28status%20%3C%20200%20%7C%7C%20status%20%3E%20299%29%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20angularEvent%20Synthetic%20event%20object.%0D%0A%20*%20@param%20%7BString%7D%20src%20URL%20of%20content%20to%20load.%0D%0A%20*/%0D%0Avar%20ngIncludeDirective%20%3D%20%5B%27%24templateRequest%27%2C%20%27%24anchorScroll%27%2C%20%27%24animate%27%2C%20%27%24sce%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%28%24templateRequest%2C%20%20%20%24anchorScroll%2C%20%20%20%24animate%2C%20%20%20%24sce%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27ECA%27%2C%0D%0A%20%20%20%20priority%3A%20400%2C%0D%0A%20%20%20%20terminal%3A%20true%2C%0D%0A%20%20%20%20transclude%3A%20%27element%27%2C%0D%0A%20%20%20%20controller%3A%20angular.noop%2C%0D%0A%20%20%20%20compile%3A%20function%28element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20var%20srcExp%20%3D%20attr.ngInclude%20%7C%7C%20attr.src%2C%0D%0A%20%20%20%20%20%20%20%20%20%20onloadExp%20%3D%20attr.onload%20%7C%7C%20%27%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20autoScrollExp%20%3D%20attr.autoscroll%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20%24element%2C%20%24attr%2C%20ctrl%2C%20%24transclude%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20changeCounter%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20previousElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentElement%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20cleanupLastIncludeContent%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28previousElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20previousElement.remove%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20previousElement%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScope.%24destroy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScope%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24animate.leave%28currentElement%29.then%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousElement%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20previousElement%20%3D%20currentElement%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentElement%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28%24sce.parseAsResourceUrl%28srcExp%29%2C%20function%20ngIncludeWatchAction%28src%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20afterAnimation%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isDefined%28autoScrollExp%29%20%26%26%20%28%21autoScrollExp%20%7C%7C%20scope.%24eval%28autoScrollExp%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24anchorScroll%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20thisChangeId%20%3D%20++changeCounter%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28src%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//set%20the%202nd%20param%20to%20true%20to%20ignore%20the%20template%20request%20error%20so%20that%20the%20inner%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//contents%20and%20scope%20can%20be%20cleaned%20up.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24templateRequest%28src%2C%20true%29.then%28function%28response%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28thisChangeId%20%21%3D%3D%20changeCounter%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20newScope%20%3D%20scope.%24new%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctrl.template%20%3D%20response%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%3A%20This%20will%20also%20link%20all%20children%20of%20ng-include%20that%20were%20contained%20in%20the%20original%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20html.%20If%20that%20content%20contains%20controllers%2C%20...%20they%20could%20pollute/change%20the%20scope.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20However%2C%20using%20ng-include%20on%20an%20element%20with%20additional%20content%20does%20not%20make%20sense...%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%3A%20We%20can%27t%20remove%20them%20in%20the%20cloneAttchFn%20of%20%24transclude%20as%20that%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20function%20is%20called%20before%20linking%20the%20content%2C%20which%20would%20apply%20child%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20directives%20to%20non%20existing%20elements.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20clone%20%3D%20%24transclude%28newScope%2C%20function%28clone%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cleanupLastIncludeContent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.enter%28clone%2C%20null%2C%20%24element%29.then%28afterAnimation%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentScope%20%3D%20newScope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentElement%20%3D%20clone%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentScope.%24emit%28%27%24includeContentLoaded%27%2C%20src%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24eval%28onloadExp%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28thisChangeId%20%3D%3D%3D%20changeCounter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cleanupLastIncludeContent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24emit%28%27%24includeContentError%27%2C%20src%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scope.%24emit%28%27%24includeContentRequested%27%2C%20src%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cleanupLastIncludeContent%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ctrl.template%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A//%20This%20directive%20is%20called%20during%20the%20%24transclude%20call%20of%20the%20first%20%60ngInclude%60%20directive.%0D%0A//%20It%20will%20replace%20and%20compile%20the%20content%20of%20the%20element%20with%20the%20loaded%20template.%0D%0A//%20We%20need%20this%20directive%20so%20that%20the%20element%20content%20is%20already%20filled%20when%0D%0A//%20the%20link%20function%20of%20another%20directive%20on%20the%20same%20element%20as%20ngInclude%0D%0A//%20is%20called.%0D%0Avar%20ngIncludeFillContentDirective%20%3D%20%5B%27%24compile%27%2C%0D%0A%20%20function%28%24compile%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20restrict%3A%20%27ECA%27%2C%0D%0A%20%20%20%20%20%20priority%3A%20-400%2C%0D%0A%20%20%20%20%20%20require%3A%20%27ngInclude%27%2C%0D%0A%20%20%20%20%20%20link%3A%20function%28scope%2C%20%24element%2C%20%24attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28/SVG/.test%28%24element%5B0%5D.toString%28%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20WebKit%3A%20https%3A//bugs.webkit.org/show_bug.cgi%3Fid%3D135698%20---%20SVG%20elements%20do%20not%0D%0A%20%20%20%20%20%20%20%20%20%20//%20support%20innerHTML%2C%20so%20detect%20this%20here%20and%20try%20to%20generate%20the%20contents%0D%0A%20%20%20%20%20%20%20%20%20%20//%20specially.%0D%0A%20%20%20%20%20%20%20%20%20%20%24element.empty%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24compile%28jqLiteBuildFragment%28ctrl.template%2C%20document%29.childNodes%29%28scope%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20namespaceAdaptedClone%28clone%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24element.append%28clone%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20%7BfutureParentElement%3A%20%24element%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24element.html%28ctrl.template%29%3B%0D%0A%20%20%20%20%20%20%20%20%24compile%28%24element.contents%28%29%29%28scope%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngInit%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngInit%60%20directive%20allows%20you%20to%20evaluate%20an%20expression%20in%20the%0D%0A%20*%20current%20scope.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-danger%22%3E%0D%0A%20*%20The%20only%20appropriate%20use%20of%20%60ngInit%60%20is%20for%20aliasing%20special%20properties%20of%0D%0A%20*%20%7B@link%20ng.directive%3AngRepeat%20%60ngRepeat%60%7D%2C%20as%20seen%20in%20the%20demo%20below.%20Besides%20this%20case%2C%20you%0D%0A%20*%20should%20use%20%7B@link%20guide/controller%20controllers%7D%20rather%20than%20%60ngInit%60%0D%0A%20*%20to%20initialize%20values%20on%20a%20scope.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20**Note**%3A%20If%20you%20have%20assignment%20in%20%60ngInit%60%20along%20with%20%7B@link%20ng.%24filter%20%60%24filter%60%7D%2C%20make%0D%0A%20*%20sure%20you%20have%20parenthesis%20for%20correct%20precedence%3A%0D%0A%20*%20%3Cpre%20class%3D%22prettyprint%22%3E%0D%0A%20*%20%60%3Cdiv%20ng-init%3D%22test1%20%3D%20%28data%20%7C%20orderBy%3A%27name%27%29%22%3E%3C/div%3E%60%0D%0A%20*%20%3C/pre%3E%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20@priority%20450%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngInit%20%7B@link%20guide/expression%20Expression%7D%20to%20eval.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22initExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20angular.module%28%27initExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%24scope.list%20%3D%20%5B%5B%27a%27%2C%20%27b%27%5D%2C%20%5B%27c%27%2C%20%27d%27%5D%5D%3B%0D%0A%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%3C/script%3E%0D%0A%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%3Cdiv%20ng-repeat%3D%22innerList%20in%20list%22%20ng-init%3D%22outerIndex%20%3D%20%24index%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-repeat%3D%22value%20in%20innerList%22%20ng-init%3D%22innerIndex%20%3D%20%24index%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22example-init%22%3Elist%5B%20%7B%7BouterIndex%7D%7D%20%5D%5B%20%7B%7BinnerIndex%7D%7D%20%5D%20%3D%20%7B%7Bvalue%7D%7D%3B%3C/span%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20alias%20index%20positions%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20var%20elements%20%3D%20element.all%28by.css%28%27.example-init%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28elements.get%280%29.getText%28%29%29.toBe%28%27list%5B%200%20%5D%5B%200%20%5D%20%3D%20a%3B%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28elements.get%281%29.getText%28%29%29.toBe%28%27list%5B%200%20%5D%5B%201%20%5D%20%3D%20b%3B%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28elements.get%282%29.getText%28%29%29.toBe%28%27list%5B%201%20%5D%5B%200%20%5D%20%3D%20c%3B%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28elements.get%283%29.getText%28%29%29.toBe%28%27list%5B%201%20%5D%5B%201%20%5D%20%3D%20d%3B%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngInitDirective%20%3D%20ngDirective%28%7B%0D%0A%20%20priority%3A%20450%2C%0D%0A%20%20compile%3A%20function%28%29%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20pre%3A%20function%28scope%2C%20element%2C%20attrs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20scope.%24eval%28attrs.ngInit%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngList%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Text%20input%20that%20converts%20between%20a%20delimited%20string%20and%20an%20array%20of%20strings.%20The%20default%0D%0A%20*%20delimiter%20is%20a%20comma%20followed%20by%20a%20space%20-%20equivalent%20to%20%60ng-list%3D%22%2C%20%22%60.%20You%20can%20specify%20a%20custom%0D%0A%20*%20delimiter%20as%20the%20value%20of%20the%20%60ngList%60%20attribute%20-%20for%20example%2C%20%60ng-list%3D%22%20%7C%20%22%60.%0D%0A%20*%0D%0A%20*%20The%20behaviour%20of%20the%20directive%20is%20affected%20by%20the%20use%20of%20the%20%60ngTrim%60%20attribute.%0D%0A%20*%20*%20If%20%60ngTrim%60%20is%20set%20to%20%60%22false%22%60%20then%20whitespace%20around%20both%20the%20separator%20and%20each%0D%0A%20*%20%20%20list%20item%20is%20respected.%20This%20implies%20that%20the%20user%20of%20the%20directive%20is%20responsible%20for%0D%0A%20*%20%20%20dealing%20with%20whitespace%20but%20also%20allows%20you%20to%20use%20whitespace%20as%20a%20delimiter%2C%20such%20as%20a%0D%0A%20*%20%20%20tab%20or%20newline%20character.%0D%0A%20*%20*%20Otherwise%20whitespace%20around%20the%20delimiter%20is%20ignored%20when%20splitting%20%28although%20it%20is%20respected%0D%0A%20*%20%20%20when%20joining%20the%20list%20items%20back%20together%29%20and%20whitespace%20around%20each%20list%20item%20is%20stripped%0D%0A%20*%20%20%20before%20it%20is%20added%20to%20the%20model.%0D%0A%20*%0D%0A%20*%20%23%23%23%20Example%20with%20Validation%0D%0A%20*%0D%0A%20*%20%3Cexample%20name%3D%22ngList-directive%22%20module%3D%22listExample%22%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20*%20%20%20%20%20%20angular.module%28%27listExample%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%24scope.names%20%3D%20%5B%27morpheus%27%2C%20%27neo%27%2C%20%27trinity%27%5D%3B%0D%0A%20*%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20*%20%20%20%20%20%20%3Clabel%3EList%3A%20%3Cinput%20name%3D%22namesInput%22%20ng-model%3D%22names%22%20ng-list%20required%3E%3C/label%3E%0D%0A%20*%20%20%20%20%20%20%3Cspan%20role%3D%22alert%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22error%22%20ng-show%3D%22myForm.namesInput.%24error.required%22%3E%0D%0A%20*%20%20%20%20%20%20%20%20Required%21%3C/span%3E%0D%0A%20*%20%20%20%20%20%20%3C/span%3E%0D%0A%20*%20%20%20%20%20%20%3Cbr%3E%0D%0A%20*%20%20%20%20%20%20%3Ctt%3Enames%20%3D%20%7B%7Bnames%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20%3Ctt%3EmyForm.namesInput.%24valid%20%3D%20%7B%7BmyForm.namesInput.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20%3Ctt%3EmyForm.namesInput.%24error%20%3D%20%7B%7BmyForm.namesInput.%24error%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20%3Ctt%3EmyForm.%24valid%20%3D%20%7B%7BmyForm.%24valid%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%20%3Ctt%3EmyForm.%24error.required%20%3D%20%7B%7B%21%21myForm.%24error.required%7D%7D%3C/tt%3E%3Cbr/%3E%0D%0A%20*%20%20%20%20%20%3C/form%3E%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20%20var%20listInput%20%3D%20element%28by.model%28%27names%27%29%29%3B%0D%0A%20*%20%20%20%20%20var%20names%20%3D%20element%28by.exactBinding%28%27names%27%29%29%3B%0D%0A%20*%20%20%20%20%20var%20valid%20%3D%20element%28by.binding%28%27myForm.namesInput.%24valid%27%29%29%3B%0D%0A%20*%20%20%20%20%20var%20error%20%3D%20element%28by.css%28%27span.error%27%29%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20expect%28names.getText%28%29%29.toContain%28%27%5B%22morpheus%22%2C%22neo%22%2C%22trinity%22%5D%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27true%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28error.getCssValue%28%27display%27%29%29.toBe%28%27none%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20it%28%27should%20be%20invalid%20if%20empty%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20listInput.clear%28%29%3B%0D%0A%20*%20%20%20%20%20%20%20listInput.sendKeys%28%27%27%29%3B%0D%0A%20*%0D%0A%20*%20%20%20%20%20%20%20expect%28names.getText%28%29%29.toContain%28%27%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28valid.getText%28%29%29.toContain%28%27false%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28error.getCssValue%28%27display%27%29%29.not.toBe%28%27none%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20%23%23%23%20Example%20-%20splitting%20on%20whitespace%0D%0A%20*%20%3Cexample%20name%3D%22ngList-directive-newlines%22%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%20%3Ctextarea%20ng-model%3D%22list%22%20ng-list%3D%22%26%2310%3B%22%20ng-trim%3D%22false%22%3E%3C/textarea%3E%0D%0A%20*%20%20%20%20%3Cpre%3E%7B%7B%20list%20%7C%20json%20%7D%7D%3C/pre%3E%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20%20it%28%22should%20split%20the%20text%20by%20newlines%22%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20var%20listInput%20%3D%20element%28by.model%28%27list%27%29%29%3B%0D%0A%20*%20%20%20%20%20%20%20var%20output%20%3D%20element%28by.binding%28%27list%20%7C%20json%27%29%29%3B%0D%0A%20*%20%20%20%20%20%20%20listInput.sendKeys%28%27abc%5Cndef%5Cnghi%27%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28output.getText%28%29%29.toContain%28%27%5B%5Cn%20%20%22abc%22%2C%5Cn%20%20%22def%22%2C%5Cn%20%20%22ghi%22%5Cn%5D%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20@element%20input%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngList%20optional%20delimiter%20that%20should%20be%20used%20to%20split%20the%20value.%0D%0A%20*/%0D%0Avar%20ngListDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20require%3A%20%27ngModel%27%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20//%20We%20want%20to%20control%20whitespace%20trimming%20so%20we%20use%20this%20convoluted%20approach%0D%0A%20%20%20%20%20%20//%20to%20access%20the%20ngList%20attribute%2C%20which%20doesn%27t%20pre-trim%20the%20attribute%0D%0A%20%20%20%20%20%20var%20ngList%20%3D%20element.attr%28attr.%24attr.ngList%29%20%7C%7C%20%27%2C%20%27%3B%0D%0A%20%20%20%20%20%20var%20trimValues%20%3D%20attr.ngTrim%20%21%3D%3D%20%27false%27%3B%0D%0A%20%20%20%20%20%20var%20separator%20%3D%20trimValues%20%3F%20trim%28ngList%29%20%3A%20ngList%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20parse%20%3D%20function%28viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20If%20the%20viewValue%20is%20invalid%20%28say%20required%20but%20empty%29%20it%20will%20be%20%60undefined%60%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28viewValue%29%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20list%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28viewValue.split%28separator%29%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28value%29%20list.push%28trimValues%20%3F%20trim%28value%29%20%3A%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20list%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20ctrl.%24parsers.push%28parse%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24formatters.push%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isArray%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20value.join%28ngList%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20undefined%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20Override%20the%20standard%20%24isEmpty%20because%20an%20empty%20array%20means%20the%20input%20is%20empty.%0D%0A%20%20%20%20%20%20ctrl.%24isEmpty%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%21value%20%7C%7C%20%21value.length%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A/*%20global%20VALID_CLASS%3A%20true%2C%0D%0A%20%20INVALID_CLASS%3A%20true%2C%0D%0A%20%20PRISTINE_CLASS%3A%20true%2C%0D%0A%20%20DIRTY_CLASS%3A%20true%2C%0D%0A%20%20UNTOUCHED_CLASS%3A%20true%2C%0D%0A%20%20TOUCHED_CLASS%3A%20true%2C%0D%0A*/%0D%0A%0D%0Avar%20VALID_CLASS%20%3D%20%27ng-valid%27%2C%0D%0A%20%20%20%20INVALID_CLASS%20%3D%20%27ng-invalid%27%2C%0D%0A%20%20%20%20PRISTINE_CLASS%20%3D%20%27ng-pristine%27%2C%0D%0A%20%20%20%20DIRTY_CLASS%20%3D%20%27ng-dirty%27%2C%0D%0A%20%20%20%20UNTOUCHED_CLASS%20%3D%20%27ng-untouched%27%2C%0D%0A%20%20%20%20TOUCHED_CLASS%20%3D%20%27ng-touched%27%2C%0D%0A%20%20%20%20PENDING_CLASS%20%3D%20%27ng-pending%27%3B%0D%0A%0D%0A%0D%0Avar%20%24ngModelMinErr%20%3D%20new%20minErr%28%27ngModel%27%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20type%0D%0A%20*%20@name%20ngModel.NgModelController%0D%0A%20*%0D%0A%20*%20@property%20%7Bstring%7D%20%24viewValue%20Actual%20string%20value%20in%20the%20view.%0D%0A%20*%20@property%20%7B*%7D%20%24modelValue%20The%20value%20in%20the%20model%20that%20the%20control%20is%20bound%20to.%0D%0A%20*%20@property%20%7BArray.%3CFunction%3E%7D%20%24parsers%20Array%20of%20functions%20to%20execute%2C%20as%20a%20pipeline%2C%20whenever%0D%0A%20%20%20%20%20%20%20the%20control%20reads%20value%20from%20the%20DOM.%20The%20functions%20are%20called%20in%20array%20order%2C%20each%20passing%0D%0A%20%20%20%20%20%20%20its%20return%20value%20through%20to%20the%20next.%20The%20last%20return%20value%20is%20forwarded%20to%20the%0D%0A%20%20%20%20%20%20%20%7B@link%20ngModel.NgModelController%23%24validators%20%60%24validators%60%7D%20collection.%0D%0A%0D%0AParsers%20are%20used%20to%20sanitize%20/%20convert%20the%20%7B@link%20ngModel.NgModelController%23%24viewValue%0D%0A%60%24viewValue%60%7D.%0D%0A%0D%0AReturning%20%60undefined%60%20from%20a%20parser%20means%20a%20parse%20error%20occurred.%20In%20that%20case%2C%0D%0Ano%20%7B@link%20ngModel.NgModelController%23%24validators%20%60%24validators%60%7D%20will%20run%20and%20the%20%60ngModel%60%0D%0Awill%20be%20set%20to%20%60undefined%60%20unless%20%7B@link%20ngModelOptions%20%60ngModelOptions.allowInvalid%60%7D%0D%0Ais%20set%20to%20%60true%60.%20The%20parse%20error%20is%20stored%20in%20%60ngModel.%24error.parse%60.%0D%0A%0D%0A%20*%0D%0A%20*%20@property%20%7BArray.%3CFunction%3E%7D%20%24formatters%20Array%20of%20functions%20to%20execute%2C%20as%20a%20pipeline%2C%20whenever%0D%0A%20%20%20%20%20%20%20the%20model%20value%20changes.%20The%20functions%20are%20called%20in%20reverse%20array%20order%2C%20each%20passing%20the%20value%20through%20to%20the%0D%0A%20%20%20%20%20%20%20next.%20The%20last%20return%20value%20is%20used%20as%20the%20actual%20DOM%20value.%0D%0A%20%20%20%20%20%20%20Used%20to%20format%20/%20convert%20values%20for%20display%20in%20the%20control.%0D%0A%20*%20%60%60%60js%0D%0A%20*%20function%20formatter%28value%29%20%7B%0D%0A%20*%20%20%20if%20%28value%29%20%7B%0D%0A%20*%20%20%20%20%20return%20value.toUpperCase%28%29%3B%0D%0A%20*%20%20%20%7D%0D%0A%20*%20%7D%0D%0A%20*%20ngModel.%24formatters.push%28formatter%29%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@property%20%7BObject.%3Cstring%2C%20function%3E%7D%20%24validators%20A%20collection%20of%20validators%20that%20are%20applied%0D%0A%20*%20%20%20%20%20%20whenever%20the%20model%20value%20changes.%20The%20key%20value%20within%20the%20object%20refers%20to%20the%20name%20of%20the%0D%0A%20*%20%20%20%20%20%20validator%20while%20the%20function%20refers%20to%20the%20validation%20operation.%20The%20validation%20operation%20is%0D%0A%20*%20%20%20%20%20%20provided%20with%20the%20model%20value%20as%20an%20argument%20and%20must%20return%20a%20true%20or%20false%20value%20depending%0D%0A%20*%20%20%20%20%20%20on%20the%20response%20of%20that%20validation.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20ngModel.%24validators.validCharacters%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20*%20%20%20var%20value%20%3D%20modelValue%20%7C%7C%20viewValue%3B%0D%0A%20*%20%20%20return%20/%5B0-9%5D+/.test%28value%29%20%26%26%0D%0A%20*%20%20%20%20%20%20%20%20%20%20/%5Ba-z%5D+/.test%28value%29%20%26%26%0D%0A%20*%20%20%20%20%20%20%20%20%20%20/%5BA-Z%5D+/.test%28value%29%20%26%26%0D%0A%20*%20%20%20%20%20%20%20%20%20%20/%5CW+/.test%28value%29%3B%0D%0A%20*%20%7D%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@property%20%7BObject.%3Cstring%2C%20function%3E%7D%20%24asyncValidators%20A%20collection%20of%20validations%20that%20are%20expected%20to%0D%0A%20*%20%20%20%20%20%20perform%20an%20asynchronous%20validation%20%28e.g.%20a%20HTTP%20request%29.%20The%20validation%20function%20that%20is%20provided%0D%0A%20*%20%20%20%20%20%20is%20expected%20to%20return%20a%20promise%20when%20it%20is%20run%20during%20the%20model%20validation%20process.%20Once%20the%20promise%0D%0A%20*%20%20%20%20%20%20is%20delivered%20then%20the%20validation%20status%20will%20be%20set%20to%20true%20when%20fulfilled%20and%20false%20when%20rejected.%0D%0A%20*%20%20%20%20%20%20When%20the%20asynchronous%20validators%20are%20triggered%2C%20each%20of%20the%20validators%20will%20run%20in%20parallel%20and%20the%20model%0D%0A%20*%20%20%20%20%20%20value%20will%20only%20be%20updated%20once%20all%20validators%20have%20been%20fulfilled.%20As%20long%20as%20an%20asynchronous%20validator%0D%0A%20*%20%20%20%20%20%20is%20unfulfilled%2C%20its%20key%20will%20be%20added%20to%20the%20controllers%20%60%24pending%60%20property.%20Also%2C%20all%20asynchronous%20validators%0D%0A%20*%20%20%20%20%20%20will%20only%20run%20once%20all%20synchronous%20validators%20have%20passed.%0D%0A%20*%0D%0A%20*%20Please%20note%20that%20if%20%24http%20is%20used%20then%20it%20is%20important%20that%20the%20server%20returns%20a%20success%20HTTP%20response%20code%0D%0A%20*%20in%20order%20to%20fulfill%20the%20validation%20and%20a%20status%20level%20of%20%604xx%60%20in%20order%20to%20reject%20the%20validation.%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20ngModel.%24asyncValidators.uniqueUsername%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20*%20%20%20var%20value%20%3D%20modelValue%20%7C%7C%20viewValue%3B%0D%0A%20*%0D%0A%20*%20%20%20//%20Lookup%20user%20by%20username%0D%0A%20*%20%20%20return%20%24http.get%28%27/api/users/%27%20+%20value%29.%0D%0A%20*%20%20%20%20%20%20then%28function%20resolved%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20//username%20exists%2C%20this%20means%20validation%20fails%0D%0A%20*%20%20%20%20%20%20%20%20return%20%24q.reject%28%27exists%27%29%3B%0D%0A%20*%20%20%20%20%20%20%7D%2C%20function%20rejected%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20//username%20does%20not%20exist%2C%20therefore%20this%20validation%20passes%0D%0A%20*%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20*%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%7D%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20@property%20%7BArray.%3CFunction%3E%7D%20%24viewChangeListeners%20Array%20of%20functions%20to%20execute%20whenever%20the%0D%0A%20*%20%20%20%20%20view%20value%20has%20changed.%20It%20is%20called%20with%20no%20arguments%2C%20and%20its%20return%20value%20is%20ignored.%0D%0A%20*%20%20%20%20%20This%20can%20be%20used%20in%20place%20of%20additional%20%24watches%20against%20the%20model%20value.%0D%0A%20*%0D%0A%20*%20@property%20%7BObject%7D%20%24error%20An%20object%20hash%20with%20all%20failing%20validator%20ids%20as%20keys.%0D%0A%20*%20@property%20%7BObject%7D%20%24pending%20An%20object%20hash%20with%20all%20pending%20validator%20ids%20as%20keys.%0D%0A%20*%0D%0A%20*%20@property%20%7Bboolean%7D%20%24untouched%20True%20if%20control%20has%20not%20lost%20focus%20yet.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24touched%20True%20if%20control%20has%20lost%20focus.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24pristine%20True%20if%20user%20has%20not%20interacted%20with%20the%20control%20yet.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24dirty%20True%20if%20user%20has%20already%20interacted%20with%20the%20control.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24valid%20True%20if%20there%20is%20no%20error.%0D%0A%20*%20@property%20%7Bboolean%7D%20%24invalid%20True%20if%20at%20least%20one%20error%20on%20the%20control.%0D%0A%20*%20@property%20%7Bstring%7D%20%24name%20The%20name%20attribute%20of%20the%20control.%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20%60NgModelController%60%20provides%20API%20for%20the%20%7B@link%20ngModel%20%60ngModel%60%7D%20directive.%0D%0A%20*%20The%20controller%20contains%20services%20for%20data-binding%2C%20validation%2C%20CSS%20updates%2C%20and%20value%20formatting%0D%0A%20*%20and%20parsing.%20It%20purposefully%20does%20not%20contain%20any%20logic%20which%20deals%20with%20DOM%20rendering%20or%0D%0A%20*%20listening%20to%20DOM%20events.%0D%0A%20*%20Such%20DOM%20related%20logic%20should%20be%20provided%20by%20other%20directives%20which%20make%20use%20of%0D%0A%20*%20%60NgModelController%60%20for%20data-binding%20to%20control%20elements.%0D%0A%20*%20Angular%20provides%20this%20DOM%20logic%20for%20most%20%7B@link%20input%20%60input%60%7D%20elements.%0D%0A%20*%20At%20the%20end%20of%20this%20page%20you%20can%20find%20a%20%7B@link%20ngModel.NgModelController%23custom-control-example%0D%0A%20*%20custom%20control%20example%7D%20that%20uses%20%60ngModelController%60%20to%20bind%20to%20%60contenteditable%60%20elements.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20%23%23%23%20Custom%20Control%20Example%0D%0A%20*%20This%20example%20shows%20how%20to%20use%20%60NgModelController%60%20with%20a%20custom%20control%20to%20achieve%0D%0A%20*%20data-binding.%20Notice%20how%20different%20directives%20%28%60contenteditable%60%2C%20%60ng-model%60%2C%20and%20%60required%60%29%0D%0A%20*%20collaborate%20together%20to%20achieve%20the%20desired%20result.%0D%0A%20*%0D%0A%20*%20%60contenteditable%60%20is%20an%20HTML5%20attribute%2C%20which%20tells%20the%20browser%20to%20let%20the%20element%0D%0A%20*%20contents%20be%20edited%20in%20place%20by%20the%20user.%0D%0A%20*%0D%0A%20*%20We%20are%20using%20the%20%7B@link%20ng.service%3A%24sce%20%24sce%7D%20service%20here%20and%20include%20the%20%7B@link%20ngSanitize%20%24sanitize%7D%0D%0A%20*%20module%20to%20automatically%20remove%20%22bad%22%20content%20like%20inline%20event%20listener%20%28e.g.%20%60%3Cspan%20onclick%3D%22...%22%3E%60%29.%0D%0A%20*%20However%2C%20as%20we%20are%20using%20%60%24sce%60%20the%20model%20can%20still%20decide%20to%20provide%20unsafe%20content%20if%20it%20marks%0D%0A%20*%20that%20content%20using%20the%20%60%24sce%60%20service.%0D%0A%20*%0D%0A%20*%20%3Cexample%20name%3D%22NgModelController%22%20module%3D%22customControl%22%20deps%3D%22angular-sanitize.js%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%5Bcontenteditable%5D%20%7B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20background-color%3A%20white%3B%0D%0A%20%20%20%20%20%20%20%20min-height%3A%2020px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.ng-invalid%20%7B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20red%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27customControl%27%2C%20%5B%27ngSanitize%27%5D%29.%0D%0A%20%20%20%20%20%20%20%20directive%28%27contenteditable%27%2C%20%5B%27%24sce%27%2C%20function%28%24sce%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20restrict%3A%20%27A%27%2C%20//%20only%20activate%20on%20element%20attribute%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20require%3A%20%27%3FngModel%27%2C%20//%20get%20a%20hold%20of%20NgModelController%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attrs%2C%20ngModel%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21ngModel%29%20return%3B%20//%20do%20nothing%20if%20no%20ng-model%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Specify%20how%20UI%20should%20be%20updated%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ngModel.%24render%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.html%28%24sce.getTrustedHtml%28ngModel.%24viewValue%20%7C%7C%20%27%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Listen%20for%20change%20events%20to%20enable%20binding%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.on%28%27blur%20keyup%20change%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24evalAsync%28read%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20read%28%29%3B%20//%20initialize%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Write%20data%20to%20the%20model%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20read%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20html%20%3D%20element.html%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20When%20we%20clear%20the%20content%20editable%20the%20browser%20leaves%20a%20%3Cbr%3E%20behind%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20strip-br%20attribute%20is%20provided%20then%20we%20strip%20this%20out%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%20attrs.stripBr%20%26%26%20html%20%3D%3D%20%27%3Cbr%3E%27%20%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20%27%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ngModel.%24setViewValue%28html%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20contenteditable%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22myWidget%22%20ng-model%3D%22userContent%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20strip-br%3D%22true%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20required%3EChange%20me%21%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Cspan%20ng-show%3D%22myForm.myWidget.%24error.required%22%3ERequired%21%3C/span%3E%0D%0A%20%20%20%20%20%20%20%3Chr%3E%0D%0A%20%20%20%20%20%20%20%3Ctextarea%20ng-model%3D%22userContent%22%20aria-label%3D%22Dynamic%20textarea%22%3E%3C/textarea%3E%0D%0A%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20it%28%27should%20data-bind%20and%20become%20invalid%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28browser.params.browser%20%3D%3D%20%27safari%27%20%7C%7C%20browser.params.browser%20%3D%3D%20%27firefox%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20SafariDriver%20can%27t%20handle%20contenteditable%0D%0A%20%20%20%20%20%20%20%20//%20and%20Firefox%20driver%20can%27t%20clear%20contenteditables%20very%20well%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20contentEditable%20%3D%20element%28by.css%28%27%5Bcontenteditable%5D%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20content%20%3D%20%27Change%20me%21%27%3B%0D%0A%0D%0A%20%20%20%20%20%20expect%28contentEditable.getText%28%29%29.toEqual%28content%29%3B%0D%0A%0D%0A%20%20%20%20%20%20contentEditable.clear%28%29%3B%0D%0A%20%20%20%20%20%20contentEditable.sendKeys%28protractor.Key.BACK_SPACE%29%3B%0D%0A%20%20%20%20%20%20expect%28contentEditable.getText%28%29%29.toEqual%28%27%27%29%3B%0D%0A%20%20%20%20%20%20expect%28contentEditable.getAttribute%28%27class%27%29%29.toMatch%28/ng-invalid-required/%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%0D%0A%20*/%0D%0Avar%20NgModelController%20%3D%20%5B%27%24scope%27%2C%20%27%24exceptionHandler%27%2C%20%27%24attrs%27%2C%20%27%24element%27%2C%20%27%24parse%27%2C%20%27%24animate%27%2C%20%27%24timeout%27%2C%20%27%24rootScope%27%2C%20%27%24q%27%2C%20%27%24interpolate%27%2C%0D%0A%20%20%20%20function%28%24scope%2C%20%24exceptionHandler%2C%20%24attr%2C%20%24element%2C%20%24parse%2C%20%24animate%2C%20%24timeout%2C%20%24rootScope%2C%20%24q%2C%20%24interpolate%29%20%7B%0D%0A%20%20this.%24viewValue%20%3D%20Number.NaN%3B%0D%0A%20%20this.%24modelValue%20%3D%20Number.NaN%3B%0D%0A%20%20this.%24%24rawModelValue%20%3D%20undefined%3B%20//%20stores%20the%20parsed%20modelValue%20/%20model%20set%20from%20scope%20regardless%20of%20validity.%0D%0A%20%20this.%24validators%20%3D%20%7B%7D%3B%0D%0A%20%20this.%24asyncValidators%20%3D%20%7B%7D%3B%0D%0A%20%20this.%24parsers%20%3D%20%5B%5D%3B%0D%0A%20%20this.%24formatters%20%3D%20%5B%5D%3B%0D%0A%20%20this.%24viewChangeListeners%20%3D%20%5B%5D%3B%0D%0A%20%20this.%24untouched%20%3D%20true%3B%0D%0A%20%20this.%24touched%20%3D%20false%3B%0D%0A%20%20this.%24pristine%20%3D%20true%3B%0D%0A%20%20this.%24dirty%20%3D%20false%3B%0D%0A%20%20this.%24valid%20%3D%20true%3B%0D%0A%20%20this.%24invalid%20%3D%20false%3B%0D%0A%20%20this.%24error%20%3D%20%7B%7D%3B%20//%20keep%20invalid%20keys%20here%0D%0A%20%20this.%24%24success%20%3D%20%7B%7D%3B%20//%20keep%20valid%20keys%20here%0D%0A%20%20this.%24pending%20%3D%20undefined%3B%20//%20keep%20pending%20keys%20here%0D%0A%20%20this.%24name%20%3D%20%24interpolate%28%24attr.name%20%7C%7C%20%27%27%2C%20false%29%28%24scope%29%3B%0D%0A%0D%0A%0D%0A%20%20var%20parsedNgModel%20%3D%20%24parse%28%24attr.ngModel%29%2C%0D%0A%20%20%20%20%20%20parsedNgModelAssign%20%3D%20parsedNgModel.assign%2C%0D%0A%20%20%20%20%20%20ngModelGet%20%3D%20parsedNgModel%2C%0D%0A%20%20%20%20%20%20ngModelSet%20%3D%20parsedNgModelAssign%2C%0D%0A%20%20%20%20%20%20pendingDebounce%20%3D%20null%2C%0D%0A%20%20%20%20%20%20parserValid%2C%0D%0A%20%20%20%20%20%20ctrl%20%3D%20this%3B%0D%0A%0D%0A%20%20this.%24%24setOptions%20%3D%20function%28options%29%20%7B%0D%0A%20%20%20%20ctrl.%24options%20%3D%20options%3B%0D%0A%20%20%20%20if%20%28options%20%26%26%20options.getterSetter%29%20%7B%0D%0A%20%20%20%20%20%20var%20invokeModelGetter%20%3D%20%24parse%28%24attr.ngModel%20+%20%27%28%29%27%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20invokeModelSetter%20%3D%20%24parse%28%24attr.ngModel%20+%20%27%28%24%24%24p%29%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20ngModelGet%20%3D%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20modelValue%20%3D%20parsedNgModel%28%24scope%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28modelValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20modelValue%20%3D%20invokeModelGetter%28%24scope%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20modelValue%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20ngModelSet%20%3D%20function%28%24scope%2C%20newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isFunction%28parsedNgModel%28%24scope%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20invokeModelSetter%28%24scope%2C%20%7B%24%24%24p%3A%20ctrl.%24modelValue%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parsedNgModelAssign%28%24scope%2C%20ctrl.%24modelValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28%21parsedNgModel.assign%29%20%7B%0D%0A%20%20%20%20%20%20throw%20%24ngModelMinErr%28%27nonassign%27%2C%20%22Expression%20%27%7B0%7D%27%20is%20non-assignable.%20Element%3A%20%7B1%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%24attr.ngModel%2C%20startingTag%28%24element%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24render%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Called%20when%20the%20view%20needs%20to%20be%20updated.%20It%20is%20expected%20that%20the%20user%20of%20the%20ng-model%0D%0A%20%20%20*%20directive%20will%20implement%20this%20method.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20%60%24render%28%29%60%20method%20is%20invoked%20in%20the%20following%20situations%3A%0D%0A%20%20%20*%0D%0A%20%20%20*%20*%20%60%24rollbackViewValue%28%29%60%20is%20called.%20%20If%20we%20are%20rolling%20back%20the%20view%20value%20to%20the%20last%0D%0A%20%20%20*%20%20%20committed%20value%20then%20%60%24render%28%29%60%20is%20called%20to%20update%20the%20input%20control.%0D%0A%20%20%20*%20*%20The%20value%20referenced%20by%20%60ng-model%60%20is%20changed%20programmatically%20and%20both%20the%20%60%24modelValue%60%20and%0D%0A%20%20%20*%20%20%20the%20%60%24viewValue%60%20are%20different%20from%20last%20time.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Since%20%60ng-model%60%20does%20not%20do%20a%20deep%20watch%2C%20%60%24render%28%29%60%20is%20only%20invoked%20if%20the%20values%20of%0D%0A%20%20%20*%20%60%24modelValue%60%20and%20%60%24viewValue%60%20are%20actually%20different%20from%20their%20previous%20value.%20If%20%60%24modelValue%60%0D%0A%20%20%20*%20or%20%60%24viewValue%60%20are%20objects%20%28rather%20than%20a%20string%20or%20number%29%20then%20%60%24render%28%29%60%20will%20not%20be%0D%0A%20%20%20*%20invoked%20if%20you%20only%20change%20a%20property%20on%20the%20objects.%0D%0A%20%20%20*/%0D%0A%20%20this.%24render%20%3D%20noop%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24isEmpty%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20This%20is%20called%20when%20we%20need%20to%20determine%20if%20the%20value%20of%20an%20input%20is%20empty.%0D%0A%20%20%20*%0D%0A%20%20%20*%20For%20instance%2C%20the%20required%20directive%20does%20this%20to%20work%20out%20if%20the%20input%20has%20data%20or%20not.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20default%20%60%24isEmpty%60%20function%20checks%20whether%20the%20value%20is%20%60undefined%60%2C%20%60%27%27%60%2C%20%60null%60%20or%20%60NaN%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20You%20can%20override%20this%20for%20input%20directives%20whose%20concept%20of%20being%20empty%20is%20different%20from%20the%0D%0A%20%20%20*%20default.%20The%20%60checkboxInputType%60%20directive%20does%20this%20because%20in%20its%20case%20a%20value%20of%20%60false%60%0D%0A%20%20%20*%20implies%20empty.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7B*%7D%20value%20The%20value%20of%20the%20input%20to%20check%20for%20emptiness.%0D%0A%20%20%20*%20@returns%20%7Bboolean%7D%20True%20if%20%60value%60%20is%20%22empty%22.%0D%0A%20%20%20*/%0D%0A%20%20this.%24isEmpty%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20return%20isUndefined%28value%29%20%7C%7C%20value%20%3D%3D%3D%20%27%27%20%7C%7C%20value%20%3D%3D%3D%20null%20%7C%7C%20value%20%21%3D%3D%20value%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20parentForm%20%3D%20%24element.inheritedData%28%27%24formController%27%29%20%7C%7C%20nullFormCtrl%2C%0D%0A%20%20%20%20%20%20currentValidationRunId%20%3D%200%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setValidity%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Change%20the%20validity%20state%2C%20and%20notify%20the%20form.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20within%20%24parsers/%24formatters%20or%20a%20custom%20validation%20implementation.%0D%0A%20%20%20*%20However%2C%20in%20most%20cases%20it%20should%20be%20sufficient%20to%20use%20the%20%60ngModel.%24validators%60%20and%0D%0A%20%20%20*%20%60ngModel.%24asyncValidators%60%20collections%20which%20will%20call%20%60%24setValidity%60%20automatically.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20validationErrorKey%20Name%20of%20the%20validator.%20The%20%60validationErrorKey%60%20will%20be%20assigned%0D%0A%20%20%20*%20%20%20%20%20%20%20%20to%20either%20%60%24error%5BvalidationErrorKey%5D%60%20or%20%60%24pending%5BvalidationErrorKey%5D%60%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%28for%20unfulfilled%20%60%24asyncValidators%60%29%2C%20so%20that%20it%20is%20available%20for%20data-binding.%0D%0A%20%20%20*%20%20%20%20%20%20%20%20The%20%60validationErrorKey%60%20should%20be%20in%20camelCase%20and%20will%20get%20converted%20into%20dash-case%0D%0A%20%20%20*%20%20%20%20%20%20%20%20for%20class%20name.%20Example%3A%20%60myError%60%20will%20result%20in%20%60ng-valid-my-error%60%20and%20%60ng-invalid-my-error%60%0D%0A%20%20%20*%20%20%20%20%20%20%20%20class%20and%20can%20be%20bound%20to%20as%20%20%60%7B%7BsomeForm.someControl.%24error.myError%7D%7D%60%20.%0D%0A%20%20%20*%20@param%20%7Bboolean%7D%20isValid%20Whether%20the%20current%20state%20is%20valid%20%28true%29%2C%20invalid%20%28false%29%2C%20pending%20%28undefined%29%2C%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20or%20skipped%20%28null%29.%20Pending%20is%20used%20for%20unfulfilled%20%60%24asyncValidators%60.%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Skipped%20is%20used%20by%20Angular%20when%20validators%20do%20not%20run%20because%20of%20parse%20errors%20and%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%20%60%24asyncValidators%60%20do%20not%20run%20because%20any%20of%20the%20%60%24validators%60%20failed.%0D%0A%20%20%20*/%0D%0A%20%20addSetValidityMethod%28%7B%0D%0A%20%20%20%20ctrl%3A%20this%2C%0D%0A%20%20%20%20%24element%3A%20%24element%2C%0D%0A%20%20%20%20set%3A%20function%28object%2C%20property%29%20%7B%0D%0A%20%20%20%20%20%20object%5Bproperty%5D%20%3D%20true%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20unset%3A%20function%28object%2C%20property%29%20%7B%0D%0A%20%20%20%20%20%20delete%20object%5Bproperty%5D%3B%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20parentForm%3A%20parentForm%2C%0D%0A%20%20%20%20%24animate%3A%20%24animate%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setPristine%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20control%20to%20its%20pristine%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%60ng-dirty%60%20class%20and%20set%20the%20control%20to%20its%20pristine%0D%0A%20%20%20*%20state%20%28%60ng-pristine%60%20class%29.%20A%20model%20is%20considered%20to%20be%20pristine%20when%20the%20control%0D%0A%20%20%20*%20has%20not%20been%20changed%20from%20when%20first%20compiled.%0D%0A%20%20%20*/%0D%0A%20%20this.%24setPristine%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20ctrl.%24dirty%20%3D%20false%3B%0D%0A%20%20%20%20ctrl.%24pristine%20%3D%20true%3B%0D%0A%20%20%20%20%24animate.removeClass%28%24element%2C%20DIRTY_CLASS%29%3B%0D%0A%20%20%20%20%24animate.addClass%28%24element%2C%20PRISTINE_CLASS%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setDirty%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20control%20to%20its%20dirty%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%60ng-pristine%60%20class%20and%20set%20the%20control%20to%20its%20dirty%0D%0A%20%20%20*%20state%20%28%60ng-dirty%60%20class%29.%20A%20model%20is%20considered%20to%20be%20dirty%20when%20the%20control%20has%20been%20changed%0D%0A%20%20%20*%20from%20when%20first%20compiled.%0D%0A%20%20%20*/%0D%0A%20%20this.%24setDirty%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20ctrl.%24dirty%20%3D%20true%3B%0D%0A%20%20%20%20ctrl.%24pristine%20%3D%20false%3B%0D%0A%20%20%20%20%24animate.removeClass%28%24element%2C%20PRISTINE_CLASS%29%3B%0D%0A%20%20%20%20%24animate.addClass%28%24element%2C%20DIRTY_CLASS%29%3B%0D%0A%20%20%20%20parentForm.%24setDirty%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setUntouched%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20control%20to%20its%20untouched%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%60ng-touched%60%20class%20and%20set%20the%20control%20to%20its%0D%0A%20%20%20*%20untouched%20state%20%28%60ng-untouched%60%20class%29.%20Upon%20compilation%2C%20a%20model%20is%20set%20as%20untouched%0D%0A%20%20%20*%20by%20default%2C%20however%20this%20function%20can%20be%20used%20to%20restore%20that%20state%20if%20the%20model%20has%0D%0A%20%20%20*%20already%20been%20touched%20by%20the%20user.%0D%0A%20%20%20*/%0D%0A%20%20this.%24setUntouched%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20ctrl.%24touched%20%3D%20false%3B%0D%0A%20%20%20%20ctrl.%24untouched%20%3D%20true%3B%0D%0A%20%20%20%20%24animate.setClass%28%24element%2C%20UNTOUCHED_CLASS%2C%20TOUCHED_CLASS%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setTouched%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Sets%20the%20control%20to%20its%20touched%20state.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20can%20be%20called%20to%20remove%20the%20%60ng-untouched%60%20class%20and%20set%20the%20control%20to%20its%0D%0A%20%20%20*%20touched%20state%20%28%60ng-touched%60%20class%29.%20A%20model%20is%20considered%20to%20be%20touched%20when%20the%20user%20has%0D%0A%20%20%20*%20first%20focused%20the%20control%20element%20and%20then%20shifted%20focus%20away%20from%20the%20control%20%28blur%20event%29.%0D%0A%20%20%20*/%0D%0A%20%20this.%24setTouched%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20ctrl.%24touched%20%3D%20true%3B%0D%0A%20%20%20%20ctrl.%24untouched%20%3D%20false%3B%0D%0A%20%20%20%20%24animate.setClass%28%24element%2C%20TOUCHED_CLASS%2C%20UNTOUCHED_CLASS%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24rollbackViewValue%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Cancel%20an%20update%20and%20reset%20the%20input%20element%27s%20value%20to%20prevent%20an%20update%20to%20the%20%60%24modelValue%60%2C%0D%0A%20%20%20*%20which%20may%20be%20caused%20by%20a%20pending%20debounced%20event%20or%20because%20the%20input%20is%20waiting%20for%20a%20some%0D%0A%20%20%20*%20future%20event.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20you%20have%20an%20input%20that%20uses%20%60ng-model-options%60%20to%20set%20up%20debounced%20events%20or%20events%20such%0D%0A%20%20%20*%20as%20blur%20you%20can%20have%20a%20situation%20where%20there%20is%20a%20period%20when%20the%20%60%24viewValue%60%0D%0A%20%20%20*%20is%20out%20of%20synch%20with%20the%20ngModel%27s%20%60%24modelValue%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20In%20this%20case%2C%20you%20can%20run%20into%20difficulties%20if%20you%20try%20to%20update%20the%20ngModel%27s%20%60%24modelValue%60%0D%0A%20%20%20*%20programmatically%20before%20these%20debounced/future%20events%20have%20resolved/occurred%2C%20because%20Angular%27s%0D%0A%20%20%20*%20dirty%20checking%20mechanism%20is%20not%20able%20to%20tell%20whether%20the%20model%20has%20actually%20changed%20or%20not.%0D%0A%20%20%20*%0D%0A%20%20%20*%20The%20%60%24rollbackViewValue%28%29%60%20method%20should%20be%20called%20before%20programmatically%20changing%20the%20model%20of%20an%0D%0A%20%20%20*%20input%20which%20may%20have%20such%20events%20pending.%20This%20is%20important%20in%20order%20to%20make%20sure%20that%20the%0D%0A%20%20%20*%20input%20field%20will%20be%20updated%20with%20the%20new%20model%20value%20and%20any%20pending%20operations%20are%20cancelled.%0D%0A%20%20%20*%0D%0A%20%20%20*%20%3Cexample%20name%3D%22ng-model-cancel-update%22%20module%3D%22cancel-update-example%22%3E%0D%0A%20%20%20*%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20%20%20*%20%20%20%20%20angular.module%28%27cancel-update-example%27%2C%20%5B%5D%29%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20.controller%28%27CancelUpdateController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%24scope.resetWithCancel%20%3D%20function%28e%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20if%20%28e.keyCode%20%3D%3D%2027%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.myForm.myInput1.%24rollbackViewValue%28%29%3B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.myValue%20%3D%20%27%27%3B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20*%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20*%20%20%20%20%20%20%20%24scope.resetWithoutCancel%20%3D%20function%28e%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20if%20%28e.keyCode%20%3D%3D%2027%29%20%7B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%24scope.myValue%20%3D%20%27%27%3B%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20*%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20*%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20*%20%20%20%3C/file%3E%0D%0A%20%20%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20*%20%20%20%20%20%3Cdiv%20ng-controller%3D%22CancelUpdateController%22%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%3Cp%3ETry%20typing%20something%20in%20each%20input.%20%20See%20that%20the%20model%20only%20updates%20when%20you%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20blur%20off%20the%20input.%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%3Cp%3ENow%20see%20what%20happens%20if%20you%20start%20typing%20then%20press%20the%20Escape%20key%3C/p%3E%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20%20%20%3Cform%20name%3D%22myForm%22%20ng-model-options%3D%22%7B%20updateOn%3A%20%27blur%27%20%7D%22%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22inputDescription1%22%3EWith%20%24rollbackViewValue%28%29%3C/p%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%3Cinput%20name%3D%22myInput1%22%20aria-describedby%3D%22inputDescription1%22%20ng-model%3D%22myValue%22%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-keydown%3D%22resetWithCancel%28%24event%29%22%3E%3Cbr/%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20myValue%3A%20%22%7B%7B%20myValue%20%7D%7D%22%0D%0A%20%20%20*%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22inputDescription2%22%3EWithout%20%24rollbackViewValue%28%29%3C/p%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%3Cinput%20name%3D%22myInput2%22%20aria-describedby%3D%22inputDescription2%22%20ng-model%3D%22myValue%22%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-keydown%3D%22resetWithoutCancel%28%24event%29%22%3E%3Cbr/%3E%0D%0A%20%20%20*%20%20%20%20%20%20%20%20%20myValue%3A%20%22%7B%7B%20myValue%20%7D%7D%22%0D%0A%20%20%20*%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20*%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20*%20%20%20%3C/file%3E%0D%0A%20%20%20*%20%3C/example%3E%0D%0A%20%20%20*/%0D%0A%20%20this.%24rollbackViewValue%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%24timeout.cancel%28pendingDebounce%29%3B%0D%0A%20%20%20%20ctrl.%24viewValue%20%3D%20ctrl.%24%24lastCommittedViewValue%3B%0D%0A%20%20%20%20ctrl.%24render%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24validate%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Runs%20each%20of%20the%20registered%20validators%20%28first%20synchronous%20validators%20and%20then%0D%0A%20%20%20*%20asynchronous%20validators%29.%0D%0A%20%20%20*%20If%20the%20validity%20changes%20to%20invalid%2C%20the%20model%20will%20be%20set%20to%20%60undefined%60%2C%0D%0A%20%20%20*%20unless%20%7B@link%20ngModelOptions%20%60ngModelOptions.allowInvalid%60%7D%20is%20%60true%60.%0D%0A%20%20%20*%20If%20the%20validity%20changes%20to%20valid%2C%20it%20will%20set%20the%20model%20to%20the%20last%20available%20valid%0D%0A%20%20%20*%20%60%24modelValue%60%2C%20i.e.%20either%20the%20last%20parsed%20value%20or%20the%20last%20value%20set%20from%20the%20scope.%0D%0A%20%20%20*/%0D%0A%20%20this.%24validate%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20//%20ignore%20%24validate%20before%20model%20is%20initialized%0D%0A%20%20%20%20if%20%28isNumber%28ctrl.%24modelValue%29%20%26%26%20isNaN%28ctrl.%24modelValue%29%29%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20var%20viewValue%20%3D%20ctrl.%24%24lastCommittedViewValue%3B%0D%0A%20%20%20%20//%20Note%3A%20we%20use%20the%20%24%24rawModelValue%20as%20%24modelValue%20might%20have%20been%0D%0A%20%20%20%20//%20set%20to%20undefined%20during%20a%20view%20-%3E%20model%20update%20that%20found%20validation%0D%0A%20%20%20%20//%20errors.%20We%20can%27t%20parse%20the%20view%20here%2C%20since%20that%20could%20change%0D%0A%20%20%20%20//%20the%20model%20although%20neither%20viewValue%20nor%20the%20model%20on%20the%20scope%20changed%0D%0A%20%20%20%20var%20modelValue%20%3D%20ctrl.%24%24rawModelValue%3B%0D%0A%0D%0A%20%20%20%20var%20prevValid%20%3D%20ctrl.%24valid%3B%0D%0A%20%20%20%20var%20prevModelValue%20%3D%20ctrl.%24modelValue%3B%0D%0A%0D%0A%20%20%20%20var%20allowInvalid%20%3D%20ctrl.%24options%20%26%26%20ctrl.%24options.allowInvalid%3B%0D%0A%0D%0A%20%20%20%20ctrl.%24%24runValidators%28modelValue%2C%20viewValue%2C%20function%28allValid%29%20%7B%0D%0A%20%20%20%20%20%20//%20If%20there%20was%20no%20change%20in%20validity%2C%20don%27t%20update%20the%20model%0D%0A%20%20%20%20%20%20//%20This%20prevents%20changing%20an%20invalid%20modelValue%20to%20undefined%0D%0A%20%20%20%20%20%20if%20%28%21allowInvalid%20%26%26%20prevValid%20%21%3D%3D%20allValid%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Note%3A%20Don%27t%20check%20ctrl.%24valid%20here%2C%20as%20we%20could%20have%0D%0A%20%20%20%20%20%20%20%20//%20external%20validators%20%28e.g.%20calculated%20on%20the%20server%29%2C%0D%0A%20%20%20%20%20%20%20%20//%20that%20just%20call%20%24setValidity%20and%20need%20the%20model%20value%0D%0A%20%20%20%20%20%20%20%20//%20to%20calculate%20their%20validity.%0D%0A%20%20%20%20%20%20%20%20ctrl.%24modelValue%20%3D%20allValid%20%3F%20modelValue%20%3A%20undefined%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28ctrl.%24modelValue%20%21%3D%3D%20prevModelValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ctrl.%24%24writeModelToScope%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24runValidators%20%3D%20function%28modelValue%2C%20viewValue%2C%20doneCallback%29%20%7B%0D%0A%20%20%20%20currentValidationRunId++%3B%0D%0A%20%20%20%20var%20localValidationRunId%20%3D%20currentValidationRunId%3B%0D%0A%0D%0A%20%20%20%20//%20check%20parser%20error%0D%0A%20%20%20%20if%20%28%21processParseErrors%28%29%29%20%7B%0D%0A%20%20%20%20%20%20validationDone%28false%29%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28%21processSyncValidators%28%29%29%20%7B%0D%0A%20%20%20%20%20%20validationDone%28false%29%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20processAsyncValidators%28%29%3B%0D%0A%0D%0A%20%20%20%20function%20processParseErrors%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20errorKey%20%3D%20ctrl.%24%24parserName%20%7C%7C%20%27parse%27%3B%0D%0A%20%20%20%20%20%20if%20%28parserValid%20%3D%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20setValidity%28errorKey%2C%20null%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21parserValid%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28ctrl.%24validators%2C%20function%28v%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setValidity%28name%2C%20null%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28ctrl.%24asyncValidators%2C%20function%28v%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setValidity%28name%2C%20null%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20Set%20the%20parse%20error%20last%2C%20to%20prevent%20unsetting%20it%2C%20should%20a%20%24validators%20key%20%3D%3D%20parserName%0D%0A%20%20%20%20%20%20%20%20setValidity%28errorKey%2C%20parserValid%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20parserValid%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20processSyncValidators%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20syncValidatorsValid%20%3D%20true%3B%0D%0A%20%20%20%20%20%20forEach%28ctrl.%24validators%2C%20function%28validator%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20result%20%3D%20validator%28modelValue%2C%20viewValue%29%3B%0D%0A%20%20%20%20%20%20%20%20syncValidatorsValid%20%3D%20syncValidatorsValid%20%26%26%20result%3B%0D%0A%20%20%20%20%20%20%20%20setValidity%28name%2C%20result%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21syncValidatorsValid%29%20%7B%0D%0A%20%20%20%20%20%20%20%20forEach%28ctrl.%24asyncValidators%2C%20function%28v%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20setValidity%28name%2C%20null%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20processAsyncValidators%28%29%20%7B%0D%0A%20%20%20%20%20%20var%20validatorPromises%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20var%20allValid%20%3D%20true%3B%0D%0A%20%20%20%20%20%20forEach%28ctrl.%24asyncValidators%2C%20function%28validator%2C%20name%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20promise%20%3D%20validator%28modelValue%2C%20viewValue%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21isPromiseLike%28promise%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20%24ngModelMinErr%28%22%24asyncValidators%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Expected%20asynchronous%20validator%20to%20return%20a%20promise%20but%20got%20%27%7B0%7D%27%20instead.%22%2C%20promise%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20setValidity%28name%2C%20undefined%29%3B%0D%0A%20%20%20%20%20%20%20%20validatorPromises.push%28promise.then%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20setValidity%28name%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20function%28error%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20allValid%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20setValidity%28name%2C%20false%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20if%20%28%21validatorPromises.length%29%20%7B%0D%0A%20%20%20%20%20%20%20%20validationDone%28true%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%24q.all%28validatorPromises%29.then%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20validationDone%28allValid%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20noop%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20setValidity%28name%2C%20isValid%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28localValidationRunId%20%3D%3D%3D%20currentValidationRunId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24setValidity%28name%2C%20isValid%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20function%20validationDone%28allValid%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28localValidationRunId%20%3D%3D%3D%20currentValidationRunId%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20doneCallback%28allValid%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24commitViewValue%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Commit%20a%20pending%20update%20to%20the%20%60%24modelValue%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Updates%20may%20be%20pending%20by%20a%20debounced%20event%20or%20because%20the%20input%20is%20waiting%20for%20a%20some%20future%0D%0A%20%20%20*%20event%20defined%20in%20%60ng-model-options%60.%20this%20method%20is%20rarely%20needed%20as%20%60NgModelController%60%0D%0A%20%20%20*%20usually%20handles%20calling%20this%20in%20response%20to%20input%20events.%0D%0A%20%20%20*/%0D%0A%20%20this.%24commitViewValue%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20viewValue%20%3D%20ctrl.%24viewValue%3B%0D%0A%0D%0A%20%20%20%20%24timeout.cancel%28pendingDebounce%29%3B%0D%0A%0D%0A%20%20%20%20//%20If%20the%20view%20value%20has%20not%20changed%20then%20we%20should%20just%20exit%2C%20except%20in%20the%20case%20where%20there%20is%0D%0A%20%20%20%20//%20a%20native%20validator%20on%20the%20element.%20In%20this%20case%20the%20validation%20state%20may%20have%20changed%20even%20though%0D%0A%20%20%20%20//%20the%20viewValue%20has%20stayed%20empty.%0D%0A%20%20%20%20if%20%28ctrl.%24%24lastCommittedViewValue%20%3D%3D%3D%20viewValue%20%26%26%20%28viewValue%20%21%3D%3D%20%27%27%20%7C%7C%20%21ctrl.%24%24hasNativeValidators%29%29%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20ctrl.%24%24lastCommittedViewValue%20%3D%20viewValue%3B%0D%0A%0D%0A%20%20%20%20//%20change%20to%20dirty%0D%0A%20%20%20%20if%20%28ctrl.%24pristine%29%20%7B%0D%0A%20%20%20%20%20%20this.%24setDirty%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20this.%24%24parseAndValidate%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24parseAndValidate%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20var%20viewValue%20%3D%20ctrl.%24%24lastCommittedViewValue%3B%0D%0A%20%20%20%20var%20modelValue%20%3D%20viewValue%3B%0D%0A%20%20%20%20parserValid%20%3D%20isUndefined%28modelValue%29%20%3F%20undefined%20%3A%20true%3B%0D%0A%0D%0A%20%20%20%20if%20%28parserValid%29%20%7B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20ctrl.%24parsers.length%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20modelValue%20%3D%20ctrl.%24parsers%5Bi%5D%28modelValue%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28isUndefined%28modelValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20parserValid%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isNumber%28ctrl.%24modelValue%29%20%26%26%20isNaN%28ctrl.%24modelValue%29%29%20%7B%0D%0A%20%20%20%20%20%20//%20ctrl.%24modelValue%20has%20not%20been%20touched%20yet...%0D%0A%20%20%20%20%20%20ctrl.%24modelValue%20%3D%20ngModelGet%28%24scope%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20prevModelValue%20%3D%20ctrl.%24modelValue%3B%0D%0A%20%20%20%20var%20allowInvalid%20%3D%20ctrl.%24options%20%26%26%20ctrl.%24options.allowInvalid%3B%0D%0A%20%20%20%20ctrl.%24%24rawModelValue%20%3D%20modelValue%3B%0D%0A%0D%0A%20%20%20%20if%20%28allowInvalid%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24modelValue%20%3D%20modelValue%3B%0D%0A%20%20%20%20%20%20writeToModelIfNeeded%28%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20Pass%20the%20%24%24lastCommittedViewValue%20here%2C%20because%20the%20cached%20viewValue%20might%20be%20out%20of%20date.%0D%0A%20%20%20%20//%20This%20can%20happen%20if%20e.g.%20%24setViewValue%20is%20called%20from%20inside%20a%20parser%0D%0A%20%20%20%20ctrl.%24%24runValidators%28modelValue%2C%20ctrl.%24%24lastCommittedViewValue%2C%20function%28allValid%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21allowInvalid%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Note%3A%20Don%27t%20check%20ctrl.%24valid%20here%2C%20as%20we%20could%20have%0D%0A%20%20%20%20%20%20%20%20//%20external%20validators%20%28e.g.%20calculated%20on%20the%20server%29%2C%0D%0A%20%20%20%20%20%20%20%20//%20that%20just%20call%20%24setValidity%20and%20need%20the%20model%20value%0D%0A%20%20%20%20%20%20%20%20//%20to%20calculate%20their%20validity.%0D%0A%20%20%20%20%20%20%20%20ctrl.%24modelValue%20%3D%20allValid%20%3F%20modelValue%20%3A%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20writeToModelIfNeeded%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20function%20writeToModelIfNeeded%28%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28ctrl.%24modelValue%20%21%3D%3D%20prevModelValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24%24writeModelToScope%28%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24writeModelToScope%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20ngModelSet%28%24scope%2C%20ctrl.%24modelValue%29%3B%0D%0A%20%20%20%20forEach%28ctrl.%24viewChangeListeners%2C%20function%28listener%29%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20listener%28%29%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24exceptionHandler%28e%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20/**%0D%0A%20%20%20*%20@ngdoc%20method%0D%0A%20%20%20*%20@name%20ngModel.NgModelController%23%24setViewValue%0D%0A%20%20%20*%0D%0A%20%20%20*%20@description%0D%0A%20%20%20*%20Update%20the%20view%20value.%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20method%20should%20be%20called%20when%20an%20input%20directive%20want%20to%20change%20the%20view%20value%3B%20typically%2C%0D%0A%20%20%20*%20this%20is%20done%20from%20within%20a%20DOM%20event%20handler.%0D%0A%20%20%20*%0D%0A%20%20%20*%20For%20example%20%7B@link%20ng.directive%3Ainput%20input%7D%20calls%20it%20when%20the%20value%20of%20the%20input%20changes%20and%0D%0A%20%20%20*%20%7B@link%20ng.directive%3Aselect%20select%7D%20calls%20it%20when%20an%20option%20is%20selected.%0D%0A%20%20%20*%0D%0A%20%20%20*%20If%20the%20new%20%60value%60%20is%20an%20object%20%28rather%20than%20a%20string%20or%20a%20number%29%2C%20we%20should%20make%20a%20copy%20of%20the%0D%0A%20%20%20*%20object%20before%20passing%20it%20to%20%60%24setViewValue%60.%20%20This%20is%20because%20%60ngModel%60%20does%20not%20perform%20a%20deep%0D%0A%20%20%20*%20watch%20of%20objects%2C%20it%20only%20looks%20for%20a%20change%20of%20identity.%20If%20you%20only%20change%20the%20property%20of%0D%0A%20%20%20*%20the%20object%20then%20ngModel%20will%20not%20realise%20that%20the%20object%20has%20changed%20and%20will%20not%20invoke%20the%0D%0A%20%20%20*%20%60%24parsers%60%20and%20%60%24validators%60%20pipelines.%0D%0A%20%20%20*%0D%0A%20%20%20*%20For%20this%20reason%2C%20you%20should%20not%20change%20properties%20of%20the%20copy%20once%20it%20has%20been%20passed%20to%0D%0A%20%20%20*%20%60%24setViewValue%60.%20Otherwise%20you%20may%20cause%20the%20model%20value%20on%20the%20scope%20to%20change%20incorrectly.%0D%0A%20%20%20*%0D%0A%20%20%20*%20When%20this%20method%20is%20called%2C%20the%20new%20%60value%60%20will%20be%20staged%20for%20committing%20through%20the%20%60%24parsers%60%0D%0A%20%20%20*%20and%20%60%24validators%60%20pipelines.%20If%20there%20are%20no%20special%20%7B@link%20ngModelOptions%7D%20specified%20then%20the%20staged%0D%0A%20%20%20*%20value%20sent%20directly%20for%20processing%2C%20finally%20to%20be%20applied%20to%20%60%24modelValue%60%20and%20then%20the%0D%0A%20%20%20*%20**expression**%20specified%20in%20the%20%60ng-model%60%20attribute.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Lastly%2C%20all%20the%20registered%20change%20listeners%2C%20in%20the%20%60%24viewChangeListeners%60%20list%2C%20are%20called.%0D%0A%20%20%20*%0D%0A%20%20%20*%20In%20case%20the%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D%20directive%20is%20used%20with%20%60updateOn%60%0D%0A%20%20%20*%20and%20the%20%60default%60%20trigger%20is%20not%20listed%2C%20all%20those%20actions%20will%20remain%20pending%20until%20one%20of%20the%0D%0A%20%20%20*%20%60updateOn%60%20events%20is%20triggered%20on%20the%20DOM%20element.%0D%0A%20%20%20*%20All%20these%20actions%20will%20be%20debounced%20if%20the%20%7B@link%20ng.directive%3AngModelOptions%20ngModelOptions%7D%0D%0A%20%20%20*%20directive%20is%20used%20with%20a%20custom%20debounce%20for%20this%20particular%20event.%0D%0A%20%20%20*%0D%0A%20%20%20*%20Note%20that%20calling%20this%20function%20does%20not%20trigger%20a%20%60%24digest%60.%0D%0A%20%20%20*%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20value%20Value%20from%20the%20view.%0D%0A%20%20%20*%20@param%20%7Bstring%7D%20trigger%20Event%20that%20triggered%20the%20update.%0D%0A%20%20%20*/%0D%0A%20%20this.%24setViewValue%20%3D%20function%28value%2C%20trigger%29%20%7B%0D%0A%20%20%20%20ctrl.%24viewValue%20%3D%20value%3B%0D%0A%20%20%20%20if%20%28%21ctrl.%24options%20%7C%7C%20ctrl.%24options.updateOnDefault%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24%24debounceViewValueCommit%28trigger%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20this.%24%24debounceViewValueCommit%20%3D%20function%28trigger%29%20%7B%0D%0A%20%20%20%20var%20debounceDelay%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20ctrl.%24options%2C%0D%0A%20%20%20%20%20%20%20%20debounce%3B%0D%0A%0D%0A%20%20%20%20if%20%28options%20%26%26%20isDefined%28options.debounce%29%29%20%7B%0D%0A%20%20%20%20%20%20debounce%20%3D%20options.debounce%3B%0D%0A%20%20%20%20%20%20if%20%28isNumber%28debounce%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20debounceDelay%20%3D%20debounce%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isNumber%28debounce%5Btrigger%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20debounceDelay%20%3D%20debounce%5Btrigger%5D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20%28isNumber%28debounce%5B%27default%27%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20debounceDelay%20%3D%20debounce%5B%27default%27%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%24timeout.cancel%28pendingDebounce%29%3B%0D%0A%20%20%20%20if%20%28debounceDelay%29%20%7B%0D%0A%20%20%20%20%20%20pendingDebounce%20%3D%20%24timeout%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24commitViewValue%28%29%3B%0D%0A%20%20%20%20%20%20%7D%2C%20debounceDelay%29%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28%24rootScope.%24%24phase%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24commitViewValue%28%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%24scope.%24apply%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24commitViewValue%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20model%20-%3E%20value%0D%0A%20%20//%20Note%3A%20we%20cannot%20use%20a%20normal%20scope.%24watch%20as%20we%20want%20to%20detect%20the%20following%3A%0D%0A%20%20//%201.%20scope%20value%20is%20%27a%27%0D%0A%20%20//%202.%20user%20enters%20%27b%27%0D%0A%20%20//%203.%20ng-change%20kicks%20in%20and%20reverts%20scope%20value%20to%20%27a%27%0D%0A%20%20//%20%20%20%20-%3E%20scope%20value%20did%20not%20change%20since%20the%20last%20digest%20as%0D%0A%20%20//%20%20%20%20%20%20%20ng-change%20executes%20in%20apply%20phase%0D%0A%20%20//%204.%20view%20should%20be%20changed%20back%20to%20%27a%27%0D%0A%20%20%24scope.%24watch%28function%20ngModelWatch%28%29%20%7B%0D%0A%20%20%20%20var%20modelValue%20%3D%20ngModelGet%28%24scope%29%3B%0D%0A%0D%0A%20%20%20%20//%20if%20scope%20model%20value%20and%20ngModel%20value%20are%20out%20of%20sync%0D%0A%20%20%20%20//%20TODO%28perf%29%3A%20why%20not%20move%20this%20to%20the%20action%20fn%3F%0D%0A%20%20%20%20if%20%28modelValue%20%21%3D%3D%20ctrl.%24modelValue%20%26%26%0D%0A%20%20%20%20%20%20%20//%20checks%20for%20NaN%20is%20needed%20to%20allow%20setting%20the%20model%20to%20NaN%20when%20there%27s%20an%20asyncValidator%0D%0A%20%20%20%20%20%20%20%28ctrl.%24modelValue%20%3D%3D%3D%20ctrl.%24modelValue%20%7C%7C%20modelValue%20%3D%3D%3D%20modelValue%29%0D%0A%20%20%20%20%29%20%7B%0D%0A%20%20%20%20%20%20ctrl.%24modelValue%20%3D%20ctrl.%24%24rawModelValue%20%3D%20modelValue%3B%0D%0A%20%20%20%20%20%20parserValid%20%3D%20undefined%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20formatters%20%3D%20ctrl.%24formatters%2C%0D%0A%20%20%20%20%20%20%20%20%20%20idx%20%3D%20formatters.length%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20viewValue%20%3D%20modelValue%3B%0D%0A%20%20%20%20%20%20while%20%28idx--%29%20%7B%0D%0A%20%20%20%20%20%20%20%20viewValue%20%3D%20formatters%5Bidx%5D%28viewValue%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20%28ctrl.%24viewValue%20%21%3D%3D%20viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24viewValue%20%3D%20ctrl.%24%24lastCommittedViewValue%20%3D%20viewValue%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24render%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20ctrl.%24%24runValidators%28modelValue%2C%20viewValue%2C%20noop%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20modelValue%3B%0D%0A%20%20%7D%29%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngModel%0D%0A%20*%0D%0A%20*%20@element%20input%0D%0A%20*%20@priority%201%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngModel%60%20directive%20binds%20an%20%60input%60%2C%60select%60%2C%20%60textarea%60%20%28or%20custom%20form%20control%29%20to%20a%0D%0A%20*%20property%20on%20the%20scope%20using%20%7B@link%20ngModel.NgModelController%20NgModelController%7D%2C%0D%0A%20*%20which%20is%20created%20and%20exposed%20by%20this%20directive.%0D%0A%20*%0D%0A%20*%20%60ngModel%60%20is%20responsible%20for%3A%0D%0A%20*%0D%0A%20*%20-%20Binding%20the%20view%20into%20the%20model%2C%20which%20other%20directives%20such%20as%20%60input%60%2C%20%60textarea%60%20or%20%60select%60%0D%0A%20*%20%20%20require.%0D%0A%20*%20-%20Providing%20validation%20behavior%20%28i.e.%20required%2C%20number%2C%20email%2C%20url%29.%0D%0A%20*%20-%20Keeping%20the%20state%20of%20the%20control%20%28valid/invalid%2C%20dirty/pristine%2C%20touched/untouched%2C%20validation%20errors%29.%0D%0A%20*%20-%20Setting%20related%20css%20classes%20on%20the%20element%20%28%60ng-valid%60%2C%20%60ng-invalid%60%2C%20%60ng-dirty%60%2C%20%60ng-pristine%60%2C%20%60ng-touched%60%2C%20%60ng-untouched%60%29%20including%20animations.%0D%0A%20*%20-%20Registering%20the%20control%20with%20its%20parent%20%7B@link%20ng.directive%3Aform%20form%7D.%0D%0A%20*%0D%0A%20*%20Note%3A%20%60ngModel%60%20will%20try%20to%20bind%20to%20the%20property%20given%20by%20evaluating%20the%20expression%20on%20the%0D%0A%20*%20current%20scope.%20If%20the%20property%20doesn%27t%20already%20exist%20on%20this%20scope%2C%20it%20will%20be%20created%0D%0A%20*%20implicitly%20and%20added%20to%20the%20scope.%0D%0A%20*%0D%0A%20*%20For%20best%20practices%20on%20using%20%60ngModel%60%2C%20see%3A%0D%0A%20*%0D%0A%20*%20%20-%20%5BUnderstanding%20Scopes%5D%28https%3A//github.com/angular/angular.js/wiki/Understanding-Scopes%29%0D%0A%20*%0D%0A%20*%20For%20basic%20examples%2C%20how%20to%20use%20%60ngModel%60%2C%20see%3A%0D%0A%20*%0D%0A%20*%20%20-%20%7B@link%20ng.directive%3Ainput%20input%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Btext%5D%20text%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bcheckbox%5D%20checkbox%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bradio%5D%20radio%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bnumber%5D%20number%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bemail%5D%20email%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Burl%5D%20url%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bdate%5D%20date%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bdatetime-local%5D%20datetime-local%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Btime%5D%20time%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bmonth%5D%20month%7D%0D%0A%20*%20%20%20%20-%20%7B@link%20input%5Bweek%5D%20week%7D%0D%0A%20*%20%20-%20%7B@link%20ng.directive%3Aselect%20select%7D%0D%0A%20*%20%20-%20%7B@link%20ng.directive%3Atextarea%20textarea%7D%0D%0A%20*%0D%0A%20*%20%23%20CSS%20classes%0D%0A%20*%20The%20following%20CSS%20classes%20are%20added%20and%20removed%20on%20the%20associated%20input/select/textarea%20element%0D%0A%20*%20depending%20on%20the%20validity%20of%20the%20model.%0D%0A%20*%0D%0A%20*%20%20-%20%60ng-valid%60%3A%20the%20model%20is%20valid%0D%0A%20*%20%20-%20%60ng-invalid%60%3A%20the%20model%20is%20invalid%0D%0A%20*%20%20-%20%60ng-valid-%5Bkey%5D%60%3A%20for%20each%20valid%20key%20added%20by%20%60%24setValidity%60%0D%0A%20*%20%20-%20%60ng-invalid-%5Bkey%5D%60%3A%20for%20each%20invalid%20key%20added%20by%20%60%24setValidity%60%0D%0A%20*%20%20-%20%60ng-pristine%60%3A%20the%20control%20hasn%27t%20been%20interacted%20with%20yet%0D%0A%20*%20%20-%20%60ng-dirty%60%3A%20the%20control%20has%20been%20interacted%20with%0D%0A%20*%20%20-%20%60ng-touched%60%3A%20the%20control%20has%20been%20blurred%0D%0A%20*%20%20-%20%60ng-untouched%60%3A%20the%20control%20hasn%27t%20been%20blurred%0D%0A%20*%20%20-%20%60ng-pending%60%3A%20any%20%60%24asyncValidators%60%20are%20unfulfilled%0D%0A%20*%0D%0A%20*%20Keep%20in%20mind%20that%20ngAnimate%20can%20detect%20each%20of%20these%20classes%20when%20added%20and%20removed.%0D%0A%20*%0D%0A%20*%20%23%23%20Animation%20Hooks%0D%0A%20*%0D%0A%20*%20Animations%20within%20models%20are%20triggered%20when%20any%20of%20the%20associated%20CSS%20classes%20are%20added%20and%20removed%0D%0A%20*%20on%20the%20input%20element%20which%20is%20attached%20to%20the%20model.%20These%20classes%20are%3A%20%60.ng-pristine%60%2C%20%60.ng-dirty%60%2C%0D%0A%20*%20%60.ng-invalid%60%20and%20%60.ng-valid%60%20as%20well%20as%20any%20other%20validations%20that%20are%20performed%20on%20the%20model%20itself.%0D%0A%20*%20The%20animations%20that%20are%20triggered%20within%20ngModel%20are%20similar%20to%20how%20they%20work%20in%20ngClass%20and%0D%0A%20*%20animations%20can%20be%20hooked%20into%20using%20CSS%20transitions%2C%20keyframes%20as%20well%20as%20JS%20animations.%0D%0A%20*%0D%0A%20*%20The%20following%20example%20shows%20a%20simple%20way%20to%20utilize%20CSS%20transitions%20to%20style%20an%20input%20element%0D%0A%20*%20that%20has%20been%20rendered%20as%20invalid%20after%20it%20has%20been%20validated%3A%0D%0A%20*%0D%0A%20*%20%3Cpre%3E%0D%0A%20*%20//be%20sure%20to%20include%20ngAnimate%20as%20a%20module%20to%20hook%20into%20more%0D%0A%20*%20//advanced%20animations%0D%0A%20*%20.my-input%20%7B%0D%0A%20*%20%20%20transition%3A0.5s%20linear%20all%3B%0D%0A%20*%20%20%20background%3A%20white%3B%0D%0A%20*%20%7D%0D%0A%20*%20.my-input.ng-invalid%20%7B%0D%0A%20*%20%20%20background%3A%20red%3B%0D%0A%20*%20%20%20color%3Awhite%3B%0D%0A%20*%20%7D%0D%0A%20*%20%3C/pre%3E%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20%3Cexample%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%20fixBase%3D%22true%22%20module%3D%22inputExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20angular.module%28%27inputExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.val%20%3D%20%271%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cstyle%3E%0D%0A%20%20%20%20%20%20%20%20%20.my-input%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20.my-input.ng-invalid%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20color%3Awhite%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20background%3A%20red%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%3C/style%3E%0D%0A%20%20%20%20%20%20%20%3Cp%20id%3D%22inputDescription%22%3E%0D%0A%20%20%20%20%20%20%20%20Update%20input%20to%20see%20transitions%20when%20valid/invalid.%0D%0A%20%20%20%20%20%20%20%20Integer%20is%20a%20valid%20value.%0D%0A%20%20%20%20%20%20%20%3C/p%3E%0D%0A%20%20%20%20%20%20%20%3Cform%20name%3D%22testForm%22%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22val%22%20ng-pattern%3D%22/%5E%5Cd+%24/%22%20name%3D%22anim%22%20class%3D%22my-input%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aria-describedby%3D%22inputDescription%22%20/%3E%0D%0A%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*%20%23%23%20Binding%20to%20a%20getter/setter%0D%0A%20*%0D%0A%20*%20Sometimes%20it%27s%20helpful%20to%20bind%20%60ngModel%60%20to%20a%20getter/setter%20function.%20%20A%20getter/setter%20is%20a%0D%0A%20*%20function%20that%20returns%20a%20representation%20of%20the%20model%20when%20called%20with%20zero%20arguments%2C%20and%20sets%0D%0A%20*%20the%20internal%20state%20of%20a%20model%20when%20called%20with%20an%20argument.%20It%27s%20sometimes%20useful%20to%20use%20this%0D%0A%20*%20for%20models%20that%20have%20an%20internal%20representation%20that%27s%20different%20from%20what%20the%20model%20exposes%0D%0A%20*%20to%20the%20view.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-success%22%3E%0D%0A%20*%20**Best%20Practice%3A**%20It%27s%20best%20to%20keep%20getters%20fast%20because%20Angular%20is%20likely%20to%20call%20them%20more%0D%0A%20*%20frequently%20than%20other%20parts%20of%20your%20code.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20You%20use%20this%20behavior%20by%20adding%20%60ng-model-options%3D%22%7B%20getterSetter%3A%20true%20%7D%22%60%20to%20an%20element%20that%0D%0A%20*%20has%20%60ng-model%60%20attached%20to%20it.%20You%20can%20also%20add%20%60ng-model-options%3D%22%7B%20getterSetter%3A%20true%20%7D%22%60%20to%0D%0A%20*%20a%20%60%3Cform%3E%60%2C%20which%20will%20enable%20this%20behavior%20for%20all%20%60%3Cinput%3E%60s%20within%20it.%20See%0D%0A%20*%20%7B@link%20ng.directive%3AngModelOptions%20%60ngModelOptions%60%7D%20for%20more.%0D%0A%20*%0D%0A%20*%20The%20following%20example%20shows%20how%20to%20use%20%60ngModel%60%20with%20a%20getter/setter%3A%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20%3Cexample%20name%3D%22ngModel-getter-setter%22%20module%3D%22getterSetterExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cform%20name%3D%22userForm%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22userName%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model%3D%22user.name%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model-options%3D%22%7B%20getterSetter%3A%20true%20%7D%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cpre%3Euser.name%20%3D%20%3Cspan%20ng-bind%3D%22user.name%28%29%22%3E%3C/span%3E%3C/pre%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20%20%20%20%20%20%20angular.module%28%27getterSetterExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20var%20_name%20%3D%20%27Brian%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%28newName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%20that%20newName%20can%20be%20undefined%20for%20two%20reasons%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Because%20it%20is%20called%20as%20a%20getter%20and%20thus%20called%20with%20no%20arguments%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Because%20the%20property%20should%20actually%20be%20set%20to%20undefined.%20This%20happens%20e.g.%20if%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20input%20is%20invalid%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20arguments.length%20%3F%20%28_name%20%3D%20newName%29%20%3A%20_name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngModelDirective%20%3D%20%5B%27%24rootScope%27%2C%20function%28%24rootScope%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20require%3A%20%5B%27ngModel%27%2C%20%27%5E%3Fform%27%2C%20%27%5E%3FngModelOptions%27%5D%2C%0D%0A%20%20%20%20controller%3A%20NgModelController%2C%0D%0A%20%20%20%20//%20Prelink%20needs%20to%20run%20before%20any%20input%20directive%0D%0A%20%20%20%20//%20so%20that%20we%20can%20set%20the%20NgModelOptions%20in%20NgModelController%0D%0A%20%20%20%20//%20before%20anyone%20else%20uses%20it.%0D%0A%20%20%20%20priority%3A%201%2C%0D%0A%20%20%20%20compile%3A%20function%20ngModelCompile%28element%29%20%7B%0D%0A%20%20%20%20%20%20//%20Setup%20initial%20state%20of%20the%20control%0D%0A%20%20%20%20%20%20element.addClass%28PRISTINE_CLASS%29.addClass%28UNTOUCHED_CLASS%29.addClass%28VALID_CLASS%29%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20pre%3A%20function%20ngModelPreLink%28scope%2C%20element%2C%20attr%2C%20ctrls%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20modelCtrl%20%3D%20ctrls%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20formCtrl%20%3D%20ctrls%5B1%5D%20%7C%7C%20nullFormCtrl%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20modelCtrl.%24%24setOptions%28ctrls%5B2%5D%20%26%26%20ctrls%5B2%5D.%24options%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20notify%20others%2C%20especially%20parent%20forms%0D%0A%20%20%20%20%20%20%20%20%20%20formCtrl.%24addControl%28modelCtrl%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24observe%28%27name%27%2C%20function%28newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28modelCtrl.%24name%20%21%3D%3D%20newValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20formCtrl.%24%24renameControl%28modelCtrl%2C%20newValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20formCtrl.%24removeControl%28modelCtrl%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20post%3A%20function%20ngModelPostLink%28scope%2C%20element%2C%20attr%2C%20ctrls%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20modelCtrl%20%3D%20ctrls%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28modelCtrl.%24options%20%26%26%20modelCtrl.%24options.updateOn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20element.on%28modelCtrl.%24options.updateOn%2C%20function%28ev%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20modelCtrl.%24%24debounceViewValueCommit%28ev%20%26%26%20ev.type%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20element.on%28%27blur%27%2C%20function%28ev%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28modelCtrl.%24touched%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%24rootScope.%24%24phase%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24evalAsync%28modelCtrl.%24setTouched%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope.%24apply%28modelCtrl.%24setTouched%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Avar%20DEFAULT_REGEXP%20%3D%20/%28%5Cs+%7C%5E%29default%28%5Cs+%7C%24%29/%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngModelOptions%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Allows%20tuning%20how%20model%20updates%20are%20done.%20Using%20%60ngModelOptions%60%20you%20can%20specify%20a%20custom%20list%20of%0D%0A%20*%20events%20that%20will%20trigger%20a%20model%20update%20and/or%20a%20debouncing%20delay%20so%20that%20the%20actual%20update%20only%0D%0A%20*%20takes%20place%20when%20a%20timer%20expires%3B%20this%20timer%20will%20be%20reset%20after%20another%20change%20takes%20place.%0D%0A%20*%0D%0A%20*%20Given%20the%20nature%20of%20%60ngModelOptions%60%2C%20the%20value%20displayed%20inside%20input%20fields%20in%20the%20view%20might%0D%0A%20*%20be%20different%20from%20the%20value%20in%20the%20actual%20model.%20This%20means%20that%20if%20you%20update%20the%20model%20you%0D%0A%20*%20should%20also%20invoke%20%7B@link%20ngModel.NgModelController%20%60%24rollbackViewValue%60%7D%20on%20the%20relevant%20input%20field%20in%0D%0A%20*%20order%20to%20make%20sure%20it%20is%20synchronized%20with%20the%20model%20and%20that%20any%20debounced%20action%20is%20canceled.%0D%0A%20*%0D%0A%20*%20The%20easiest%20way%20to%20reference%20the%20control%27s%20%7B@link%20ngModel.NgModelController%20%60%24rollbackViewValue%60%7D%0D%0A%20*%20method%20is%20by%20making%20sure%20the%20input%20is%20placed%20inside%20a%20form%20that%20has%20a%20%60name%60%20attribute.%20This%20is%0D%0A%20*%20important%20because%20%60form%60%20controllers%20are%20published%20to%20the%20related%20scope%20under%20the%20name%20in%20their%0D%0A%20*%20%60name%60%20attribute.%0D%0A%20*%0D%0A%20*%20Any%20pending%20changes%20will%20take%20place%20immediately%20when%20an%20enclosing%20form%20is%20submitted%20via%20the%0D%0A%20*%20%60submit%60%20event.%20Note%20that%20%60ngClick%60%20events%20will%20occur%20before%20the%20model%20is%20updated.%20Use%20%60ngSubmit%60%0D%0A%20*%20to%20have%20access%20to%20the%20updated%20model.%0D%0A%20*%0D%0A%20*%20%60ngModelOptions%60%20has%20an%20effect%20on%20the%20element%20it%27s%20declared%20on%20and%20its%20descendants.%0D%0A%20*%0D%0A%20*%20@param%20%7BObject%7D%20ngModelOptions%20options%20to%20apply%20to%20the%20current%20model.%20Valid%20keys%20are%3A%0D%0A%20*%20%20%20-%20%60updateOn%60%3A%20string%20specifying%20which%20event%20should%20the%20input%20be%20bound%20to.%20You%20can%20set%20several%0D%0A%20*%20%20%20%20%20events%20using%20an%20space%20delimited%20list.%20There%20is%20a%20special%20event%20called%20%60default%60%20that%0D%0A%20*%20%20%20%20%20matches%20the%20default%20events%20belonging%20of%20the%20control.%0D%0A%20*%20%20%20-%20%60debounce%60%3A%20integer%20value%20which%20contains%20the%20debounce%20model%20update%20value%20in%20milliseconds.%20A%0D%0A%20*%20%20%20%20%20value%20of%200%20triggers%20an%20immediate%20update.%20If%20an%20object%20is%20supplied%20instead%2C%20you%20can%20specify%20a%0D%0A%20*%20%20%20%20%20custom%20value%20for%20each%20event.%20For%20example%3A%0D%0A%20*%20%20%20%20%20%60ng-model-options%3D%22%7B%20updateOn%3A%20%27default%20blur%27%2C%20debounce%3A%20%7B%27default%27%3A%20500%2C%20%27blur%27%3A%200%7D%20%7D%22%60%0D%0A%20*%20%20%20-%20%60allowInvalid%60%3A%20boolean%20value%20which%20indicates%20that%20the%20model%20can%20be%20set%20with%20values%20that%20did%0D%0A%20*%20%20%20%20%20not%20validate%20correctly%20instead%20of%20the%20default%20behavior%20of%20setting%20the%20model%20to%20undefined.%0D%0A%20*%20%20%20-%20%60getterSetter%60%3A%20boolean%20value%20which%20determines%20whether%20or%20not%20to%20treat%20functions%20bound%20to%0D%0A%20%20%20%20%20%20%20%60ngModel%60%20as%20getters/setters.%0D%0A%20*%20%20%20-%20%60timezone%60%3A%20Defines%20the%20timezone%20to%20be%20used%20to%20read/write%20the%20%60Date%60%20instance%20in%20the%20model%20for%0D%0A%20*%20%20%20%20%20%60%3Cinput%20type%3D%22date%22%3E%60%2C%20%60%3Cinput%20type%3D%22time%22%3E%60%2C%20...%20.%20It%20understands%20UTC/GMT%20and%20the%0D%0A%20*%20%20%20%20%20continental%20US%20time%20zone%20abbreviations%2C%20but%20for%20general%20use%2C%20use%20a%20time%20zone%20offset%2C%20for%0D%0A%20*%20%20%20%20%20example%2C%20%60%27+0430%27%60%20%284%20hours%2C%2030%20minutes%20east%20of%20the%20Greenwich%20meridian%29%0D%0A%20*%20%20%20%20%20If%20not%20specified%2C%20the%20timezone%20of%20the%20browser%20will%20be%20used.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%0D%0A%20%20The%20following%20example%20shows%20how%20to%20override%20immediate%20updates.%20Changes%20on%20the%20inputs%20within%20the%0D%0A%20%20form%20will%20update%20the%20model%20only%20when%20the%20control%20loses%20focus%20%28blur%20event%29.%20If%20%60escape%60%20key%20is%0D%0A%20%20pressed%20while%20the%20input%20field%20is%20focused%2C%20the%20value%20is%20reset%20to%20the%20value%20in%20the%20current%20model.%0D%0A%0D%0A%20%20%3Cexample%20name%3D%22ngModelOptions-directive-blur%22%20module%3D%22optionsExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cform%20name%3D%22userForm%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22userName%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model%3D%22user.name%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model-options%3D%22%7B%20updateOn%3A%20%27blur%27%20%7D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-keyup%3D%22cancel%28%24event%29%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EOther%20data%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20ng-model%3D%22user.data%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%3Euser.name%20%3D%20%3Cspan%20ng-bind%3D%22user.name%22%3E%3C/span%3E%3C/pre%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27optionsExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7B%20name%3A%20%27say%27%2C%20data%3A%20%27%27%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.cancel%20%3D%20function%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.keyCode%20%3D%3D%2027%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.userForm.userName.%24rollbackViewValue%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20model%20%3D%20element%28by.binding%28%27user.name%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20element%28by.model%28%27user.name%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20other%20%3D%20element%28by.model%28%27user.data%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20allow%20custom%20events%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20input.sendKeys%28%27%20hello%27%29%3B%0D%0A%20%20%20%20%20%20%20%20input.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28model.getText%28%29%29.toEqual%28%27say%27%29%3B%0D%0A%20%20%20%20%20%20%20%20other.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28model.getText%28%29%29.toEqual%28%27say%20hello%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20%24rollbackViewValue%20when%20model%20changes%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20input.sendKeys%28%27%20hello%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28input.getAttribute%28%27value%27%29%29.toEqual%28%27say%20hello%27%29%3B%0D%0A%20%20%20%20%20%20%20%20input.sendKeys%28protractor.Key.ESCAPE%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28input.getAttribute%28%27value%27%29%29.toEqual%28%27say%27%29%3B%0D%0A%20%20%20%20%20%20%20%20other.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28model.getText%28%29%29.toEqual%28%27say%27%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%0D%0A%20%20This%20one%20shows%20how%20to%20debounce%20model%20changes.%20Model%20will%20be%20updated%20only%201%20sec%20after%20last%20change.%0D%0A%20%20If%20the%20%60Clear%60%20button%20is%20pressed%2C%20any%20debounced%20action%20is%20canceled%20and%20the%20value%20becomes%20empty.%0D%0A%0D%0A%20%20%3Cexample%20name%3D%22ngModelOptions-directive-debounce%22%20module%3D%22optionsExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cform%20name%3D%22userForm%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22userName%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model%3D%22user.name%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model-options%3D%22%7B%20debounce%3A%201000%20%7D%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22userForm.userName.%24rollbackViewValue%28%29%3B%20user.name%3D%27%27%22%3EClear%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%3Euser.name%20%3D%20%3Cspan%20ng-bind%3D%22user.name%22%3E%3C/span%3E%3C/pre%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27optionsExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7B%20name%3A%20%27say%27%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%0D%0A%20%20This%20one%20shows%20how%20to%20bind%20to%20getter/setters%3A%0D%0A%0D%0A%20%20%3Cexample%20name%3D%22ngModelOptions-directive-getter-setter%22%20module%3D%22getterSetterExample%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cform%20name%3D%22userForm%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22userName%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model%3D%22user.name%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-model-options%3D%22%7B%20getterSetter%3A%20true%20%7D%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%3C/form%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%3Euser.name%20%3D%20%3Cspan%20ng-bind%3D%22user.name%28%29%22%3E%3C/span%3E%3C/pre%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27getterSetterExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20_name%20%3D%20%27Brian%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%28newName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%20that%20newName%20can%20be%20undefined%20for%20two%20reasons%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Because%20it%20is%20called%20as%20a%20getter%20and%20thus%20called%20with%20no%20arguments%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Because%20the%20property%20should%20actually%20be%20set%20to%20undefined.%20This%20happens%20e.g.%20if%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20input%20is%20invalid%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20arguments.length%20%3F%20%28_name%20%3D%20newName%29%20%3A%20_name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngModelOptionsDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20controller%3A%20%5B%27%24scope%27%2C%20%27%24attrs%27%2C%20function%28%24scope%2C%20%24attrs%29%20%7B%0D%0A%20%20%20%20%20%20var%20that%20%3D%20this%3B%0D%0A%20%20%20%20%20%20this.%24options%20%3D%20copy%28%24scope.%24eval%28%24attrs.ngModelOptions%29%29%3B%0D%0A%20%20%20%20%20%20//%20Allow%20adding/overriding%20bound%20events%0D%0A%20%20%20%20%20%20if%20%28this.%24options.updateOn%20%21%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24options.updateOnDefault%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20//%20extract%20%22default%22%20pseudo-event%20from%20list%20of%20events%20that%20can%20trigger%20a%20model%20update%0D%0A%20%20%20%20%20%20%20%20this.%24options.updateOn%20%3D%20trim%28this.%24options.updateOn.replace%28DEFAULT_REGEXP%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20that.%24options.updateOnDefault%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%27%20%27%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.%24options.updateOnDefault%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%5D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A%0D%0A//%20helper%20methods%0D%0Afunction%20addSetValidityMethod%28context%29%20%7B%0D%0A%20%20var%20ctrl%20%3D%20context.ctrl%2C%0D%0A%20%20%20%20%20%20%24element%20%3D%20context.%24element%2C%0D%0A%20%20%20%20%20%20classCache%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20set%20%3D%20context.set%2C%0D%0A%20%20%20%20%20%20unset%20%3D%20context.unset%2C%0D%0A%20%20%20%20%20%20parentForm%20%3D%20context.parentForm%2C%0D%0A%20%20%20%20%20%20%24animate%20%3D%20context.%24animate%3B%0D%0A%0D%0A%20%20classCache%5BINVALID_CLASS%5D%20%3D%20%21%28classCache%5BVALID_CLASS%5D%20%3D%20%24element.hasClass%28VALID_CLASS%29%29%3B%0D%0A%0D%0A%20%20ctrl.%24setValidity%20%3D%20setValidity%3B%0D%0A%0D%0A%20%20function%20setValidity%28validationErrorKey%2C%20state%2C%20controller%29%20%7B%0D%0A%20%20%20%20if%20%28state%20%3D%3D%3D%20undefined%29%20%7B%0D%0A%20%20%20%20%20%20createAndSet%28%27%24pending%27%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20unsetAndCleanup%28%27%24pending%27%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28%21isBoolean%28state%29%29%20%7B%0D%0A%20%20%20%20%20%20unset%28ctrl.%24error%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20unset%28ctrl.%24%24success%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20if%20%28state%29%20%7B%0D%0A%20%20%20%20%20%20%20%20unset%28ctrl.%24error%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20%20%20set%28ctrl.%24%24success%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20set%28ctrl.%24error%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20%20%20unset%28ctrl.%24%24success%2C%20validationErrorKey%2C%20controller%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28ctrl.%24pending%29%20%7B%0D%0A%20%20%20%20%20%20cachedToggleClass%28PENDING_CLASS%2C%20true%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24valid%20%3D%20ctrl.%24invalid%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20toggleValidationCss%28%27%27%2C%20null%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20cachedToggleClass%28PENDING_CLASS%2C%20false%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24valid%20%3D%20isObjectEmpty%28ctrl.%24error%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24invalid%20%3D%20%21ctrl.%24valid%3B%0D%0A%20%20%20%20%20%20toggleValidationCss%28%27%27%2C%20ctrl.%24valid%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20re-read%20the%20state%20as%20the%20set/unset%20methods%20could%20have%0D%0A%20%20%20%20//%20combined%20state%20in%20ctrl.%24error%5BvalidationError%5D%20%28used%20for%20forms%29%2C%0D%0A%20%20%20%20//%20where%20setting/unsetting%20only%20increments/decrements%20the%20value%2C%0D%0A%20%20%20%20//%20and%20does%20not%20replace%20it.%0D%0A%20%20%20%20var%20combinedState%3B%0D%0A%20%20%20%20if%20%28ctrl.%24pending%20%26%26%20ctrl.%24pending%5BvalidationErrorKey%5D%29%20%7B%0D%0A%20%20%20%20%20%20combinedState%20%3D%20undefined%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28ctrl.%24error%5BvalidationErrorKey%5D%29%20%7B%0D%0A%20%20%20%20%20%20combinedState%20%3D%20false%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28ctrl.%24%24success%5BvalidationErrorKey%5D%29%20%7B%0D%0A%20%20%20%20%20%20combinedState%20%3D%20true%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20combinedState%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleValidationCss%28validationErrorKey%2C%20combinedState%29%3B%0D%0A%20%20%20%20parentForm.%24setValidity%28validationErrorKey%2C%20combinedState%2C%20ctrl%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20createAndSet%28name%2C%20value%2C%20controller%29%20%7B%0D%0A%20%20%20%20if%20%28%21ctrl%5Bname%5D%29%20%7B%0D%0A%20%20%20%20%20%20ctrl%5Bname%5D%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20set%28ctrl%5Bname%5D%2C%20value%2C%20controller%29%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20unsetAndCleanup%28name%2C%20value%2C%20controller%29%20%7B%0D%0A%20%20%20%20if%20%28ctrl%5Bname%5D%29%20%7B%0D%0A%20%20%20%20%20%20unset%28ctrl%5Bname%5D%2C%20value%2C%20controller%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28isObjectEmpty%28ctrl%5Bname%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20ctrl%5Bname%5D%20%3D%20undefined%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20cachedToggleClass%28className%2C%20switchValue%29%20%7B%0D%0A%20%20%20%20if%20%28switchValue%20%26%26%20%21classCache%5BclassName%5D%29%20%7B%0D%0A%20%20%20%20%20%20%24animate.addClass%28%24element%2C%20className%29%3B%0D%0A%20%20%20%20%20%20classCache%5BclassName%5D%20%3D%20true%3B%0D%0A%20%20%20%20%7D%20else%20if%20%28%21switchValue%20%26%26%20classCache%5BclassName%5D%29%20%7B%0D%0A%20%20%20%20%20%20%24animate.removeClass%28%24element%2C%20className%29%3B%0D%0A%20%20%20%20%20%20classCache%5BclassName%5D%20%3D%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20toggleValidationCss%28validationErrorKey%2C%20isValid%29%20%7B%0D%0A%20%20%20%20validationErrorKey%20%3D%20validationErrorKey%20%3F%20%27-%27%20+%20snake_case%28validationErrorKey%2C%20%27-%27%29%20%3A%20%27%27%3B%0D%0A%0D%0A%20%20%20%20cachedToggleClass%28VALID_CLASS%20+%20validationErrorKey%2C%20isValid%20%3D%3D%3D%20true%29%3B%0D%0A%20%20%20%20cachedToggleClass%28INVALID_CLASS%20+%20validationErrorKey%2C%20isValid%20%3D%3D%3D%20false%29%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20isObjectEmpty%28obj%29%20%7B%0D%0A%20%20if%20%28obj%29%20%7B%0D%0A%20%20%20%20for%20%28var%20prop%20in%20obj%29%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20return%20true%3B%0D%0A%7D%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngNonBindable%0D%0A%20*%20@restrict%20AC%0D%0A%20*%20@priority%201000%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngNonBindable%60%20directive%20tells%20Angular%20not%20to%20compile%20or%20bind%20the%20contents%20of%20the%20current%0D%0A%20*%20DOM%20element.%20This%20is%20useful%20if%20the%20element%20contains%20what%20appears%20to%20be%20Angular%20directives%20and%0D%0A%20*%20bindings%20but%20which%20should%20be%20ignored%20by%20Angular.%20This%20could%20be%20the%20case%20if%20you%20have%20a%20site%20that%0D%0A%20*%20displays%20snippets%20of%20code%2C%20for%20instance.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20In%20this%20example%20there%20are%20two%20locations%20where%20a%20simple%20interpolation%20binding%20%28%60%7B%7B%7D%7D%60%29%20is%20present%2C%0D%0A%20*%20but%20the%20one%20wrapped%20in%20%60ngNonBindable%60%20is%20left%20alone.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%3ENormal%3A%20%7B%7B1%20+%202%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20ng-non-bindable%3EIgnored%3A%20%7B%7B1%20+%202%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-non-bindable%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%271%20+%202%27%29%29.getText%28%29%29.toContain%28%273%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28element.all%28by.css%28%27div%27%29%29.last%28%29.getText%28%29%29.toMatch%28/1%20%5C+%202/%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngNonBindableDirective%20%3D%20ngDirective%28%7B%20terminal%3A%20true%2C%20priority%3A%201000%20%7D%29%3B%0D%0A%0D%0A/*%20global%20jqLiteRemove%20*/%0D%0A%0D%0Avar%20ngOptionsMinErr%20%3D%20minErr%28%27ngOptions%27%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngOptions%0D%0A%20*%20@restrict%20A%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%0D%0A%20*%20The%20%60ngOptions%60%20attribute%20can%20be%20used%20to%20dynamically%20generate%20a%20list%20of%20%60%3Coption%3E%60%0D%0A%20*%20elements%20for%20the%20%60%3Cselect%3E%60%20element%20using%20the%20array%20or%20object%20obtained%20by%20evaluating%20the%0D%0A%20*%20%60ngOptions%60%20comprehension%20expression.%0D%0A%20*%0D%0A%20*%20In%20many%20cases%2C%20%60ngRepeat%60%20can%20be%20used%20on%20%60%3Coption%3E%60%20elements%20instead%20of%20%60ngOptions%60%20to%20achieve%20a%0D%0A%20*%20similar%20result.%20However%2C%20%60ngOptions%60%20provides%20some%20benefits%20such%20as%20reducing%20memory%20and%0D%0A%20*%20increasing%20speed%20by%20not%20creating%20a%20new%20scope%20for%20each%20repeated%20instance%2C%20as%20well%20as%20providing%0D%0A%20*%20more%20flexibility%20in%20how%20the%20%60%3Cselect%3E%60%27s%20model%20is%20assigned%20via%20the%20%60select%60%20**%60as%60**%20part%20of%20the%0D%0A%20*%20comprehension%20expression.%20%60ngOptions%60%20should%20be%20used%20when%20the%20%60%3Cselect%3E%60%20model%20needs%20to%20be%20bound%0D%0A%20*%20%20to%20a%20non-string%20value.%20This%20is%20because%20an%20option%20element%20can%20only%20be%20bound%20to%20string%20values%20at%0D%0A%20*%20present.%0D%0A%20*%0D%0A%20*%20When%20an%20item%20in%20the%20%60%3Cselect%3E%60%20menu%20is%20selected%2C%20the%20array%20element%20or%20object%20property%0D%0A%20*%20represented%20by%20the%20selected%20option%20will%20be%20bound%20to%20the%20model%20identified%20by%20the%20%60ngModel%60%0D%0A%20*%20directive.%0D%0A%20*%0D%0A%20*%20Optionally%2C%20a%20single%20hard-coded%20%60%3Coption%3E%60%20element%2C%20with%20the%20value%20set%20to%20an%20empty%20string%2C%20can%0D%0A%20*%20be%20nested%20into%20the%20%60%3Cselect%3E%60%20element.%20This%20element%20will%20then%20represent%20the%20%60null%60%20or%20%22not%20selected%22%0D%0A%20*%20option.%20See%20example%20below%20for%20demonstration.%0D%0A%20*%0D%0A%20*%20%23%23%20Complex%20Models%20%28objects%20or%20collections%29%0D%0A%20*%0D%0A%20*%20**Note%3A**%20By%20default%2C%20%60ngModel%60%20watches%20the%20model%20by%20reference%2C%20not%20value.%20This%20is%20important%20when%0D%0A%20*%20binding%20any%20input%20directive%20to%20a%20model%20that%20is%20an%20object%20or%20a%20collection.%0D%0A%20*%0D%0A%20*%20Since%20this%20is%20a%20common%20situation%20for%20%60ngOptions%60%20the%20directive%20additionally%20watches%20the%20model%20using%0D%0A%20*%20%60%24watchCollection%60%20when%20the%20select%20has%20the%20%60multiple%60%20attribute%20or%20when%20there%20is%20a%20%60track%20by%60%20clause%20in%0D%0A%20*%20the%20options%20expression.%20This%20allows%20ngOptions%20to%20trigger%20a%20re-rendering%20of%20the%20options%20even%20if%20the%20actual%0D%0A%20*%20object/collection%20has%20not%20changed%20identity%20but%20only%20a%20property%20on%20the%20object%20or%20an%20item%20in%20the%20collection%0D%0A%20*%20changes.%0D%0A%20*%0D%0A%20*%20Note%20that%20%60%24watchCollection%60%20does%20a%20shallow%20comparison%20of%20the%20properties%20of%20the%20object%20%28or%20the%20items%20in%20the%20collection%0D%0A%20*%20if%20the%20model%20is%20an%20array%29.%20This%20means%20that%20changing%20a%20property%20deeper%20inside%20the%20object/collection%20that%20the%0D%0A%20*%20first%20level%20will%20not%20trigger%20a%20re-rendering.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%20%60select%60%20**%60as%60**%0D%0A%20*%0D%0A%20*%20Using%20%60select%60%20**%60as%60**%20will%20bind%20the%20result%20of%20the%20%60select%60%20expression%20to%20the%20model%2C%20but%0D%0A%20*%20the%20value%20of%20the%20%60%3Cselect%3E%60%20and%20%60%3Coption%3E%60%20html%20elements%20will%20be%20either%20the%20index%20%28for%20array%20data%20sources%29%0D%0A%20*%20or%20property%20name%20%28for%20object%20data%20sources%29%20of%20the%20value%20within%20the%20collection.%20If%20a%20**%60track%20by%60**%20expression%0D%0A%20*%20is%20used%2C%20the%20result%20of%20that%20expression%20will%20be%20set%20as%20the%20value%20of%20the%20%60option%60%20and%20%60select%60%20elements.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%23%23%20%60select%60%20**%60as%60**%20and%20**%60track%20by%60**%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-warning%22%3E%0D%0A%20*%20Do%20not%20use%20%60select%60%20**%60as%60**%20and%20**%60track%20by%60**%20in%20the%20same%20expression.%20They%20are%20not%20designed%20to%20work%20together.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20Consider%20the%20following%20example%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cselect%20ng-options%3D%22item.subItem%20as%20item.label%20for%20item%20in%20values%20track%20by%20item.id%22%20ng-model%3D%22selected%22%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%24scope.values%20%3D%20%5B%7B%0D%0A%20*%20%20%20id%3A%201%2C%0D%0A%20*%20%20%20label%3A%20%27aLabel%27%2C%0D%0A%20*%20%20%20subItem%3A%20%7B%20name%3A%20%27aSubItem%27%20%7D%0D%0A%20*%20%7D%2C%20%7B%0D%0A%20*%20%20%20id%3A%202%2C%0D%0A%20*%20%20%20label%3A%20%27bLabel%27%2C%0D%0A%20*%20%20%20subItem%3A%20%7B%20name%3A%20%27bSubItem%27%20%7D%0D%0A%20*%20%7D%5D%3B%0D%0A%20*%0D%0A%20*%20%24scope.selected%20%3D%20%7B%20name%3A%20%27aSubItem%27%20%7D%3B%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20With%20the%20purpose%20of%20preserving%20the%20selection%2C%20the%20**%60track%20by%60**%20expression%20is%20always%20applied%20to%20the%20element%0D%0A%20*%20of%20the%20data%20source%20%28to%20%60item%60%20in%20this%20example%29.%20To%20calculate%20whether%20an%20element%20is%20selected%2C%20we%20do%20the%0D%0A%20*%20following%3A%0D%0A%20*%0D%0A%20*%201.%20Apply%20**%60track%20by%60**%20to%20the%20elements%20in%20the%20array.%20In%20the%20example%3A%20%60%5B1%2C%202%5D%60%0D%0A%20*%202.%20Apply%20**%60track%20by%60**%20to%20the%20already%20selected%20value%20in%20%60ngModel%60.%0D%0A%20*%20%20%20%20In%20the%20example%3A%20this%20is%20not%20possible%20as%20**%60track%20by%60**%20refers%20to%20%60item.id%60%2C%20but%20the%20selected%0D%0A%20*%20%20%20%20value%20from%20%60ngModel%60%20is%20%60%7Bname%3A%20%27aSubItem%27%7D%60%2C%20so%20the%20**%60track%20by%60**%20expression%20is%20applied%20to%0D%0A%20*%20%20%20%20a%20wrong%20object%2C%20the%20selected%20element%20can%27t%20be%20found%2C%20%60%3Cselect%3E%60%20is%20always%20reset%20to%20the%20%22not%0D%0A%20*%20%20%20%20selected%22%20option.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20ngModel%20Assignable%20angular%20expression%20to%20data-bind%20to.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20name%20Property%20name%20of%20the%20form%20under%20which%20the%20control%20is%20published.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20required%20The%20control%20is%20considered%20valid%20only%20if%20value%20is%20entered.%0D%0A%20*%20@param%20%7Bstring%3D%7D%20ngRequired%20Adds%20%60required%60%20attribute%20and%20%60required%60%20validation%20constraint%20to%0D%0A%20*%20%20%20%20the%20element%20when%20the%20ngRequired%20expression%20evaluates%20to%20true.%20Use%20%60ngRequired%60%20instead%20of%0D%0A%20*%20%20%20%20%60required%60%20when%20you%20want%20to%20data-bind%20to%20the%20%60required%60%20attribute.%0D%0A%20*%20@param%20%7Bcomprehension_expression%3D%7D%20ngOptions%20in%20one%20of%20the%20following%20forms%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20for%20array%20data%20sources%3A%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%0D%0A%20*%20%20%20%20%20*%20%60select%60%20**%60as%60**%20%60label%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60group%20by%60**%20%60group%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60disable%20when%60**%20%60disable%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60group%20by%60**%20%60group%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%20**%60track%20by%60**%20%60trackexpr%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60disable%20when%60**%20%60disable%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%20**%60track%20by%60**%20%60trackexpr%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60for%60**%20%60value%60%20**%60in%60**%20%60array%60%20%7C%20orderBy%3A%60orderexpr%60%20**%60track%20by%60**%20%60trackexpr%60%0D%0A%20*%20%20%20%20%20%20%20%20%28for%20including%20a%20filter%20with%20%60track%20by%60%29%0D%0A%20*%20%20%20*%20for%20object%20data%20sources%3A%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60for%20%28%60**%60key%60%20**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%20%20%20%20%20*%20%60select%60%20**%60as%60**%20%60label%60%20**%60for%20%28%60**%60key%60%20**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60group%20by%60**%20%60group%60%20**%60for%20%28%60**%60key%60**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%20%20%20%20%20*%20%60label%60%20**%60disable%20when%60**%20%60disable%60%20**%60for%20%28%60**%60key%60**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%20%20%20%20%20*%20%60select%60%20**%60as%60**%20%60label%60%20**%60group%20by%60**%20%60group%60%0D%0A%20*%20%20%20%20%20%20%20%20%20**%60for%60%20%60%28%60**%60key%60**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%20%20%20%20%20*%20%60select%60%20**%60as%60**%20%60label%60%20**%60disable%20when%60**%20%60disable%60%0D%0A%20*%20%20%20%20%20%20%20%20%20**%60for%60%20%60%28%60**%60key%60**%60%2C%60**%20%60value%60**%60%29%20in%60**%20%60object%60%0D%0A%20*%0D%0A%20*%20Where%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20%60array%60%20/%20%60object%60%3A%20an%20expression%20which%20evaluates%20to%20an%20array%20/%20object%20to%20iterate%20over.%0D%0A%20*%20%20%20*%20%60value%60%3A%20local%20variable%20which%20will%20refer%20to%20each%20item%20in%20the%20%60array%60%20or%20each%20property%20value%0D%0A%20*%20%20%20%20%20%20of%20%60object%60%20during%20iteration.%0D%0A%20*%20%20%20*%20%60key%60%3A%20local%20variable%20which%20will%20refer%20to%20a%20property%20name%20in%20%60object%60%20during%20iteration.%0D%0A%20*%20%20%20*%20%60label%60%3A%20The%20result%20of%20this%20expression%20will%20be%20the%20label%20for%20%60%3Coption%3E%60%20element.%20The%0D%0A%20*%20%20%20%20%20%60expression%60%20will%20most%20likely%20refer%20to%20the%20%60value%60%20variable%20%28e.g.%20%60value.propertyName%60%29.%0D%0A%20*%20%20%20*%20%60select%60%3A%20The%20result%20of%20this%20expression%20will%20be%20bound%20to%20the%20model%20of%20the%20parent%20%60%3Cselect%3E%60%0D%0A%20*%20%20%20%20%20%20element.%20If%20not%20specified%2C%20%60select%60%20expression%20will%20default%20to%20%60value%60.%0D%0A%20*%20%20%20*%20%60group%60%3A%20The%20result%20of%20this%20expression%20will%20be%20used%20to%20group%20options%20using%20the%20%60%3Coptgroup%3E%60%0D%0A%20*%20%20%20%20%20%20DOM%20element.%0D%0A%20*%20%20%20*%20%60disable%60%3A%20The%20result%20of%20this%20expression%20will%20be%20used%20to%20disable%20the%20rendered%20%60%3Coption%3E%60%0D%0A%20*%20%20%20%20%20%20element.%20Return%20%60true%60%20to%20disable.%0D%0A%20*%20%20%20*%20%60trackexpr%60%3A%20Used%20when%20working%20with%20an%20array%20of%20objects.%20The%20result%20of%20this%20expression%20will%20be%0D%0A%20*%20%20%20%20%20%20used%20to%20identify%20the%20objects%20in%20the%20array.%20The%20%60trackexpr%60%20will%20most%20likely%20refer%20to%20the%0D%0A%20*%20%20%20%20%20%60value%60%20variable%20%28e.g.%20%60value.propertyName%60%29.%20With%20this%20the%20selection%20is%20preserved%0D%0A%20*%20%20%20%20%20%20even%20when%20the%20options%20are%20recreated%20%28e.g.%20reloaded%20from%20the%20server%29.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%20module%3D%22selectExample%22%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20angular.module%28%27selectExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.colors%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27black%27%2C%20shade%3A%27dark%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27white%27%2C%20shade%3A%27light%27%2C%20notAnOption%3A%20true%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27red%27%2C%20shade%3A%27dark%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27blue%27%2C%20shade%3A%27dark%27%2C%20notAnOption%3A%20true%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%27yellow%27%2C%20shade%3A%27light%27%2C%20notAnOption%3A%20false%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope.myColor%20%3D%20%24scope.colors%5B2%5D%3B%20//%20red%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cul%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%20ng-repeat%3D%22color%20in%20colors%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EName%3A%20%3Cinput%20ng-model%3D%22color.name%22%3E%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22color.notAnOption%22%3E%20Disabled%3F%3C/label%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22colors.splice%28%24index%2C%201%29%22%20aria-label%3D%22Remove%22%3EX%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20ng-click%3D%22colors.push%28%7B%7D%29%22%3Eadd%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/ul%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EColor%20%28null%20not%20allowed%29%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22myColor%22%20ng-options%3D%22color.name%20for%20color%20in%20colors%22%3E%3C/select%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EColor%20%28null%20allowed%29%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20%20class%3D%22nullable%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22myColor%22%20ng-options%3D%22color.name%20for%20color%20in%20colors%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22%22%3E--%20choose%20color%20--%3C/option%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/span%3E%3C/label%3E%3Cbr/%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EColor%20grouped%20by%20shade%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22myColor%22%20ng-options%3D%22color.name%20group%20by%20color.shade%20for%20color%20in%20colors%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EColor%20grouped%20by%20shade%2C%20with%20some%20disabled%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22myColor%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-options%3D%22color.name%20group%20by%20color.shade%20disable%20when%20color.notAnOption%20for%20color%20in%20colors%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3Cbr/%3E%0D%0A%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20Select%20%3Cbutton%20ng-click%3D%22myColor%20%3D%20%7B%20name%3A%27not%20in%20list%27%2C%20shade%3A%20%27other%27%20%7D%22%3Ebogus%3C/button%3E.%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20Currently%20selected%3A%20%7B%7B%20%7Bselected_color%3AmyColor%7D%20%7D%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22border%3Asolid%201px%20black%3B%20height%3A20px%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ng-style%3D%22%7B%27background-color%27%3AmyColor.name%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20%20it%28%27should%20check%20ng-options%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27%7Bselected_color%3AmyColor%7D%27%29%29.getText%28%29%29.toMatch%28%27red%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20element.all%28by.model%28%27myColor%27%29%29.first%28%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20element.all%28by.css%28%27select%5Bng-model%3D%22myColor%22%5D%20option%27%29%29.first%28%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27%7Bselected_color%3AmyColor%7D%27%29%29.getText%28%29%29.toMatch%28%27black%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20element%28by.css%28%27.nullable%20select%5Bng-model%3D%22myColor%22%5D%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20element.all%28by.css%28%27.nullable%20select%5Bng-model%3D%22myColor%22%5D%20option%27%29%29.first%28%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27%7Bselected_color%3AmyColor%7D%27%29%29.getText%28%29%29.toMatch%28%27null%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0A%0D%0A//%20jshint%20maxlen%3A%20false%0D%0A//%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//00001111111111000000000002222222222000000000000000000000333333333300000000000000000000000004444444444400000000000005555555555555550000000006666666666666660000000777777777777777000000000000000888888888800000000000000000009999999999%0D%0Avar%20NG_OPTIONS_REGEXP%20%3D%20/%5E%5Cs*%28%5B%5Cs%5CS%5D+%3F%29%28%3F%3A%5Cs+as%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%28%3F%3A%5Cs+group%5Cs+by%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%28%3F%3A%5Cs+disable%5Cs+when%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%5Cs+for%5Cs+%28%3F%3A%28%5B%5C%24%5Cw%5D%5B%5C%24%5Cw%5D*%29%7C%28%3F%3A%5C%28%5Cs*%28%5B%5C%24%5Cw%5D%5B%5C%24%5Cw%5D*%29%5Cs*%2C%5Cs*%28%5B%5C%24%5Cw%5D%5B%5C%24%5Cw%5D*%29%5Cs*%5C%29%29%29%5Cs+in%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%28%3F%3A%5Cs+track%5Cs+by%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%24/%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201%3A%20value%20expression%20%28valueFn%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202%3A%20label%20expression%20%28displayFn%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%203%3A%20group%20by%20expression%20%28groupByFn%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%204%3A%20disable%20when%20expression%20%28disableWhenFn%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%205%3A%20array%20item%20variable%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%206%3A%20object%20item%20key%20variable%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%207%3A%20object%20item%20value%20variable%20name%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%208%3A%20collection%20expression%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%209%3A%20track%20by%20expression%0D%0A//%20jshint%20maxlen%3A%20100%0D%0A%0D%0A%0D%0Avar%20ngOptionsDirective%20%3D%20%5B%27%24compile%27%2C%20%27%24parse%27%2C%20function%28%24compile%2C%20%24parse%29%20%7B%0D%0A%0D%0A%20%20function%20parseOptionsExpression%28optionsExp%2C%20selectElement%2C%20scope%29%20%7B%0D%0A%0D%0A%20%20%20%20var%20match%20%3D%20optionsExp.match%28NG_OPTIONS_REGEXP%29%3B%0D%0A%20%20%20%20if%20%28%21%28match%29%29%20%7B%0D%0A%20%20%20%20%20%20throw%20ngOptionsMinErr%28%27iexp%27%2C%0D%0A%20%20%20%20%20%20%20%20%22Expected%20expression%20in%20form%20of%20%22%20+%0D%0A%20%20%20%20%20%20%20%20%22%27_select_%20%28as%20_label_%29%3F%20for%20%28_key_%2C%29%3F_value_%20in%20_collection_%27%22%20+%0D%0A%20%20%20%20%20%20%20%20%22%20but%20got%20%27%7B0%7D%27.%20Element%3A%20%7B1%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20optionsExp%2C%20startingTag%28selectElement%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20Extract%20the%20parts%20from%20the%20ngOptions%20expression%0D%0A%0D%0A%20%20%20%20//%20The%20variable%20name%20for%20the%20value%20of%20the%20item%20in%20the%20collection%0D%0A%20%20%20%20var%20valueName%20%3D%20match%5B5%5D%20%7C%7C%20match%5B7%5D%3B%0D%0A%20%20%20%20//%20The%20variable%20name%20for%20the%20key%20of%20the%20item%20in%20the%20collection%0D%0A%20%20%20%20var%20keyName%20%3D%20match%5B6%5D%3B%0D%0A%0D%0A%20%20%20%20//%20An%20expression%20that%20generates%20the%20viewValue%20for%20an%20option%20if%20there%20is%20a%20label%20expression%0D%0A%20%20%20%20var%20selectAs%20%3D%20/%20as%20/.test%28match%5B0%5D%29%20%26%26%20match%5B1%5D%3B%0D%0A%20%20%20%20//%20An%20expression%20that%20is%20used%20to%20track%20the%20id%20of%20each%20object%20in%20the%20options%20collection%0D%0A%20%20%20%20var%20trackBy%20%3D%20match%5B9%5D%3B%0D%0A%20%20%20%20//%20An%20expression%20that%20generates%20the%20viewValue%20for%20an%20option%20if%20there%20is%20no%20label%20expression%0D%0A%20%20%20%20var%20valueFn%20%3D%20%24parse%28match%5B2%5D%20%3F%20match%5B1%5D%20%3A%20valueName%29%3B%0D%0A%20%20%20%20var%20selectAsFn%20%3D%20selectAs%20%26%26%20%24parse%28selectAs%29%3B%0D%0A%20%20%20%20var%20viewValueFn%20%3D%20selectAsFn%20%7C%7C%20valueFn%3B%0D%0A%20%20%20%20var%20trackByFn%20%3D%20trackBy%20%26%26%20%24parse%28trackBy%29%3B%0D%0A%0D%0A%20%20%20%20//%20Get%20the%20value%20by%20which%20we%20are%20going%20to%20track%20the%20option%0D%0A%20%20%20%20//%20if%20we%20have%20a%20trackFn%20then%20use%20that%20%28passing%20scope%20and%20locals%29%0D%0A%20%20%20%20//%20otherwise%20just%20hash%20the%20given%20viewValue%0D%0A%20%20%20%20var%20getTrackByValueFn%20%3D%20trackBy%20%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%28value%2C%20locals%29%20%7B%20return%20trackByFn%28scope%2C%20locals%29%3B%20%7D%20%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20getHashOfValue%28value%29%20%7B%20return%20hashKey%28value%29%3B%20%7D%3B%0D%0A%20%20%20%20var%20getTrackByValue%20%3D%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20return%20getTrackByValueFn%28value%2C%20getLocals%28value%2C%20key%29%29%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20var%20displayFn%20%3D%20%24parse%28match%5B2%5D%20%7C%7C%20match%5B1%5D%29%3B%0D%0A%20%20%20%20var%20groupByFn%20%3D%20%24parse%28match%5B3%5D%20%7C%7C%20%27%27%29%3B%0D%0A%20%20%20%20var%20disableWhenFn%20%3D%20%24parse%28match%5B4%5D%20%7C%7C%20%27%27%29%3B%0D%0A%20%20%20%20var%20valuesFn%20%3D%20%24parse%28match%5B8%5D%29%3B%0D%0A%0D%0A%20%20%20%20var%20locals%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20var%20getLocals%20%3D%20keyName%20%3F%20function%28value%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20locals%5BkeyName%5D%20%3D%20key%3B%0D%0A%20%20%20%20%20%20locals%5BvalueName%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20return%20locals%3B%0D%0A%20%20%20%20%7D%20%3A%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20locals%5BvalueName%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20return%20locals%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20function%20Option%28selectValue%2C%20viewValue%2C%20label%2C%20group%2C%20disabled%29%20%7B%0D%0A%20%20%20%20%20%20this.selectValue%20%3D%20selectValue%3B%0D%0A%20%20%20%20%20%20this.viewValue%20%3D%20viewValue%3B%0D%0A%20%20%20%20%20%20this.label%20%3D%20label%3B%0D%0A%20%20%20%20%20%20this.group%20%3D%20group%3B%0D%0A%20%20%20%20%20%20this.disabled%20%3D%20disabled%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20trackBy%3A%20trackBy%2C%0D%0A%20%20%20%20%20%20getTrackByValue%3A%20getTrackByValue%2C%0D%0A%20%20%20%20%20%20getWatchables%3A%20%24parse%28valuesFn%2C%20function%28values%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20Create%20a%20collection%20of%20things%20that%20we%20would%20like%20to%20watch%20%28watchedArray%29%0D%0A%20%20%20%20%20%20%20%20//%20so%20that%20they%20can%20all%20be%20watched%20using%20a%20single%20%24watchCollection%0D%0A%20%20%20%20%20%20%20%20//%20that%20only%20runs%20the%20handler%20once%20if%20anything%20changes%0D%0A%20%20%20%20%20%20%20%20var%20watchedArray%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20values%20%3D%20values%20%7C%7C%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20Object.keys%28values%29.forEach%28function%20getWatchable%28key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20locals%20%3D%20getLocals%28values%5Bkey%5D%2C%20key%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20selectValue%20%3D%20getTrackByValueFn%28values%5Bkey%5D%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20watchedArray.push%28selectValue%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Only%20need%20to%20watch%20the%20displayFn%20if%20there%20is%20a%20specific%20label%20expression%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28match%5B2%5D%20%7C%7C%20match%5B1%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20displayFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchedArray.push%28label%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Only%20need%20to%20watch%20the%20disableWhenFn%20if%20there%20is%20a%20specific%20disable%20expression%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28match%5B4%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20disableWhen%20%3D%20disableWhenFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchedArray.push%28disableWhen%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20return%20watchedArray%3B%0D%0A%20%20%20%20%20%20%7D%29%2C%0D%0A%0D%0A%20%20%20%20%20%20getOptions%3A%20function%28%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20optionItems%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20selectValueMap%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20The%20option%20values%20were%20already%20computed%20in%20the%20%60getWatchables%60%20fn%2C%0D%0A%20%20%20%20%20%20%20%20//%20which%20must%20have%20been%20called%20to%20trigger%20%60getOptions%60%0D%0A%20%20%20%20%20%20%20%20var%20optionValues%20%3D%20valuesFn%28scope%29%20%7C%7C%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20optionValuesKeys%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21keyName%20%26%26%20isArrayLike%28optionValues%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20optionValuesKeys%20%3D%20optionValues%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20if%20object%2C%20extract%20keys%2C%20in%20enumeration%20order%2C%20unsorted%0D%0A%20%20%20%20%20%20%20%20%20%20optionValuesKeys%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20itemKey%20in%20optionValues%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28optionValues.hasOwnProperty%28itemKey%29%20%26%26%20itemKey.charAt%280%29%20%21%3D%3D%20%27%24%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20optionValuesKeys.push%28itemKey%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20optionValuesLength%20%3D%20optionValuesKeys.length%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20index%20%3D%200%3B%20index%20%3C%20optionValuesLength%3B%20index++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20key%20%3D%20%28optionValues%20%3D%3D%3D%20optionValuesKeys%29%20%3F%20index%20%3A%20optionValuesKeys%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20optionValues%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20locals%20%3D%20getLocals%28value%2C%20key%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20viewValue%20%3D%20viewValueFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20selectValue%20%3D%20getTrackByValueFn%28viewValue%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20displayFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20group%20%3D%20groupByFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20disabled%20%3D%20disableWhenFn%28scope%2C%20locals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20optionItem%20%3D%20new%20Option%28selectValue%2C%20viewValue%2C%20label%2C%20group%2C%20disabled%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20optionItems.push%28optionItem%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20selectValueMap%5BselectValue%5D%20%3D%20optionItem%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20items%3A%20optionItems%2C%0D%0A%20%20%20%20%20%20%20%20%20%20selectValueMap%3A%20selectValueMap%2C%0D%0A%20%20%20%20%20%20%20%20%20%20getOptionFromViewValue%3A%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20selectValueMap%5BgetTrackByValue%28value%29%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20getViewValueFromOption%3A%20function%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20If%20the%20viewValue%20could%20be%20an%20object%20that%20may%20be%20mutated%20by%20the%20application%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20we%20need%20to%20make%20a%20copy%20and%20not%20return%20the%20reference%20to%20the%20value%20on%20the%20option.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20trackBy%20%3F%20angular.copy%28option.viewValue%29%20%3A%20option.viewValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20//%20we%20can%27t%20just%20jqLite%28%27%3Coption%3E%27%29%20since%20jqLite%20is%20not%20smart%20enough%0D%0A%20%20//%20to%20create%20it%20in%20%3Cselect%3E%20and%20IE%20barfs%20otherwise.%0D%0A%20%20var%20optionTemplate%20%3D%20document.createElement%28%27option%27%29%2C%0D%0A%20%20%20%20%20%20optGroupTemplate%20%3D%20document.createElement%28%27optgroup%27%29%3B%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20terminal%3A%20true%2C%0D%0A%20%20%20%20require%3A%20%5B%27select%27%2C%20%27%3FngModel%27%5D%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20selectElement%2C%20attr%2C%20ctrls%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20//%20if%20ngModel%20is%20not%20defined%2C%20we%20don%27t%20need%20to%20do%20anything%0D%0A%20%20%20%20%20%20var%20ngModelCtrl%20%3D%20ctrls%5B1%5D%3B%0D%0A%20%20%20%20%20%20if%20%28%21ngModelCtrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20selectCtrl%20%3D%20ctrls%5B0%5D%3B%0D%0A%20%20%20%20%20%20var%20multiple%20%3D%20attr.multiple%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20The%20emptyOption%20allows%20the%20application%20developer%20to%20provide%20their%20own%20custom%20%22empty%22%0D%0A%20%20%20%20%20%20//%20option%20when%20the%20viewValue%20does%20not%20match%20any%20of%20the%20option%20values.%0D%0A%20%20%20%20%20%20var%20emptyOption%3B%0D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20children%20%3D%20selectElement.children%28%29%2C%20ii%20%3D%20children.length%3B%20i%20%3C%20ii%3B%20i++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28children%5Bi%5D.value%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20emptyOption%20%3D%20children.eq%28i%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20providedEmptyOption%20%3D%20%21%21emptyOption%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20unknownOption%20%3D%20jqLite%28optionTemplate.cloneNode%28false%29%29%3B%0D%0A%20%20%20%20%20%20unknownOption.val%28%27%3F%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20options%3B%0D%0A%20%20%20%20%20%20var%20ngOptions%20%3D%20parseOptionsExpression%28attr.ngOptions%2C%20selectElement%2C%20scope%29%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20var%20renderEmptyOption%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21providedEmptyOption%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20selectElement.prepend%28emptyOption%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20selectElement.val%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%20%20emptyOption.prop%28%27selected%27%2C%20true%29%3B%20//%20needed%20for%20IE%0D%0A%20%20%20%20%20%20%20%20emptyOption.attr%28%27selected%27%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20removeEmptyOption%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21providedEmptyOption%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20emptyOption.remove%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20var%20renderUnknownOption%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20selectElement.prepend%28unknownOption%29%3B%0D%0A%20%20%20%20%20%20%20%20selectElement.val%28%27%3F%27%29%3B%0D%0A%20%20%20%20%20%20%20%20unknownOption.prop%28%27selected%27%2C%20true%29%3B%20//%20needed%20for%20IE%0D%0A%20%20%20%20%20%20%20%20unknownOption.attr%28%27selected%27%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20removeUnknownOption%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20unknownOption.remove%28%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20//%20Update%20the%20controller%20methods%20for%20multiple%20selectable%20options%0D%0A%20%20%20%20%20%20if%20%28%21multiple%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20selectCtrl.writeValue%20%3D%20function%20writeNgOptionsValue%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20option%20%3D%20options.getOptionFromViewValue%28value%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28option%20%26%26%20%21option.disabled%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28selectElement%5B0%5D.value%20%21%3D%3D%20option.selectValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEmptyOption%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectElement%5B0%5D.value%20%3D%20option.selectValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20option.element.selected%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20option.element.setAttribute%28%27selected%27%2C%20%27selected%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20null%20%7C%7C%20providedEmptyOption%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderEmptyOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEmptyOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20selectCtrl.readValue%20%3D%20function%20readNgOptionsValue%28%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20var%20selectedOption%20%3D%20options.selectValueMap%5BselectElement.val%28%29%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28selectedOption%20%26%26%20%21selectedOption.disabled%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20removeEmptyOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20removeUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20options.getViewValueFromOption%28selectedOption%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20If%20we%20are%20using%20%60track%20by%60%20then%20we%20must%20watch%20the%20tracked%20value%20on%20the%20model%0D%0A%20%20%20%20%20%20%20%20//%20since%20ngModel%20only%20watches%20for%20object%20identity%20change%0D%0A%20%20%20%20%20%20%20%20if%20%28ngOptions.trackBy%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24watch%28%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20function%28%29%20%7B%20return%20ngOptions.getTrackByValue%28ngModelCtrl.%24viewValue%29%3B%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20function%28%29%20%7B%20ngModelCtrl.%24render%28%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20ngModelCtrl.%24isEmpty%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%21value%20%7C%7C%20value.length%20%3D%3D%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20selectCtrl.writeValue%20%3D%20function%20writeNgOptionsMultiple%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20options.items.forEach%28function%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20option.element.selected%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value.forEach%28function%28item%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20option%20%3D%20options.getOptionFromViewValue%28item%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28option%20%26%26%20%21option.disabled%29%20option.element.selected%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20selectCtrl.readValue%20%3D%20function%20readNgOptionsMultiple%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20selectedValues%20%3D%20selectElement.val%28%29%20%7C%7C%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selections%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28selectedValues%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20option%20%3D%20options.selectValueMap%5Bvalue%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21option.disabled%29%20selections.push%28options.getViewValueFromOption%28option%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20selections%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20If%20we%20are%20using%20%60track%20by%60%20then%20we%20must%20watch%20these%20tracked%20values%20on%20the%20model%0D%0A%20%20%20%20%20%20%20%20//%20since%20ngModel%20only%20watches%20for%20object%20identity%20change%0D%0A%20%20%20%20%20%20%20%20if%20%28ngOptions.trackBy%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20scope.%24watchCollection%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isArray%28ngModelCtrl.%24viewValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20ngModelCtrl.%24viewValue.map%28function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20ngOptions.getTrackByValue%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20if%20%28providedEmptyOption%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20we%20need%20to%20remove%20it%20before%20calling%20selectElement.empty%28%29%20because%20otherwise%20IE%20will%0D%0A%20%20%20%20%20%20%20%20//%20remove%20the%20label%20from%20the%20element.%20wtf%3F%0D%0A%20%20%20%20%20%20%20%20emptyOption.remove%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20compile%20the%20element%20since%20there%20might%20be%20bindings%20in%20it%0D%0A%20%20%20%20%20%20%20%20%24compile%28emptyOption%29%28scope%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20remove%20the%20class%2C%20which%20is%20added%20automatically%20because%20we%20recompile%20the%20element%20and%20it%0D%0A%20%20%20%20%20%20%20%20//%20becomes%20the%20compilation%20root%0D%0A%20%20%20%20%20%20%20%20emptyOption.removeClass%28%27ng-scope%27%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20emptyOption%20%3D%20jqLite%28optionTemplate.cloneNode%28false%29%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20//%20We%20need%20to%20do%20this%20here%20to%20ensure%20that%20the%20options%20object%20is%20defined%0D%0A%20%20%20%20%20%20//%20when%20we%20first%20hit%20it%20in%20writeNgOptionsValue%0D%0A%20%20%20%20%20%20updateOptions%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20We%20will%20re-render%20the%20option%20elements%20if%20the%20option%20values%20or%20labels%20change%0D%0A%20%20%20%20%20%20scope.%24watchCollection%28ngOptions.getWatchables%2C%20updateOptions%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20------------------------------------------------------------------%20//%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20function%20updateOptionElement%28option%2C%20element%29%20%7B%0D%0A%20%20%20%20%20%20%20%20option.element%20%3D%20element%3B%0D%0A%20%20%20%20%20%20%20%20element.disabled%20%3D%20option.disabled%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28option.value%20%21%3D%3D%20element.value%29%20element.value%20%3D%20option.selectValue%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28option.label%20%21%3D%3D%20element.label%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20element.label%20%3D%20option.label%3B%0D%0A%20%20%20%20%20%20%20%20%20%20element.textContent%20%3D%20option.label%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20function%20addOrReuseElement%28parent%2C%20current%2C%20type%2C%20templateElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20element%3B%0D%0A%20%20%20%20%20%20%20%20//%20Check%20whether%20we%20can%20reuse%20the%20next%20element%0D%0A%20%20%20%20%20%20%20%20if%20%28current%20%26%26%20lowercase%28current.nodeName%29%20%3D%3D%3D%20type%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20The%20next%20element%20is%20the%20right%20type%20so%20reuse%20it%0D%0A%20%20%20%20%20%20%20%20%20%20element%20%3D%20current%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20The%20next%20element%20is%20not%20the%20right%20type%20so%20create%20a%20new%20one%0D%0A%20%20%20%20%20%20%20%20%20%20element%20%3D%20templateElement.cloneNode%28false%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21current%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20There%20are%20no%20more%20elements%20so%20just%20append%20it%20to%20the%20select%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parent.appendChild%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20The%20next%20element%20is%20not%20a%20group%20so%20insert%20the%20new%20one%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parent.insertBefore%28element%2C%20current%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20element%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20function%20removeExcessElements%28current%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20next%3B%0D%0A%20%20%20%20%20%20%20%20while%20%28current%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20next%20%3D%20current.nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20%20%20jqLiteRemove%28current%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20current%20%3D%20next%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20function%20skipEmptyAndUnknownOptions%28current%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20emptyOption_%20%3D%20emptyOption%20%26%26%20emptyOption%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20unknownOption_%20%3D%20unknownOption%20%26%26%20unknownOption%5B0%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28emptyOption_%20%7C%7C%20unknownOption_%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20while%20%28current%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28current%20%3D%3D%3D%20emptyOption_%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20%3D%3D%3D%20unknownOption_%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20current%20%3D%20current.nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20current%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20function%20updateOptions%28%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20previousValue%20%3D%20options%20%26%26%20selectCtrl.readValue%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20options%20%3D%20ngOptions.getOptions%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20groupMap%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20var%20currentElement%20%3D%20selectElement%5B0%5D.firstChild%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Ensure%20that%20the%20empty%20option%20is%20always%20there%20if%20it%20was%20explicitly%20provided%0D%0A%20%20%20%20%20%20%20%20if%20%28providedEmptyOption%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20selectElement.prepend%28emptyOption%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20currentElement%20%3D%20skipEmptyAndUnknownOptions%28currentElement%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20options.items.forEach%28function%20updateOption%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20group%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20groupElement%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20optionElement%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28option.group%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20option%20is%20to%20live%20in%20a%20group%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20See%20if%20we%20have%20already%20created%20this%20group%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20group%20%3D%20groupMap%5Boption.group%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21group%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20We%20have%20not%20already%20created%20this%20group%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20groupElement%20%3D%20addOrReuseElement%28selectElement%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27optgroup%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20optGroupTemplate%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Move%20to%20the%20next%20element%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentElement%20%3D%20groupElement.nextSibling%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Update%20the%20label%20on%20the%20group%20element%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20groupElement.label%20%3D%20option.group%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Store%20it%20for%20use%20later%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20group%20%3D%20groupMap%5Boption.group%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20groupElement%3A%20groupElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentOptionElement%3A%20groupElement.firstChild%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20So%20now%20we%20have%20a%20group%20for%20this%20option%20we%20add%20the%20option%20to%20the%20group%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionElement%20%3D%20addOrReuseElement%28group.groupElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20group.currentOptionElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27option%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20optionTemplate%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateOptionElement%28option%2C%20optionElement%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Move%20to%20the%20next%20element%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20group.currentOptionElement%20%3D%20optionElement.nextSibling%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20This%20option%20is%20not%20in%20a%20group%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20optionElement%20%3D%20addOrReuseElement%28selectElement%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentElement%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27option%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20optionTemplate%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateOptionElement%28option%2C%20optionElement%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Move%20to%20the%20next%20element%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentElement%20%3D%20optionElement.nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Now%20remove%20all%20excess%20options%20and%20group%0D%0A%20%20%20%20%20%20%20%20Object.keys%28groupMap%29.forEach%28function%28key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20removeExcessElements%28groupMap%5Bkey%5D.currentOptionElement%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20removeExcessElements%28currentElement%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20ngModelCtrl.%24render%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Check%20to%20see%20if%20the%20value%20has%20changed%20due%20to%20the%20update%20to%20the%20options%0D%0A%20%20%20%20%20%20%20%20if%20%28%21ngModelCtrl.%24isEmpty%28previousValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20nextValue%20%3D%20selectCtrl.readValue%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28ngOptions.trackBy%20%26%26%20%21equals%28previousValue%2C%20nextValue%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousValue%20%21%3D%3D%20nextValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModelCtrl.%24setViewValue%28nextValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngPluralize%0D%0A%20*%20@restrict%20EA%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20%60ngPluralize%60%20is%20a%20directive%20that%20displays%20messages%20according%20to%20en-US%20localization%20rules.%0D%0A%20*%20These%20rules%20are%20bundled%20with%20angular.js%2C%20but%20can%20be%20overridden%0D%0A%20*%20%28see%20%7B@link%20guide/i18n%20Angular%20i18n%7D%20dev%20guide%29.%20You%20configure%20ngPluralize%20directive%0D%0A%20*%20by%20specifying%20the%20mappings%20between%0D%0A%20*%20%5Bplural%20categories%5D%28http%3A//unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html%29%0D%0A%20*%20and%20the%20strings%20to%20be%20displayed.%0D%0A%20*%0D%0A%20*%20%23%20Plural%20categories%20and%20explicit%20number%20rules%0D%0A%20*%20There%20are%20two%0D%0A%20*%20%5Bplural%20categories%5D%28http%3A//unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html%29%0D%0A%20*%20in%20Angular%27s%20default%20en-US%20locale%3A%20%22one%22%20and%20%22other%22.%0D%0A%20*%0D%0A%20*%20While%20a%20plural%20category%20may%20match%20many%20numbers%20%28for%20example%2C%20in%20en-US%20locale%2C%20%22other%22%20can%20match%0D%0A%20*%20any%20number%20that%20is%20not%201%29%2C%20an%20explicit%20number%20rule%20can%20only%20match%20one%20number.%20For%20example%2C%20the%0D%0A%20*%20explicit%20number%20rule%20for%20%223%22%20matches%20the%20number%203.%20There%20are%20examples%20of%20plural%20categories%0D%0A%20*%20and%20explicit%20number%20rules%20throughout%20the%20rest%20of%20this%20documentation.%0D%0A%20*%0D%0A%20*%20%23%20Configuring%20ngPluralize%0D%0A%20*%20You%20configure%20ngPluralize%20by%20providing%202%20attributes%3A%20%60count%60%20and%20%60when%60.%0D%0A%20*%20You%20can%20also%20provide%20an%20optional%20attribute%2C%20%60offset%60.%0D%0A%20*%0D%0A%20*%20The%20value%20of%20the%20%60count%60%20attribute%20can%20be%20either%20a%20string%20or%20an%20%7B@link%20guide/expression%0D%0A%20*%20Angular%20expression%7D%3B%20these%20are%20evaluated%20on%20the%20current%20scope%20for%20its%20bound%20value.%0D%0A%20*%0D%0A%20*%20The%20%60when%60%20attribute%20specifies%20the%20mappings%20between%20plural%20categories%20and%20the%20actual%0D%0A%20*%20string%20to%20be%20displayed.%20The%20value%20of%20the%20attribute%20should%20be%20a%20JSON%20object.%0D%0A%20*%0D%0A%20*%20The%20following%20example%20shows%20how%20to%20configure%20ngPluralize%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cng-pluralize%20count%3D%22personCount%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%3D%22%7B%270%27%3A%20%27Nobody%20is%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27one%27%3A%20%271%20person%20is%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27other%27%3A%20%27%7B%7D%20people%20are%20viewing.%27%7D%22%3E%0D%0A%20*%20%3C/ng-pluralize%3E%0D%0A%20*%60%60%60%0D%0A%20*%0D%0A%20*%20In%20the%20example%2C%20%60%220%3A%20Nobody%20is%20viewing.%22%60%20is%20an%20explicit%20number%20rule.%20If%20you%20did%20not%0D%0A%20*%20specify%20this%20rule%2C%200%20would%20be%20matched%20to%20the%20%22other%22%20category%20and%20%220%20people%20are%20viewing%22%0D%0A%20*%20would%20be%20shown%20instead%20of%20%22Nobody%20is%20viewing%22.%20You%20can%20specify%20an%20explicit%20number%20rule%20for%0D%0A%20*%20other%20numbers%2C%20for%20example%2012%2C%20so%20that%20instead%20of%20showing%20%2212%20people%20are%20viewing%22%2C%20you%20can%0D%0A%20*%20show%20%22a%20dozen%20people%20are%20viewing%22.%0D%0A%20*%0D%0A%20*%20You%20can%20use%20a%20set%20of%20closed%20braces%20%28%60%7B%7D%60%29%20as%20a%20placeholder%20for%20the%20number%20that%20you%20want%20substituted%0D%0A%20*%20into%20pluralized%20strings.%20In%20the%20previous%20example%2C%20Angular%20will%20replace%20%60%7B%7D%60%20with%0D%0A%20*%20%3Cspan%20ng-non-bindable%3E%60%7B%7BpersonCount%7D%7D%60%3C/span%3E.%20The%20closed%20braces%20%60%7B%7D%60%20is%20a%20placeholder%0D%0A%20*%20for%20%3Cspan%20ng-non-bindable%3E%7B%7BnumberExpression%7D%7D%3C/span%3E.%0D%0A%20*%0D%0A%20*%20If%20no%20rule%20is%20defined%20for%20a%20category%2C%20then%20an%20empty%20string%20is%20displayed%20and%20a%20warning%20is%20generated.%0D%0A%20*%20Note%20that%20some%20locales%20define%20more%20categories%20than%20%60one%60%20and%20%60other%60.%20For%20example%2C%20fr-fr%20defines%20%60few%60%20and%20%60many%60.%0D%0A%20*%0D%0A%20*%20%23%20Configuring%20ngPluralize%20with%20offset%0D%0A%20*%20The%20%60offset%60%20attribute%20allows%20further%20customization%20of%20pluralized%20text%2C%20which%20can%20result%20in%0D%0A%20*%20a%20better%20user%20experience.%20For%20example%2C%20instead%20of%20the%20message%20%224%20people%20are%20viewing%20this%20document%22%2C%0D%0A%20*%20you%20might%20display%20%22John%2C%20Kate%20and%202%20others%20are%20viewing%20this%20document%22.%0D%0A%20*%20The%20offset%20attribute%20allows%20you%20to%20offset%20a%20number%20by%20any%20desired%20value.%0D%0A%20*%20Let%27s%20take%20a%20look%20at%20an%20example%3A%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3Cng-pluralize%20count%3D%22personCount%22%20offset%3D2%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%3D%22%7B%270%27%3A%20%27Nobody%20is%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%271%27%3A%20%27%7B%7Bperson1%7D%7D%20is%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%272%27%3A%20%27%7B%7Bperson1%7D%7D%20and%20%7B%7Bperson2%7D%7D%20are%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27one%27%3A%20%27%7B%7Bperson1%7D%7D%2C%20%7B%7Bperson2%7D%7D%20and%20one%20other%20person%20are%20viewing.%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27other%27%3A%20%27%7B%7Bperson1%7D%7D%2C%20%7B%7Bperson2%7D%7D%20and%20%7B%7D%20other%20people%20are%20viewing.%27%7D%22%3E%0D%0A%20*%20%3C/ng-pluralize%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Notice%20that%20we%20are%20still%20using%20two%20plural%20categories%28one%2C%20other%29%2C%20but%20we%20added%0D%0A%20*%20three%20explicit%20number%20rules%200%2C%201%20and%202.%0D%0A%20*%20When%20one%20person%2C%20perhaps%20John%2C%20views%20the%20document%2C%20%22John%20is%20viewing%22%20will%20be%20shown.%0D%0A%20*%20When%20three%20people%20view%20the%20document%2C%20no%20explicit%20number%20rule%20is%20found%2C%20so%0D%0A%20*%20an%20offset%20of%202%20is%20taken%20off%203%2C%20and%20Angular%20uses%201%20to%20decide%20the%20plural%20category.%0D%0A%20*%20In%20this%20case%2C%20plural%20category%20%27one%27%20is%20matched%20and%20%22John%2C%20Mary%20and%20one%20other%20person%20are%20viewing%22%0D%0A%20*%20is%20shown.%0D%0A%20*%0D%0A%20*%20Note%20that%20when%20you%20specify%20offsets%2C%20you%20must%20provide%20explicit%20number%20rules%20for%0D%0A%20*%20numbers%20from%200%20up%20to%20and%20including%20the%20offset.%20If%20you%20use%20an%20offset%20of%203%2C%20for%20example%2C%0D%0A%20*%20you%20must%20provide%20explicit%20number%20rules%20for%200%2C%201%2C%202%20and%203.%20You%20must%20also%20provide%20plural%20strings%20for%0D%0A%20*%20plural%20categories%20%22one%22%20and%20%22other%22.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7Cexpression%7D%20count%20The%20variable%20to%20be%20bound%20to.%0D%0A%20*%20@param%20%7Bstring%7D%20when%20The%20mapping%20between%20plural%20category%20to%20its%20corresponding%20strings.%0D%0A%20*%20@param%20%7Bnumber%3D%7D%20offset%20Offset%20to%20deduct%20from%20the%20total%20number.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%20%3Cexample%20module%3D%22pluralizeExample%22%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20%20angular.module%28%27pluralizeExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.person1%20%3D%20%27Igor%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.person2%20%3D%20%27Misko%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24scope.personCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EPerson%201%3A%3Cinput%20type%3D%22text%22%20ng-model%3D%22person1%22%20value%3D%22Igor%22%20/%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EPerson%202%3A%3Cinput%20type%3D%22text%22%20ng-model%3D%22person2%22%20value%3D%22Misko%22%20/%3E%3C/label%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3ENumber%20of%20People%3A%3Cinput%20type%3D%22text%22%20ng-model%3D%22personCount%22%20value%3D%221%22%20/%3E%3C/label%3E%3Cbr/%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%3C%21---%20Example%20with%20simple%20pluralization%20rules%20for%20en%20locale%20---%3E%0D%0A%20%20%20%20%20%20%20%20%20%20Without%20Offset%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cng-pluralize%20count%3D%22personCount%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%3D%22%7B%270%27%3A%20%27Nobody%20is%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27one%27%3A%20%271%20person%20is%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27other%27%3A%20%27%7B%7D%20people%20are%20viewing.%27%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/ng-pluralize%3E%3Cbr%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%3C%21---%20Example%20with%20offset%20---%3E%0D%0A%20%20%20%20%20%20%20%20%20%20With%20Offset%282%29%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cng-pluralize%20count%3D%22personCount%22%20offset%3D2%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20when%3D%22%7B%270%27%3A%20%27Nobody%20is%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%271%27%3A%20%27%7B%7Bperson1%7D%7D%20is%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%272%27%3A%20%27%7B%7Bperson1%7D%7D%20and%20%7B%7Bperson2%7D%7D%20are%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27one%27%3A%20%27%7B%7Bperson1%7D%7D%2C%20%7B%7Bperson2%7D%7D%20and%20one%20other%20person%20are%20viewing.%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27other%27%3A%20%27%7B%7Bperson1%7D%7D%2C%20%7B%7Bperson2%7D%7D%20and%20%7B%7D%20other%20people%20are%20viewing.%27%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/ng-pluralize%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20show%20correct%20pluralized%20string%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20withoutOffset%20%3D%20element.all%28by.css%28%27ng-pluralize%27%29%29.get%280%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20withOffset%20%3D%20element.all%28by.css%28%27ng-pluralize%27%29%29.get%281%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20countInput%20%3D%20element%28by.model%28%27personCount%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withoutOffset.getText%28%29%29.toEqual%28%271%20person%20is%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Igor%20is%20viewing.%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.sendKeys%28%270%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withoutOffset.getText%28%29%29.toEqual%28%27Nobody%20is%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Nobody%20is%20viewing.%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.sendKeys%28%272%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withoutOffset.getText%28%29%29.toEqual%28%272%20people%20are%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Igor%20and%20Misko%20are%20viewing.%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.sendKeys%28%273%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withoutOffset.getText%28%29%29.toEqual%28%273%20people%20are%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Igor%2C%20Misko%20and%20one%20other%20person%20are%20viewing.%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20countInput.sendKeys%28%274%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withoutOffset.getText%28%29%29.toEqual%28%274%20people%20are%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Igor%2C%20Misko%20and%202%20other%20people%20are%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20show%20data-bound%20names%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20withOffset%20%3D%20element.all%28by.css%28%27ng-pluralize%27%29%29.get%281%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20personCount%20%3D%20element%28by.model%28%27personCount%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20person1%20%3D%20element%28by.model%28%27person1%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20person2%20%3D%20element%28by.model%28%27person2%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20personCount.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20personCount.sendKeys%28%274%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20person1.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20person1.sendKeys%28%27Di%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20person2.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20person2.sendKeys%28%27Vojta%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28withOffset.getText%28%29%29.toEqual%28%27Di%2C%20Vojta%20and%202%20other%20people%20are%20viewing.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngPluralizeDirective%20%3D%20%5B%27%24locale%27%2C%20%27%24interpolate%27%2C%20%27%24log%27%2C%20function%28%24locale%2C%20%24interpolate%2C%20%24log%29%20%7B%0D%0A%20%20var%20BRACE%20%3D%20/%7B%7D/g%2C%0D%0A%20%20%20%20%20%20IS_WHEN%20%3D%20/%5Ewhen%28Minus%29%3F%28.+%29%24/%3B%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20var%20numberExp%20%3D%20attr.count%2C%0D%0A%20%20%20%20%20%20%20%20%20%20whenExp%20%3D%20attr.%24attr.when%20%26%26%20element.attr%28attr.%24attr.when%29%2C%20//%20we%20have%20%7B%7B%7D%7D%20in%20attrs%0D%0A%20%20%20%20%20%20%20%20%20%20offset%20%3D%20attr.offset%20%7C%7C%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20whens%20%3D%20scope.%24eval%28whenExp%29%20%7C%7C%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20whensExpFns%20%3D%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20startSymbol%20%3D%20%24interpolate.startSymbol%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20endSymbol%20%3D%20%24interpolate.endSymbol%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20braceReplacement%20%3D%20startSymbol%20+%20numberExp%20+%20%27-%27%20+%20offset%20+%20endSymbol%2C%0D%0A%20%20%20%20%20%20%20%20%20%20watchRemover%20%3D%20angular.noop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20lastCount%3B%0D%0A%0D%0A%20%20%20%20%20%20forEach%28attr%2C%20function%28expression%2C%20attributeName%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20tmpMatch%20%3D%20IS_WHEN.exec%28attributeName%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28tmpMatch%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20whenKey%20%3D%20%28tmpMatch%5B1%5D%20%3F%20%27-%27%20%3A%20%27%27%29%20+%20lowercase%28tmpMatch%5B2%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20whens%5BwhenKey%5D%20%3D%20element.attr%28attr.%24attr%5BattributeName%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20forEach%28whens%2C%20function%28expression%2C%20key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20whensExpFns%5Bkey%5D%20%3D%20%24interpolate%28expression.replace%28BRACE%2C%20braceReplacement%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20scope.%24watch%28numberExp%2C%20function%20ngPluralizeWatchAction%28newVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20count%20%3D%20parseFloat%28newVal%29%3B%0D%0A%20%20%20%20%20%20%20%20var%20countIsNaN%20%3D%20isNaN%28count%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%21countIsNaN%20%26%26%20%21%28count%20in%20whens%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20//%20If%20an%20explicit%20number%20rule%20such%20as%201%2C%202%2C%203...%20is%20defined%2C%20just%20use%20it.%0D%0A%20%20%20%20%20%20%20%20%20%20//%20Otherwise%2C%20check%20it%20against%20pluralization%20rules%20in%20%24locale%20service.%0D%0A%20%20%20%20%20%20%20%20%20%20count%20%3D%20%24locale.pluralCat%28count%20-%20offset%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20If%20both%20%60count%60%20and%20%60lastCount%60%20are%20NaN%2C%20we%20don%27t%20need%20to%20re-register%20a%20watch.%0D%0A%20%20%20%20%20%20%20%20//%20In%20JS%20%60NaN%20%21%3D%3D%20NaN%60%2C%20so%20we%20have%20to%20exlicitly%20check.%0D%0A%20%20%20%20%20%20%20%20if%20%28%28count%20%21%3D%3D%20lastCount%29%20%26%26%20%21%28countIsNaN%20%26%26%20isNumber%28lastCount%29%20%26%26%20isNaN%28lastCount%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20watchRemover%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20whenExpFn%20%3D%20whensExpFns%5Bcount%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isUndefined%28whenExpFn%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newVal%20%21%3D%20null%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24log.debug%28%22ngPluralize%3A%20no%20rule%20defined%20for%20%27%22%20+%20count%20+%20%22%27%20in%20%22%20+%20whenExp%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchRemover%20%3D%20noop%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateElementText%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20watchRemover%20%3D%20scope.%24watch%28whenExpFn%2C%20updateElementText%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20lastCount%20%3D%20count%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20updateElementText%28newText%29%20%7B%0D%0A%20%20%20%20%20%20%20%20element.text%28newText%20%7C%7C%20%27%27%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngRepeat%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngRepeat%60%20directive%20instantiates%20a%20template%20once%20per%20item%20from%20a%20collection.%20Each%20template%0D%0A%20*%20instance%20gets%20its%20own%20scope%2C%20where%20the%20given%20loop%20variable%20is%20set%20to%20the%20current%20collection%20item%2C%0D%0A%20*%20and%20%60%24index%60%20is%20set%20to%20the%20item%20index%20or%20key.%0D%0A%20*%0D%0A%20*%20Special%20properties%20are%20exposed%20on%20the%20local%20scope%20of%20each%20template%20instance%2C%20including%3A%0D%0A%20*%0D%0A%20*%20%7C%20Variable%20%20%7C%20Type%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Details%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C-----------%7C-----------------%7C-----------------------------------------------------------------------------%7C%0D%0A%20*%20%7C%20%60%24index%60%20%20%7C%20%7B@type%20number%7D%20%20%7C%20iterator%20offset%20of%20the%20repeated%20element%20%280..length-1%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C%20%60%24first%60%20%20%7C%20%7B@type%20boolean%7D%20%7C%20true%20if%20the%20repeated%20element%20is%20first%20in%20the%20iterator.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C%20%60%24middle%60%20%7C%20%7B@type%20boolean%7D%20%7C%20true%20if%20the%20repeated%20element%20is%20between%20the%20first%20and%20last%20in%20the%20iterator.%20%7C%0D%0A%20*%20%7C%20%60%24last%60%20%20%20%7C%20%7B@type%20boolean%7D%20%7C%20true%20if%20the%20repeated%20element%20is%20last%20in%20the%20iterator.%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C%20%60%24even%60%20%20%20%7C%20%7B@type%20boolean%7D%20%7C%20true%20if%20the%20iterator%20position%20%60%24index%60%20is%20even%20%28otherwise%20false%29.%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%20%7C%20%60%24odd%60%20%20%20%20%7C%20%7B@type%20boolean%7D%20%7C%20true%20if%20the%20iterator%20position%20%60%24index%60%20is%20odd%20%28otherwise%20false%29.%20%20%20%20%20%20%20%20%20%20%20%20%7C%0D%0A%20*%0D%0A%20*%20Creating%20aliases%20for%20these%20properties%20is%20possible%20with%20%7B@link%20ng.directive%3AngInit%20%60ngInit%60%7D.%0D%0A%20*%20This%20may%20be%20useful%20when%2C%20for%20instance%2C%20nesting%20ngRepeats.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20Iterating%20over%20object%20properties%0D%0A%20*%0D%0A%20*%20It%20is%20possible%20to%20get%20%60ngRepeat%60%20to%20iterate%20over%20the%20properties%20of%20an%20object%20using%20the%20following%0D%0A%20*%20syntax%3A%0D%0A%20*%0D%0A%20*%20%60%60%60js%0D%0A%20*%20%3Cdiv%20ng-repeat%3D%22%28key%2C%20value%29%20in%20myObj%22%3E%20...%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20You%20need%20to%20be%20aware%20that%20the%20JavaScript%20specification%20does%20not%20define%20the%20order%20of%20keys%0D%0A%20*%20returned%20for%20an%20object.%20%28To%20mitigate%20this%20in%20Angular%201.3%20the%20%60ngRepeat%60%20directive%0D%0A%20*%20used%20to%20sort%20the%20keys%20alphabetically.%29%0D%0A%20*%0D%0A%20*%20Version%201.4%20removed%20the%20alphabetic%20sorting.%20We%20now%20rely%20on%20the%20order%20returned%20by%20the%20browser%0D%0A%20*%20when%20running%20%60for%20key%20in%20myObj%60.%20It%20seems%20that%20browsers%20generally%20follow%20the%20strategy%20of%20providing%0D%0A%20*%20keys%20in%20the%20order%20in%20which%20they%20were%20defined%2C%20although%20there%20are%20exceptions%20when%20keys%20are%20deleted%0D%0A%20*%20and%20reinstated.%20See%20https%3A//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete%23Cross-browser_issues%0D%0A%20*%0D%0A%20*%20If%20this%20is%20not%20desired%2C%20the%20recommended%20workaround%20is%20to%20convert%20your%20object%20into%20an%20array%0D%0A%20*%20that%20is%20sorted%20into%20the%20order%20that%20you%20prefer%20before%20providing%20it%20to%20%60ngRepeat%60.%20%20You%20could%0D%0A%20*%20do%20this%20with%20a%20filter%20such%20as%20%5BtoArrayFilter%5D%28http%3A//ngmodules.org/modules/angular-toArrayFilter%29%0D%0A%20*%20or%20implement%20a%20%60%24watch%60%20on%20the%20object%20yourself.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20%23%20Tracking%20and%20Duplicates%0D%0A%20*%0D%0A%20*%20When%20the%20contents%20of%20the%20collection%20change%2C%20%60ngRepeat%60%20makes%20the%20corresponding%20changes%20to%20the%20DOM%3A%0D%0A%20*%0D%0A%20*%20*%20When%20an%20item%20is%20added%2C%20a%20new%20instance%20of%20the%20template%20is%20added%20to%20the%20DOM.%0D%0A%20*%20*%20When%20an%20item%20is%20removed%2C%20its%20template%20instance%20is%20removed%20from%20the%20DOM.%0D%0A%20*%20*%20When%20items%20are%20reordered%2C%20their%20respective%20templates%20are%20reordered%20in%20the%20DOM.%0D%0A%20*%0D%0A%20*%20By%20default%2C%20%60ngRepeat%60%20does%20not%20allow%20duplicate%20items%20in%20arrays.%20This%20is%20because%20when%0D%0A%20*%20there%20are%20duplicates%2C%20it%20is%20not%20possible%20to%20maintain%20a%20one-to-one%20mapping%20between%20collection%0D%0A%20*%20items%20and%20DOM%20elements.%0D%0A%20*%0D%0A%20*%20If%20you%20do%20need%20to%20repeat%20duplicate%20items%2C%20you%20can%20substitute%20the%20default%20tracking%20behavior%0D%0A%20*%20with%20your%20own%20using%20the%20%60track%20by%60%20expression.%0D%0A%20*%0D%0A%20*%20For%20example%2C%20you%20may%20track%20items%20by%20the%20index%20of%20each%20item%20in%20the%20collection%2C%20using%20the%0D%0A%20*%20special%20scope%20property%20%60%24index%60%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%20%3Cdiv%20ng-repeat%3D%22n%20in%20%5B42%2C%2042%2C%2043%2C%2043%5D%20track%20by%20%24index%22%3E%0D%0A%20*%20%20%20%20%20%20%7B%7Bn%7D%7D%0D%0A%20*%20%20%20%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20You%20may%20use%20arbitrary%20expressions%20in%20%60track%20by%60%2C%20including%20references%20to%20custom%20functions%0D%0A%20*%20on%20the%20scope%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%20%3Cdiv%20ng-repeat%3D%22n%20in%20%5B42%2C%2042%2C%2043%2C%2043%5D%20track%20by%20myTrackingFunction%28n%29%22%3E%0D%0A%20*%20%20%20%20%20%20%7B%7Bn%7D%7D%0D%0A%20*%20%20%20%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20If%20you%20are%20working%20with%20objects%20that%20have%20an%20identifier%20property%2C%20you%20can%20track%0D%0A%20*%20by%20the%20identifier%20instead%20of%20the%20whole%20object.%20Should%20you%20reload%20your%20data%20later%2C%20%60ngRepeat%60%0D%0A%20*%20will%20not%20have%20to%20rebuild%20the%20DOM%20elements%20for%20items%20it%20has%20already%20rendered%2C%20even%20if%20the%0D%0A%20*%20JavaScript%20objects%20in%20the%20collection%20have%20been%20substituted%20for%20new%20ones%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%20%3Cdiv%20ng-repeat%3D%22model%20in%20collection%20track%20by%20model.id%22%3E%0D%0A%20*%20%20%20%20%20%20%7B%7Bmodel.name%7D%7D%0D%0A%20*%20%20%20%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20When%20no%20%60track%20by%60%20expression%20is%20provided%2C%20it%20is%20equivalent%20to%20tracking%20by%20the%20built-in%0D%0A%20*%20%60%24id%60%20function%2C%20which%20tracks%20items%20by%20their%20identity%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%20%3Cdiv%20ng-repeat%3D%22obj%20in%20collection%20track%20by%20%24id%28obj%29%22%3E%0D%0A%20*%20%20%20%20%20%20%7B%7Bobj.prop%7D%7D%0D%0A%20*%20%20%20%20%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20%23%20Special%20repeat%20start%20and%20end%20points%0D%0A%20*%20To%20repeat%20a%20series%20of%20elements%20instead%20of%20just%20one%20parent%20element%2C%20ngRepeat%20%28as%20well%20as%20other%20ng%20directives%29%20supports%20extending%0D%0A%20*%20the%20range%20of%20the%20repeater%20by%20defining%20explicit%20start%20and%20end%20points%20by%20using%20**ng-repeat-start**%20and%20**ng-repeat-end**%20respectively.%0D%0A%20*%20The%20**ng-repeat-start**%20directive%20works%20the%20same%20as%20**ng-repeat**%2C%20but%20will%20repeat%20all%20the%20HTML%20code%20%28including%20the%20tag%20it%27s%20defined%20on%29%0D%0A%20*%20up%20to%20and%20including%20the%20ending%20HTML%20tag%20where%20**ng-repeat-end**%20is%20placed.%0D%0A%20*%0D%0A%20*%20The%20example%20below%20makes%20use%20of%20this%20feature%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%3Cheader%20ng-repeat-start%3D%22item%20in%20items%22%3E%0D%0A%20*%20%20%20%20%20Header%20%7B%7B%20item%20%7D%7D%0D%0A%20*%20%20%20%3C/header%3E%0D%0A%20*%20%20%20%3Cdiv%20class%3D%22body%22%3E%0D%0A%20*%20%20%20%20%20Body%20%7B%7B%20item%20%7D%7D%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3Cfooter%20ng-repeat-end%3E%0D%0A%20*%20%20%20%20%20Footer%20%7B%7B%20item%20%7D%7D%0D%0A%20*%20%20%20%3C/footer%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20And%20with%20an%20input%20of%20%7B@type%20%5B%27A%27%2C%27B%27%5D%7D%20for%20the%20items%20variable%20in%20the%20example%20above%2C%20the%20output%20will%20evaluate%20to%3A%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%20%20%3Cheader%3E%0D%0A%20*%20%20%20%20%20Header%20A%0D%0A%20*%20%20%20%3C/header%3E%0D%0A%20*%20%20%20%3Cdiv%20class%3D%22body%22%3E%0D%0A%20*%20%20%20%20%20Body%20A%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3Cfooter%3E%0D%0A%20*%20%20%20%20%20Footer%20A%0D%0A%20*%20%20%20%3C/footer%3E%0D%0A%20*%20%20%20%3Cheader%3E%0D%0A%20*%20%20%20%20%20Header%20B%0D%0A%20*%20%20%20%3C/header%3E%0D%0A%20*%20%20%20%3Cdiv%20class%3D%22body%22%3E%0D%0A%20*%20%20%20%20%20Body%20B%0D%0A%20*%20%20%20%3C/div%3E%0D%0A%20*%20%20%20%3Cfooter%3E%0D%0A%20*%20%20%20%20%20Footer%20B%0D%0A%20*%20%20%20%3C/footer%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20The%20custom%20start%20and%20end%20points%20for%20ngRepeat%20also%20support%20all%20other%20HTML%20directive%20syntax%20flavors%20provided%20in%20AngularJS%20%28such%0D%0A%20*%20as%20**data-ng-repeat-start**%2C%20**x-ng-repeat-start**%20and%20**ng%3Arepeat-start**%29.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20**.enter**%20-%20when%20a%20new%20item%20is%20added%20to%20the%20list%20or%20when%20an%20item%20is%20revealed%20after%20a%20filter%0D%0A%20*%0D%0A%20*%20**.leave**%20-%20when%20an%20item%20is%20removed%20from%20the%20list%20or%20when%20an%20item%20is%20filtered%20out%0D%0A%20*%0D%0A%20*%20**.move**%20-%20when%20an%20adjacent%20item%20is%20filtered%20out%20causing%20a%20reorder%20or%20when%20the%20item%20contents%20are%20reordered%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@scope%0D%0A%20*%20@priority%201000%0D%0A%20*%20@param%20%7Brepeat_expression%7D%20ngRepeat%20The%20expression%20indicating%20how%20to%20enumerate%20a%20collection.%20These%0D%0A%20*%20%20%20formats%20are%20currently%20supported%3A%0D%0A%20*%0D%0A%20*%20%20%20*%20%60variable%20in%20expression%60%20%u2013%20where%20variable%20is%20the%20user%20defined%20loop%20variable%20and%20%60expression%60%0D%0A%20*%20%20%20%20%20is%20a%20scope%20expression%20giving%20the%20collection%20to%20enumerate.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60album%20in%20artist.albums%60.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60%28key%2C%20value%29%20in%20expression%60%20%u2013%20where%20%60key%60%20and%20%60value%60%20can%20be%20any%20user%20defined%20identifiers%2C%0D%0A%20*%20%20%20%20%20and%20%60expression%60%20is%20the%20scope%20expression%20giving%20the%20collection%20to%20enumerate.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60%28name%2C%20age%29%20in%20%7B%27adam%27%3A10%2C%20%27amalie%27%3A12%7D%60.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60variable%20in%20expression%20track%20by%20tracking_expression%60%20%u2013%20You%20can%20also%20provide%20an%20optional%20tracking%20expression%0D%0A%20*%20%20%20%20%20which%20can%20be%20used%20to%20associate%20the%20objects%20in%20the%20collection%20with%20the%20DOM%20elements.%20If%20no%20tracking%20expression%0D%0A%20*%20%20%20%20%20is%20specified%2C%20ng-repeat%20associates%20elements%20by%20identity.%20It%20is%20an%20error%20to%20have%0D%0A%20*%20%20%20%20%20more%20than%20one%20tracking%20expression%20value%20resolve%20to%20the%20same%20key.%20%28This%20would%20mean%20that%20two%20distinct%20objects%20are%0D%0A%20*%20%20%20%20%20mapped%20to%20the%20same%20DOM%20element%2C%20which%20is%20not%20possible.%29%20%20If%20filters%20are%20used%20in%20the%20expression%2C%20they%20should%20be%0D%0A%20*%20%20%20%20%20applied%20before%20the%20tracking%20expression.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%60%20is%20equivalent%20to%20%60item%20in%20items%20track%20by%20%24id%28item%29%60.%20This%20implies%20that%20the%20DOM%20elements%0D%0A%20*%20%20%20%20%20will%20be%20associated%20by%20item%20identity%20in%20the%20array.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%20track%20by%20%24id%28item%29%60.%20A%20built%20in%20%60%24id%28%29%60%20function%20can%20be%20used%20to%20assign%20a%20unique%0D%0A%20*%20%20%20%20%20%60%24%24hashKey%60%20property%20to%20each%20item%20in%20the%20array.%20This%20property%20is%20then%20used%20as%20a%20key%20to%20associated%20DOM%20elements%0D%0A%20*%20%20%20%20%20with%20the%20corresponding%20item%20in%20the%20array%20by%20identity.%20Moving%20the%20same%20object%20in%20array%20would%20move%20the%20DOM%0D%0A%20*%20%20%20%20%20element%20in%20the%20same%20way%20in%20the%20DOM.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%20track%20by%20item.id%60%20is%20a%20typical%20pattern%20when%20the%20items%20come%20from%20the%20database.%20In%20this%0D%0A%20*%20%20%20%20%20case%20the%20object%20identity%20does%20not%20matter.%20Two%20objects%20are%20considered%20equivalent%20as%20long%20as%20their%20%60id%60%0D%0A%20*%20%20%20%20%20property%20is%20same.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%20%7C%20filter%3AsearchText%20track%20by%20item.id%60%20is%20a%20pattern%20that%20might%20be%20used%20to%20apply%20a%20filter%0D%0A%20*%20%20%20%20%20to%20items%20in%20conjunction%20with%20a%20tracking%20expression.%0D%0A%20*%0D%0A%20*%20%20%20*%20%60variable%20in%20expression%20as%20alias_expression%60%20%u2013%20You%20can%20also%20provide%20an%20optional%20alias%20expression%20which%20will%20then%20store%20the%0D%0A%20*%20%20%20%20%20intermediate%20results%20of%20the%20repeater%20after%20the%20filters%20have%20been%20applied.%20Typically%20this%20is%20used%20to%20render%20a%20special%20message%0D%0A%20*%20%20%20%20%20when%20a%20filter%20is%20active%20on%20the%20repeater%2C%20but%20the%20filtered%20result%20set%20is%20empty.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%20%7C%20filter%3Ax%20as%20results%60%20will%20store%20the%20fragment%20of%20the%20repeated%20items%20as%20%60results%60%2C%20but%20only%20after%0D%0A%20*%20%20%20%20%20the%20items%20have%20been%20processed%20through%20the%20filter.%0D%0A%20*%0D%0A%20*%20%20%20%20%20Please%20note%20that%20%60as%20%5Bvariable%20name%5D%20is%20not%20an%20operator%20but%20rather%20a%20part%20of%20ngRepeat%20micro-syntax%20so%20it%20can%20be%20used%20only%20at%20the%20end%0D%0A%20*%20%20%20%20%20%28and%20not%20as%20operator%2C%20inside%20an%20expression%29.%0D%0A%20*%0D%0A%20*%20%20%20%20%20For%20example%3A%20%60item%20in%20items%20%7C%20filter%20%3A%20x%20%7C%20orderBy%20%3A%20order%20%7C%20limitTo%20%3A%20limit%20as%20results%60%20.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20*%20This%20example%20initializes%20the%20scope%20to%20a%20list%20of%20names%20and%0D%0A%20*%20then%20uses%20%60ngRepeat%60%20to%20display%20every%20person%3A%0D%0A%20%20%3Cexample%20module%3D%22ngAnimate%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-init%3D%22friends%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27John%27%2C%20age%3A25%2C%20gender%3A%27boy%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Jessie%27%2C%20age%3A30%2C%20gender%3A%27girl%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Johanna%27%2C%20age%3A28%2C%20gender%3A%27girl%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Joy%27%2C%20age%3A15%2C%20gender%3A%27girl%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Mary%27%2C%20age%3A28%2C%20gender%3A%27girl%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Peter%27%2C%20age%3A95%2C%20gender%3A%27boy%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Sebastian%27%2C%20age%3A50%2C%20gender%3A%27boy%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Erika%27%2C%20age%3A27%2C%20gender%3A%27girl%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Patrick%27%2C%20age%3A40%2C%20gender%3A%27boy%27%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7Bname%3A%27Samantha%27%2C%20age%3A60%2C%20gender%3A%27girl%27%7D%0D%0A%20%20%20%20%20%20%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20I%20have%20%7B%7Bfriends.length%7D%7D%20friends.%20They%20are%3A%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22search%22%20ng-model%3D%22q%22%20placeholder%3D%22filter%20friends...%22%20aria-label%3D%22filter%20friends%22%20/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cul%20class%3D%22example-animate-container%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cli%20class%3D%22animate-repeat%22%20ng-repeat%3D%22friend%20in%20friends%20%7C%20filter%3Aq%20as%20results%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%7B%7B%24index%20+%201%7D%7D%5D%20%7B%7Bfriend.name%7D%7D%20who%20is%20%7B%7Bfriend.age%7D%7D%20years%20old.%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cli%20class%3D%22animate-repeat%22%20ng-if%3D%22results.length%20%3D%3D%200%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3ENo%20results%20found...%3C/strong%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3C/li%3E%0D%0A%20%20%20%20%20%20%20%20%3C/ul%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.example-animate-container%20%7B%0D%0A%20%20%20%20%20%20%20%20background%3Awhite%3B%0D%0A%20%20%20%20%20%20%20%20border%3A1px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20list-style%3Anone%3B%0D%0A%20%20%20%20%20%20%20%20margin%3A0%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A0%2010px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-repeat%20%7B%0D%0A%20%20%20%20%20%20%20%20line-height%3A40px%3B%0D%0A%20%20%20%20%20%20%20%20list-style%3Anone%3B%0D%0A%20%20%20%20%20%20%20%20box-sizing%3Aborder-box%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-repeat.ng-move%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-enter%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-leave%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3Aall%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-repeat.ng-leave.ng-leave-active%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-move%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-enter%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity%3A0%3B%0D%0A%20%20%20%20%20%20%20%20max-height%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-repeat.ng-leave%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-move.ng-move-active%2C%0D%0A%20%20%20%20%20%20.animate-repeat.ng-enter.ng-enter-active%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity%3A1%3B%0D%0A%20%20%20%20%20%20%20%20max-height%3A40px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20friends%20%3D%20element.all%28by.repeater%28%27friend%20in%20friends%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20render%20initial%20data%20set%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28friends.count%28%29%29.toBe%2810%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28friends.get%280%29.getText%28%29%29.toEqual%28%27%5B1%5D%20John%20who%20is%2025%20years%20old.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28friends.get%281%29.getText%28%29%29.toEqual%28%27%5B2%5D%20Jessie%20who%20is%2030%20years%20old.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28friends.last%28%29.getText%28%29%29.toEqual%28%27%5B10%5D%20Samantha%20who%20is%2060%20years%20old.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27friends.length%27%29%29.getText%28%29%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.toMatch%28%22I%20have%2010%20friends.%20They%20are%3A%22%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20update%20repeater%20when%20filter%20predicate%20changes%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28friends.count%28%29%29.toBe%2810%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20element%28by.model%28%27q%27%29%29.sendKeys%28%27ma%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20expect%28friends.count%28%29%29.toBe%282%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28friends.get%280%29.getText%28%29%29.toEqual%28%27%5B1%5D%20Mary%20who%20is%2028%20years%20old.%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28friends.last%28%29.getText%28%29%29.toEqual%28%27%5B2%5D%20Samantha%20who%20is%2060%20years%20old.%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngRepeatDirective%20%3D%20%5B%27%24parse%27%2C%20%27%24animate%27%2C%20function%28%24parse%2C%20%24animate%29%20%7B%0D%0A%20%20var%20NG_REMOVED%20%3D%20%27%24%24NG_REMOVED%27%3B%0D%0A%20%20var%20ngRepeatMinErr%20%3D%20minErr%28%27ngRepeat%27%29%3B%0D%0A%0D%0A%20%20var%20updateScope%20%3D%20function%28scope%2C%20index%2C%20valueIdentifier%2C%20value%2C%20keyIdentifier%2C%20key%2C%20arrayLength%29%20%7B%0D%0A%20%20%20%20//%20TODO%28perf%29%3A%20generate%20setters%20to%20shave%20off%20%7E40ms%20or%201-1.5%25%0D%0A%20%20%20%20scope%5BvalueIdentifier%5D%20%3D%20value%3B%0D%0A%20%20%20%20if%20%28keyIdentifier%29%20scope%5BkeyIdentifier%5D%20%3D%20key%3B%0D%0A%20%20%20%20scope.%24index%20%3D%20index%3B%0D%0A%20%20%20%20scope.%24first%20%3D%20%28index%20%3D%3D%3D%200%29%3B%0D%0A%20%20%20%20scope.%24last%20%3D%20%28index%20%3D%3D%3D%20%28arrayLength%20-%201%29%29%3B%0D%0A%20%20%20%20scope.%24middle%20%3D%20%21%28scope.%24first%20%7C%7C%20scope.%24last%29%3B%0D%0A%20%20%20%20//%20jshint%20bitwise%3A%20false%0D%0A%20%20%20%20scope.%24odd%20%3D%20%21%28scope.%24even%20%3D%20%28index%261%29%20%3D%3D%3D%200%29%3B%0D%0A%20%20%20%20//%20jshint%20bitwise%3A%20true%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20getBlockStart%20%3D%20function%28block%29%20%7B%0D%0A%20%20%20%20return%20block.clone%5B0%5D%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20var%20getBlockEnd%20%3D%20function%28block%29%20%7B%0D%0A%20%20%20%20return%20block.clone%5Bblock.clone.length%20-%201%5D%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20multiElement%3A%20true%2C%0D%0A%20%20%20%20transclude%3A%20%27element%27%2C%0D%0A%20%20%20%20priority%3A%201000%2C%0D%0A%20%20%20%20terminal%3A%20true%2C%0D%0A%20%20%20%20%24%24tlb%3A%20true%2C%0D%0A%20%20%20%20compile%3A%20function%20ngRepeatCompile%28%24element%2C%20%24attr%29%20%7B%0D%0A%20%20%20%20%20%20var%20expression%20%3D%20%24attr.ngRepeat%3B%0D%0A%20%20%20%20%20%20var%20ngRepeatEndComment%20%3D%20document.createComment%28%27%20end%20ngRepeat%3A%20%27%20+%20expression%20+%20%27%20%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20match%20%3D%20expression.match%28/%5E%5Cs*%28%5B%5Cs%5CS%5D+%3F%29%5Cs+in%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%28%3F%3A%5Cs+as%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%28%3F%3A%5Cs+track%5Cs+by%5Cs+%28%5B%5Cs%5CS%5D+%3F%29%29%3F%5Cs*%24/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20ngRepeatMinErr%28%27iexp%27%2C%20%22Expected%20expression%20in%20form%20of%20%27_item_%20in%20_collection_%5B%20track%20by%20_id_%5D%27%20but%20got%20%27%7B0%7D%27.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20expression%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20lhs%20%3D%20match%5B1%5D%3B%0D%0A%20%20%20%20%20%20var%20rhs%20%3D%20match%5B2%5D%3B%0D%0A%20%20%20%20%20%20var%20aliasAs%20%3D%20match%5B3%5D%3B%0D%0A%20%20%20%20%20%20var%20trackByExp%20%3D%20match%5B4%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20match%20%3D%20lhs.match%28/%5E%28%3F%3A%28%5Cs*%5B%5C%24%5Cw%5D+%29%7C%5C%28%5Cs*%28%5B%5C%24%5Cw%5D+%29%5Cs*%2C%5Cs*%28%5B%5C%24%5Cw%5D+%29%5Cs*%5C%29%29%24/%29%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28%21match%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20ngRepeatMinErr%28%27iidexp%27%2C%20%22%27_item_%27%20in%20%27_item_%20in%20_collection_%27%20should%20be%20an%20identifier%20or%20%27%28_key_%2C%20_value_%29%27%20expression%2C%20but%20got%20%27%7B0%7D%27.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lhs%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20valueIdentifier%20%3D%20match%5B3%5D%20%7C%7C%20match%5B1%5D%3B%0D%0A%20%20%20%20%20%20var%20keyIdentifier%20%3D%20match%5B2%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28aliasAs%20%26%26%20%28%21/%5E%5B%24a-zA-Z_%5D%5B%24a-zA-Z0-9_%5D*%24/.test%28aliasAs%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20/%5E%28null%7Cundefined%7Cthis%7C%5C%24index%7C%5C%24first%7C%5C%24middle%7C%5C%24last%7C%5C%24even%7C%5C%24odd%7C%5C%24parent%7C%5C%24root%7C%5C%24id%29%24/.test%28aliasAs%29%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20ngRepeatMinErr%28%27badident%27%2C%20%22alias%20%27%7B0%7D%27%20is%20invalid%20---%20must%20be%20a%20valid%20JS%20identifier%20which%20is%20not%20a%20reserved%20name.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20aliasAs%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20var%20trackByExpGetter%2C%20trackByIdExpFn%2C%20trackByIdArrayFn%2C%20trackByIdObjFn%3B%0D%0A%20%20%20%20%20%20var%20hashFnLocals%20%3D%20%7B%24id%3A%20hashKey%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20%28trackByExp%29%20%7B%0D%0A%20%20%20%20%20%20%20%20trackByExpGetter%20%3D%20%24parse%28trackByExp%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20trackByIdArrayFn%20%3D%20function%28key%2C%20value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20hashKey%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20trackByIdObjFn%20%3D%20function%28key%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20key%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20function%20ngRepeatLink%28%24scope%2C%20%24element%2C%20%24attr%2C%20ctrl%2C%20%24transclude%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28trackByExpGetter%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20trackByIdExpFn%20%3D%20function%28key%2C%20value%2C%20index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20assign%20key%2C%20value%2C%20and%20%24index%20to%20the%20locals%20so%20that%20they%20can%20be%20used%20in%20hash%20functions%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28keyIdentifier%29%20hashFnLocals%5BkeyIdentifier%5D%20%3D%20key%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hashFnLocals%5BvalueIdentifier%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hashFnLocals.%24index%20%3D%20index%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20trackByExpGetter%28%24scope%2C%20hashFnLocals%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Store%20a%20list%20of%20elements%20from%20previous%20run.%20This%20is%20a%20hash%20where%20key%20is%20the%20item%20from%20the%0D%0A%20%20%20%20%20%20%20%20//%20iterator%2C%20and%20the%20value%20is%20objects%20with%20following%20properties.%0D%0A%20%20%20%20%20%20%20%20//%20%20%20-%20scope%3A%20bound%20scope%0D%0A%20%20%20%20%20%20%20%20//%20%20%20-%20element%3A%20previous%20element.%0D%0A%20%20%20%20%20%20%20%20//%20%20%20-%20index%3A%20position%0D%0A%20%20%20%20%20%20%20%20//%0D%0A%20%20%20%20%20%20%20%20//%20We%20are%20using%20no-proto%20object%20so%20that%20we%20don%27t%20need%20to%20guard%20against%20inherited%20props%20via%0D%0A%20%20%20%20%20%20%20%20//%20hasOwnProperty.%0D%0A%20%20%20%20%20%20%20%20var%20lastBlockMap%20%3D%20createMap%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//watch%20props%0D%0A%20%20%20%20%20%20%20%20%24scope.%24watchCollection%28rhs%2C%20function%20ngRepeatAction%28collection%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20index%2C%20length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousNode%20%3D%20%24element%5B0%5D%2C%20%20%20%20%20//%20node%20that%20cloned%20nodes%20should%20be%20inserted%20after%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20initialized%20to%20the%20comment%20node%20anchor%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextNode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Same%20as%20lastBlockMap%20but%20it%20has%20the%20current%20state.%20It%20will%20become%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20lastBlockMap%20on%20the%20next%20iteration.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockMap%20%3D%20createMap%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collectionLength%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%2C%20value%2C%20//%20key/value%20of%20iteration%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20trackById%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20trackByIdFn%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collectionKeys%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%2C%20%20%20%20%20%20%20//%20last%20object%20information%20%7Bscope%2C%20element%2C%20id%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockOrder%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20elementsToRemove%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28aliasAs%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24scope%5BaliasAs%5D%20%3D%20collection%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28isArrayLike%28collection%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20collectionKeys%20%3D%20collection%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20trackByIdFn%20%3D%20trackByIdExpFn%20%7C%7C%20trackByIdArrayFn%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20trackByIdFn%20%3D%20trackByIdExpFn%20%7C%7C%20trackByIdObjFn%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20object%2C%20extract%20keys%2C%20in%20enumeration%20order%2C%20unsorted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20collectionKeys%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20itemKey%20in%20collection%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28collection.hasOwnProperty%28itemKey%29%20%26%26%20itemKey.charAt%280%29%20%21%3D%3D%20%27%24%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20collectionKeys.push%28itemKey%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20collectionLength%20%3D%20collectionKeys.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20nextBlockOrder%20%3D%20new%20Array%28collectionLength%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20locate%20existing%20items%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28index%20%3D%200%3B%20index%20%3C%20collectionLength%3B%20index++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%28collection%20%3D%3D%3D%20collectionKeys%29%20%3F%20index%20%3A%20collectionKeys%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20collection%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20trackById%20%3D%20trackByIdFn%28key%2C%20value%2C%20index%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lastBlockMap%5BtrackById%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20found%20previously%20seen%20block%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20block%20%3D%20lastBlockMap%5BtrackById%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20lastBlockMap%5BtrackById%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockMap%5BtrackById%5D%20%3D%20block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockOrder%5Bindex%5D%20%3D%20block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28nextBlockMap%5BtrackById%5D%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20collision%20detected.%20restore%20lastBlockMap%20and%20throw%20an%20error%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20forEach%28nextBlockOrder%2C%20function%28block%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28block%20%26%26%20block.scope%29%20lastBlockMap%5Bblock.id%5D%20%3D%20block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20ngRepeatMinErr%28%27dupes%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Duplicates%20in%20a%20repeater%20are%20not%20allowed.%20Use%20%27track%20by%27%20expression%20to%20specify%20unique%20keys.%20Repeater%3A%20%7B0%7D%2C%20Duplicate%20key%3A%20%7B1%7D%2C%20Duplicate%20value%3A%20%7B2%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20expression%2C%20trackById%2C%20value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20new%20never%20before%20seen%20block%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockOrder%5Bindex%5D%20%3D%20%7Bid%3A%20trackById%2C%20scope%3A%20undefined%2C%20clone%3A%20undefined%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockMap%5BtrackById%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20remove%20leftover%20items%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20blockKey%20in%20lastBlockMap%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20block%20%3D%20lastBlockMap%5BblockKey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20elementsToRemove%20%3D%20getBlockNodes%28block.clone%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24animate.leave%28elementsToRemove%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28elementsToRemove%5B0%5D.parentNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20the%20element%20was%20not%20removed%20yet%20because%20of%20pending%20animation%2C%20mark%20it%20as%20deleted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20so%20that%20we%20can%20ignore%20it%20later%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28index%20%3D%200%2C%20length%20%3D%20elementsToRemove.length%3B%20index%20%3C%20length%3B%20index++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elementsToRemove%5Bindex%5D%5BNG_REMOVED%5D%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20block.scope.%24destroy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20//%20we%20are%20not%20using%20forEach%20for%20perf%20reasons%20%28trying%20to%20avoid%20%23call%29%0D%0A%20%20%20%20%20%20%20%20%20%20for%20%28index%20%3D%200%3B%20index%20%3C%20collectionLength%3B%20index++%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%28collection%20%3D%3D%3D%20collectionKeys%29%20%3F%20index%20%3A%20collectionKeys%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20collection%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20block%20%3D%20nextBlockOrder%5Bindex%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28block.scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20if%20we%20have%20already%20seen%20this%20object%2C%20then%20we%20need%20to%20reuse%20the%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20associated%20scope/element%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextNode%20%3D%20previousNode%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20skip%20nodes%20that%20are%20already%20pending%20removal%20via%20leave%20animation%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextNode%20%3D%20nextNode.nextSibling%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20while%20%28nextNode%20%26%26%20nextNode%5BNG_REMOVED%5D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28getBlockStart%28block%29%20%21%3D%20nextNode%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20existing%20item%20which%20got%20moved%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.move%28getBlockNodes%28block.clone%29%2C%20null%2C%20jqLite%28previousNode%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousNode%20%3D%20getBlockEnd%28block%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateScope%28block.scope%2C%20index%2C%20valueIdentifier%2C%20value%2C%20keyIdentifier%2C%20key%2C%20collectionLength%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20new%20item%20which%20we%20don%27t%20know%20about%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24transclude%28function%20ngRepeatTransclude%28clone%2C%20scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.scope%20%3D%20scope%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20http%3A//jsperf.com/clone-vs-createcomment%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20endNode%20%3D%20ngRepeatEndComment.cloneNode%28false%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clone%5Bclone.length++%5D%20%3D%20endNode%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20TODO%28perf%29%3A%20support%20naked%20previousNode%20in%20%60enter%60%20to%20avoid%20creation%20of%20jqLite%20wrapper%3F%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.enter%28clone%2C%20null%2C%20jqLite%28previousNode%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20previousNode%20%3D%20endNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Note%3A%20We%20only%20need%20the%20first/last%20node%20of%20the%20cloned%20nodes.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20However%2C%20we%20need%20to%20keep%20the%20reference%20to%20the%20jqlite%20wrapper%20as%20it%20might%20be%20changed%20later%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20by%20a%20directive%20with%20templateUrl%20when%20its%20template%20arrives.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.clone%20%3D%20clone%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextBlockMap%5Bblock.id%5D%20%3D%20block%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateScope%28block.scope%2C%20index%2C%20valueIdentifier%2C%20value%2C%20keyIdentifier%2C%20key%2C%20collectionLength%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20lastBlockMap%20%3D%20nextBlockMap%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Avar%20NG_HIDE_CLASS%20%3D%20%27ng-hide%27%3B%0D%0Avar%20NG_HIDE_IN_PROGRESS_CLASS%20%3D%20%27ng-hide-animate%27%3B%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngShow%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngShow%60%20directive%20shows%20or%20hides%20the%20given%20HTML%20element%20based%20on%20the%20expression%0D%0A%20*%20provided%20to%20the%20%60ngShow%60%20attribute.%20The%20element%20is%20shown%20or%20hidden%20by%20removing%20or%20adding%0D%0A%20*%20the%20%60.ng-hide%60%20CSS%20class%20onto%20the%20element.%20The%20%60.ng-hide%60%20CSS%20class%20is%20predefined%0D%0A%20*%20in%20AngularJS%20and%20sets%20the%20display%20style%20to%20none%20%28using%20an%20%21important%20flag%29.%0D%0A%20*%20For%20CSP%20mode%20please%20add%20%60angular-csp.css%60%20to%20your%20html%20file%20%28see%20%7B@link%20ng.directive%3AngCsp%20ngCsp%7D%29.%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3C%21--%20when%20%24scope.myValue%20is%20truthy%20%28element%20is%20visible%29%20--%3E%0D%0A%20*%20%3Cdiv%20ng-show%3D%22myValue%22%3E%3C/div%3E%0D%0A%20*%0D%0A%20*%20%3C%21--%20when%20%24scope.myValue%20is%20falsy%20%28element%20is%20hidden%29%20--%3E%0D%0A%20*%20%3Cdiv%20ng-show%3D%22myValue%22%20class%3D%22ng-hide%22%3E%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20When%20the%20%60ngShow%60%20expression%20evaluates%20to%20a%20falsy%20value%20then%20the%20%60.ng-hide%60%20CSS%20class%20is%20added%20to%20the%20class%0D%0A%20*%20attribute%20on%20the%20element%20causing%20it%20to%20become%20hidden.%20When%20truthy%2C%20the%20%60.ng-hide%60%20CSS%20class%20is%20removed%0D%0A%20*%20from%20the%20element%20causing%20the%20element%20not%20to%20appear%20hidden.%0D%0A%20*%0D%0A%20*%20%23%23%20Why%20is%20%21important%20used%3F%0D%0A%20*%0D%0A%20*%20You%20may%20be%20wondering%20why%20%21important%20is%20used%20for%20the%20%60.ng-hide%60%20CSS%20class.%20This%20is%20because%20the%20%60.ng-hide%60%20selector%0D%0A%20*%20can%20be%20easily%20overridden%20by%20heavier%20selectors.%20For%20example%2C%20something%20as%20simple%0D%0A%20*%20as%20changing%20the%20display%20style%20on%20a%20HTML%20list%20item%20would%20make%20hidden%20elements%20appear%20visible.%0D%0A%20*%20This%20also%20becomes%20a%20bigger%20issue%20when%20dealing%20with%20CSS%20frameworks.%0D%0A%20*%0D%0A%20*%20By%20using%20%21important%2C%20the%20show%20and%20hide%20behavior%20will%20work%20as%20expected%20despite%20any%20clash%20between%20CSS%20selector%0D%0A%20*%20specificity%20%28when%20%21important%20isn%27t%20used%20with%20any%20conflicting%20styles%29.%20If%20a%20developer%20chooses%20to%20override%20the%0D%0A%20*%20styling%20to%20change%20how%20to%20hide%20an%20element%20then%20it%20is%20just%20a%20matter%20of%20using%20%21important%20in%20their%20own%20CSS%20code.%0D%0A%20*%0D%0A%20*%20%23%23%23%20Overriding%20%60.ng-hide%60%0D%0A%20*%0D%0A%20*%20By%20default%2C%20the%20%60.ng-hide%60%20class%20will%20style%20the%20element%20with%20%60display%3A%20none%21important%60.%20If%20you%20wish%20to%20change%0D%0A%20*%20the%20hide%20behavior%20with%20ngShow/ngHide%20then%20this%20can%20be%20achieved%20by%20restating%20the%20styles%20for%20the%20%60.ng-hide%60%0D%0A%20*%20class%20CSS.%20Note%20that%20the%20selector%20that%20needs%20to%20be%20used%20is%20actually%20%60.ng-hide%3Anot%28.ng-hide-animate%29%60%20to%20cope%0D%0A%20*%20with%20extra%20animation%20classes%20that%20can%20be%20added.%0D%0A%20*%0D%0A%20*%20%60%60%60css%0D%0A%20*%20.ng-hide%3Anot%28.ng-hide-animate%29%20%7B%0D%0A%20*%20%20%20/%26%2342%3B%20this%20is%20just%20another%20form%20of%20hiding%20an%20element%20%26%2342%3B/%0D%0A%20*%20%20%20display%3A%20block%21important%3B%0D%0A%20*%20%20%20position%3A%20absolute%3B%0D%0A%20*%20%20%20top%3A%20-9999px%3B%0D%0A%20*%20%20%20left%3A%20-9999px%3B%0D%0A%20*%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20By%20default%20you%20don%27t%20need%20to%20override%20in%20CSS%20anything%20and%20the%20animations%20will%20work%20around%20the%20display%20style.%0D%0A%20*%0D%0A%20*%20%23%23%20A%20note%20about%20animations%20with%20%60ngShow%60%0D%0A%20*%0D%0A%20*%20Animations%20in%20ngShow/ngHide%20work%20with%20the%20show%20and%20hide%20events%20that%20are%20triggered%20when%20the%20directive%20expression%0D%0A%20*%20is%20true%20and%20false.%20This%20system%20works%20like%20the%20animation%20system%20present%20with%20ngClass%20except%20that%0D%0A%20*%20you%20must%20also%20include%20the%20%21important%20flag%20to%20override%20the%20display%20property%0D%0A%20*%20so%20that%20you%20can%20perform%20an%20animation%20when%20the%20element%20is%20hidden%20during%20the%20time%20of%20the%20animation.%0D%0A%20*%0D%0A%20*%20%60%60%60css%0D%0A%20*%20//%0D%0A%20*%20//a%20working%20example%20can%20be%20found%20at%20the%20bottom%20of%20this%20page%0D%0A%20*%20//%0D%0A%20*%20.my-element.ng-hide-add%2C%20.my-element.ng-hide-remove%20%7B%0D%0A%20*%20%20%20/%26%2342%3B%20this%20is%20required%20as%20of%201.3x%20to%20properly%0D%0A%20*%20%20%20%20%20%20apply%20all%20styling%20in%20a%20show/hide%20animation%20%26%2342%3B/%0D%0A%20*%20%20%20transition%3A%200s%20linear%20all%3B%0D%0A%20*%20%7D%0D%0A%20*%0D%0A%20*%20.my-element.ng-hide-add-active%2C%0D%0A%20*%20.my-element.ng-hide-remove-active%20%7B%0D%0A%20*%20%20%20/%26%2342%3B%20the%20transition%20is%20defined%20in%20the%20active%20class%20%26%2342%3B/%0D%0A%20*%20%20%20transition%3A%201s%20linear%20all%3B%0D%0A%20*%20%7D%0D%0A%20*%0D%0A%20*%20.my-element.ng-hide-add%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-add.ng-hide-add-active%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-remove%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-remove.ng-hide-remove-active%20%7B%20...%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Keep%20in%20mind%20that%2C%20as%20of%20AngularJS%20version%201.3.0-beta.11%2C%20there%20is%20no%20need%20to%20change%20the%20display%0D%0A%20*%20property%20to%20block%20during%20animation%20states--ngAnimate%20will%20handle%20the%20style%20toggling%20automatically%20for%20you.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20addClass%3A%20%60.ng-hide%60%20-%20happens%20after%20the%20%60ngShow%60%20expression%20evaluates%20to%20a%20truthy%20value%20and%20the%20just%20before%20contents%20are%20set%20to%20visible%0D%0A%20*%20removeClass%3A%20%60.ng-hide%60%20-%20happens%20after%20the%20%60ngShow%60%20expression%20evaluates%20to%20a%20non%20truthy%20value%20and%20just%20before%20the%20contents%20are%20set%20to%20hidden%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngShow%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%0D%0A%20*%20%20%20%20%20then%20the%20element%20is%20shown%20or%20hidden%20respectively.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22ngAnimate%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20Click%20me%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checked%22%20aria-label%3D%22Toggle%20ngHide%22%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20Show%3A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22check-element%20animate-show%22%20ng-show%3D%22checked%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22glyphicon%20glyphicon-thumbs-up%22%3E%3C/span%3E%20I%20show%20up%20when%20your%20checkbox%20is%20checked.%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20Hide%3A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22check-element%20animate-show%22%20ng-hide%3D%22checked%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22glyphicon%20glyphicon-thumbs-down%22%3E%3C/span%3E%20I%20hide%20when%20your%20checkbox%20is%20checked.%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22glyphicons.css%22%3E%0D%0A%20%20%20%20%20%20@import%20url%28../../components/bootstrap-3.1.1/css/bootstrap.css%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.animate-show%20%7B%0D%0A%20%20%20%20%20%20%20%20line-height%3A%2020px%3B%0D%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A%2010px%3B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20background%3A%20white%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-show.ng-hide-add.ng-hide-add-active%2C%0D%0A%20%20%20%20%20%20.animate-show.ng-hide-remove.ng-hide-remove-active%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3A%20all%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3A%20all%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-show.ng-hide%20%7B%0D%0A%20%20%20%20%20%20%20%20line-height%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A%200%2010px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.check-element%20%7B%0D%0A%20%20%20%20%20%20%20%20padding%3A%2010px%3B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20background%3A%20white%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20thumbsUp%20%3D%20element%28by.css%28%27span.glyphicon-thumbs-up%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20thumbsDown%20%3D%20element%28by.css%28%27span.glyphicon-thumbs-down%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20check%20ng-show%20/%20ng-hide%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsUp.isDisplayed%28%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsDown.isDisplayed%28%29%29.toBeTruthy%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20element%28by.model%28%27checked%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsUp.isDisplayed%28%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsDown.isDisplayed%28%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngShowDirective%20%3D%20%5B%27%24animate%27%2C%20function%28%24animate%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20multiElement%3A%20true%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20scope.%24watch%28attr.ngShow%2C%20function%20ngShowWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20we%27re%20adding%20a%20temporary%2C%20animation-specific%20class%20for%20ng-hide%20since%20this%20way%0D%0A%20%20%20%20%20%20%20%20//%20we%20can%20control%20when%20the%20element%20is%20actually%20displayed%20on%20screen%20without%20having%0D%0A%20%20%20%20%20%20%20%20//%20to%20have%20a%20global/greedy%20CSS%20selector%20that%20breaks%20when%20other%20animations%20are%20run.%0D%0A%20%20%20%20%20%20%20%20//%20Read%3A%20https%3A//github.com/angular/angular.js/issues/9103%23issuecomment-58335845%0D%0A%20%20%20%20%20%20%20%20%24animate%5Bvalue%20%3F%20%27removeClass%27%20%3A%20%27addClass%27%5D%28element%2C%20NG_HIDE_CLASS%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20tempClasses%3A%20NG_HIDE_IN_PROGRESS_CLASS%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngHide%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngHide%60%20directive%20shows%20or%20hides%20the%20given%20HTML%20element%20based%20on%20the%20expression%0D%0A%20*%20provided%20to%20the%20%60ngHide%60%20attribute.%20The%20element%20is%20shown%20or%20hidden%20by%20removing%20or%20adding%0D%0A%20*%20the%20%60ng-hide%60%20CSS%20class%20onto%20the%20element.%20The%20%60.ng-hide%60%20CSS%20class%20is%20predefined%0D%0A%20*%20in%20AngularJS%20and%20sets%20the%20display%20style%20to%20none%20%28using%20an%20%21important%20flag%29.%0D%0A%20*%20For%20CSP%20mode%20please%20add%20%60angular-csp.css%60%20to%20your%20html%20file%20%28see%20%7B@link%20ng.directive%3AngCsp%20ngCsp%7D%29.%0D%0A%20*%0D%0A%20*%20%60%60%60html%0D%0A%20*%20%3C%21--%20when%20%24scope.myValue%20is%20truthy%20%28element%20is%20hidden%29%20--%3E%0D%0A%20*%20%3Cdiv%20ng-hide%3D%22myValue%22%20class%3D%22ng-hide%22%3E%3C/div%3E%0D%0A%20*%0D%0A%20*%20%3C%21--%20when%20%24scope.myValue%20is%20falsy%20%28element%20is%20visible%29%20--%3E%0D%0A%20*%20%3Cdiv%20ng-hide%3D%22myValue%22%3E%3C/div%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20When%20the%20%60ngHide%60%20expression%20evaluates%20to%20a%20truthy%20value%20then%20the%20%60.ng-hide%60%20CSS%20class%20is%20added%20to%20the%20class%0D%0A%20*%20attribute%20on%20the%20element%20causing%20it%20to%20become%20hidden.%20When%20falsy%2C%20the%20%60.ng-hide%60%20CSS%20class%20is%20removed%0D%0A%20*%20from%20the%20element%20causing%20the%20element%20not%20to%20appear%20hidden.%0D%0A%20*%0D%0A%20*%20%23%23%20Why%20is%20%21important%20used%3F%0D%0A%20*%0D%0A%20*%20You%20may%20be%20wondering%20why%20%21important%20is%20used%20for%20the%20%60.ng-hide%60%20CSS%20class.%20This%20is%20because%20the%20%60.ng-hide%60%20selector%0D%0A%20*%20can%20be%20easily%20overridden%20by%20heavier%20selectors.%20For%20example%2C%20something%20as%20simple%0D%0A%20*%20as%20changing%20the%20display%20style%20on%20a%20HTML%20list%20item%20would%20make%20hidden%20elements%20appear%20visible.%0D%0A%20*%20This%20also%20becomes%20a%20bigger%20issue%20when%20dealing%20with%20CSS%20frameworks.%0D%0A%20*%0D%0A%20*%20By%20using%20%21important%2C%20the%20show%20and%20hide%20behavior%20will%20work%20as%20expected%20despite%20any%20clash%20between%20CSS%20selector%0D%0A%20*%20specificity%20%28when%20%21important%20isn%27t%20used%20with%20any%20conflicting%20styles%29.%20If%20a%20developer%20chooses%20to%20override%20the%0D%0A%20*%20styling%20to%20change%20how%20to%20hide%20an%20element%20then%20it%20is%20just%20a%20matter%20of%20using%20%21important%20in%20their%20own%20CSS%20code.%0D%0A%20*%0D%0A%20*%20%23%23%23%20Overriding%20%60.ng-hide%60%0D%0A%20*%0D%0A%20*%20By%20default%2C%20the%20%60.ng-hide%60%20class%20will%20style%20the%20element%20with%20%60display%3A%20none%21important%60.%20If%20you%20wish%20to%20change%0D%0A%20*%20the%20hide%20behavior%20with%20ngShow/ngHide%20then%20this%20can%20be%20achieved%20by%20restating%20the%20styles%20for%20the%20%60.ng-hide%60%0D%0A%20*%20class%20in%20CSS%3A%0D%0A%20*%0D%0A%20*%20%60%60%60css%0D%0A%20*%20.ng-hide%20%7B%0D%0A%20*%20%20%20/%26%2342%3B%20this%20is%20just%20another%20form%20of%20hiding%20an%20element%20%26%2342%3B/%0D%0A%20*%20%20%20display%3A%20block%21important%3B%0D%0A%20*%20%20%20position%3A%20absolute%3B%0D%0A%20*%20%20%20top%3A%20-9999px%3B%0D%0A%20*%20%20%20left%3A%20-9999px%3B%0D%0A%20*%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20By%20default%20you%20don%27t%20need%20to%20override%20in%20CSS%20anything%20and%20the%20animations%20will%20work%20around%20the%20display%20style.%0D%0A%20*%0D%0A%20*%20%23%23%20A%20note%20about%20animations%20with%20%60ngHide%60%0D%0A%20*%0D%0A%20*%20Animations%20in%20ngShow/ngHide%20work%20with%20the%20show%20and%20hide%20events%20that%20are%20triggered%20when%20the%20directive%20expression%0D%0A%20*%20is%20true%20and%20false.%20This%20system%20works%20like%20the%20animation%20system%20present%20with%20ngClass%2C%20except%20that%20the%20%60.ng-hide%60%0D%0A%20*%20CSS%20class%20is%20added%20and%20removed%20for%20you%20instead%20of%20your%20own%20CSS%20class.%0D%0A%20*%0D%0A%20*%20%60%60%60css%0D%0A%20*%20//%0D%0A%20*%20//a%20working%20example%20can%20be%20found%20at%20the%20bottom%20of%20this%20page%0D%0A%20*%20//%0D%0A%20*%20.my-element.ng-hide-add%2C%20.my-element.ng-hide-remove%20%7B%0D%0A%20*%20%20%20transition%3A%200.5s%20linear%20all%3B%0D%0A%20*%20%7D%0D%0A%20*%0D%0A%20*%20.my-element.ng-hide-add%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-add.ng-hide-add-active%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-remove%20%7B%20...%20%7D%0D%0A%20*%20.my-element.ng-hide-remove.ng-hide-remove-active%20%7B%20...%20%7D%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%20Keep%20in%20mind%20that%2C%20as%20of%20AngularJS%20version%201.3.0-beta.11%2C%20there%20is%20no%20need%20to%20change%20the%20display%0D%0A%20*%20property%20to%20block%20during%20animation%20states--ngAnimate%20will%20handle%20the%20style%20toggling%20automatically%20for%20you.%0D%0A%20*%0D%0A%20*%20@animations%0D%0A%20*%20removeClass%3A%20%60.ng-hide%60%20-%20happens%20after%20the%20%60ngHide%60%20expression%20evaluates%20to%20a%20truthy%20value%20and%20just%20before%20the%20contents%20are%20set%20to%20hidden%0D%0A%20*%20addClass%3A%20%60.ng-hide%60%20-%20happens%20after%20the%20%60ngHide%60%20expression%20evaluates%20to%20a%20non%20truthy%20value%20and%20just%20before%20the%20contents%20are%20set%20to%20visible%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngHide%20If%20the%20%7B@link%20guide/expression%20expression%7D%20is%20truthy%20then%0D%0A%20*%20%20%20%20%20the%20element%20is%20shown%20or%20hidden%20respectively.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22ngAnimate%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20Click%20me%3A%20%3Cinput%20type%3D%22checkbox%22%20ng-model%3D%22checked%22%20aria-label%3D%22Toggle%20ngShow%22%3E%3Cbr/%3E%0D%0A%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20Show%3A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22check-element%20animate-hide%22%20ng-show%3D%22checked%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22glyphicon%20glyphicon-thumbs-up%22%3E%3C/span%3E%20I%20show%20up%20when%20your%20checkbox%20is%20checked.%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3Cdiv%3E%0D%0A%20%20%20%20%20%20%20%20Hide%3A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22check-element%20animate-hide%22%20ng-hide%3D%22checked%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22glyphicon%20glyphicon-thumbs-down%22%3E%3C/span%3E%20I%20hide%20when%20your%20checkbox%20is%20checked.%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22glyphicons.css%22%3E%0D%0A%20%20%20%20%20%20@import%20url%28../../components/bootstrap-3.1.1/css/bootstrap.css%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.animate-hide%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3A%20all%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3A%20all%20linear%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20line-height%3A%2020px%3B%0D%0A%20%20%20%20%20%20%20%20opacity%3A%201%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A%2010px%3B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20background%3A%20white%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-hide.ng-hide%20%7B%0D%0A%20%20%20%20%20%20%20%20line-height%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20opacity%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20padding%3A%200%2010px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.check-element%20%7B%0D%0A%20%20%20%20%20%20%20%20padding%3A%2010px%3B%0D%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20background%3A%20white%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20thumbsUp%20%3D%20element%28by.css%28%27span.glyphicon-thumbs-up%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20thumbsDown%20%3D%20element%28by.css%28%27span.glyphicon-thumbs-down%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20check%20ng-show%20/%20ng-hide%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsUp.isDisplayed%28%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsDown.isDisplayed%28%29%29.toBeTruthy%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20element%28by.model%28%27checked%27%29%29.click%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsUp.isDisplayed%28%29%29.toBeTruthy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28thumbsDown.isDisplayed%28%29%29.toBeFalsy%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngHideDirective%20%3D%20%5B%27%24animate%27%2C%20function%28%24animate%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20multiElement%3A%20true%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20scope.%24watch%28attr.ngHide%2C%20function%20ngHideWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20The%20comment%20inside%20of%20the%20ngShowDirective%20explains%20why%20we%20add%20and%0D%0A%20%20%20%20%20%20%20%20//%20remove%20a%20temporary%20class%20for%20the%20show/hide%20animation%0D%0A%20%20%20%20%20%20%20%20%24animate%5Bvalue%20%3F%20%27addClass%27%20%3A%20%27removeClass%27%5D%28element%2CNG_HIDE_CLASS%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20tempClasses%3A%20NG_HIDE_IN_PROGRESS_CLASS%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngStyle%0D%0A%20*%20@restrict%20AC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngStyle%60%20directive%20allows%20you%20to%20set%20CSS%20style%20on%20an%20HTML%20element%20conditionally.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%20@param%20%7Bexpression%7D%20ngStyle%0D%0A%20*%0D%0A%20*%20%7B@link%20guide/expression%20Expression%7D%20which%20evals%20to%20an%0D%0A%20*%20object%20whose%20keys%20are%20CSS%20style%20names%20and%20values%20are%20corresponding%20values%20for%20those%20CSS%0D%0A%20*%20keys.%0D%0A%20*%0D%0A%20*%20Since%20some%20CSS%20style%20names%20are%20not%20valid%20keys%20for%20an%20object%2C%20they%20must%20be%20quoted.%0D%0A%20*%20See%20the%20%27background-color%27%20style%20in%20the%20example%20below.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22button%22%20value%3D%22set%20color%22%20ng-click%3D%22myStyle%3D%7Bcolor%3A%27red%27%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22button%22%20value%3D%22set%20background%22%20ng-click%3D%22myStyle%3D%7B%27background-color%27%3A%27blue%27%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22button%22%20value%3D%22clear%22%20ng-click%3D%22myStyle%3D%7B%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cspan%20ng-style%3D%22myStyle%22%3ESample%20Text%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3Cpre%3EmyStyle%3D%7B%7BmyStyle%7D%7D%3C/pre%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22style.css%22%3E%0D%0A%20%20%20%20%20%20%20span%20%7B%0D%0A%20%20%20%20%20%20%20%20%20color%3A%20black%3B%0D%0A%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20var%20colorSpan%20%3D%20element%28by.css%28%27span%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20it%28%27should%20check%20ng-style%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20expect%28colorSpan.getCssValue%28%27color%27%29%29.toBe%28%27rgba%280%2C%200%2C%200%2C%201%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27input%5Bvalue%3D%5C%27set%20color%5C%27%5D%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28colorSpan.getCssValue%28%27color%27%29%29.toBe%28%27rgba%28255%2C%200%2C%200%2C%201%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20element%28by.css%28%27input%5Bvalue%3Dclear%5D%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20expect%28colorSpan.getCssValue%28%27color%27%29%29.toBe%28%27rgba%280%2C%200%2C%200%2C%201%29%27%29%3B%0D%0A%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngStyleDirective%20%3D%20ngDirective%28function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%20%20scope.%24watch%28attr.ngStyle%2C%20function%20ngStyleWatchAction%28newStyles%2C%20oldStyles%29%20%7B%0D%0A%20%20%20%20if%20%28oldStyles%20%26%26%20%28newStyles%20%21%3D%3D%20oldStyles%29%29%20%7B%0D%0A%20%20%20%20%20%20forEach%28oldStyles%2C%20function%28val%2C%20style%29%20%7B%20element.css%28style%2C%20%27%27%29%3B%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20%28newStyles%29%20element.css%28newStyles%29%3B%0D%0A%20%20%7D%2C%20true%29%3B%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngSwitch%0D%0A%20*%20@restrict%20EA%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20The%20%60ngSwitch%60%20directive%20is%20used%20to%20conditionally%20swap%20DOM%20structure%20on%20your%20template%20based%20on%20a%20scope%20expression.%0D%0A%20*%20Elements%20within%20%60ngSwitch%60%20but%20without%20%60ngSwitchWhen%60%20or%20%60ngSwitchDefault%60%20directives%20will%20be%20preserved%20at%20the%20location%0D%0A%20*%20as%20specified%20in%20the%20template.%0D%0A%20*%0D%0A%20*%20The%20directive%20itself%20works%20similar%20to%20ngInclude%2C%20however%2C%20instead%20of%20downloading%20template%20code%20%28or%20loading%20it%0D%0A%20*%20from%20the%20template%20cache%29%2C%20%60ngSwitch%60%20simply%20chooses%20one%20of%20the%20nested%20elements%20and%20makes%20it%20visible%20based%20on%20which%20element%0D%0A%20*%20matches%20the%20value%20obtained%20from%20the%20evaluated%20expression.%20In%20other%20words%2C%20you%20define%20a%20container%20element%0D%0A%20*%20%28where%20you%20place%20the%20directive%29%2C%20place%20an%20expression%20on%20the%20**%60on%3D%22...%22%60%20attribute**%0D%0A%20*%20%28or%20the%20**%60ng-switch%3D%22...%22%60%20attribute**%29%2C%20define%20any%20inner%20elements%20inside%20of%20the%20directive%20and%20place%0D%0A%20*%20a%20when%20attribute%20per%20element.%20The%20when%20attribute%20is%20used%20to%20inform%20ngSwitch%20which%20element%20to%20display%20when%20the%20on%0D%0A%20*%20expression%20is%20evaluated.%20If%20a%20matching%20expression%20is%20not%20found%20via%20a%20when%20attribute%20then%20an%20element%20with%20the%20default%0D%0A%20*%20attribute%20is%20displayed.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-info%22%3E%0D%0A%20*%20Be%20aware%20that%20the%20attribute%20values%20to%20match%20against%20cannot%20be%20expressions.%20They%20are%20interpreted%0D%0A%20*%20as%20literal%20string%20values%20to%20match%20against.%0D%0A%20*%20For%20example%2C%20**%60ng-switch-when%3D%22someVal%22%60**%20will%20match%20against%20the%20string%20%60%22someVal%22%60%20not%20against%20the%0D%0A%20*%20value%20of%20the%20expression%20%60%24scope.someVal%60.%0D%0A%20*%20%3C/div%3E%0D%0A%0D%0A%20*%20@animations%0D%0A%20*%20enter%20-%20happens%20after%20the%20ngSwitch%20contents%20change%20and%20the%20matched%20child%20element%20is%20placed%20inside%20the%20container%0D%0A%20*%20leave%20-%20happens%20just%20after%20the%20ngSwitch%20contents%20change%20and%20just%20before%20the%20former%20contents%20are%20removed%20from%20the%20DOM%0D%0A%20*%0D%0A%20*%20@usage%0D%0A%20*%0D%0A%20*%20%60%60%60%0D%0A%20*%20%3CANY%20ng-switch%3D%22expression%22%3E%0D%0A%20*%20%20%20%3CANY%20ng-switch-when%3D%22matchValue1%22%3E...%3C/ANY%3E%0D%0A%20*%20%20%20%3CANY%20ng-switch-when%3D%22matchValue2%22%3E...%3C/ANY%3E%0D%0A%20*%20%20%20%3CANY%20ng-switch-default%3E...%3C/ANY%3E%0D%0A%20*%20%3C/ANY%3E%0D%0A%20*%20%60%60%60%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@scope%0D%0A%20*%20@priority%201200%0D%0A%20*%20@param%20%7B*%7D%20ngSwitch%7Con%20expression%20to%20match%20against%20%3Ccode%3Eng-switch-when%3C/code%3E.%0D%0A%20*%20On%20child%20elements%20add%3A%0D%0A%20*%0D%0A%20*%20*%20%60ngSwitchWhen%60%3A%20the%20case%20statement%20to%20match%20against.%20If%20match%20then%20this%0D%0A%20*%20%20%20case%20will%20be%20displayed.%20If%20the%20same%20match%20appears%20multiple%20times%2C%20all%20the%0D%0A%20*%20%20%20elements%20will%20be%20displayed.%0D%0A%20*%20*%20%60ngSwitchDefault%60%3A%20the%20default%20case%20when%20no%20other%20case%20match.%20If%20there%0D%0A%20*%20%20%20are%20multiple%20default%20cases%2C%20all%20of%20them%20will%20be%20displayed%20when%20no%20other%0D%0A%20*%20%20%20case%20match.%0D%0A%20*%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%20module%3D%22switchExample%22%20deps%3D%22angular-animate.js%22%20animations%3D%22true%22%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cselect%20ng-model%3D%22selection%22%20ng-options%3D%22item%20for%20item%20in%20items%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/select%3E%0D%0A%20%20%20%20%20%20%20%20%3Ccode%3Eselection%3D%7B%7Bselection%7D%7D%3C/code%3E%0D%0A%20%20%20%20%20%20%20%20%3Chr/%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22animate-switch-container%22%0D%0A%20%20%20%20%20%20%20%20%20%20ng-switch%20on%3D%22selection%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22animate-switch%22%20ng-switch-when%3D%22settings%22%3ESettings%20Div%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22animate-switch%22%20ng-switch-when%3D%22home%22%3EHome%20Span%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22animate-switch%22%20ng-switch-default%3Edefault%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22script.js%22%3E%0D%0A%20%20%20%20%20%20angular.module%28%27switchExample%27%2C%20%5B%27ngAnimate%27%5D%29%0D%0A%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.items%20%3D%20%5B%27settings%27%2C%20%27home%27%2C%20%27other%27%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%24scope.selection%20%3D%20%24scope.items%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22animations.css%22%3E%0D%0A%20%20%20%20%20%20.animate-switch-container%20%7B%0D%0A%20%20%20%20%20%20%20%20position%3Arelative%3B%0D%0A%20%20%20%20%20%20%20%20background%3Awhite%3B%0D%0A%20%20%20%20%20%20%20%20border%3A1px%20solid%20black%3B%0D%0A%20%20%20%20%20%20%20%20height%3A40px%3B%0D%0A%20%20%20%20%20%20%20%20overflow%3Ahidden%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-switch%20%7B%0D%0A%20%20%20%20%20%20%20%20padding%3A10px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-switch.ng-animate%20%7B%0D%0A%20%20%20%20%20%20%20%20-webkit-transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%20%20%20%20%20%20%20%20transition%3Aall%20cubic-bezier%280.250%2C%200.460%2C%200.450%2C%200.940%29%200.5s%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20position%3Aabsolute%3B%0D%0A%20%20%20%20%20%20%20%20top%3A0%3B%0D%0A%20%20%20%20%20%20%20%20left%3A0%3B%0D%0A%20%20%20%20%20%20%20%20right%3A0%3B%0D%0A%20%20%20%20%20%20%20%20bottom%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20.animate-switch.ng-leave.ng-leave-active%2C%0D%0A%20%20%20%20%20%20.animate-switch.ng-enter%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A-50px%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20.animate-switch.ng-leave%2C%0D%0A%20%20%20%20%20%20.animate-switch.ng-enter.ng-enter-active%20%7B%0D%0A%20%20%20%20%20%20%20%20top%3A0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20var%20switchElem%20%3D%20element%28by.css%28%27%5Bng-switch%5D%27%29%29%3B%0D%0A%20%20%20%20%20%20var%20select%20%3D%20element%28by.model%28%27selection%27%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20it%28%27should%20start%20in%20settings%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20expect%28switchElem.getText%28%29%29.toMatch%28/Settings%20Div/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20it%28%27should%20change%20to%20home%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20select.all%28by.css%28%27option%27%29%29.get%281%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28switchElem.getText%28%29%29.toMatch%28/Home%20Span/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20it%28%27should%20select%20default%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20select.all%28by.css%28%27option%27%29%29.get%282%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28switchElem.getText%28%29%29.toMatch%28/default/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20ngSwitchDirective%20%3D%20%5B%27%24animate%27%2C%20function%28%24animate%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20require%3A%20%27ngSwitch%27%2C%0D%0A%0D%0A%20%20%20%20//%20asks%20for%20%24scope%20to%20fool%20the%20BC%20controller%20module%0D%0A%20%20%20%20controller%3A%20%5B%27%24scope%27%2C%20function%20ngSwitchController%28%29%20%7B%0D%0A%20%20%20%20%20this.cases%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%7D%5D%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%2C%20ngSwitchController%29%20%7B%0D%0A%20%20%20%20%20%20var%20watchExpr%20%3D%20attr.ngSwitch%20%7C%7C%20attr.on%2C%0D%0A%20%20%20%20%20%20%20%20%20%20selectedTranscludes%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20selectedElements%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20previousLeaveAnimations%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20selectedScopes%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20spliceFactory%20%3D%20function%28array%2C%20index%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20function%28%29%20%7B%20array.splice%28index%2C%201%29%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20scope.%24watch%28watchExpr%2C%20function%20ngSwitchWatchAction%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20i%2C%20ii%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20previousLeaveAnimations.length%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%24animate.cancel%28previousLeaveAnimations%5Bi%5D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20previousLeaveAnimations.length%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ii%20%3D%20selectedScopes.length%3B%20i%20%3C%20ii%3B%20++i%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20getBlockNodes%28selectedElements%5Bi%5D.clone%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20selectedScopes%5Bi%5D.%24destroy%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20promise%20%3D%20previousLeaveAnimations%5Bi%5D%20%3D%20%24animate.leave%28selected%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20promise.then%28spliceFactory%28previousLeaveAnimations%2C%20i%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20selectedElements.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20selectedScopes.length%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28%28selectedTranscludes%20%3D%20ngSwitchController.cases%5B%27%21%27%20+%20value%5D%20%7C%7C%20ngSwitchController.cases%5B%27%3F%27%5D%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28selectedTranscludes%2C%20function%28selectedTransclude%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectedTransclude.transclude%28function%28caseElement%2C%20selectedScope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectedScopes.push%28selectedScope%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20anchor%20%3D%20selectedTransclude.element%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20caseElement%5BcaseElement.length++%5D%20%3D%20document.createComment%28%27%20end%20ngSwitchWhen%3A%20%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20%3D%20%7B%20clone%3A%20caseElement%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectedElements.push%28block%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24animate.enter%28caseElement%2C%20anchor.parent%28%29%2C%20anchor%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Avar%20ngSwitchWhenDirective%20%3D%20ngDirective%28%7B%0D%0A%20%20transclude%3A%20%27element%27%2C%0D%0A%20%20priority%3A%201200%2C%0D%0A%20%20require%3A%20%27%5EngSwitch%27%2C%0D%0A%20%20multiElement%3A%20true%2C%0D%0A%20%20link%3A%20function%28scope%2C%20element%2C%20attrs%2C%20ctrl%2C%20%24transclude%29%20%7B%0D%0A%20%20%20%20ctrl.cases%5B%27%21%27%20+%20attrs.ngSwitchWhen%5D%20%3D%20%28ctrl.cases%5B%27%21%27%20+%20attrs.ngSwitchWhen%5D%20%7C%7C%20%5B%5D%29%3B%0D%0A%20%20%20%20ctrl.cases%5B%27%21%27%20+%20attrs.ngSwitchWhen%5D.push%28%7B%20transclude%3A%20%24transclude%2C%20element%3A%20element%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0Avar%20ngSwitchDefaultDirective%20%3D%20ngDirective%28%7B%0D%0A%20%20transclude%3A%20%27element%27%2C%0D%0A%20%20priority%3A%201200%2C%0D%0A%20%20require%3A%20%27%5EngSwitch%27%2C%0D%0A%20%20multiElement%3A%20true%2C%0D%0A%20%20link%3A%20function%28scope%2C%20element%2C%20attr%2C%20ctrl%2C%20%24transclude%29%20%7B%0D%0A%20%20%20%20ctrl.cases%5B%27%3F%27%5D%20%3D%20%28ctrl.cases%5B%27%3F%27%5D%20%7C%7C%20%5B%5D%29%3B%0D%0A%20%20%20%20ctrl.cases%5B%27%3F%27%5D.push%28%7B%20transclude%3A%20%24transclude%2C%20element%3A%20element%20%7D%29%3B%0D%0A%20%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20ngTransclude%0D%0A%20*%20@restrict%20EAC%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Directive%20that%20marks%20the%20insertion%20point%20for%20the%20transcluded%20DOM%20of%20the%20nearest%20parent%20directive%20that%20uses%20transclusion.%0D%0A%20*%0D%0A%20*%20Any%20existing%20content%20of%20the%20element%20that%20this%20directive%20is%20placed%20on%20will%20be%20removed%20before%20the%20transcluded%20content%20is%20inserted.%0D%0A%20*%0D%0A%20*%20@element%20ANY%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%20%3Cexample%20module%3D%22transcludeExample%22%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20%20angular.module%28%27transcludeExample%27%2C%20%5B%5D%29%0D%0A%20%20%20%20%20%20%20%20%20%20.directive%28%27pane%27%2C%20function%28%29%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transclude%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scope%3A%20%7B%20title%3A%27@%27%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20template%3A%20%27%3Cdiv%20style%3D%22border%3A%201px%20solid%20black%3B%22%3E%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3Cdiv%20style%3D%22background-color%3A%20gray%22%3E%7B%7Btitle%7D%7D%3C/div%3E%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3Cng-transclude%3E%3C/ng-transclude%3E%27%20+%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3C/div%3E%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20.controller%28%27ExampleController%27%2C%20%5B%27%24scope%27%2C%20function%28%24scope%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.title%20%3D%20%27Lorem%20Ipsum%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%24scope.text%20%3D%20%27Neque%20porro%20quisquam%20est%20qui%20dolorem%20ipsum%20quia%20dolor...%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%7D%5D%29%3B%0D%0A%20%20%20%20%20%20%20%3C/script%3E%0D%0A%20%20%20%20%20%20%20%3Cdiv%20ng-controller%3D%22ExampleController%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cinput%20ng-model%3D%22title%22%20aria-label%3D%22title%22%3E%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Ctextarea%20ng-model%3D%22text%22%20aria-label%3D%22text%22%3E%3C/textarea%3E%20%3Cbr/%3E%0D%0A%20%20%20%20%20%20%20%20%20%3Cpane%20title%3D%22%7B%7Btitle%7D%7D%22%3E%7B%7Btext%7D%7D%3C/pane%3E%0D%0A%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20%20%20it%28%27should%20have%20transcluded%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20titleElement%20%3D%20element%28by.model%28%27title%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20titleElement.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20titleElement.sendKeys%28%27TITLE%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20textElement%20%3D%20element%28by.model%28%27text%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20textElement.clear%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20textElement.sendKeys%28%27TEXT%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27title%27%29%29.getText%28%29%29.toEqual%28%27TITLE%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20expect%28element%28by.binding%28%27text%27%29%29.getText%28%29%29.toEqual%28%27TEXT%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%3C/file%3E%0D%0A%20%20%20%3C/example%3E%0D%0A%20*%0D%0A%20*/%0D%0Avar%20ngTranscludeDirective%20%3D%20ngDirective%28%7B%0D%0A%20%20restrict%3A%20%27EAC%27%2C%0D%0A%20%20link%3A%20function%28%24scope%2C%20%24element%2C%20%24attrs%2C%20controller%2C%20%24transclude%29%20%7B%0D%0A%20%20%20%20if%20%28%21%24transclude%29%20%7B%0D%0A%20%20%20%20%20%20throw%20minErr%28%27ngTransclude%27%29%28%27orphan%27%2C%0D%0A%20%20%20%20%20%20%20%27Illegal%20use%20of%20ngTransclude%20directive%20in%20the%20template%21%20%27%20+%0D%0A%20%20%20%20%20%20%20%27No%20parent%20directive%20that%20requires%20a%20transclusion%20found.%20%27%20+%0D%0A%20%20%20%20%20%20%20%27Element%3A%20%7B0%7D%27%2C%0D%0A%20%20%20%20%20%20%20startingTag%28%24element%29%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%24transclude%28function%28clone%29%20%7B%0D%0A%20%20%20%20%20%20%24element.empty%28%29%3B%0D%0A%20%20%20%20%20%20%24element.append%28clone%29%3B%0D%0A%20%20%20%20%7D%29%3B%0D%0A%20%20%7D%0D%0A%7D%29%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20script%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20Load%20the%20content%20of%20a%20%60%3Cscript%3E%60%20element%20into%20%7B@link%20ng.%24templateCache%20%60%24templateCache%60%7D%2C%20so%20that%20the%0D%0A%20*%20template%20can%20be%20used%20by%20%7B@link%20ng.directive%3AngInclude%20%60ngInclude%60%7D%2C%0D%0A%20*%20%7B@link%20ngRoute.directive%3AngView%20%60ngView%60%7D%2C%20or%20%7B@link%20guide/directive%20directives%7D.%20The%20type%20of%20the%0D%0A%20*%20%60%3Cscript%3E%60%20element%20must%20be%20specified%20as%20%60text/ng-template%60%2C%20and%20a%20cache%20name%20for%20the%20template%20must%20be%0D%0A%20*%20assigned%20through%20the%20element%27s%20%60id%60%2C%20which%20can%20then%20be%20used%20as%20a%20directive%27s%20%60templateUrl%60.%0D%0A%20*%0D%0A%20*%20@param%20%7Bstring%7D%20type%20Must%20be%20set%20to%20%60%27text/ng-template%27%60.%0D%0A%20*%20@param%20%7Bstring%7D%20id%20Cache%20name%20of%20the%20template.%0D%0A%20*%0D%0A%20*%20@example%0D%0A%20%20%3Cexample%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20%20%20%20%20%20%3Cscript%20type%3D%22text/ng-template%22%20id%3D%22/tpl.html%22%3E%0D%0A%20%20%20%20%20%20%20%20Content%20of%20the%20template.%0D%0A%20%20%20%20%20%20%3C/script%3E%0D%0A%0D%0A%20%20%20%20%20%20%3Ca%20ng-click%3D%22currentTpl%3D%27/tpl.html%27%22%20id%3D%22tpl-link%22%3ELoad%20inlined%20template%3C/a%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22tpl-content%22%20ng-include%20src%3D%22currentTpl%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20%20%20%20%20%20it%28%27should%20load%20template%20defined%20inside%20script%20tag%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20element%28by.css%28%27%23tpl-link%27%29%29.click%28%29%3B%0D%0A%20%20%20%20%20%20%20%20expect%28element%28by.css%28%27%23tpl-content%27%29%29.getText%28%29%29.toMatch%28/Content%20of%20the%20template/%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%3C/file%3E%0D%0A%20%20%3C/example%3E%0D%0A%20*/%0D%0Avar%20scriptDirective%20%3D%20%5B%27%24templateCache%27%2C%20function%28%24templateCache%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20%20%20terminal%3A%20true%2C%0D%0A%20%20%20%20compile%3A%20function%28element%2C%20attr%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28attr.type%20%3D%3D%20%27text/ng-template%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20templateUrl%20%3D%20attr.id%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20element%5B0%5D.text%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24templateCache.put%28templateUrl%2C%20text%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Avar%20noopNgModelController%20%3D%20%7B%20%24setViewValue%3A%20noop%2C%20%24render%3A%20noop%20%7D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20type%0D%0A%20*%20@name%20%20select.SelectController%0D%0A%20*%20@description%0D%0A%20*%20The%20controller%20for%20the%20%60%3Cselect%3E%60%20directive.%20This%20provides%20support%20for%20reading%0D%0A%20*%20and%20writing%20the%20selected%20value%28s%29%20of%20the%20control%20and%20also%20coordinates%20dynamically%0D%0A%20*%20added%20%60%3Coption%3E%60%20elements%2C%20perhaps%20by%20an%20%60ngRepeat%60%20directive.%0D%0A%20*/%0D%0Avar%20SelectController%20%3D%0D%0A%20%20%20%20%20%20%20%20%5B%27%24element%27%2C%20%27%24scope%27%2C%20%27%24attrs%27%2C%20function%28%24element%2C%20%24scope%2C%20%24attrs%29%20%7B%0D%0A%0D%0A%20%20var%20self%20%3D%20this%2C%0D%0A%20%20%20%20%20%20optionsMap%20%3D%20new%20HashMap%28%29%3B%0D%0A%0D%0A%20%20//%20If%20the%20ngModel%20doesn%27t%20get%20provided%20then%20provide%20a%20dummy%20noop%20version%20to%20prevent%20errors%0D%0A%20%20self.ngModelCtrl%20%3D%20noopNgModelController%3B%0D%0A%0D%0A%20%20//%20The%20%22unknown%22%20option%20is%20one%20that%20is%20prepended%20to%20the%20list%20if%20the%20viewValue%0D%0A%20%20//%20does%20not%20match%20any%20of%20the%20options.%20When%20it%20is%20rendered%20the%20value%20of%20the%20unknown%0D%0A%20%20//%20option%20is%20%27%3F%20XXX%20%3F%27%20where%20XXX%20is%20the%20hashKey%20of%20the%20value%20that%20is%20not%20known.%0D%0A%20%20//%0D%0A%20%20//%20We%20can%27t%20just%20jqLite%28%27%3Coption%3E%27%29%20since%20jqLite%20is%20not%20smart%20enough%0D%0A%20%20//%20to%20create%20it%20in%20%3Cselect%3E%20and%20IE%20barfs%20otherwise.%0D%0A%20%20self.unknownOption%20%3D%20jqLite%28document.createElement%28%27option%27%29%29%3B%0D%0A%20%20self.renderUnknownOption%20%3D%20function%28val%29%20%7B%0D%0A%20%20%20%20var%20unknownVal%20%3D%20%27%3F%20%27%20+%20hashKey%28val%29%20+%20%27%20%3F%27%3B%0D%0A%20%20%20%20self.unknownOption.val%28unknownVal%29%3B%0D%0A%20%20%20%20%24element.prepend%28self.unknownOption%29%3B%0D%0A%20%20%20%20%24element.val%28unknownVal%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%24scope.%24on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20//%20disable%20unknown%20option%20so%20that%20we%20don%27t%20do%20work%20when%20the%20whole%20select%20is%20being%20destroyed%0D%0A%20%20%20%20self.renderUnknownOption%20%3D%20noop%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%20%20self.removeUnknownOption%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20if%20%28self.unknownOption.parent%28%29%29%20self.unknownOption.remove%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20//%20Read%20the%20value%20of%20the%20select%20control%2C%20the%20implementation%20of%20this%20changes%20depending%0D%0A%20%20//%20upon%20whether%20the%20select%20can%20have%20multiple%20values%20and%20whether%20ngOptions%20is%20at%20work.%0D%0A%20%20self.readValue%20%3D%20function%20readSingleValue%28%29%20%7B%0D%0A%20%20%20%20self.removeUnknownOption%28%29%3B%0D%0A%20%20%20%20return%20%24element.val%28%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20//%20Write%20the%20value%20to%20the%20select%20control%2C%20the%20implementation%20of%20this%20changes%20depending%0D%0A%20%20//%20upon%20whether%20the%20select%20can%20have%20multiple%20values%20and%20whether%20ngOptions%20is%20at%20work.%0D%0A%20%20self.writeValue%20%3D%20function%20writeSingleValue%28value%29%20%7B%0D%0A%20%20%20%20if%20%28self.hasOption%28value%29%29%20%7B%0D%0A%20%20%20%20%20%20self.removeUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%24element.val%28value%29%3B%0D%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20%27%27%29%20self.emptyOption.prop%28%27selected%27%2C%20true%29%3B%20//%20to%20make%20IE9%20happy%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%20null%20%26%26%20self.emptyOption%29%20%7B%0D%0A%20%20%20%20%20%20%20%20self.removeUnknownOption%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%24element.val%28%27%27%29%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20self.renderUnknownOption%28value%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%0D%0A%20%20//%20Tell%20the%20select%20control%20that%20an%20option%2C%20with%20the%20given%20value%2C%20has%20been%20added%0D%0A%20%20self.addOption%20%3D%20function%28value%2C%20element%29%20%7B%0D%0A%20%20%20%20assertNotHasOwnProperty%28value%2C%20%27%22option%20value%22%27%29%3B%0D%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20self.emptyOption%20%3D%20element%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20count%20%3D%20optionsMap.get%28value%29%20%7C%7C%200%3B%0D%0A%20%20%20%20optionsMap.put%28value%2C%20count%20+%201%29%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20Tell%20the%20select%20control%20that%20an%20option%2C%20with%20the%20given%20value%2C%20has%20been%20removed%0D%0A%20%20self.removeOption%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20var%20count%20%3D%20optionsMap.get%28value%29%3B%0D%0A%20%20%20%20if%20%28count%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28count%20%3D%3D%3D%201%29%20%7B%0D%0A%20%20%20%20%20%20%20%20optionsMap.remove%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20%27%27%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20self.emptyOption%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20optionsMap.put%28value%2C%20count%20-%201%29%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20//%20Check%20whether%20the%20select%20control%20has%20an%20option%20matching%20the%20given%20value%0D%0A%20%20self.hasOption%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20return%20%21%21optionsMap.get%28value%29%3B%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0A/**%0D%0A%20*%20@ngdoc%20directive%0D%0A%20*%20@name%20select%0D%0A%20*%20@restrict%20E%0D%0A%20*%0D%0A%20*%20@description%0D%0A%20*%20HTML%20%60SELECT%60%20element%20with%20angular%20data-binding.%0D%0A%20*%0D%0A%20*%20In%20many%20cases%2C%20%60ngRepeat%60%20can%20be%20used%20on%20%60%3Coption%3E%60%20elements%20instead%20of%20%7B@link%20ng.directive%3AngOptions%0D%0A%20*%20ngOptions%7D%20to%20achieve%20a%20similar%20result.%20However%2C%20%60ngOptions%60%20provides%20some%20benefits%20such%20as%20reducing%0D%0A%20*%20memory%20and%20increasing%20speed%20by%20not%20creating%20a%20new%20scope%20for%20each%20repeated%20instance%2C%20as%20well%20as%20providing%0D%0A%20*%20more%20flexibility%20in%20how%20the%20%60%3Cselect%3E%60%27s%20model%20is%20assigned%20via%20the%20%60select%60%20**%60as%60**%20part%20of%20the%0D%0A%20*%20comprehension%20expression.%0D%0A%20*%0D%0A%20*%20When%20an%20item%20in%20the%20%60%3Cselect%3E%60%20menu%20is%20selected%2C%20the%20array%20element%20or%20object%20property%0D%0A%20*%20represented%20by%20the%20selected%20option%20will%20be%20bound%20to%20the%20model%20identified%20by%20the%20%60ngModel%60%0D%0A%20*%20directive.%0D%0A%20*%0D%0A%20*%20If%20the%20viewValue%20contains%20a%20value%20that%20doesn%27t%20match%20any%20of%20the%20options%20then%20the%20control%0D%0A%20*%20will%20automatically%20add%20an%20%22unknown%22%20option%2C%20which%20it%20then%20removes%20when%20this%20is%20resolved.%0D%0A%20*%0D%0A%20*%20Optionally%2C%20a%20single%20hard-coded%20%60%3Coption%3E%60%20element%2C%20with%20the%20value%20set%20to%20an%20empty%20string%2C%20can%0D%0A%20*%20be%20nested%20into%20the%20%60%3Cselect%3E%60%20element.%20This%20element%20will%20then%20represent%20the%20%60null%60%20or%20%22not%20selected%22%0D%0A%20*%20option.%20See%20example%20below%20for%20demonstration.%0D%0A%20*%0D%0A%20*%20%3Cdiv%20class%3D%22alert%20alert-info%22%3E%0D%0A%20*%20The%20value%20of%20a%20%60select%60%20directive%20used%20without%20%60ngOptions%60%20is%20always%20a%20string.%0D%0A%20*%20When%20the%20model%20needs%20to%20be%20bound%20to%20a%20non-string%20value%2C%20you%20must%20either%20explictly%20convert%20it%0D%0A%20*%20using%20a%20directive%20%28see%20example%20below%29%20or%20use%20%60ngOptions%60%20to%20specify%20the%20set%20of%20options.%0D%0A%20*%20This%20is%20because%20an%20option%20element%20can%20only%20be%20bound%20to%20string%20values%20at%20present.%0D%0A%20*%20%3C/div%3E%0D%0A%20*%0D%0A%20*%20%23%23%23%20Example%20%28binding%20%60select%60%20to%20a%20non-string%20value%29%0D%0A%20*%0D%0A%20*%20%3Cexample%20name%3D%22select-with-non-string-options%22%20module%3D%22nonStringSelect%22%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22index.html%22%3E%0D%0A%20*%20%20%20%20%20%3Cselect%20ng-model%3D%22model.id%22%20convert-to-number%3E%0D%0A%20*%20%20%20%20%20%20%20%3Coption%20value%3D%220%22%3EZero%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%3Coption%20value%3D%221%22%3EOne%3C/option%3E%0D%0A%20*%20%20%20%20%20%20%20%3Coption%20value%3D%222%22%3ETwo%3C/option%3E%0D%0A%20*%20%20%20%20%20%3C/select%3E%0D%0A%20*%20%20%20%20%20%7B%7B%20model%20%7D%7D%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22app.js%22%3E%0D%0A%20*%20%20%20%20%20angular.module%28%27nonStringSelect%27%2C%20%5B%5D%29%0D%0A%20*%20%20%20%20%20%20%20.run%28function%28%24rootScope%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%24rootScope.model%20%3D%20%7B%20id%3A%202%20%7D%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%29%0D%0A%20*%20%20%20%20%20%20%20.directive%28%27convertToNumber%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20require%3A%20%27ngModel%27%2C%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attrs%2C%20ngModel%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20ngModel.%24parsers.push%28function%28val%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parseInt%28val%2C%2010%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20ngModel.%24formatters.push%28function%28val%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%27%27%20+%20val%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20*%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20*%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%20%20%3Cfile%20name%3D%22protractor.js%22%20type%3D%22protractor%22%3E%0D%0A%20*%20%20%20%20%20it%28%27should%20initialize%20to%20model%27%2C%20function%28%29%20%7B%0D%0A%20*%20%20%20%20%20%20%20var%20select%20%3D%20element%28by.css%28%27select%27%29%29%3B%0D%0A%20*%20%20%20%20%20%20%20expect%28element%28by.model%28%27model.id%27%29%29.%24%28%27option%3Achecked%27%29.getText%28%29%29.toEqual%28%27Two%27%29%3B%0D%0A%20*%20%20%20%20%20%7D%29%3B%0D%0A%20*%20%20%20%3C/file%3E%0D%0A%20*%20%3C/example%3E%0D%0A%20*%0D%0A%20*/%0D%0Avar%20selectDirective%20%3D%20function%28%29%20%7B%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20%20%20require%3A%20%5B%27select%27%2C%20%27%3FngModel%27%5D%2C%0D%0A%20%20%20%20controller%3A%20SelectController%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20element%2C%20attr%2C%20ctrls%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20//%20if%20ngModel%20is%20not%20defined%2C%20we%20don%27t%20need%20to%20do%20anything%0D%0A%20%20%20%20%20%20var%20ngModelCtrl%20%3D%20ctrls%5B1%5D%3B%0D%0A%20%20%20%20%20%20if%20%28%21ngModelCtrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20selectCtrl%20%3D%20ctrls%5B0%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20selectCtrl.ngModelCtrl%20%3D%20ngModelCtrl%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20We%20delegate%20rendering%20to%20the%20%60writeValue%60%20method%2C%20which%20can%20be%20changed%0D%0A%20%20%20%20%20%20//%20if%20the%20select%20can%20have%20multiple%20selected%20values%20or%20if%20the%20options%20are%20being%0D%0A%20%20%20%20%20%20//%20generated%20by%20%60ngOptions%60%0D%0A%20%20%20%20%20%20ngModelCtrl.%24render%20%3D%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20selectCtrl.writeValue%28ngModelCtrl.%24viewValue%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20When%20the%20selected%20item%28s%29%20changes%20we%20delegate%20getting%20the%20value%20of%20the%20select%20control%0D%0A%20%20%20%20%20%20//%20to%20the%20%60readValue%60%20method%2C%20which%20can%20be%20changed%20if%20the%20select%20can%20have%20multiple%0D%0A%20%20%20%20%20%20//%20selected%20values%20or%20if%20the%20options%20are%20being%20generated%20by%20%60ngOptions%60%0D%0A%20%20%20%20%20%20element.on%28%27change%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20scope.%24apply%28function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ngModelCtrl.%24setViewValue%28selectCtrl.readValue%28%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20//%20If%20the%20select%20allows%20multiple%20values%20then%20we%20need%20to%20modify%20how%20we%20read%20and%20write%0D%0A%20%20%20%20%20%20//%20values%20from%20and%20to%20the%20control%3B%20also%20what%20it%20means%20for%20the%20value%20to%20be%20empty%20and%0D%0A%20%20%20%20%20%20//%20we%20have%20to%20add%20an%20extra%20watch%20since%20ngModel%20doesn%27t%20work%20well%20with%20arrays%20-%20it%0D%0A%20%20%20%20%20%20//%20doesn%27t%20trigger%20rendering%20if%20only%20an%20item%20in%20the%20array%20changes.%0D%0A%20%20%20%20%20%20if%20%28attr.multiple%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Read%20value%20now%20needs%20to%20check%20each%20option%20to%20see%20if%20it%20is%20selected%0D%0A%20%20%20%20%20%20%20%20selectCtrl.readValue%20%3D%20function%20readMultipleValue%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20array%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28element.find%28%27option%27%29%2C%20function%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28option.selected%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20array.push%28option.value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20array%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Write%20value%20now%20needs%20to%20set%20the%20selected%20property%20of%20each%20matching%20option%0D%0A%20%20%20%20%20%20%20%20selectCtrl.writeValue%20%3D%20function%20writeMultipleValue%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20items%20%3D%20new%20HashMap%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20forEach%28element.find%28%27option%27%29%2C%20function%28option%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20option.selected%20%3D%20isDefined%28items.get%28option.value%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20we%20have%20to%20do%20it%20on%20each%20watch%20since%20ngModel%20watches%20reference%2C%20but%0D%0A%20%20%20%20%20%20%20%20//%20we%20need%20to%20work%20of%20an%20array%2C%20so%20we%20need%20to%20see%20if%20anything%20was%20inserted/removed%0D%0A%20%20%20%20%20%20%20%20var%20lastView%2C%20lastViewRef%20%3D%20NaN%3B%0D%0A%20%20%20%20%20%20%20%20scope.%24watch%28function%20selectMultipleWatch%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28lastViewRef%20%3D%3D%3D%20ngModelCtrl.%24viewValue%20%26%26%20%21equals%28lastView%2C%20ngModelCtrl.%24viewValue%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lastView%20%3D%20shallowCopy%28ngModelCtrl.%24viewValue%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20lastViewRef%20%3D%20ngModelCtrl.%24viewValue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20If%20we%20are%20a%20multiple%20select%20then%20value%20is%20now%20a%20collection%0D%0A%20%20%20%20%20%20%20%20//%20so%20the%20meaning%20of%20%24isEmpty%20changes%0D%0A%20%20%20%20%20%20%20%20ngModelCtrl.%24isEmpty%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%21value%20%7C%7C%20value.length%20%3D%3D%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0A//%20The%20option%20directive%20is%20purely%20designed%20to%20communicate%20the%20existence%20%28or%20lack%20of%29%0D%0A//%20of%20dynamically%20created%20%28and%20destroyed%29%20option%20elements%20to%20their%20containing%20select%0D%0A//%20directive%20via%20its%20controller.%0D%0Avar%20optionDirective%20%3D%20%5B%27%24interpolate%27%2C%20function%28%24interpolate%29%20%7B%0D%0A%0D%0A%20%20function%20chromeHack%28optionElement%29%20%7B%0D%0A%20%20%20%20//%20Workaround%20for%20https%3A//code.google.com/p/chromium/issues/detail%3Fid%3D381459%0D%0A%20%20%20%20//%20Adding%20an%20%3Coption%20selected%3D%22selected%22%3E%20element%20to%20a%20%3Cselect%20required%3D%22required%22%3E%20should%0D%0A%20%20%20%20//%20automatically%20select%20the%20new%20element%0D%0A%20%20%20%20if%20%28optionElement%5B0%5D.hasAttribute%28%27selected%27%29%29%20%7B%0D%0A%20%20%20%20%20%20optionElement%5B0%5D.selected%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20%20%20priority%3A%20100%2C%0D%0A%20%20%20%20compile%3A%20function%28element%2C%20attr%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20//%20If%20the%20value%20attribute%20is%20not%20defined%20then%20we%20fall%20back%20to%20the%0D%0A%20%20%20%20%20%20//%20text%20content%20of%20the%20option%20element%2C%20which%20may%20be%20interpolated%0D%0A%20%20%20%20%20%20if%20%28isUndefined%28attr.value%29%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20interpolateFn%20%3D%20%24interpolate%28element.text%28%29%2C%20true%29%3B%0D%0A%20%20%20%20%20%20%20%20if%20%28%21interpolateFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20attr.%24set%28%27value%27%2C%20element.text%28%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20function%28scope%2C%20element%2C%20attr%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20This%20is%20an%20optimization%20over%20using%20%5E%5E%20since%20we%20don%27t%20want%20to%20have%20to%20search%0D%0A%20%20%20%20%20%20%20%20//%20all%20the%20way%20to%20the%20root%20of%20the%20DOM%20for%20every%20single%20option%20element%0D%0A%20%20%20%20%20%20%20%20var%20selectCtrlName%20%3D%20%27%24selectController%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20parent%20%3D%20element.parent%28%29%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl%20%3D%20parent.data%28selectCtrlName%29%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent.parent%28%29.data%28selectCtrlName%29%3B%20//%20in%20case%20we%20are%20in%20optgroup%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20Only%20update%20trigger%20option%20updates%20if%20this%20is%20an%20option%20within%20a%20%60select%60%0D%0A%20%20%20%20%20%20%20%20//%20that%20also%20has%20%60ngModel%60%20attached%0D%0A%20%20%20%20%20%20%20%20if%20%28selectCtrl%20%26%26%20selectCtrl.ngModelCtrl%29%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20%28interpolateFn%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scope.%24watch%28interpolateFn%2C%20function%20interpolateWatchAction%28newVal%2C%20oldVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attr.%24set%28%27value%27%2C%20newVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldVal%20%21%3D%3D%20newVal%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.removeOption%28oldVal%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.addOption%28newVal%2C%20element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20chromeHack%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.addOption%28attr.value%2C%20element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20chromeHack%28element%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20element.on%28%27%24destroy%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.removeOption%28attr.value%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20selectCtrl.ngModelCtrl.%24render%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%5D%3B%0D%0A%0D%0Avar%20styleDirective%20%3D%20valueFn%28%7B%0D%0A%20%20restrict%3A%20%27E%27%2C%0D%0A%20%20terminal%3A%20false%0D%0A%7D%29%3B%0D%0A%0D%0Avar%20requiredDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20require%3A%20%27%3FngModel%27%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20elm%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21ctrl%29%20return%3B%0D%0A%20%20%20%20%20%20attr.required%20%3D%20true%3B%20//%20force%20truthy%20in%20case%20we%20are%20on%20non%20input%20element%0D%0A%0D%0A%20%20%20%20%20%20ctrl.%24validators.required%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%21attr.required%20%7C%7C%20%21ctrl.%24isEmpty%28viewValue%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20attr.%24observe%28%27required%27%2C%20function%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Avar%20patternDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20require%3A%20%27%3FngModel%27%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20elm%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21ctrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20regexp%2C%20patternExp%20%3D%20attr.ngPattern%20%7C%7C%20attr.pattern%3B%0D%0A%20%20%20%20%20%20attr.%24observe%28%27pattern%27%2C%20function%28regex%29%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20%28isString%28regex%29%20%26%26%20regex.length%20%3E%200%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20regex%20%3D%20new%20RegExp%28%27%5E%27%20+%20regex%20+%20%27%24%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20%28regex%20%26%26%20%21regex.test%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20throw%20minErr%28%27ngPattern%27%29%28%27noregexp%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Expected%20%7B0%7D%20to%20be%20a%20RegExp%20but%20was%20%7B1%7D.%20Element%3A%20%7B2%7D%27%2C%20patternExp%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20regex%2C%20startingTag%28elm%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20regexp%20%3D%20regex%20%7C%7C%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20ctrl.%24validators.pattern%20%3D%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20ctrl.%24isEmpty%28value%29%20%7C%7C%20isUndefined%28regexp%29%20%7C%7C%20regexp.test%28value%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Avar%20maxlengthDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20require%3A%20%27%3FngModel%27%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20elm%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21ctrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20maxlength%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20attr.%24observe%28%27maxlength%27%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20intVal%20%3D%20toInt%28value%29%3B%0D%0A%20%20%20%20%20%20%20%20maxlength%20%3D%20isNaN%28intVal%29%20%3F%20-1%20%3A%20intVal%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24validators.maxlength%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%28maxlength%20%3C%200%29%20%7C%7C%20ctrl.%24isEmpty%28viewValue%29%20%7C%7C%20%28viewValue.length%20%3C%3D%20maxlength%29%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0Avar%20minlengthDirective%20%3D%20function%28%29%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20restrict%3A%20%27A%27%2C%0D%0A%20%20%20%20require%3A%20%27%3FngModel%27%2C%0D%0A%20%20%20%20link%3A%20function%28scope%2C%20elm%2C%20attr%2C%20ctrl%29%20%7B%0D%0A%20%20%20%20%20%20if%20%28%21ctrl%29%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20var%20minlength%20%3D%200%3B%0D%0A%20%20%20%20%20%20attr.%24observe%28%27minlength%27%2C%20function%28value%29%20%7B%0D%0A%20%20%20%20%20%20%20%20minlength%20%3D%20toInt%28value%29%20%7C%7C%200%3B%0D%0A%20%20%20%20%20%20%20%20ctrl.%24validate%28%29%3B%0D%0A%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20ctrl.%24validators.minlength%20%3D%20function%28modelValue%2C%20viewValue%29%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20ctrl.%24isEmpty%28viewValue%29%20%7C%7C%20viewValue.length%20%3E%3D%20minlength%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%7D%3B%0D%0A%0D%0A%20%20if%20%28window.angular.bootstrap%29%20%7B%0D%0A%20%20%20%20//AngularJS%20is%20already%20loaded%2C%20so%20we%20can%20return%20here...%0D%0A%20%20%20%20console.log%28%27WARNING%3A%20Tried%20to%20load%20angular%20more%20than%20once.%27%29%3B%0D%0A%20%20%20%20return%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20//try%20to%20bind%20to%20jquery%20now%20so%20that%20one%20can%20write%20jqLite%28document%29.ready%28%29%0D%0A%20%20//but%20we%20will%20rebind%20on%20bootstrap%20again.%0D%0A%20%20bindJQuery%28%29%3B%0D%0A%0D%0A%20%20publishExternalAPI%28angular%29%3B%0D%0A%0D%0A%20%20jqLite%28document%29.ready%28function%28%29%20%7B%0D%0A%20%20%20%20angularInit%28document%2C%20bootstrap%29%3B%0D%0A%20%20%7D%29%3B%0D%0A%0D%0A%7D%29%28window%2C%20document%29%3B%0D%0A%0D%0A%21window.angular.%24%24csp%28%29%20%26%26%20window.angular.element%28document%29.find%28%27head%27%29.prepend%28%27%3Cstyle%20type%3D%22text/css%22%3E@charset%20%22UTF-8%22%3B%5Bng%5C%5C%3Acloak%5D%2C%5Bng-cloak%5D%2C%5Bdata-ng-cloak%5D%2C%5Bx-ng-cloak%5D%2C.ng-cloak%2C.x-ng-cloak%2C.ng-hide%3Anot%28.ng-hide-animate%29%7Bdisplay%3Anone%20%21important%3B%7Dng%5C%5C%3Aform%7Bdisplay%3Ablock%3B%7D.ng-animate-shim%7Bvisibility%3Ahidden%3B%7D.ng-anchor%7Bposition%3Aabsolute%3B%7D%3C/style%3E%27%29%3B%0A/*%0D%0A%20AngularJS%20v1.4.0%0D%0A%20%28c%29%202010-2015%20Google%2C%20Inc.%20http%3A//angularjs.org%0D%0A%20License%3A%20MIT%0D%0A*/%0D%0A%28function%28n%2Ch%2Cp%29%7B%27use%20strict%27%3Bfunction%20E%28a%29%7Bvar%20f%3D%5B%5D%3Br%28f%2Ch.noop%29.chars%28a%29%3Breturn%20f.join%28%22%22%29%7Dfunction%20g%28a%2Cf%29%7Bvar%20d%3D%7B%7D%2Cc%3Da.split%28%22%2C%22%29%2Cb%3Bfor%28b%3D0%3Bb%3Cc.length%3Bb++%29d%5Bf%3Fh.lowercase%28c%5Bb%5D%29%3Ac%5Bb%5D%5D%3D%210%3Breturn%20d%7Dfunction%20F%28a%2Cf%29%7Bfunction%20d%28a%2Cb%2Cd%2Cl%29%7Bb%3Dh.lowercase%28b%29%3Bif%28s%5Bb%5D%29for%28%3Be.last%28%29%26%26t%5Be.last%28%29%5D%3B%29c%28%22%22%2Ce.last%28%29%29%3Bu%5Bb%5D%26%26e.last%28%29%3D%3Db%26%26c%28%22%22%2Cb%29%3B%28l%3Dv%5Bb%5D%7C%7C%21%21l%29%7C%7Ce.push%28b%29%3Bvar%20m%3D%7B%7D%3Bd.replace%28G%2Cfunction%28b%2Ca%2Cf%2Cc%2Cd%29%7Bm%5Ba%5D%3Dq%28f%7C%7Cc%7C%7Cd%7C%7C%22%22%29%7D%29%3Bf.start%26%26f.start%28b%2Cm%2Cl%29%7Dfunction%20c%28b%2Ca%29%7Bvar%20c%3D0%2Cd%3Bif%28a%3Dh.lowercase%28a%29%29for%28c%3De.length-%0D%0A1%3B0%3C%3Dc%26%26e%5Bc%5D%21%3Da%3Bc--%29%3Bif%280%3C%3Dc%29%7Bfor%28d%3De.length-1%3Bd%3E%3Dc%3Bd--%29f.end%26%26f.end%28e%5Bd%5D%29%3Be.length%3Dc%7D%7D%22string%22%21%3D%3Dtypeof%20a%26%26%28a%3Dnull%3D%3D%3Da%7C%7C%22undefined%22%3D%3D%3Dtypeof%20a%3F%22%22%3A%22%22+a%29%3Bvar%20b%2Ck%2Ce%3D%5B%5D%2Cm%3Da%2Cl%3Bfor%28e.last%3Dfunction%28%29%7Breturn%20e%5Be.length-1%5D%7D%3Ba%3B%29%7Bl%3D%22%22%3Bk%3D%210%3Bif%28e.last%28%29%26%26w%5Be.last%28%29%5D%29a%3Da.replace%28new%20RegExp%28%22%28%5B%5C%5CW%5C%5Cw%5D*%29%3C%5C%5Cs*%5C%5C/%5C%5Cs*%22+e.last%28%29+%22%5B%5E%3E%5D*%3E%22%2C%22i%22%29%2Cfunction%28a%2Cb%29%7Bb%3Db.replace%28H%2C%22%241%22%29.replace%28I%2C%22%241%22%29%3Bf.chars%26%26f.chars%28q%28b%29%29%3Breturn%22%22%7D%29%2Cc%28%22%22%2Ce.last%28%29%29%3Belse%7Bif%280%3D%3D%3Da.indexOf%28%22%5Cx3c%21--%22%29%29b%3Da.indexOf%28%22--%22%2C4%29%2C0%3C%3Db%26%26a.lastIndexOf%28%22--%5Cx3e%22%2C%0D%0Ab%29%3D%3D%3Db%26%26%28f.comment%26%26f.comment%28a.substring%284%2Cb%29%29%2Ca%3Da.substring%28b+3%29%2Ck%3D%211%29%3Belse%20if%28x.test%28a%29%29%7Bif%28b%3Da.match%28x%29%29a%3Da.replace%28b%5B0%5D%2C%22%22%29%2Ck%3D%211%7Delse%20if%28J.test%28a%29%29%7Bif%28b%3Da.match%28y%29%29a%3Da.substring%28b%5B0%5D.length%29%2Cb%5B0%5D.replace%28y%2Cc%29%2Ck%3D%211%7Delse%20K.test%28a%29%26%26%28%28b%3Da.match%28z%29%29%3F%28b%5B4%5D%26%26%28a%3Da.substring%28b%5B0%5D.length%29%2Cb%5B0%5D.replace%28z%2Cd%29%29%2Ck%3D%211%29%3A%28l+%3D%22%3C%22%2Ca%3Da.substring%281%29%29%29%3Bk%26%26%28b%3Da.indexOf%28%22%3C%22%29%2Cl+%3D0%3Eb%3Fa%3Aa.substring%280%2Cb%29%2Ca%3D0%3Eb%3F%22%22%3Aa.substring%28b%29%2Cf.chars%26%26f.chars%28q%28l%29%29%29%7Dif%28a%3D%3Dm%29throw%20L%28%22badparse%22%2Ca%29%3Bm%3Da%7Dc%28%29%7Dfunction%20q%28a%29%7Bif%28%21a%29return%22%22%3BA.innerHTML%3D%0D%0Aa.replace%28/%3C/g%2C%22%26lt%3B%22%29%3Breturn%20A.textContent%7Dfunction%20B%28a%29%7Breturn%20a.replace%28/%26/g%2C%22%26amp%3B%22%29.replace%28M%2Cfunction%28a%29%7Bvar%20d%3Da.charCodeAt%280%29%3Ba%3Da.charCodeAt%281%29%3Breturn%22%26%23%22+%281024*%28d-55296%29+%28a-56320%29+65536%29+%22%3B%22%7D%29.replace%28N%2Cfunction%28a%29%7Breturn%22%26%23%22+a.charCodeAt%280%29+%22%3B%22%7D%29.replace%28/%3C/g%2C%22%26lt%3B%22%29.replace%28/%3E/g%2C%22%26gt%3B%22%29%7Dfunction%20r%28a%2Cf%29%7Bvar%20d%3D%211%2Cc%3Dh.bind%28a%2Ca.push%29%3Breturn%7Bstart%3Afunction%28a%2Ck%2Ce%29%7Ba%3Dh.lowercase%28a%29%3B%21d%26%26w%5Ba%5D%26%26%28d%3Da%29%3Bd%7C%7C%210%21%3D%3DC%5Ba%5D%7C%7C%28c%28%22%3C%22%29%2Cc%28a%29%2Ch.forEach%28k%2Cfunction%28d%2Ce%29%7Bvar%20k%3Dh.lowercase%28e%29%2Cg%3D%22img%22%3D%3D%3Da%26%26%22src%22%3D%3D%3Dk%7C%7C%0D%0A%22background%22%3D%3D%3Dk%3B%210%21%3D%3DO%5Bk%5D%7C%7C%210%3D%3D%3DD%5Bk%5D%26%26%21f%28d%2Cg%29%7C%7C%28c%28%22%20%22%29%2Cc%28e%29%2Cc%28%27%3D%22%27%29%2Cc%28B%28d%29%29%2Cc%28%27%22%27%29%29%7D%29%2Cc%28e%3F%22/%3E%22%3A%22%3E%22%29%29%7D%2Cend%3Afunction%28a%29%7Ba%3Dh.lowercase%28a%29%3Bd%7C%7C%210%21%3D%3DC%5Ba%5D%7C%7C%28c%28%22%3C/%22%29%2Cc%28a%29%2Cc%28%22%3E%22%29%29%3Ba%3D%3Dd%26%26%28d%3D%211%29%7D%2Cchars%3Afunction%28a%29%7Bd%7C%7Cc%28B%28a%29%29%7D%7D%7Dvar%20L%3Dh.%24%24minErr%28%22%24sanitize%22%29%2Cz%3D/%5E%3C%28%28%3F%3A%5Ba-zA-Z%5D%29%5B%5Cw%3A-%5D*%29%28%28%3F%3A%5Cs+%5B%5Cw%3A-%5D+%28%3F%3A%5Cs*%3D%5Cs*%28%3F%3A%28%3F%3A%22%5B%5E%22%5D*%22%29%7C%28%3F%3A%27%5B%5E%27%5D*%27%29%7C%5B%5E%3E%5Cs%5D+%29%29%3F%29*%29%5Cs*%28%5C/%3F%29%5Cs*%28%3E%3F%29/%2Cy%3D/%5E%3C%5C/%5Cs*%28%5B%5Cw%3A-%5D+%29%5B%5E%3E%5D*%3E/%2CG%3D/%28%5B%5Cw%3A-%5D+%29%28%3F%3A%5Cs*%3D%5Cs*%28%3F%3A%28%3F%3A%22%28%28%3F%3A%5B%5E%22%5D%29*%29%22%29%7C%28%3F%3A%27%28%28%3F%3A%5B%5E%27%5D%29*%29%27%29%7C%28%5B%5E%3E%5Cs%5D+%29%29%29%3F/g%2CK%3D/%5E%3C/%2CJ%3D/%5E%3C%5C//%2CH%3D/%5Cx3c%21--%28.*%3F%29--%5Cx3e/g%2Cx%3D/%3C%21DOCTYPE%28%5B%5E%3E%5D*%3F%29%3E/i%2C%0D%0AI%3D/%3C%21%5C%5BCDATA%5C%5B%28.*%3F%29%5D%5D%5Cx3e/g%2CM%3D/%5B%5CuD800-%5CuDBFF%5D%5B%5CuDC00-%5CuDFFF%5D/g%2CN%3D/%28%5B%5E%5C%23-%7E%7C%20%7C%21%5D%29/g%2Cv%3Dg%28%22area%2Cbr%2Ccol%2Chr%2Cimg%2Cwbr%22%29%3Bn%3Dg%28%22colgroup%2Cdd%2Cdt%2Cli%2Cp%2Ctbody%2Ctd%2Ctfoot%2Cth%2Cthead%2Ctr%22%29%3Bp%3Dg%28%22rp%2Crt%22%29%3Bvar%20u%3Dh.extend%28%7B%7D%2Cp%2Cn%29%2Cs%3Dh.extend%28%7B%7D%2Cn%2Cg%28%22address%2Carticle%2Caside%2Cblockquote%2Ccaption%2Ccenter%2Cdel%2Cdir%2Cdiv%2Cdl%2Cfigure%2Cfigcaption%2Cfooter%2Ch1%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cheader%2Chgroup%2Chr%2Cins%2Cmap%2Cmenu%2Cnav%2Col%2Cpre%2Cscript%2Csection%2Ctable%2Cul%22%29%29%2Ct%3Dh.extend%28%7B%7D%2Cp%2Cg%28%22a%2Cabbr%2Cacronym%2Cb%2Cbdi%2Cbdo%2Cbig%2Cbr%2Ccite%2Ccode%2Cdel%2Cdfn%2Cem%2Cfont%2Ci%2Cimg%2Cins%2Ckbd%2Clabel%2Cmap%2Cmark%2Cq%2Cruby%2Crp%2Crt%2Cs%2Csamp%2Csmall%2Cspan%2Cstrike%2Cstrong%2Csub%2Csup%2Ctime%2Ctt%2Cu%2Cvar%22%29%29%3B%0D%0An%3Dg%28%22circle%2Cdefs%2Cdesc%2Cellipse%2Cfont-face%2Cfont-face-name%2Cfont-face-src%2Cg%2Cglyph%2Chkern%2Cimage%2ClinearGradient%2Cline%2Cmarker%2Cmetadata%2Cmissing-glyph%2Cmpath%2Cpath%2Cpolygon%2Cpolyline%2CradialGradient%2Crect%2Cstop%2Csvg%2Cswitch%2Ctext%2Ctitle%2Ctspan%2Cuse%22%29%3Bvar%20w%3Dg%28%22script%2Cstyle%22%29%2CC%3Dh.extend%28%7B%7D%2Cv%2Cs%2Ct%2Cu%2Cn%29%2CD%3Dg%28%22background%2Ccite%2Chref%2Clongdesc%2Csrc%2Cusemap%2Cxlink%3Ahref%22%29%3Bn%3Dg%28%22abbr%2Calign%2Calt%2Caxis%2Cbgcolor%2Cborder%2Ccellpadding%2Ccellspacing%2Cclass%2Cclear%2Ccolor%2Ccols%2Ccolspan%2Ccompact%2Ccoords%2Cdir%2Cface%2Cheaders%2Cheight%2Chreflang%2Chspace%2Cismap%2Clang%2Clanguage%2Cnohref%2Cnowrap%2Crel%2Crev%2Crows%2Crowspan%2Crules%2Cscope%2Cscrolling%2Cshape%2Csize%2Cspan%2Cstart%2Csummary%2Ctarget%2Ctitle%2Ctype%2Cvalign%2Cvalue%2Cvspace%2Cwidth%22%29%3B%0D%0Ap%3Dg%28%22accent-height%2Caccumulate%2Cadditive%2Calphabetic%2Carabic-form%2Cascent%2CbaseProfile%2Cbbox%2Cbegin%2Cby%2CcalcMode%2Ccap-height%2Cclass%2Ccolor%2Ccolor-rendering%2Ccontent%2Ccx%2Ccy%2Cd%2Cdx%2Cdy%2Cdescent%2Cdisplay%2Cdur%2Cend%2Cfill%2Cfill-rule%2Cfont-family%2Cfont-size%2Cfont-stretch%2Cfont-style%2Cfont-variant%2Cfont-weight%2Cfrom%2Cfx%2Cfy%2Cg1%2Cg2%2Cglyph-name%2CgradientUnits%2Changing%2Cheight%2Choriz-adv-x%2Choriz-origin-x%2Cideographic%2Ck%2CkeyPoints%2CkeySplines%2CkeyTimes%2Clang%2Cmarker-end%2Cmarker-mid%2Cmarker-start%2CmarkerHeight%2CmarkerUnits%2CmarkerWidth%2Cmathematical%2Cmax%2Cmin%2Coffset%2Copacity%2Corient%2Corigin%2Coverline-position%2Coverline-thickness%2Cpanose-1%2Cpath%2CpathLength%2Cpoints%2CpreserveAspectRatio%2Cr%2CrefX%2CrefY%2CrepeatCount%2CrepeatDur%2CrequiredExtensions%2CrequiredFeatures%2Crestart%2Crotate%2Crx%2Cry%2Cslope%2Cstemh%2Cstemv%2Cstop-color%2Cstop-opacity%2Cstrikethrough-position%2Cstrikethrough-thickness%2Cstroke%2Cstroke-dasharray%2Cstroke-dashoffset%2Cstroke-linecap%2Cstroke-linejoin%2Cstroke-miterlimit%2Cstroke-opacity%2Cstroke-width%2CsystemLanguage%2Ctarget%2Ctext-anchor%2Cto%2Ctransform%2Ctype%2Cu1%2Cu2%2Cunderline-position%2Cunderline-thickness%2Cunicode%2Cunicode-range%2Cunits-per-em%2Cvalues%2Cversion%2CviewBox%2Cvisibility%2Cwidth%2Cwidths%2Cx%2Cx-height%2Cx1%2Cx2%2Cxlink%3Aactuate%2Cxlink%3Aarcrole%2Cxlink%3Arole%2Cxlink%3Ashow%2Cxlink%3Atitle%2Cxlink%3Atype%2Cxml%3Abase%2Cxml%3Alang%2Cxml%3Aspace%2Cxmlns%2Cxmlns%3Axlink%2Cy%2Cy1%2Cy2%2CzoomAndPan%22%2C%0D%0A%210%29%3Bvar%20O%3Dh.extend%28%7B%7D%2CD%2Cp%2Cn%29%2CA%3Ddocument.createElement%28%22pre%22%29%3Bh.module%28%22ngSanitize%22%2C%5B%5D%29.provider%28%22%24sanitize%22%2Cfunction%28%29%7Bthis.%24get%3D%5B%22%24%24sanitizeUri%22%2Cfunction%28a%29%7Breturn%20function%28f%29%7Bvar%20d%3D%5B%5D%3BF%28f%2Cr%28d%2Cfunction%28c%2Cb%29%7Breturn%21/%5Eunsafe/.test%28a%28c%2Cb%29%29%7D%29%29%3Breturn%20d.join%28%22%22%29%7D%7D%5D%7D%29%3Bh.module%28%22ngSanitize%22%29.filter%28%22linky%22%2C%5B%22%24sanitize%22%2Cfunction%28a%29%7Bvar%20f%3D/%28%28ftp%7Chttps%3F%29%3A%5C/%5C/%7C%28www%5C.%29%7C%28mailto%3A%29%3F%5BA-Za-z0-9._%25+-%5D+@%29%5CS*%5B%5E%5Cs.%3B%2C%28%29%7B%7D%3C%3E%22%5Cu201d%5Cu2019%5D/%2Cd%3D/%5Emailto%3A/%3Breturn%20function%28c%2Cb%29%7Bfunction%20k%28a%29%7Ba%26%26g.push%28E%28a%29%29%7Dfunction%20e%28a%2Cc%29%7Bg.push%28%22%3Ca%20%22%29%3B%0D%0Ah.isDefined%28b%29%26%26g.push%28%27target%3D%22%27%2Cb%2C%27%22%20%27%29%3Bg.push%28%27href%3D%22%27%2Ca.replace%28/%22/g%2C%22%26quot%3B%22%29%2C%27%22%3E%27%29%3Bk%28c%29%3Bg.push%28%22%3C/a%3E%22%29%7Dif%28%21c%29return%20c%3Bfor%28var%20m%2Cl%3Dc%2Cg%3D%5B%5D%2Cn%2Cp%3Bm%3Dl.match%28f%29%3B%29n%3Dm%5B0%5D%2Cm%5B2%5D%7C%7Cm%5B4%5D%7C%7C%28n%3D%28m%5B3%5D%3F%22http%3A//%22%3A%22mailto%3A%22%29+n%29%2Cp%3Dm.index%2Ck%28l.substr%280%2Cp%29%29%2Ce%28n%2Cm%5B0%5D.replace%28d%2C%22%22%29%29%2Cl%3Dl.substring%28p+m%5B0%5D.length%29%3Bk%28l%29%3Breturn%20a%28g.join%28%22%22%29%29%7D%7D%5D%29%7D%29%28window%2Cwindow.angular%29%3B%0D%0A//%23%20sourceMappingURL%3Dangular-sanitize.min.js.map%0D%0A%0A/*%0D%0A%20AngularJS%20v1.4.0%0D%0A%20%28c%29%202010-2015%20Google%2C%20Inc.%20http%3A//angularjs.org%0D%0A%20License%3A%20MIT%0D%0A*/%0D%0A%28function%28I%2Cd%2CB%29%7B%27use%20strict%27%3Bfunction%20D%28f%2Cq%29%7Bq%3Dq%7C%7C%7B%7D%3Bd.forEach%28q%2Cfunction%28d%2Ch%29%7Bdelete%20q%5Bh%5D%7D%29%3Bfor%28var%20h%20in%20f%29%21f.hasOwnProperty%28h%29%7C%7C%22%24%22%3D%3D%3Dh.charAt%280%29%26%26%22%24%22%3D%3D%3Dh.charAt%281%29%7C%7C%28q%5Bh%5D%3Df%5Bh%5D%29%3Breturn%20q%7Dvar%20x%3Dd.%24%24minErr%28%22%24resource%22%29%2CC%3D/%5E%28%5C.%5Ba-zA-Z_%24@%5D%5B0-9a-zA-Z_%24@%5D*%29+%24/%3Bd.module%28%22ngResource%22%2C%5B%22ng%22%5D%29.provider%28%22%24resource%22%2Cfunction%28%29%7Bvar%20f%3Dthis%3Bthis.defaults%3D%7BstripTrailingSlashes%3A%210%2Cactions%3A%7Bget%3A%7Bmethod%3A%22GET%22%7D%2Csave%3A%7Bmethod%3A%22POST%22%7D%2Cquery%3A%7Bmethod%3A%22GET%22%2CisArray%3A%210%7D%2Cremove%3A%7Bmethod%3A%22DELETE%22%7D%2C%22delete%22%3A%7Bmethod%3A%22DELETE%22%7D%7D%7D%3B%0D%0Athis.%24get%3D%5B%22%24http%22%2C%22%24q%22%2Cfunction%28q%2Ch%29%7Bfunction%20u%28d%2Cg%29%7Bthis.template%3Dd%3Bthis.defaults%3Ds%28%7B%7D%2Cf.defaults%2Cg%29%3Bthis.urlParams%3D%7B%7D%7Dfunction%20w%28y%2Cg%2Cl%2Cm%29%7Bfunction%20c%28b%2Ck%29%7Bvar%20c%3D%7B%7D%3Bk%3Ds%28%7B%7D%2Cg%2Ck%29%3Br%28k%2Cfunction%28a%2Ck%29%7Bv%28a%29%26%26%28a%3Da%28%29%29%3Bvar%20d%3Bif%28a%26%26a.charAt%26%26%22@%22%3D%3Da.charAt%280%29%29%7Bd%3Db%3Bvar%20e%3Da.substr%281%29%3Bif%28null%3D%3De%7C%7C%22%22%3D%3D%3De%7C%7C%22hasOwnProperty%22%3D%3D%3De%7C%7C%21C.test%28%22.%22+e%29%29throw%20x%28%22badmember%22%2Ce%29%3Bfor%28var%20e%3De.split%28%22.%22%29%2Cn%3D0%2Cg%3De.length%3Bn%3Cg%26%26d%21%3D%3DB%3Bn++%29%7Bvar%20h%3De%5Bn%5D%3Bd%3Dnull%21%3D%3Dd%3Fd%5Bh%5D%3AB%7D%7Delse%20d%3Da%3Bc%5Bk%5D%3Dd%7D%29%3Breturn%20c%7Dfunction%20F%28b%29%7Breturn%20b.resource%7Dfunction%20e%28b%29%7BD%28b%7C%7C%0D%0A%7B%7D%2Cthis%29%7Dvar%20G%3Dnew%20u%28y%2Cm%29%3Bl%3Ds%28%7B%7D%2Cf.defaults.actions%2Cl%29%3Be.prototype.toJSON%3Dfunction%28%29%7Bvar%20b%3Ds%28%7B%7D%2Cthis%29%3Bdelete%20b.%24promise%3Bdelete%20b.%24resolved%3Breturn%20b%7D%3Br%28l%2Cfunction%28b%2Ck%29%7Bvar%20g%3D/%5E%28POST%7CPUT%7CPATCH%29%24/i.test%28b.method%29%3Be%5Bk%5D%3Dfunction%28a%2Cz%2Cm%2Cy%29%7Bvar%20n%3D%7B%7D%2Cf%2Cl%2CA%3Bswitch%28arguments.length%29%7Bcase%204%3AA%3Dy%2Cl%3Dm%3Bcase%203%3Acase%202%3Aif%28v%28z%29%29%7Bif%28v%28a%29%29%7Bl%3Da%3BA%3Dz%3Bbreak%7Dl%3Dz%3BA%3Dm%7Delse%7Bn%3Da%3Bf%3Dz%3Bl%3Dm%3Bbreak%7Dcase%201%3Av%28a%29%3Fl%3Da%3Ag%3Ff%3Da%3An%3Da%3Bbreak%3Bcase%200%3Abreak%3Bdefault%3Athrow%20x%28%22badargs%22%2Carguments.length%29%3B%7Dvar%20u%3Dthis%20instanceof%20e%2Cp%3Du%3Ff%3Ab.isArray%3F%5B%5D%3Anew%20e%28f%29%2C%0D%0At%3D%7B%7D%2Cw%3Db.interceptor%26%26b.interceptor.response%7C%7CF%2CC%3Db.interceptor%26%26b.interceptor.responseError%7C%7CB%3Br%28b%2Cfunction%28b%2Ca%29%7B%22params%22%21%3Da%26%26%22isArray%22%21%3Da%26%26%22interceptor%22%21%3Da%26%26%28t%5Ba%5D%3DH%28b%29%29%7D%29%3Bg%26%26%28t.data%3Df%29%3BG.setUrlParams%28t%2Cs%28%7B%7D%2Cc%28f%2Cb.params%7C%7C%7B%7D%29%2Cn%29%2Cb.url%29%3Bn%3Dq%28t%29.then%28function%28a%29%7Bvar%20c%3Da.data%2Cg%3Dp.%24promise%3Bif%28c%29%7Bif%28d.isArray%28c%29%21%3D%3D%21%21b.isArray%29throw%20x%28%22badcfg%22%2Ck%2Cb.isArray%3F%22array%22%3A%22object%22%2Cd.isArray%28c%29%3F%22array%22%3A%22object%22%2Ct.method%2Ct.url%29%3Bb.isArray%3F%28p.length%3D0%2Cr%28c%2Cfunction%28a%29%7B%22object%22%3D%3D%3Dtypeof%20a%3Fp.push%28new%20e%28a%29%29%3Ap.push%28a%29%7D%29%29%3A%0D%0A%28D%28c%2Cp%29%2Cp.%24promise%3Dg%29%7Dp.%24resolved%3D%210%3Ba.resource%3Dp%3Breturn%20a%7D%2Cfunction%28a%29%7Bp.%24resolved%3D%210%3B%28A%7C%7CE%29%28a%29%3Breturn%20h.reject%28a%29%7D%29%3Bn%3Dn.then%28function%28a%29%7Bvar%20b%3Dw%28a%29%3B%28l%7C%7CE%29%28b%2Ca.headers%29%3Breturn%20b%7D%2CC%29%3Breturn%20u%3Fn%3A%28p.%24promise%3Dn%2Cp.%24resolved%3D%211%2Cp%29%7D%3Be.prototype%5B%22%24%22+k%5D%3Dfunction%28a%2Cb%2Cc%29%7Bv%28a%29%26%26%28c%3Db%2Cb%3Da%2Ca%3D%7B%7D%29%3Ba%3De%5Bk%5D.call%28this%2Ca%2Cthis%2Cb%2Cc%29%3Breturn%20a.%24promise%7C%7Ca%7D%7D%29%3Be.bind%3Dfunction%28b%29%7Breturn%20w%28y%2Cs%28%7B%7D%2Cg%2Cb%29%2Cl%29%7D%3Breturn%20e%7Dvar%20E%3Dd.noop%2Cr%3Dd.forEach%2Cs%3Dd.extend%2CH%3Dd.copy%2Cv%3Dd.isFunction%3Bu.prototype%3D%7BsetUrlParams%3Afunction%28f%2Cg%2Cl%29%7Bvar%20m%3Dthis%2C%0D%0Ac%3Dl%7C%7Cm.template%2Ch%2Ce%2Cq%3Dm.urlParams%3D%7B%7D%3Br%28c.split%28/%5CW/%29%2Cfunction%28b%29%7Bif%28%22hasOwnProperty%22%3D%3D%3Db%29throw%20x%28%22badname%22%29%3B%21/%5E%5Cd+%24/.test%28b%29%26%26b%26%26%28new%20RegExp%28%22%28%5E%7C%5B%5E%5C%5C%5C%5C%5D%29%3A%22+b+%22%28%5C%5CW%7C%24%29%22%29%29.test%28c%29%26%26%28q%5Bb%5D%3D%210%29%7D%29%3Bc%3Dc.replace%28/%5C%5C%3A/g%2C%22%3A%22%29%3Bg%3Dg%7C%7C%7B%7D%3Br%28m.urlParams%2Cfunction%28b%2Ck%29%7Bh%3Dg.hasOwnProperty%28k%29%3Fg%5Bk%5D%3Am.defaults%5Bk%5D%3Bd.isDefined%28h%29%26%26null%21%3D%3Dh%3F%28e%3DencodeURIComponent%28h%29.replace%28/%2540/gi%2C%22@%22%29.replace%28/%253A/gi%2C%22%3A%22%29.replace%28/%2524/g%2C%22%24%22%29.replace%28/%252C/gi%2C%22%2C%22%29.replace%28/%2520/g%2C%22%2520%22%29.replace%28/%2526/gi%2C%22%26%22%29.replace%28/%253D/gi%2C%22%3D%22%29.replace%28/%252B/gi%2C%0D%0A%22+%22%29%2Cc%3Dc.replace%28new%20RegExp%28%22%3A%22+k+%22%28%5C%5CW%7C%24%29%22%2C%22g%22%29%2Cfunction%28b%2Ca%29%7Breturn%20e+a%7D%29%29%3Ac%3Dc.replace%28new%20RegExp%28%22%28/%3F%29%3A%22+k+%22%28%5C%5CW%7C%24%29%22%2C%22g%22%29%2Cfunction%28b%2Ca%2Cc%29%7Breturn%22/%22%3D%3Dc.charAt%280%29%3Fc%3Aa+c%7D%29%7D%29%3Bm.defaults.stripTrailingSlashes%26%26%28c%3Dc.replace%28/%5C/+%24/%2C%22%22%29%7C%7C%22/%22%29%3Bc%3Dc.replace%28/%5C/%5C.%28%3F%3D%5Cw+%28%24%7C%5C%3F%29%29/%2C%22.%22%29%3Bf.url%3Dc.replace%28/%5C/%5C%5C%5C./%2C%22/.%22%29%3Br%28g%2Cfunction%28b%2Cc%29%7Bm.urlParams%5Bc%5D%7C%7C%28f.params%3Df.params%7C%7C%7B%7D%2Cf.params%5Bc%5D%3Db%29%7D%29%7D%7D%3Breturn%20w%7D%5D%7D%29%7D%29%28window%2Cwindow.angular%29%3B%0D%0A//%23%20sourceMappingURL%3Dangular-resource.min.js.map%0D%0A%0A/*%0D%0A%20AngularJS%20v1.4.0%0D%0A%20%28c%29%202010-2015%20Google%2C%20Inc.%20http%3A//angularjs.org%0D%0A%20License%3A%20MIT%0D%0A*/%0D%0A%28function%28q%2Cd%2CC%29%7B%27use%20strict%27%3Bfunction%20v%28r%2Ck%2Ch%29%7Breturn%7Brestrict%3A%22ECA%22%2Cterminal%3A%210%2Cpriority%3A400%2Ctransclude%3A%22element%22%2Clink%3Afunction%28a%2Cf%2Cb%2Cc%2Cy%29%7Bfunction%20z%28%29%7Bl%26%26%28h.cancel%28l%29%2Cl%3Dnull%29%3Bm%26%26%28m.%24destroy%28%29%2Cm%3Dnull%29%3Bn%26%26%28l%3Dh.leave%28n%29%2Cl.then%28function%28%29%7Bl%3Dnull%7D%29%2Cn%3Dnull%29%7Dfunction%20x%28%29%7Bvar%20b%3Dr.current%26%26r.current.locals%3Bif%28d.isDefined%28b%26%26b.%24template%29%29%7Bvar%20b%3Da.%24new%28%29%2Cc%3Dr.current%3Bn%3Dy%28b%2Cfunction%28b%29%7Bh.enter%28b%2Cnull%2Cn%7C%7Cf%29.then%28function%28%29%7B%21d.isDefined%28t%29%7C%7Ct%26%26%21a.%24eval%28t%29%7C%7Ck%28%29%7D%29%3Bz%28%29%7D%29%3Bm%3Dc.scope%3Db%3Bm.%24emit%28%22%24viewContentLoaded%22%29%3B%0D%0Am.%24eval%28w%29%7Delse%20z%28%29%7Dvar%20m%2Cn%2Cl%2Ct%3Db.autoscroll%2Cw%3Db.onload%7C%7C%22%22%3Ba.%24on%28%22%24routeChangeSuccess%22%2Cx%29%3Bx%28%29%7D%7D%7Dfunction%20A%28d%2Ck%2Ch%29%7Breturn%7Brestrict%3A%22ECA%22%2Cpriority%3A-400%2Clink%3Afunction%28a%2Cf%29%7Bvar%20b%3Dh.current%2Cc%3Db.locals%3Bf.html%28c.%24template%29%3Bvar%20y%3Dd%28f.contents%28%29%29%3Bb.controller%26%26%28c.%24scope%3Da%2Cc%3Dk%28b.controller%2Cc%29%2Cb.controllerAs%26%26%28a%5Bb.controllerAs%5D%3Dc%29%2Cf.data%28%22%24ngControllerController%22%2Cc%29%2Cf.children%28%29.data%28%22%24ngControllerController%22%2Cc%29%29%3By%28a%29%7D%7D%7Dq%3Dd.module%28%22ngRoute%22%2C%5B%22ng%22%5D%29.provider%28%22%24route%22%2Cfunction%28%29%7Bfunction%20r%28a%2Cf%29%7Breturn%20d.extend%28Object.create%28a%29%2C%0D%0Af%29%7Dfunction%20k%28a%2Cd%29%7Bvar%20b%3Dd.caseInsensitiveMatch%2Cc%3D%7BoriginalPath%3Aa%2Cregexp%3Aa%7D%2Ch%3Dc.keys%3D%5B%5D%3Ba%3Da.replace%28/%28%5B%28%29.%5D%29/g%2C%22%5C%5C%241%22%29.replace%28/%28%5C/%29%3F%3A%28%5Cw+%29%28%5B%5C%3F%5C*%5D%29%3F/g%2Cfunction%28a%2Cd%2Cb%2Cc%29%7Ba%3D%22%3F%22%3D%3D%3Dc%3Fc%3Anull%3Bc%3D%22*%22%3D%3D%3Dc%3Fc%3Anull%3Bh.push%28%7Bname%3Ab%2Coptional%3A%21%21a%7D%29%3Bd%3Dd%7C%7C%22%22%3Breturn%22%22+%28a%3F%22%22%3Ad%29+%22%28%3F%3A%22+%28a%3Fd%3A%22%22%29+%28c%26%26%22%28.+%3F%29%22%7C%7C%22%28%5B%5E/%5D+%29%22%29+%28a%7C%7C%22%22%29+%22%29%22+%28a%7C%7C%22%22%29%7D%29.replace%28/%28%5B%5C/%24%5C*%5D%29/g%2C%22%5C%5C%241%22%29%3Bc.regexp%3Dnew%20RegExp%28%22%5E%22+a+%22%24%22%2Cb%3F%22i%22%3A%22%22%29%3Breturn%20c%7Dvar%20h%3D%7B%7D%3Bthis.when%3Dfunction%28a%2Cf%29%7Bvar%20b%3Dd.copy%28f%29%3Bd.isUndefined%28b.reloadOnSearch%29%26%26%28b.reloadOnSearch%3D%210%29%3B%0D%0Ad.isUndefined%28b.caseInsensitiveMatch%29%26%26%28b.caseInsensitiveMatch%3Dthis.caseInsensitiveMatch%29%3Bh%5Ba%5D%3Dd.extend%28b%2Ca%26%26k%28a%2Cb%29%29%3Bif%28a%29%7Bvar%20c%3D%22/%22%3D%3Da%5Ba.length-1%5D%3Fa.substr%280%2Ca.length-1%29%3Aa+%22/%22%3Bh%5Bc%5D%3Dd.extend%28%7BredirectTo%3Aa%7D%2Ck%28c%2Cb%29%29%7Dreturn%20this%7D%3Bthis.caseInsensitiveMatch%3D%211%3Bthis.otherwise%3Dfunction%28a%29%7B%22string%22%3D%3D%3Dtypeof%20a%26%26%28a%3D%7BredirectTo%3Aa%7D%29%3Bthis.when%28null%2Ca%29%3Breturn%20this%7D%3Bthis.%24get%3D%5B%22%24rootScope%22%2C%22%24location%22%2C%22%24routeParams%22%2C%22%24q%22%2C%22%24injector%22%2C%22%24templateRequest%22%2C%22%24sce%22%2Cfunction%28a%2Cf%2Cb%2Cc%2Ck%2Cq%2Cx%29%7Bfunction%20m%28b%29%7Bvar%20e%3Ds.current%3B%0D%0A%28v%3D%28p%3Dl%28%29%29%26%26e%26%26p.%24%24route%3D%3D%3De.%24%24route%26%26d.equals%28p.pathParams%2Ce.pathParams%29%26%26%21p.reloadOnSearch%26%26%21w%29%7C%7C%21e%26%26%21p%7C%7Ca.%24broadcast%28%22%24routeChangeStart%22%2Cp%2Ce%29.defaultPrevented%26%26b%26%26b.preventDefault%28%29%7Dfunction%20n%28%29%7Bvar%20u%3Ds.current%2Ce%3Dp%3Bif%28v%29u.params%3De.params%2Cd.copy%28u.params%2Cb%29%2Ca.%24broadcast%28%22%24routeUpdate%22%2Cu%29%3Belse%20if%28e%7C%7Cu%29w%3D%211%2C%28s.current%3De%29%26%26e.redirectTo%26%26%28d.isString%28e.redirectTo%29%3Ff.path%28t%28e.redirectTo%2Ce.params%29%29.search%28e.params%29.replace%28%29%3Af.url%28e.redirectTo%28e.pathParams%2Cf.path%28%29%2Cf.search%28%29%29%29.replace%28%29%29%2Cc.when%28e%29.then%28function%28%29%7Bif%28e%29%7Bvar%20a%3D%0D%0Ad.extend%28%7B%7D%2Ce.resolve%29%2Cb%2Cg%3Bd.forEach%28a%2Cfunction%28b%2Ce%29%7Ba%5Be%5D%3Dd.isString%28b%29%3Fk.get%28b%29%3Ak.invoke%28b%2Cnull%2Cnull%2Ce%29%7D%29%3Bd.isDefined%28b%3De.template%29%3Fd.isFunction%28b%29%26%26%28b%3Db%28e.params%29%29%3Ad.isDefined%28g%3De.templateUrl%29%26%26%28d.isFunction%28g%29%26%26%28g%3Dg%28e.params%29%29%2Cg%3Dx.getTrustedResourceUrl%28g%29%2Cd.isDefined%28g%29%26%26%28e.loadedTemplateUrl%3Dg%2Cb%3Dq%28g%29%29%29%3Bd.isDefined%28b%29%26%26%28a.%24template%3Db%29%3Breturn%20c.all%28a%29%7D%7D%29.then%28function%28c%29%7Be%3D%3Ds.current%26%26%28e%26%26%28e.locals%3Dc%2Cd.copy%28e.params%2Cb%29%29%2Ca.%24broadcast%28%22%24routeChangeSuccess%22%2Ce%2Cu%29%29%7D%2Cfunction%28b%29%7Be%3D%3Ds.current%26%26a.%24broadcast%28%22%24routeChangeError%22%2C%0D%0Ae%2Cu%2Cb%29%7D%29%7Dfunction%20l%28%29%7Bvar%20a%2Cb%3Bd.forEach%28h%2Cfunction%28c%2Ch%29%7Bvar%20g%3Bif%28g%3D%21b%29%7Bvar%20k%3Df.path%28%29%3Bg%3Dc.keys%3Bvar%20m%3D%7B%7D%3Bif%28c.regexp%29if%28k%3Dc.regexp.exec%28k%29%29%7Bfor%28var%20l%3D1%2Cn%3Dk.length%3Bl%3Cn%3B++l%29%7Bvar%20p%3Dg%5Bl-1%5D%2Cq%3Dk%5Bl%5D%3Bp%26%26q%26%26%28m%5Bp.name%5D%3Dq%29%7Dg%3Dm%7Delse%20g%3Dnull%3Belse%20g%3Dnull%3Bg%3Da%3Dg%7Dg%26%26%28b%3Dr%28c%2C%7Bparams%3Ad.extend%28%7B%7D%2Cf.search%28%29%2Ca%29%2CpathParams%3Aa%7D%29%2Cb.%24%24route%3Dc%29%7D%29%3Breturn%20b%7C%7Ch%5Bnull%5D%26%26r%28h%5Bnull%5D%2C%7Bparams%3A%7B%7D%2CpathParams%3A%7B%7D%7D%29%7Dfunction%20t%28a%2Cb%29%7Bvar%20c%3D%5B%5D%3Bd.forEach%28%28a%7C%7C%22%22%29.split%28%22%3A%22%29%2Cfunction%28a%2Cd%29%7Bif%280%3D%3D%3Dd%29c.push%28a%29%3Belse%7Bvar%20f%3Da.match%28/%28%5Cw+%29%28%3F%3A%5B%3F*%5D%29%3F%28.*%29/%29%2C%0D%0Ah%3Df%5B1%5D%3Bc.push%28b%5Bh%5D%29%3Bc.push%28f%5B2%5D%7C%7C%22%22%29%3Bdelete%20b%5Bh%5D%7D%7D%29%3Breturn%20c.join%28%22%22%29%7Dvar%20w%3D%211%2Cp%2Cv%2Cs%3D%7Broutes%3Ah%2Creload%3Afunction%28%29%7Bw%3D%210%3Ba.%24evalAsync%28function%28%29%7Bm%28%29%3Bn%28%29%7D%29%7D%2CupdateParams%3Afunction%28a%29%7Bif%28this.current%26%26this.current.%24%24route%29a%3Dd.extend%28%7B%7D%2Cthis.current.params%2Ca%29%2Cf.path%28t%28this.current.%24%24route.originalPath%2Ca%29%29%2Cf.search%28a%29%3Belse%20throw%20B%28%22norout%22%29%3B%7D%7D%3Ba.%24on%28%22%24locationChangeStart%22%2Cm%29%3Ba.%24on%28%22%24locationChangeSuccess%22%2Cn%29%3Breturn%20s%7D%5D%7D%29%3Bvar%20B%3Dd.%24%24minErr%28%22ngRoute%22%29%3Bq.provider%28%22%24routeParams%22%2Cfunction%28%29%7Bthis.%24get%3Dfunction%28%29%7Breturn%7B%7D%7D%7D%29%3B%0D%0Aq.directive%28%22ngView%22%2Cv%29%3Bq.directive%28%22ngView%22%2CA%29%3Bv.%24inject%3D%5B%22%24route%22%2C%22%24anchorScroll%22%2C%22%24animate%22%5D%3BA.%24inject%3D%5B%22%24compile%22%2C%22%24controller%22%2C%22%24route%22%5D%7D%29%28window%2Cwindow.angular%29%3B%0D%0A//%23%20sourceMappingURL%3Dangular-route.min.js.map%0D%0A%0A%27use%20strict%27%3B%0D%0A%0D%0Avar%20eventsApp%20%3D%20angular.module%28%27eventsApp%27%2C%20%5B%27ngSanitize%27%2C%20%27ngRoute%27%2C%20%27ngResource%27%5D%29%0D%0A%20%20%20%20.config%28function%20%28%24routeProvider%2C%20%24locationProvider%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24routeProvider%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/EventList.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27EventListController%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/newEvent%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/NewEvent.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27EditEventController%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/events%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/EventList.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27EventListController%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/event/%3AeventId%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/EventDetails.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27EventController%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event%3A%20function%20%28%24route%2C%20eventData%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20eventData.getEvent%28%24route.current.pathParams.eventId%29.%24promise%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/sampleDirective%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/SampleDirective.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27SampleDirectiveController%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/myProfile%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/EditProfile.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20controller%3A%20%27EditProfileController%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.when%28%27/404%27%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20templateUrl%3A%20%27templates/404.html%27%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.otherwise%28%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20redirectTo%3A%20%27/404%27%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%24locationProvider.html5Mode%28true%29%3B%0D%0A%20%20%20%20%7D%29%3B%0A/*%21%0D%0A*%20Bootstrap.js%20by%20@fat%20%26%20@mdo%0D%0A*%20Copyright%202012%20Twitter%2C%20Inc.%0D%0A*%20http%3A//www.apache.org/licenses/LICENSE-2.0.txt%0D%0A*/%0D%0A%21function%28e%29%7B%22use%20strict%22%3Be%28function%28%29%7Be.support.transition%3Dfunction%28%29%7Bvar%20e%3Dfunction%28%29%7Bvar%20e%3Ddocument.createElement%28%22bootstrap%22%29%2Ct%3D%7BWebkitTransition%3A%22webkitTransitionEnd%22%2CMozTransition%3A%22transitionend%22%2COTransition%3A%22oTransitionEnd%20otransitionend%22%2Ctransition%3A%22transitionend%22%7D%2Cn%3Bfor%28n%20in%20t%29if%28e.style%5Bn%5D%21%3D%3Dundefined%29return%20t%5Bn%5D%7D%28%29%3Breturn%20e%26%26%7Bend%3Ae%7D%7D%28%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3D%27%5Bdata-dismiss%3D%22alert%22%5D%27%2Cn%3Dfunction%28n%29%7Be%28n%29.on%28%22click%22%2Ct%2Cthis.close%29%7D%3Bn.prototype.close%3Dfunction%28t%29%7Bfunction%20s%28%29%7Bi.trigger%28%22closed%22%29.remove%28%29%7Dvar%20n%3De%28this%29%2Cr%3Dn.attr%28%22data-target%22%29%2Ci%3Br%7C%7C%28r%3Dn.attr%28%22href%22%29%2Cr%3Dr%26%26r.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D*%24%29/%2C%22%22%29%29%2Ci%3De%28r%29%2Ct%26%26t.preventDefault%28%29%2Ci.length%7C%7C%28i%3Dn.hasClass%28%22alert%22%29%3Fn%3An.parent%28%29%29%2Ci.trigger%28t%3De.Event%28%22close%22%29%29%3Bif%28t.isDefaultPrevented%28%29%29return%3Bi.removeClass%28%22in%22%29%2Ce.support.transition%26%26i.hasClass%28%22fade%22%29%3Fi.on%28e.support.transition.end%2Cs%29%3As%28%29%7D%3Bvar%20r%3De.fn.alert%3Be.fn.alert%3Dfunction%28t%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22alert%22%29%3Bi%7C%7Cr.data%28%22alert%22%2Ci%3Dnew%20n%28this%29%29%2Ctypeof%20t%3D%3D%22string%22%26%26i%5Bt%5D.call%28r%29%7D%29%7D%2Ce.fn.alert.Constructor%3Dn%2Ce.fn.alert.noConflict%3Dfunction%28%29%7Breturn%20e.fn.alert%3Dr%2Cthis%7D%2Ce%28document%29.on%28%22click.alert.data-api%22%2Ct%2Cn.prototype.close%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.%24element%3De%28t%29%2Cthis.options%3De.extend%28%7B%7D%2Ce.fn.button.defaults%2Cn%29%7D%3Bt.prototype.setState%3Dfunction%28e%29%7Bvar%20t%3D%22disabled%22%2Cn%3Dthis.%24element%2Cr%3Dn.data%28%29%2Ci%3Dn.is%28%22input%22%29%3F%22val%22%3A%22html%22%3Be+%3D%22Text%22%2Cr.resetText%7C%7Cn.data%28%22resetText%22%2Cn%5Bi%5D%28%29%29%2Cn%5Bi%5D%28r%5Be%5D%7C%7Cthis.options%5Be%5D%29%2CsetTimeout%28function%28%29%7Be%3D%3D%22loadingText%22%3Fn.addClass%28t%29.attr%28t%2Ct%29%3An.removeClass%28t%29.removeAttr%28t%29%7D%2C0%29%7D%2Ct.prototype.toggle%3Dfunction%28%29%7Bvar%20e%3Dthis.%24element.closest%28%27%5Bdata-toggle%3D%22buttons-radio%22%5D%27%29%3Be%26%26e.find%28%22.active%22%29.removeClass%28%22active%22%29%2Cthis.%24element.toggleClass%28%22active%22%29%7D%3Bvar%20n%3De.fn.button%3Be.fn.button%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22button%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22button%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Cn%3D%3D%22toggle%22%3Fi.toggle%28%29%3An%26%26i.setState%28n%29%7D%29%7D%2Ce.fn.button.defaults%3D%7BloadingText%3A%22loading...%22%7D%2Ce.fn.button.Constructor%3Dt%2Ce.fn.button.noConflict%3Dfunction%28%29%7Breturn%20e.fn.button%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22click.button.data-api%22%2C%22%5Bdata-toggle%5E%3Dbutton%5D%22%2Cfunction%28t%29%7Bvar%20n%3De%28t.target%29%3Bn.hasClass%28%22btn%22%29%7C%7C%28n%3Dn.closest%28%22.btn%22%29%29%2Cn.button%28%22toggle%22%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.%24element%3De%28t%29%2Cthis.%24indicators%3Dthis.%24element.find%28%22.carousel-indicators%22%29%2Cthis.options%3Dn%2Cthis.options.pause%3D%3D%22hover%22%26%26this.%24element.on%28%22mouseenter%22%2Ce.proxy%28this.pause%2Cthis%29%29.on%28%22mouseleave%22%2Ce.proxy%28this.cycle%2Cthis%29%29%7D%3Bt.prototype%3D%7Bcycle%3Afunction%28t%29%7Breturn%20t%7C%7C%28this.paused%3D%211%29%2Cthis.interval%26%26clearInterval%28this.interval%29%2Cthis.options.interval%26%26%21this.paused%26%26%28this.interval%3DsetInterval%28e.proxy%28this.next%2Cthis%29%2Cthis.options.interval%29%29%2Cthis%7D%2CgetActiveIndex%3Afunction%28%29%7Breturn%20this.%24active%3Dthis.%24element.find%28%22.item.active%22%29%2Cthis.%24items%3Dthis.%24active.parent%28%29.children%28%29%2Cthis.%24items.index%28this.%24active%29%7D%2Cto%3Afunction%28t%29%7Bvar%20n%3Dthis.getActiveIndex%28%29%2Cr%3Dthis%3Bif%28t%3Ethis.%24items.length-1%7C%7Ct%3C0%29return%3Breturn%20this.sliding%3Fthis.%24element.one%28%22slid%22%2Cfunction%28%29%7Br.to%28t%29%7D%29%3An%3D%3Dt%3Fthis.pause%28%29.cycle%28%29%3Athis.slide%28t%3En%3F%22next%22%3A%22prev%22%2Ce%28this.%24items%5Bt%5D%29%29%7D%2Cpause%3Afunction%28t%29%7Breturn%20t%7C%7C%28this.paused%3D%210%29%2Cthis.%24element.find%28%22.next%2C%20.prev%22%29.length%26%26e.support.transition.end%26%26%28this.%24element.trigger%28e.support.transition.end%29%2Cthis.cycle%28%29%29%2CclearInterval%28this.interval%29%2Cthis.interval%3Dnull%2Cthis%7D%2Cnext%3Afunction%28%29%7Bif%28this.sliding%29return%3Breturn%20this.slide%28%22next%22%29%7D%2Cprev%3Afunction%28%29%7Bif%28this.sliding%29return%3Breturn%20this.slide%28%22prev%22%29%7D%2Cslide%3Afunction%28t%2Cn%29%7Bvar%20r%3Dthis.%24element.find%28%22.item.active%22%29%2Ci%3Dn%7C%7Cr%5Bt%5D%28%29%2Cs%3Dthis.interval%2Co%3Dt%3D%3D%22next%22%3F%22left%22%3A%22right%22%2Cu%3Dt%3D%3D%22next%22%3F%22first%22%3A%22last%22%2Ca%3Dthis%2Cf%3Bthis.sliding%3D%210%2Cs%26%26this.pause%28%29%2Ci%3Di.length%3Fi%3Athis.%24element.find%28%22.item%22%29%5Bu%5D%28%29%2Cf%3De.Event%28%22slide%22%2C%7BrelatedTarget%3Ai%5B0%5D%2Cdirection%3Ao%7D%29%3Bif%28i.hasClass%28%22active%22%29%29return%3Bthis.%24indicators.length%26%26%28this.%24indicators.find%28%22.active%22%29.removeClass%28%22active%22%29%2Cthis.%24element.one%28%22slid%22%2Cfunction%28%29%7Bvar%20t%3De%28a.%24indicators.children%28%29%5Ba.getActiveIndex%28%29%5D%29%3Bt%26%26t.addClass%28%22active%22%29%7D%29%29%3Bif%28e.support.transition%26%26this.%24element.hasClass%28%22slide%22%29%29%7Bthis.%24element.trigger%28f%29%3Bif%28f.isDefaultPrevented%28%29%29return%3Bi.addClass%28t%29%2Ci%5B0%5D.offsetWidth%2Cr.addClass%28o%29%2Ci.addClass%28o%29%2Cthis.%24element.one%28e.support.transition.end%2Cfunction%28%29%7Bi.removeClass%28%5Bt%2Co%5D.join%28%22%20%22%29%29.addClass%28%22active%22%29%2Cr.removeClass%28%5B%22active%22%2Co%5D.join%28%22%20%22%29%29%2Ca.sliding%3D%211%2CsetTimeout%28function%28%29%7Ba.%24element.trigger%28%22slid%22%29%7D%2C0%29%7D%29%7Delse%7Bthis.%24element.trigger%28f%29%3Bif%28f.isDefaultPrevented%28%29%29return%3Br.removeClass%28%22active%22%29%2Ci.addClass%28%22active%22%29%2Cthis.sliding%3D%211%2Cthis.%24element.trigger%28%22slid%22%29%7Dreturn%20s%26%26this.cycle%28%29%2Cthis%7D%7D%3Bvar%20n%3De.fn.carousel%3Be.fn.carousel%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22carousel%22%29%2Cs%3De.extend%28%7B%7D%2Ce.fn.carousel.defaults%2Ctypeof%20n%3D%3D%22object%22%26%26n%29%2Co%3Dtypeof%20n%3D%3D%22string%22%3Fn%3As.slide%3Bi%7C%7Cr.data%28%22carousel%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22number%22%3Fi.to%28n%29%3Ao%3Fi%5Bo%5D%28%29%3As.interval%26%26i.pause%28%29.cycle%28%29%7D%29%7D%2Ce.fn.carousel.defaults%3D%7Binterval%3A5e3%2Cpause%3A%22hover%22%7D%2Ce.fn.carousel.Constructor%3Dt%2Ce.fn.carousel.noConflict%3Dfunction%28%29%7Breturn%20e.fn.carousel%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22click.carousel.data-api%22%2C%22%5Bdata-slide%5D%2C%20%5Bdata-slide-to%5D%22%2Cfunction%28t%29%7Bvar%20n%3De%28this%29%2Cr%2Ci%3De%28n.attr%28%22data-target%22%29%7C%7C%28r%3Dn.attr%28%22href%22%29%29%26%26r.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D+%24%29/%2C%22%22%29%29%2Cs%3De.extend%28%7B%7D%2Ci.data%28%29%2Cn.data%28%29%29%2Co%3Bi.carousel%28s%29%2C%28o%3Dn.attr%28%22data-slide-to%22%29%29%26%26i.data%28%22carousel%22%29.pause%28%29.to%28o%29.cycle%28%29%2Ct.preventDefault%28%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.%24element%3De%28t%29%2Cthis.options%3De.extend%28%7B%7D%2Ce.fn.collapse.defaults%2Cn%29%2Cthis.options.parent%26%26%28this.%24parent%3De%28this.options.parent%29%29%2Cthis.options.toggle%26%26this.toggle%28%29%7D%3Bt.prototype%3D%7Bconstructor%3At%2Cdimension%3Afunction%28%29%7Bvar%20e%3Dthis.%24element.hasClass%28%22width%22%29%3Breturn%20e%3F%22width%22%3A%22height%22%7D%2Cshow%3Afunction%28%29%7Bvar%20t%2Cn%2Cr%2Ci%3Bif%28this.transitioning%7C%7Cthis.%24element.hasClass%28%22in%22%29%29return%3Bt%3Dthis.dimension%28%29%2Cn%3De.camelCase%28%5B%22scroll%22%2Ct%5D.join%28%22-%22%29%29%2Cr%3Dthis.%24parent%26%26this.%24parent.find%28%22%3E%20.accordion-group%20%3E%20.in%22%29%3Bif%28r%26%26r.length%29%7Bi%3Dr.data%28%22collapse%22%29%3Bif%28i%26%26i.transitioning%29return%3Br.collapse%28%22hide%22%29%2Ci%7C%7Cr.data%28%22collapse%22%2Cnull%29%7Dthis.%24element%5Bt%5D%280%29%2Cthis.transition%28%22addClass%22%2Ce.Event%28%22show%22%29%2C%22shown%22%29%2Ce.support.transition%26%26this.%24element%5Bt%5D%28this.%24element%5B0%5D%5Bn%5D%29%7D%2Chide%3Afunction%28%29%7Bvar%20t%3Bif%28this.transitioning%7C%7C%21this.%24element.hasClass%28%22in%22%29%29return%3Bt%3Dthis.dimension%28%29%2Cthis.reset%28this.%24element%5Bt%5D%28%29%29%2Cthis.transition%28%22removeClass%22%2Ce.Event%28%22hide%22%29%2C%22hidden%22%29%2Cthis.%24element%5Bt%5D%280%29%7D%2Creset%3Afunction%28e%29%7Bvar%20t%3Dthis.dimension%28%29%3Breturn%20this.%24element.removeClass%28%22collapse%22%29%5Bt%5D%28e%7C%7C%22auto%22%29%5B0%5D.offsetWidth%2Cthis.%24element%5Be%21%3D%3Dnull%3F%22addClass%22%3A%22removeClass%22%5D%28%22collapse%22%29%2Cthis%7D%2Ctransition%3Afunction%28t%2Cn%2Cr%29%7Bvar%20i%3Dthis%2Cs%3Dfunction%28%29%7Bn.type%3D%3D%22show%22%26%26i.reset%28%29%2Ci.transitioning%3D0%2Ci.%24element.trigger%28r%29%7D%3Bthis.%24element.trigger%28n%29%3Bif%28n.isDefaultPrevented%28%29%29return%3Bthis.transitioning%3D1%2Cthis.%24element%5Bt%5D%28%22in%22%29%2Ce.support.transition%26%26this.%24element.hasClass%28%22collapse%22%29%3Fthis.%24element.one%28e.support.transition.end%2Cs%29%3As%28%29%7D%2Ctoggle%3Afunction%28%29%7Bthis%5Bthis.%24element.hasClass%28%22in%22%29%3F%22hide%22%3A%22show%22%5D%28%29%7D%7D%3Bvar%20n%3De.fn.collapse%3Be.fn.collapse%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22collapse%22%29%2Cs%3De.extend%28%7B%7D%2Ce.fn.collapse.defaults%2Cr.data%28%29%2Ctypeof%20n%3D%3D%22object%22%26%26n%29%3Bi%7C%7Cr.data%28%22collapse%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.collapse.defaults%3D%7Btoggle%3A%210%7D%2Ce.fn.collapse.Constructor%3Dt%2Ce.fn.collapse.noConflict%3Dfunction%28%29%7Breturn%20e.fn.collapse%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22click.collapse.data-api%22%2C%22%5Bdata-toggle%3Dcollapse%5D%22%2Cfunction%28t%29%7Bvar%20n%3De%28this%29%2Cr%2Ci%3Dn.attr%28%22data-target%22%29%7C%7Ct.preventDefault%28%29%7C%7C%28r%3Dn.attr%28%22href%22%29%29%26%26r.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D+%24%29/%2C%22%22%29%2Cs%3De%28i%29.data%28%22collapse%22%29%3F%22toggle%22%3An.data%28%29%3Bn%5Be%28i%29.hasClass%28%22in%22%29%3F%22addClass%22%3A%22removeClass%22%5D%28%22collapsed%22%29%2Ce%28i%29.collapse%28s%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bfunction%20r%28%29%7Be%28t%29.each%28function%28%29%7Bi%28e%28this%29%29.removeClass%28%22open%22%29%7D%29%7Dfunction%20i%28t%29%7Bvar%20n%3Dt.attr%28%22data-target%22%29%2Cr%3Bn%7C%7C%28n%3Dt.attr%28%22href%22%29%2Cn%3Dn%26%26/%23/.test%28n%29%26%26n.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D*%24%29/%2C%22%22%29%29%2Cr%3Dn%26%26e%28n%29%3Bif%28%21r%7C%7C%21r.length%29r%3Dt.parent%28%29%3Breturn%20r%7Dvar%20t%3D%22%5Bdata-toggle%3Ddropdown%5D%22%2Cn%3Dfunction%28t%29%7Bvar%20n%3De%28t%29.on%28%22click.dropdown.data-api%22%2Cthis.toggle%29%3Be%28%22html%22%29.on%28%22click.dropdown.data-api%22%2Cfunction%28%29%7Bn.parent%28%29.removeClass%28%22open%22%29%7D%29%7D%3Bn.prototype%3D%7Bconstructor%3An%2Ctoggle%3Afunction%28t%29%7Bvar%20n%3De%28this%29%2Cs%2Co%3Bif%28n.is%28%22.disabled%2C%20%3Adisabled%22%29%29return%3Breturn%20s%3Di%28n%29%2Co%3Ds.hasClass%28%22open%22%29%2Cr%28%29%2Co%7C%7Cs.toggleClass%28%22open%22%29%2Cn.focus%28%29%2C%211%7D%2Ckeydown%3Afunction%28n%29%7Bvar%20r%2Cs%2Co%2Cu%2Ca%2Cf%3Bif%28%21/%2838%7C40%7C27%29/.test%28n.keyCode%29%29return%3Br%3De%28this%29%2Cn.preventDefault%28%29%2Cn.stopPropagation%28%29%3Bif%28r.is%28%22.disabled%2C%20%3Adisabled%22%29%29return%3Bu%3Di%28r%29%2Ca%3Du.hasClass%28%22open%22%29%3Bif%28%21a%7C%7Ca%26%26n.keyCode%3D%3D27%29return%20n.which%3D%3D27%26%26u.find%28t%29.focus%28%29%2Cr.click%28%29%3Bs%3De%28%22%5Brole%3Dmenu%5D%20li%3Anot%28.divider%29%3Avisible%20a%22%2Cu%29%3Bif%28%21s.length%29return%3Bf%3Ds.index%28s.filter%28%22%3Afocus%22%29%29%2Cn.keyCode%3D%3D38%26%26f%3E0%26%26f--%2Cn.keyCode%3D%3D40%26%26f%3Cs.length-1%26%26f++%2C%7Ef%7C%7C%28f%3D0%29%2Cs.eq%28f%29.focus%28%29%7D%7D%3Bvar%20s%3De.fn.dropdown%3Be.fn.dropdown%3Dfunction%28t%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22dropdown%22%29%3Bi%7C%7Cr.data%28%22dropdown%22%2Ci%3Dnew%20n%28this%29%29%2Ctypeof%20t%3D%3D%22string%22%26%26i%5Bt%5D.call%28r%29%7D%29%7D%2Ce.fn.dropdown.Constructor%3Dn%2Ce.fn.dropdown.noConflict%3Dfunction%28%29%7Breturn%20e.fn.dropdown%3Ds%2Cthis%7D%2Ce%28document%29.on%28%22click.dropdown.data-api%22%2Cr%29.on%28%22click.dropdown.data-api%22%2C%22.dropdown%20form%22%2Cfunction%28e%29%7Be.stopPropagation%28%29%7D%29.on%28%22.dropdown-menu%22%2Cfunction%28e%29%7Be.stopPropagation%28%29%7D%29.on%28%22click.dropdown.data-api%22%2Ct%2Cn.prototype.toggle%29.on%28%22keydown.dropdown.data-api%22%2Ct+%22%2C%20%5Brole%3Dmenu%5D%22%2Cn.prototype.keydown%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.options%3Dn%2Cthis.%24element%3De%28t%29.delegate%28%27%5Bdata-dismiss%3D%22modal%22%5D%27%2C%22click.dismiss.modal%22%2Ce.proxy%28this.hide%2Cthis%29%29%2Cthis.options.remote%26%26this.%24element.find%28%22.modal-body%22%29.load%28this.options.remote%29%7D%3Bt.prototype%3D%7Bconstructor%3At%2Ctoggle%3Afunction%28%29%7Breturn%20this%5Bthis.isShown%3F%22hide%22%3A%22show%22%5D%28%29%7D%2Cshow%3Afunction%28%29%7Bvar%20t%3Dthis%2Cn%3De.Event%28%22show%22%29%3Bthis.%24element.trigger%28n%29%3Bif%28this.isShown%7C%7Cn.isDefaultPrevented%28%29%29return%3Bthis.isShown%3D%210%2Cthis.escape%28%29%2Cthis.backdrop%28function%28%29%7Bvar%20n%3De.support.transition%26%26t.%24element.hasClass%28%22fade%22%29%3Bt.%24element.parent%28%29.length%7C%7Ct.%24element.appendTo%28document.body%29%2Ct.%24element.show%28%29%2Cn%26%26t.%24element%5B0%5D.offsetWidth%2Ct.%24element.addClass%28%22in%22%29.attr%28%22aria-hidden%22%2C%211%29%2Ct.enforceFocus%28%29%2Cn%3Ft.%24element.one%28e.support.transition.end%2Cfunction%28%29%7Bt.%24element.focus%28%29.trigger%28%22shown%22%29%7D%29%3At.%24element.focus%28%29.trigger%28%22shown%22%29%7D%29%7D%2Chide%3Afunction%28t%29%7Bt%26%26t.preventDefault%28%29%3Bvar%20n%3Dthis%3Bt%3De.Event%28%22hide%22%29%2Cthis.%24element.trigger%28t%29%3Bif%28%21this.isShown%7C%7Ct.isDefaultPrevented%28%29%29return%3Bthis.isShown%3D%211%2Cthis.escape%28%29%2Ce%28document%29.off%28%22focusin.modal%22%29%2Cthis.%24element.removeClass%28%22in%22%29.attr%28%22aria-hidden%22%2C%210%29%2Ce.support.transition%26%26this.%24element.hasClass%28%22fade%22%29%3Fthis.hideWithTransition%28%29%3Athis.hideModal%28%29%7D%2CenforceFocus%3Afunction%28%29%7Bvar%20t%3Dthis%3Be%28document%29.on%28%22focusin.modal%22%2Cfunction%28e%29%7Bt.%24element%5B0%5D%21%3D%3De.target%26%26%21t.%24element.has%28e.target%29.length%26%26t.%24element.focus%28%29%7D%29%7D%2Cescape%3Afunction%28%29%7Bvar%20e%3Dthis%3Bthis.isShown%26%26this.options.keyboard%3Fthis.%24element.on%28%22keyup.dismiss.modal%22%2Cfunction%28t%29%7Bt.which%3D%3D27%26%26e.hide%28%29%7D%29%3Athis.isShown%7C%7Cthis.%24element.off%28%22keyup.dismiss.modal%22%29%7D%2ChideWithTransition%3Afunction%28%29%7Bvar%20t%3Dthis%2Cn%3DsetTimeout%28function%28%29%7Bt.%24element.off%28e.support.transition.end%29%2Ct.hideModal%28%29%7D%2C500%29%3Bthis.%24element.one%28e.support.transition.end%2Cfunction%28%29%7BclearTimeout%28n%29%2Ct.hideModal%28%29%7D%29%7D%2ChideModal%3Afunction%28%29%7Bvar%20e%3Dthis%3Bthis.%24element.hide%28%29%2Cthis.backdrop%28function%28%29%7Be.removeBackdrop%28%29%2Ce.%24element.trigger%28%22hidden%22%29%7D%29%7D%2CremoveBackdrop%3Afunction%28%29%7Bthis.%24backdrop.remove%28%29%2Cthis.%24backdrop%3Dnull%7D%2Cbackdrop%3Afunction%28t%29%7Bvar%20n%3Dthis%2Cr%3Dthis.%24element.hasClass%28%22fade%22%29%3F%22fade%22%3A%22%22%3Bif%28this.isShown%26%26this.options.backdrop%29%7Bvar%20i%3De.support.transition%26%26r%3Bthis.%24backdrop%3De%28%27%3Cdiv%20class%3D%22modal-backdrop%20%27+r+%27%22%20/%3E%27%29.appendTo%28document.body%29%2Cthis.%24backdrop.click%28this.options.backdrop%3D%3D%22static%22%3Fe.proxy%28this.%24element%5B0%5D.focus%2Cthis.%24element%5B0%5D%29%3Ae.proxy%28this.hide%2Cthis%29%29%2Ci%26%26this.%24backdrop%5B0%5D.offsetWidth%2Cthis.%24backdrop.addClass%28%22in%22%29%3Bif%28%21t%29return%3Bi%3Fthis.%24backdrop.one%28e.support.transition.end%2Ct%29%3At%28%29%7Delse%21this.isShown%26%26this.%24backdrop%3F%28this.%24backdrop.removeClass%28%22in%22%29%2Ce.support.transition%26%26this.%24element.hasClass%28%22fade%22%29%3Fthis.%24backdrop.one%28e.support.transition.end%2Ct%29%3At%28%29%29%3At%26%26t%28%29%7D%7D%3Bvar%20n%3De.fn.modal%3Be.fn.modal%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22modal%22%29%2Cs%3De.extend%28%7B%7D%2Ce.fn.modal.defaults%2Cr.data%28%29%2Ctypeof%20n%3D%3D%22object%22%26%26n%29%3Bi%7C%7Cr.data%28%22modal%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%3Fi%5Bn%5D%28%29%3As.show%26%26i.show%28%29%7D%29%7D%2Ce.fn.modal.defaults%3D%7Bbackdrop%3A%210%2Ckeyboard%3A%210%2Cshow%3A%210%7D%2Ce.fn.modal.Constructor%3Dt%2Ce.fn.modal.noConflict%3Dfunction%28%29%7Breturn%20e.fn.modal%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22click.modal.data-api%22%2C%27%5Bdata-toggle%3D%22modal%22%5D%27%2Cfunction%28t%29%7Bvar%20n%3De%28this%29%2Cr%3Dn.attr%28%22href%22%29%2Ci%3De%28n.attr%28%22data-target%22%29%7C%7Cr%26%26r.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D+%24%29/%2C%22%22%29%29%2Cs%3Di.data%28%22modal%22%29%3F%22toggle%22%3Ae.extend%28%7Bremote%3A%21/%23/.test%28r%29%26%26r%7D%2Ci.data%28%29%2Cn.data%28%29%29%3Bt.preventDefault%28%29%2Ci.modal%28s%29.one%28%22hide%22%2Cfunction%28%29%7Bn.focus%28%29%7D%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28e%2Ct%29%7Bthis.init%28%22tooltip%22%2Ce%2Ct%29%7D%3Bt.prototype%3D%7Bconstructor%3At%2Cinit%3Afunction%28t%2Cn%2Cr%29%7Bvar%20i%2Cs%2Co%2Cu%2Ca%3Bthis.type%3Dt%2Cthis.%24element%3De%28n%29%2Cthis.options%3Dthis.getOptions%28r%29%2Cthis.enabled%3D%210%2Co%3Dthis.options.trigger.split%28%22%20%22%29%3Bfor%28a%3Do.length%3Ba--%3B%29u%3Do%5Ba%5D%2Cu%3D%3D%22click%22%3Fthis.%24element.on%28%22click.%22+this.type%2Cthis.options.selector%2Ce.proxy%28this.toggle%2Cthis%29%29%3Au%21%3D%22manual%22%26%26%28i%3Du%3D%3D%22hover%22%3F%22mouseenter%22%3A%22focus%22%2Cs%3Du%3D%3D%22hover%22%3F%22mouseleave%22%3A%22blur%22%2Cthis.%24element.on%28i+%22.%22+this.type%2Cthis.options.selector%2Ce.proxy%28this.enter%2Cthis%29%29%2Cthis.%24element.on%28s+%22.%22+this.type%2Cthis.options.selector%2Ce.proxy%28this.leave%2Cthis%29%29%29%3Bthis.options.selector%3Fthis._options%3De.extend%28%7B%7D%2Cthis.options%2C%7Btrigger%3A%22manual%22%2Cselector%3A%22%22%7D%29%3Athis.fixTitle%28%29%7D%2CgetOptions%3Afunction%28t%29%7Breturn%20t%3De.extend%28%7B%7D%2Ce.fn%5Bthis.type%5D.defaults%2Cthis.%24element.data%28%29%2Ct%29%2Ct.delay%26%26typeof%20t.delay%3D%3D%22number%22%26%26%28t.delay%3D%7Bshow%3At.delay%2Chide%3At.delay%7D%29%2Ct%7D%2Center%3Afunction%28t%29%7Bvar%20n%3De%28t.currentTarget%29%5Bthis.type%5D%28this._options%29.data%28this.type%29%3Bif%28%21n.options.delay%7C%7C%21n.options.delay.show%29return%20n.show%28%29%3BclearTimeout%28this.timeout%29%2Cn.hoverState%3D%22in%22%2Cthis.timeout%3DsetTimeout%28function%28%29%7Bn.hoverState%3D%3D%22in%22%26%26n.show%28%29%7D%2Cn.options.delay.show%29%7D%2Cleave%3Afunction%28t%29%7Bvar%20n%3De%28t.currentTarget%29%5Bthis.type%5D%28this._options%29.data%28this.type%29%3Bthis.timeout%26%26clearTimeout%28this.timeout%29%3Bif%28%21n.options.delay%7C%7C%21n.options.delay.hide%29return%20n.hide%28%29%3Bn.hoverState%3D%22out%22%2Cthis.timeout%3DsetTimeout%28function%28%29%7Bn.hoverState%3D%3D%22out%22%26%26n.hide%28%29%7D%2Cn.options.delay.hide%29%7D%2Cshow%3Afunction%28%29%7Bvar%20t%2Cn%2Cr%2Ci%2Cs%2Co%2Cu%3De.Event%28%22show%22%29%3Bif%28this.hasContent%28%29%26%26this.enabled%29%7Bthis.%24element.trigger%28u%29%3Bif%28u.isDefaultPrevented%28%29%29return%3Bt%3Dthis.tip%28%29%2Cthis.setContent%28%29%2Cthis.options.animation%26%26t.addClass%28%22fade%22%29%2Cs%3Dtypeof%20this.options.placement%3D%3D%22function%22%3Fthis.options.placement.call%28this%2Ct%5B0%5D%2Cthis.%24element%5B0%5D%29%3Athis.options.placement%2Ct.detach%28%29.css%28%7Btop%3A0%2Cleft%3A0%2Cdisplay%3A%22block%22%7D%29%2Cthis.options.container%3Ft.appendTo%28this.options.container%29%3At.insertAfter%28this.%24element%29%2Cn%3Dthis.getPosition%28%29%2Cr%3Dt%5B0%5D.offsetWidth%2Ci%3Dt%5B0%5D.offsetHeight%3Bswitch%28s%29%7Bcase%22bottom%22%3Ao%3D%7Btop%3An.top+n.height%2Cleft%3An.left+n.width/2-r/2%7D%3Bbreak%3Bcase%22top%22%3Ao%3D%7Btop%3An.top-i%2Cleft%3An.left+n.width/2-r/2%7D%3Bbreak%3Bcase%22left%22%3Ao%3D%7Btop%3An.top+n.height/2-i/2%2Cleft%3An.left-r%7D%3Bbreak%3Bcase%22right%22%3Ao%3D%7Btop%3An.top+n.height/2-i/2%2Cleft%3An.left+n.width%7D%7Dthis.applyPlacement%28o%2Cs%29%2Cthis.%24element.trigger%28%22shown%22%29%7D%7D%2CapplyPlacement%3Afunction%28e%2Ct%29%7Bvar%20n%3Dthis.tip%28%29%2Cr%3Dn%5B0%5D.offsetWidth%2Ci%3Dn%5B0%5D.offsetHeight%2Cs%2Co%2Cu%2Ca%3Bn.offset%28e%29.addClass%28t%29.addClass%28%22in%22%29%2Cs%3Dn%5B0%5D.offsetWidth%2Co%3Dn%5B0%5D.offsetHeight%2Ct%3D%3D%22top%22%26%26o%21%3Di%26%26%28e.top%3De.top+i-o%2Ca%3D%210%29%2Ct%3D%3D%22bottom%22%7C%7Ct%3D%3D%22top%22%3F%28u%3D0%2Ce.left%3C0%26%26%28u%3De.left*-2%2Ce.left%3D0%2Cn.offset%28e%29%2Cs%3Dn%5B0%5D.offsetWidth%2Co%3Dn%5B0%5D.offsetHeight%29%2Cthis.replaceArrow%28u-r+s%2Cs%2C%22left%22%29%29%3Athis.replaceArrow%28o-i%2Co%2C%22top%22%29%2Ca%26%26n.offset%28e%29%7D%2CreplaceArrow%3Afunction%28e%2Ct%2Cn%29%7Bthis.arrow%28%29.css%28n%2Ce%3F50*%281-e/t%29+%22%25%22%3A%22%22%29%7D%2CsetContent%3Afunction%28%29%7Bvar%20e%3Dthis.tip%28%29%2Ct%3Dthis.getTitle%28%29%3Be.find%28%22.tooltip-inner%22%29%5Bthis.options.html%3F%22html%22%3A%22text%22%5D%28t%29%2Ce.removeClass%28%22fade%20in%20top%20bottom%20left%20right%22%29%7D%2Chide%3Afunction%28%29%7Bfunction%20i%28%29%7Bvar%20t%3DsetTimeout%28function%28%29%7Bn.off%28e.support.transition.end%29.detach%28%29%7D%2C500%29%3Bn.one%28e.support.transition.end%2Cfunction%28%29%7BclearTimeout%28t%29%2Cn.detach%28%29%7D%29%7Dvar%20t%3Dthis%2Cn%3Dthis.tip%28%29%2Cr%3De.Event%28%22hide%22%29%3Bthis.%24element.trigger%28r%29%3Bif%28r.isDefaultPrevented%28%29%29return%3Breturn%20n.removeClass%28%22in%22%29%2Ce.support.transition%26%26this.%24tip.hasClass%28%22fade%22%29%3Fi%28%29%3An.detach%28%29%2Cthis.%24element.trigger%28%22hidden%22%29%2Cthis%7D%2CfixTitle%3Afunction%28%29%7Bvar%20e%3Dthis.%24element%3B%28e.attr%28%22title%22%29%7C%7Ctypeof%20e.attr%28%22data-original-title%22%29%21%3D%22string%22%29%26%26e.attr%28%22data-original-title%22%2Ce.attr%28%22title%22%29%7C%7C%22%22%29.attr%28%22title%22%2C%22%22%29%7D%2ChasContent%3Afunction%28%29%7Breturn%20this.getTitle%28%29%7D%2CgetPosition%3Afunction%28%29%7Bvar%20t%3Dthis.%24element%5B0%5D%3Breturn%20e.extend%28%7B%7D%2Ctypeof%20t.getBoundingClientRect%3D%3D%22function%22%3Ft.getBoundingClientRect%28%29%3A%7Bwidth%3At.offsetWidth%2Cheight%3At.offsetHeight%7D%2Cthis.%24element.offset%28%29%29%7D%2CgetTitle%3Afunction%28%29%7Bvar%20e%2Ct%3Dthis.%24element%2Cn%3Dthis.options%3Breturn%20e%3Dt.attr%28%22data-original-title%22%29%7C%7C%28typeof%20n.title%3D%3D%22function%22%3Fn.title.call%28t%5B0%5D%29%3An.title%29%2Ce%7D%2Ctip%3Afunction%28%29%7Breturn%20this.%24tip%3Dthis.%24tip%7C%7Ce%28this.options.template%29%7D%2Carrow%3Afunction%28%29%7Breturn%20this.%24arrow%3Dthis.%24arrow%7C%7Cthis.tip%28%29.find%28%22.tooltip-arrow%22%29%7D%2Cvalidate%3Afunction%28%29%7Bthis.%24element%5B0%5D.parentNode%7C%7C%28this.hide%28%29%2Cthis.%24element%3Dnull%2Cthis.options%3Dnull%29%7D%2Cenable%3Afunction%28%29%7Bthis.enabled%3D%210%7D%2Cdisable%3Afunction%28%29%7Bthis.enabled%3D%211%7D%2CtoggleEnabled%3Afunction%28%29%7Bthis.enabled%3D%21this.enabled%7D%2Ctoggle%3Afunction%28t%29%7Bvar%20n%3Dt%3Fe%28t.currentTarget%29%5Bthis.type%5D%28this._options%29.data%28this.type%29%3Athis%3Bn.tip%28%29.hasClass%28%22in%22%29%3Fn.hide%28%29%3An.show%28%29%7D%2Cdestroy%3Afunction%28%29%7Bthis.hide%28%29.%24element.off%28%22.%22+this.type%29.removeData%28this.type%29%7D%7D%3Bvar%20n%3De.fn.tooltip%3Be.fn.tooltip%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22tooltip%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22tooltip%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.tooltip.Constructor%3Dt%2Ce.fn.tooltip.defaults%3D%7Banimation%3A%210%2Cplacement%3A%22top%22%2Cselector%3A%211%2Ctemplate%3A%27%3Cdiv%20class%3D%22tooltip%22%3E%3Cdiv%20class%3D%22tooltip-arrow%22%3E%3C/div%3E%3Cdiv%20class%3D%22tooltip-inner%22%3E%3C/div%3E%3C/div%3E%27%2Ctrigger%3A%22hover%20focus%22%2Ctitle%3A%22%22%2Cdelay%3A0%2Chtml%3A%211%2Ccontainer%3A%211%7D%2Ce.fn.tooltip.noConflict%3Dfunction%28%29%7Breturn%20e.fn.tooltip%3Dn%2Cthis%7D%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28e%2Ct%29%7Bthis.init%28%22popover%22%2Ce%2Ct%29%7D%3Bt.prototype%3De.extend%28%7B%7D%2Ce.fn.tooltip.Constructor.prototype%2C%7Bconstructor%3At%2CsetContent%3Afunction%28%29%7Bvar%20e%3Dthis.tip%28%29%2Ct%3Dthis.getTitle%28%29%2Cn%3Dthis.getContent%28%29%3Be.find%28%22.popover-title%22%29%5Bthis.options.html%3F%22html%22%3A%22text%22%5D%28t%29%2Ce.find%28%22.popover-content%22%29%5Bthis.options.html%3F%22html%22%3A%22text%22%5D%28n%29%2Ce.removeClass%28%22fade%20top%20bottom%20left%20right%20in%22%29%7D%2ChasContent%3Afunction%28%29%7Breturn%20this.getTitle%28%29%7C%7Cthis.getContent%28%29%7D%2CgetContent%3Afunction%28%29%7Bvar%20e%2Ct%3Dthis.%24element%2Cn%3Dthis.options%3Breturn%20e%3D%28typeof%20n.content%3D%3D%22function%22%3Fn.content.call%28t%5B0%5D%29%3An.content%29%7C%7Ct.attr%28%22data-content%22%29%2Ce%7D%2Ctip%3Afunction%28%29%7Breturn%20this.%24tip%7C%7C%28this.%24tip%3De%28this.options.template%29%29%2Cthis.%24tip%7D%2Cdestroy%3Afunction%28%29%7Bthis.hide%28%29.%24element.off%28%22.%22+this.type%29.removeData%28this.type%29%7D%7D%29%3Bvar%20n%3De.fn.popover%3Be.fn.popover%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22popover%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22popover%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.popover.Constructor%3Dt%2Ce.fn.popover.defaults%3De.extend%28%7B%7D%2Ce.fn.tooltip.defaults%2C%7Bplacement%3A%22right%22%2Ctrigger%3A%22click%22%2Ccontent%3A%22%22%2Ctemplate%3A%27%3Cdiv%20class%3D%22popover%22%3E%3Cdiv%20class%3D%22arrow%22%3E%3C/div%3E%3Ch3%20class%3D%22popover-title%22%3E%3C/h3%3E%3Cdiv%20class%3D%22popover-content%22%3E%3C/div%3E%3C/div%3E%27%7D%29%2Ce.fn.popover.noConflict%3Dfunction%28%29%7Breturn%20e.fn.popover%3Dn%2Cthis%7D%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bfunction%20t%28t%2Cn%29%7Bvar%20r%3De.proxy%28this.process%2Cthis%29%2Ci%3De%28t%29.is%28%22body%22%29%3Fe%28window%29%3Ae%28t%29%2Cs%3Bthis.options%3De.extend%28%7B%7D%2Ce.fn.scrollspy.defaults%2Cn%29%2Cthis.%24scrollElement%3Di.on%28%22scroll.scroll-spy.data-api%22%2Cr%29%2Cthis.selector%3D%28this.options.target%7C%7C%28s%3De%28t%29.attr%28%22href%22%29%29%26%26s.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D+%24%29/%2C%22%22%29%7C%7C%22%22%29+%22%20.nav%20li%20%3E%20a%22%2Cthis.%24body%3De%28%22body%22%29%2Cthis.refresh%28%29%2Cthis.process%28%29%7Dt.prototype%3D%7Bconstructor%3At%2Crefresh%3Afunction%28%29%7Bvar%20t%3Dthis%2Cn%3Bthis.offsets%3De%28%5B%5D%29%2Cthis.targets%3De%28%5B%5D%29%2Cn%3Dthis.%24body.find%28this.selector%29.map%28function%28%29%7Bvar%20n%3De%28this%29%2Cr%3Dn.data%28%22target%22%29%7C%7Cn.attr%28%22href%22%29%2Ci%3D/%5E%23%5Cw/.test%28r%29%26%26e%28r%29%3Breturn%20i%26%26i.length%26%26%5B%5Bi.position%28%29.top+%28%21e.isWindow%28t.%24scrollElement.get%280%29%29%26%26t.%24scrollElement.scrollTop%28%29%29%2Cr%5D%5D%7C%7Cnull%7D%29.sort%28function%28e%2Ct%29%7Breturn%20e%5B0%5D-t%5B0%5D%7D%29.each%28function%28%29%7Bt.offsets.push%28this%5B0%5D%29%2Ct.targets.push%28this%5B1%5D%29%7D%29%7D%2Cprocess%3Afunction%28%29%7Bvar%20e%3Dthis.%24scrollElement.scrollTop%28%29+this.options.offset%2Ct%3Dthis.%24scrollElement%5B0%5D.scrollHeight%7C%7Cthis.%24body%5B0%5D.scrollHeight%2Cn%3Dt-this.%24scrollElement.height%28%29%2Cr%3Dthis.offsets%2Ci%3Dthis.targets%2Cs%3Dthis.activeTarget%2Co%3Bif%28e%3E%3Dn%29return%20s%21%3D%28o%3Di.last%28%29%5B0%5D%29%26%26this.activate%28o%29%3Bfor%28o%3Dr.length%3Bo--%3B%29s%21%3Di%5Bo%5D%26%26e%3E%3Dr%5Bo%5D%26%26%28%21r%5Bo+1%5D%7C%7Ce%3C%3Dr%5Bo+1%5D%29%26%26this.activate%28i%5Bo%5D%29%7D%2Cactivate%3Afunction%28t%29%7Bvar%20n%2Cr%3Bthis.activeTarget%3Dt%2Ce%28this.selector%29.parent%28%22.active%22%29.removeClass%28%22active%22%29%2Cr%3Dthis.selector+%27%5Bdata-target%3D%22%27+t+%27%22%5D%2C%27+this.selector+%27%5Bhref%3D%22%27+t+%27%22%5D%27%2Cn%3De%28r%29.parent%28%22li%22%29.addClass%28%22active%22%29%2Cn.parent%28%22.dropdown-menu%22%29.length%26%26%28n%3Dn.closest%28%22li.dropdown%22%29.addClass%28%22active%22%29%29%2Cn.trigger%28%22activate%22%29%7D%7D%3Bvar%20n%3De.fn.scrollspy%3Be.fn.scrollspy%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22scrollspy%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22scrollspy%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.scrollspy.Constructor%3Dt%2Ce.fn.scrollspy.defaults%3D%7Boffset%3A10%7D%2Ce.fn.scrollspy.noConflict%3Dfunction%28%29%7Breturn%20e.fn.scrollspy%3Dn%2Cthis%7D%2Ce%28window%29.on%28%22load%22%2Cfunction%28%29%7Be%28%27%5Bdata-spy%3D%22scroll%22%5D%27%29.each%28function%28%29%7Bvar%20t%3De%28this%29%3Bt.scrollspy%28t.data%28%29%29%7D%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%29%7Bthis.element%3De%28t%29%7D%3Bt.prototype%3D%7Bconstructor%3At%2Cshow%3Afunction%28%29%7Bvar%20t%3Dthis.element%2Cn%3Dt.closest%28%22ul%3Anot%28.dropdown-menu%29%22%29%2Cr%3Dt.attr%28%22data-target%22%29%2Ci%2Cs%2Co%3Br%7C%7C%28r%3Dt.attr%28%22href%22%29%2Cr%3Dr%26%26r.replace%28/.*%28%3F%3D%23%5B%5E%5Cs%5D*%24%29/%2C%22%22%29%29%3Bif%28t.parent%28%22li%22%29.hasClass%28%22active%22%29%29return%3Bi%3Dn.find%28%22.active%3Alast%20a%22%29%5B0%5D%2Co%3De.Event%28%22show%22%2C%7BrelatedTarget%3Ai%7D%29%2Ct.trigger%28o%29%3Bif%28o.isDefaultPrevented%28%29%29return%3Bs%3De%28r%29%2Cthis.activate%28t.parent%28%22li%22%29%2Cn%29%2Cthis.activate%28s%2Cs.parent%28%29%2Cfunction%28%29%7Bt.trigger%28%7Btype%3A%22shown%22%2CrelatedTarget%3Ai%7D%29%7D%29%7D%2Cactivate%3Afunction%28t%2Cn%2Cr%29%7Bfunction%20o%28%29%7Bi.removeClass%28%22active%22%29.find%28%22%3E%20.dropdown-menu%20%3E%20.active%22%29.removeClass%28%22active%22%29%2Ct.addClass%28%22active%22%29%2Cs%3F%28t%5B0%5D.offsetWidth%2Ct.addClass%28%22in%22%29%29%3At.removeClass%28%22fade%22%29%2Ct.parent%28%22.dropdown-menu%22%29%26%26t.closest%28%22li.dropdown%22%29.addClass%28%22active%22%29%2Cr%26%26r%28%29%7Dvar%20i%3Dn.find%28%22%3E%20.active%22%29%2Cs%3Dr%26%26e.support.transition%26%26i.hasClass%28%22fade%22%29%3Bs%3Fi.one%28e.support.transition.end%2Co%29%3Ao%28%29%2Ci.removeClass%28%22in%22%29%7D%7D%3Bvar%20n%3De.fn.tab%3Be.fn.tab%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22tab%22%29%3Bi%7C%7Cr.data%28%22tab%22%2Ci%3Dnew%20t%28this%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.tab.Constructor%3Dt%2Ce.fn.tab.noConflict%3Dfunction%28%29%7Breturn%20e.fn.tab%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22click.tab.data-api%22%2C%27%5Bdata-toggle%3D%22tab%22%5D%2C%20%5Bdata-toggle%3D%22pill%22%5D%27%2Cfunction%28t%29%7Bt.preventDefault%28%29%2Ce%28this%29.tab%28%22show%22%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.%24element%3De%28t%29%2Cthis.options%3De.extend%28%7B%7D%2Ce.fn.typeahead.defaults%2Cn%29%2Cthis.matcher%3Dthis.options.matcher%7C%7Cthis.matcher%2Cthis.sorter%3Dthis.options.sorter%7C%7Cthis.sorter%2Cthis.highlighter%3Dthis.options.highlighter%7C%7Cthis.highlighter%2Cthis.updater%3Dthis.options.updater%7C%7Cthis.updater%2Cthis.source%3Dthis.options.source%2Cthis.%24menu%3De%28this.options.menu%29%2Cthis.shown%3D%211%2Cthis.listen%28%29%7D%3Bt.prototype%3D%7Bconstructor%3At%2Cselect%3Afunction%28%29%7Bvar%20e%3Dthis.%24menu.find%28%22.active%22%29.attr%28%22data-value%22%29%3Breturn%20this.%24element.val%28this.updater%28e%29%29.change%28%29%2Cthis.hide%28%29%7D%2Cupdater%3Afunction%28e%29%7Breturn%20e%7D%2Cshow%3Afunction%28%29%7Bvar%20t%3De.extend%28%7B%7D%2Cthis.%24element.position%28%29%2C%7Bheight%3Athis.%24element%5B0%5D.offsetHeight%7D%29%3Breturn%20this.%24menu.insertAfter%28this.%24element%29.css%28%7Btop%3At.top+t.height%2Cleft%3At.left%7D%29.show%28%29%2Cthis.shown%3D%210%2Cthis%7D%2Chide%3Afunction%28%29%7Breturn%20this.%24menu.hide%28%29%2Cthis.shown%3D%211%2Cthis%7D%2Clookup%3Afunction%28t%29%7Bvar%20n%3Breturn%20this.query%3Dthis.%24element.val%28%29%2C%21this.query%7C%7Cthis.query.length%3Cthis.options.minLength%3Fthis.shown%3Fthis.hide%28%29%3Athis%3A%28n%3De.isFunction%28this.source%29%3Fthis.source%28this.query%2Ce.proxy%28this.process%2Cthis%29%29%3Athis.source%2Cn%3Fthis.process%28n%29%3Athis%29%7D%2Cprocess%3Afunction%28t%29%7Bvar%20n%3Dthis%3Breturn%20t%3De.grep%28t%2Cfunction%28e%29%7Breturn%20n.matcher%28e%29%7D%29%2Ct%3Dthis.sorter%28t%29%2Ct.length%3Fthis.render%28t.slice%280%2Cthis.options.items%29%29.show%28%29%3Athis.shown%3Fthis.hide%28%29%3Athis%7D%2Cmatcher%3Afunction%28e%29%7Breturn%7Ee.toLowerCase%28%29.indexOf%28this.query.toLowerCase%28%29%29%7D%2Csorter%3Afunction%28e%29%7Bvar%20t%3D%5B%5D%2Cn%3D%5B%5D%2Cr%3D%5B%5D%2Ci%3Bwhile%28i%3De.shift%28%29%29i.toLowerCase%28%29.indexOf%28this.query.toLowerCase%28%29%29%3F%7Ei.indexOf%28this.query%29%3Fn.push%28i%29%3Ar.push%28i%29%3At.push%28i%29%3Breturn%20t.concat%28n%2Cr%29%7D%2Chighlighter%3Afunction%28e%29%7Bvar%20t%3Dthis.query.replace%28/%5B%5C-%5C%5B%5C%5D%7B%7D%28%29*+%3F.%2C%5C%5C%5C%5E%24%7C%23%5Cs%5D/g%2C%22%5C%5C%24%26%22%29%3Breturn%20e.replace%28new%20RegExp%28%22%28%22+t+%22%29%22%2C%22ig%22%29%2Cfunction%28e%2Ct%29%7Breturn%22%3Cstrong%3E%22+t+%22%3C/strong%3E%22%7D%29%7D%2Crender%3Afunction%28t%29%7Bvar%20n%3Dthis%3Breturn%20t%3De%28t%29.map%28function%28t%2Cr%29%7Breturn%20t%3De%28n.options.item%29.attr%28%22data-value%22%2Cr%29%2Ct.find%28%22a%22%29.html%28n.highlighter%28r%29%29%2Ct%5B0%5D%7D%29%2Ct.first%28%29.addClass%28%22active%22%29%2Cthis.%24menu.html%28t%29%2Cthis%7D%2Cnext%3Afunction%28t%29%7Bvar%20n%3Dthis.%24menu.find%28%22.active%22%29.removeClass%28%22active%22%29%2Cr%3Dn.next%28%29%3Br.length%7C%7C%28r%3De%28this.%24menu.find%28%22li%22%29%5B0%5D%29%29%2Cr.addClass%28%22active%22%29%7D%2Cprev%3Afunction%28e%29%7Bvar%20t%3Dthis.%24menu.find%28%22.active%22%29.removeClass%28%22active%22%29%2Cn%3Dt.prev%28%29%3Bn.length%7C%7C%28n%3Dthis.%24menu.find%28%22li%22%29.last%28%29%29%2Cn.addClass%28%22active%22%29%7D%2Clisten%3Afunction%28%29%7Bthis.%24element.on%28%22focus%22%2Ce.proxy%28this.focus%2Cthis%29%29.on%28%22blur%22%2Ce.proxy%28this.blur%2Cthis%29%29.on%28%22keypress%22%2Ce.proxy%28this.keypress%2Cthis%29%29.on%28%22keyup%22%2Ce.proxy%28this.keyup%2Cthis%29%29%2Cthis.eventSupported%28%22keydown%22%29%26%26this.%24element.on%28%22keydown%22%2Ce.proxy%28this.keydown%2Cthis%29%29%2Cthis.%24menu.on%28%22click%22%2Ce.proxy%28this.click%2Cthis%29%29.on%28%22mouseenter%22%2C%22li%22%2Ce.proxy%28this.mouseenter%2Cthis%29%29.on%28%22mouseleave%22%2C%22li%22%2Ce.proxy%28this.mouseleave%2Cthis%29%29%7D%2CeventSupported%3Afunction%28e%29%7Bvar%20t%3De%20in%20this.%24element%3Breturn%20t%7C%7C%28this.%24element.setAttribute%28e%2C%22return%3B%22%29%2Ct%3Dtypeof%20this.%24element%5Be%5D%3D%3D%22function%22%29%2Ct%7D%2Cmove%3Afunction%28e%29%7Bif%28%21this.shown%29return%3Bswitch%28e.keyCode%29%7Bcase%209%3Acase%2013%3Acase%2027%3Ae.preventDefault%28%29%3Bbreak%3Bcase%2038%3Ae.preventDefault%28%29%2Cthis.prev%28%29%3Bbreak%3Bcase%2040%3Ae.preventDefault%28%29%2Cthis.next%28%29%7De.stopPropagation%28%29%7D%2Ckeydown%3Afunction%28t%29%7Bthis.suppressKeyPressRepeat%3D%7Ee.inArray%28t.keyCode%2C%5B40%2C38%2C9%2C13%2C27%5D%29%2Cthis.move%28t%29%7D%2Ckeypress%3Afunction%28e%29%7Bif%28this.suppressKeyPressRepeat%29return%3Bthis.move%28e%29%7D%2Ckeyup%3Afunction%28e%29%7Bswitch%28e.keyCode%29%7Bcase%2040%3Acase%2038%3Acase%2016%3Acase%2017%3Acase%2018%3Abreak%3Bcase%209%3Acase%2013%3Aif%28%21this.shown%29return%3Bthis.select%28%29%3Bbreak%3Bcase%2027%3Aif%28%21this.shown%29return%3Bthis.hide%28%29%3Bbreak%3Bdefault%3Athis.lookup%28%29%7De.stopPropagation%28%29%2Ce.preventDefault%28%29%7D%2Cfocus%3Afunction%28e%29%7Bthis.focused%3D%210%7D%2Cblur%3Afunction%28e%29%7Bthis.focused%3D%211%2C%21this.mousedover%26%26this.shown%26%26this.hide%28%29%7D%2Cclick%3Afunction%28e%29%7Be.stopPropagation%28%29%2Ce.preventDefault%28%29%2Cthis.select%28%29%2Cthis.%24element.focus%28%29%7D%2Cmouseenter%3Afunction%28t%29%7Bthis.mousedover%3D%210%2Cthis.%24menu.find%28%22.active%22%29.removeClass%28%22active%22%29%2Ce%28t.currentTarget%29.addClass%28%22active%22%29%7D%2Cmouseleave%3Afunction%28e%29%7Bthis.mousedover%3D%211%2C%21this.focused%26%26this.shown%26%26this.hide%28%29%7D%7D%3Bvar%20n%3De.fn.typeahead%3Be.fn.typeahead%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22typeahead%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22typeahead%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.typeahead.defaults%3D%7Bsource%3A%5B%5D%2Citems%3A8%2Cmenu%3A%27%3Cul%20class%3D%22typeahead%20dropdown-menu%22%3E%3C/ul%3E%27%2Citem%3A%27%3Cli%3E%3Ca%20href%3D%22%23%22%3E%3C/a%3E%3C/li%3E%27%2CminLength%3A1%7D%2Ce.fn.typeahead.Constructor%3Dt%2Ce.fn.typeahead.noConflict%3Dfunction%28%29%7Breturn%20e.fn.typeahead%3Dn%2Cthis%7D%2Ce%28document%29.on%28%22focus.typeahead.data-api%22%2C%27%5Bdata-provide%3D%22typeahead%22%5D%27%2Cfunction%28t%29%7Bvar%20n%3De%28this%29%3Bif%28n.data%28%22typeahead%22%29%29return%3Bn.typeahead%28n.data%28%29%29%7D%29%7D%28window.jQuery%29%2C%21function%28e%29%7B%22use%20strict%22%3Bvar%20t%3Dfunction%28t%2Cn%29%7Bthis.options%3De.extend%28%7B%7D%2Ce.fn.affix.defaults%2Cn%29%2Cthis.%24window%3De%28window%29.on%28%22scroll.affix.data-api%22%2Ce.proxy%28this.checkPosition%2Cthis%29%29.on%28%22click.affix.data-api%22%2Ce.proxy%28function%28%29%7BsetTimeout%28e.proxy%28this.checkPosition%2Cthis%29%2C1%29%7D%2Cthis%29%29%2Cthis.%24element%3De%28t%29%2Cthis.checkPosition%28%29%7D%3Bt.prototype.checkPosition%3Dfunction%28%29%7Bif%28%21this.%24element.is%28%22%3Avisible%22%29%29return%3Bvar%20t%3De%28document%29.height%28%29%2Cn%3Dthis.%24window.scrollTop%28%29%2Cr%3Dthis.%24element.offset%28%29%2Ci%3Dthis.options.offset%2Cs%3Di.bottom%2Co%3Di.top%2Cu%3D%22affix%20affix-top%20affix-bottom%22%2Ca%3Btypeof%20i%21%3D%22object%22%26%26%28s%3Do%3Di%29%2Ctypeof%20o%3D%3D%22function%22%26%26%28o%3Di.top%28%29%29%2Ctypeof%20s%3D%3D%22function%22%26%26%28s%3Di.bottom%28%29%29%2Ca%3Dthis.unpin%21%3Dnull%26%26n+this.unpin%3C%3Dr.top%3F%211%3As%21%3Dnull%26%26r.top+this.%24element.height%28%29%3E%3Dt-s%3F%22bottom%22%3Ao%21%3Dnull%26%26n%3C%3Do%3F%22top%22%3A%211%3Bif%28this.affixed%3D%3D%3Da%29return%3Bthis.affixed%3Da%2Cthis.unpin%3Da%3D%3D%22bottom%22%3Fr.top-n%3Anull%2Cthis.%24element.removeClass%28u%29.addClass%28%22affix%22+%28a%3F%22-%22+a%3A%22%22%29%29%7D%3Bvar%20n%3De.fn.affix%3Be.fn.affix%3Dfunction%28n%29%7Breturn%20this.each%28function%28%29%7Bvar%20r%3De%28this%29%2Ci%3Dr.data%28%22affix%22%29%2Cs%3Dtypeof%20n%3D%3D%22object%22%26%26n%3Bi%7C%7Cr.data%28%22affix%22%2Ci%3Dnew%20t%28this%2Cs%29%29%2Ctypeof%20n%3D%3D%22string%22%26%26i%5Bn%5D%28%29%7D%29%7D%2Ce.fn.affix.Constructor%3Dt%2Ce.fn.affix.defaults%3D%7Boffset%3A0%7D%2Ce.fn.affix.noConflict%3Dfunction%28%29%7Breturn%20e.fn.affix%3Dn%2Cthis%7D%2Ce%28window%29.on%28%22load%22%2Cfunction%28%29%7Be%28%27%5Bdata-spy%3D%22affix%22%5D%27%29.each%28function%28%29%7Bvar%20t%3De%28this%29%2Cn%3Dt.data%28%29%3Bn.offset%3Dn.offset%7C%7C%7B%7D%2Cn.offsetBottom%26%26%28n.offset.bottom%3Dn.offsetBottom%29%2Cn.offsetTop%26%26%28n.offset.top%3Dn.offsetTop%29%2Ct.affix%28n%29%7D%29%7D%29%7D%28window.jQuery%29%3B%0AeventsApp.factory%28%27eventData%27%2C%20function%20%28%24resource%29%20%7B%0D%0A%20%20%20%20var%20singleEvent%20%3D%20%24resource%28%27/data/event/%3Aid%27%2C%20%7B%20id%3A%20%27@id%27%20%7D%29%3B%0D%0A%20%20%20%20var%20manyEvents%20%3D%20%24resource%28%27/data/getAllEvents%27%29%3B%0D%0A%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20getEvent%3A%20function%20%28eventId%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20singleEvent.get%28%7B%20id%3A%20eventId%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20save%3A%20function%20%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20singleEvent.save%28event%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20getAllEvents%3A%20function%20%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20manyEvents.query%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.factory%28%22gravatarUrlBuilder%22%2C%0D%0A%09function%20%28%29%20%7B%0D%0A%09%09return%20%7B%0D%0A%09%09%09buildGravatarUrl%3A%20function%20%28email%29%20%7B%0D%0A%0D%0A%09%09%09%09var%20defaultGravatarUrl%20%3D%20%22http%3A//www.gravatar.com/avatar/000%3Fs%3D200%22%3B%0D%0A%0D%0A%09%09%09%09var%20regex%20%3D%20/%5E%28%28%5B%5E%3C%3E%28%29%5B%5C%5D%5C%5C.%2C%3B%3A%5Cs@%5C%22%5D+%28%5C.%5B%5E%3C%3E%28%29%5B%5C%5D%5C%5C.%2C%3B%3A%5Cs@%5C%22%5D+%29*%29%7C%28%5C%22.+%5C%22%29%29@%28%28%5C%5B%5B0-9%5D%7B1%2C3%7D%5C.%5B0-9%5D%7B1%2C3%7D%5C.%5B0-9%5D%7B1%2C3%7D%5C.%5B0-9%5D%7B1%2C3%7D%5C%5D%29%7C%28%28%5Ba-zA-Z%5C-0-9%5D+%5C.%29+%5Ba-zA-Z%5D%7B2%2C%7D%29%29%24/%3B%0D%0A%09%09%09%09if%20%28%21regex.test%28email%29%29%0D%0A%09%09%09%09%09return%20defaultGravatarUrl%3B%0D%0A%0D%0A%09%09%09%09var%20MD5%20%3D%20function%20%28s%29%20%7B%20function%20L%28k%2C%20d%29%20%7B%20return%20%28k%20%3C%3C%20d%29%20%7C%20%28k%20%3E%3E%3E%20%2832%20-%20d%29%29%20%7D%20function%20K%28G%2C%20k%29%20%7B%20var%20I%2C%20d%2C%20F%2C%20H%2C%20x%3B%20F%20%3D%20%28G%20%26%202147483648%29%3B%20H%20%3D%20%28k%20%26%202147483648%29%3B%20I%20%3D%20%28G%20%26%201073741824%29%3B%20d%20%3D%20%28k%20%26%201073741824%29%3B%20x%20%3D%20%28G%20%26%201073741823%29%20+%20%28k%20%26%201073741823%29%3B%20if%20%28I%20%26%20d%29%20%7B%20return%20%28x%20%5E%202147483648%20%5E%20F%20%5E%20H%29%20%7D%20if%20%28I%20%7C%20d%29%20%7B%20if%20%28x%20%26%201073741824%29%20%7B%20return%20%28x%20%5E%203221225472%20%5E%20F%20%5E%20H%29%20%7D%20else%20%7B%20return%20%28x%20%5E%201073741824%20%5E%20F%20%5E%20H%29%20%7D%20%7D%20else%20%7B%20return%20%28x%20%5E%20F%20%5E%20H%29%20%7D%20%7D%20function%20r%28d%2C%20F%2C%20k%29%20%7B%20return%20%28d%20%26%20F%29%20%7C%20%28%28%7Ed%29%20%26%20k%29%20%7D%20function%20q%28d%2C%20F%2C%20k%29%20%7B%20return%20%28d%20%26%20k%29%20%7C%20%28F%20%26%20%28%7Ek%29%29%20%7D%20function%20p%28d%2C%20F%2C%20k%29%20%7B%20return%20%28d%20%5E%20F%20%5E%20k%29%20%7D%20function%20n%28d%2C%20F%2C%20k%29%20%7B%20return%20%28F%20%5E%20%28d%20%7C%20%28%7Ek%29%29%29%20%7D%20function%20u%28G%2C%20F%2C%20aa%2C%20Z%2C%20k%2C%20H%2C%20I%29%20%7B%20G%20%3D%20K%28G%2C%20K%28K%28r%28F%2C%20aa%2C%20Z%29%2C%20k%29%2C%20I%29%29%3B%20return%20K%28L%28G%2C%20H%29%2C%20F%29%20%7D%20function%20f%28G%2C%20F%2C%20aa%2C%20Z%2C%20k%2C%20H%2C%20I%29%20%7B%20G%20%3D%20K%28G%2C%20K%28K%28q%28F%2C%20aa%2C%20Z%29%2C%20k%29%2C%20I%29%29%3B%20return%20K%28L%28G%2C%20H%29%2C%20F%29%20%7D%20function%20D%28G%2C%20F%2C%20aa%2C%20Z%2C%20k%2C%20H%2C%20I%29%20%7B%20G%20%3D%20K%28G%2C%20K%28K%28p%28F%2C%20aa%2C%20Z%29%2C%20k%29%2C%20I%29%29%3B%20return%20K%28L%28G%2C%20H%29%2C%20F%29%20%7D%20function%20t%28G%2C%20F%2C%20aa%2C%20Z%2C%20k%2C%20H%2C%20I%29%20%7B%20G%20%3D%20K%28G%2C%20K%28K%28n%28F%2C%20aa%2C%20Z%29%2C%20k%29%2C%20I%29%29%3B%20return%20K%28L%28G%2C%20H%29%2C%20F%29%20%7D%20function%20e%28G%29%20%7B%20var%20Z%3B%20var%20F%20%3D%20G.length%3B%20var%20x%20%3D%20F%20+%208%3B%20var%20k%20%3D%20%28x%20-%20%28x%20%25%2064%29%29%20/%2064%3B%20var%20I%20%3D%20%28k%20+%201%29%20*%2016%3B%20var%20aa%20%3D%20Array%28I%20-%201%29%3B%20var%20d%20%3D%200%3B%20var%20H%20%3D%200%3B%20while%20%28H%20%3C%20F%29%20%7B%20Z%20%3D%20%28H%20-%20%28H%20%25%204%29%29%20/%204%3B%20d%20%3D%20%28H%20%25%204%29%20*%208%3B%20aa%5BZ%5D%20%3D%20%28aa%5BZ%5D%20%7C%20%28G.charCodeAt%28H%29%20%3C%3C%20d%29%29%3B%20H++%20%7D%20Z%20%3D%20%28H%20-%20%28H%20%25%204%29%29%20/%204%3B%20d%20%3D%20%28H%20%25%204%29%20*%208%3B%20aa%5BZ%5D%20%3D%20aa%5BZ%5D%20%7C%20%28128%20%3C%3C%20d%29%3B%20aa%5BI%20-%202%5D%20%3D%20F%20%3C%3C%203%3B%20aa%5BI%20-%201%5D%20%3D%20F%20%3E%3E%3E%2029%3B%20return%20aa%20%7D%20function%20B%28x%29%20%7B%20var%20k%20%3D%20%22%22%2C%20F%20%3D%20%22%22%2C%20G%2C%20d%3B%20for%20%28d%20%3D%200%3B%20d%20%3C%3D%203%3B%20d++%29%20%7B%20G%20%3D%20%28x%20%3E%3E%3E%20%28d%20*%208%29%29%20%26%20255%3B%20F%20%3D%20%220%22%20+%20G.toString%2816%29%3B%20k%20%3D%20k%20+%20F.substr%28F.length%20-%202%2C%202%29%20%7D%20return%20k%20%7D%20function%20J%28k%29%20%7B%20k%20%3D%20k.replace%28/rn/g%2C%20%22n%22%29%3B%20var%20d%20%3D%20%22%22%3B%20for%20%28var%20F%20%3D%200%3B%20F%20%3C%20k.length%3B%20F++%29%20%7B%20var%20x%20%3D%20k.charCodeAt%28F%29%3B%20if%20%28x%20%3C%20128%29%20%7B%20d%20+%3D%20String.fromCharCode%28x%29%20%7D%20else%20%7B%20if%20%28%28x%20%3E%20127%29%20%26%26%20%28x%20%3C%202048%29%29%20%7B%20d%20+%3D%20String.fromCharCode%28%28x%20%3E%3E%206%29%20%7C%20192%29%3B%20d%20+%3D%20String.fromCharCode%28%28x%20%26%2063%29%20%7C%20128%29%20%7D%20else%20%7B%20d%20+%3D%20String.fromCharCode%28%28x%20%3E%3E%2012%29%20%7C%20224%29%3B%20d%20+%3D%20String.fromCharCode%28%28%28x%20%3E%3E%206%29%20%26%2063%29%20%7C%20128%29%3B%20d%20+%3D%20String.fromCharCode%28%28x%20%26%2063%29%20%7C%20128%29%20%7D%20%7D%20%7D%20return%20d%20%7D%20var%20C%20%3D%20Array%28%29%3B%20var%20P%2C%20h%2C%20E%2C%20v%2C%20g%2C%20Y%2C%20X%2C%20W%2C%20V%3B%20var%20S%20%3D%207%2C%20Q%20%3D%2012%2C%20N%20%3D%2017%2C%20M%20%3D%2022%3B%20var%20A%20%3D%205%2C%20z%20%3D%209%2C%20y%20%3D%2014%2C%20w%20%3D%2020%3B%20var%20o%20%3D%204%2C%20m%20%3D%2011%2C%20l%20%3D%2016%2C%20j%20%3D%2023%3B%20var%20U%20%3D%206%2C%20T%20%3D%2010%2C%20R%20%3D%2015%2C%20O%20%3D%2021%3B%20s%20%3D%20J%28s%29%3B%20C%20%3D%20e%28s%29%3B%20Y%20%3D%201732584193%3B%20X%20%3D%204023233417%3B%20W%20%3D%202562383102%3B%20V%20%3D%20271733878%3B%20for%20%28P%20%3D%200%3B%20P%20%3C%20C.length%3B%20P%20+%3D%2016%29%20%7B%20h%20%3D%20Y%3B%20E%20%3D%20X%3B%20v%20%3D%20W%3B%20g%20%3D%20V%3B%20Y%20%3D%20u%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%200%5D%2C%20S%2C%203614090360%29%3B%20V%20%3D%20u%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%201%5D%2C%20Q%2C%203905402710%29%3B%20W%20%3D%20u%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%202%5D%2C%20N%2C%20606105819%29%3B%20X%20%3D%20u%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%203%5D%2C%20M%2C%203250441966%29%3B%20Y%20%3D%20u%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%204%5D%2C%20S%2C%204118548399%29%3B%20V%20%3D%20u%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%205%5D%2C%20Q%2C%201200080426%29%3B%20W%20%3D%20u%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%206%5D%2C%20N%2C%202821735955%29%3B%20X%20%3D%20u%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%207%5D%2C%20M%2C%204249261313%29%3B%20Y%20%3D%20u%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%208%5D%2C%20S%2C%201770035416%29%3B%20V%20%3D%20u%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%209%5D%2C%20Q%2C%202336552879%29%3B%20W%20%3D%20u%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2010%5D%2C%20N%2C%204294925233%29%3B%20X%20%3D%20u%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2011%5D%2C%20M%2C%202304563134%29%3B%20Y%20%3D%20u%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%2012%5D%2C%20S%2C%201804603682%29%3B%20V%20%3D%20u%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2013%5D%2C%20Q%2C%204254626195%29%3B%20W%20%3D%20u%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2014%5D%2C%20N%2C%202792965006%29%3B%20X%20%3D%20u%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2015%5D%2C%20M%2C%201236535329%29%3B%20Y%20%3D%20f%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%201%5D%2C%20A%2C%204129170786%29%3B%20V%20%3D%20f%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%206%5D%2C%20z%2C%203225465664%29%3B%20W%20%3D%20f%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2011%5D%2C%20y%2C%20643717713%29%3B%20X%20%3D%20f%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%200%5D%2C%20w%2C%203921069994%29%3B%20Y%20%3D%20f%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%205%5D%2C%20A%2C%203593408605%29%3B%20V%20%3D%20f%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2010%5D%2C%20z%2C%2038016083%29%3B%20W%20%3D%20f%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2015%5D%2C%20y%2C%203634488961%29%3B%20X%20%3D%20f%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%204%5D%2C%20w%2C%203889429448%29%3B%20Y%20%3D%20f%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%209%5D%2C%20A%2C%20568446438%29%3B%20V%20%3D%20f%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2014%5D%2C%20z%2C%203275163606%29%3B%20W%20%3D%20f%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%203%5D%2C%20y%2C%204107603335%29%3B%20X%20%3D%20f%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%208%5D%2C%20w%2C%201163531501%29%3B%20Y%20%3D%20f%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%2013%5D%2C%20A%2C%202850285829%29%3B%20V%20%3D%20f%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%202%5D%2C%20z%2C%204243563512%29%3B%20W%20%3D%20f%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%207%5D%2C%20y%2C%201735328473%29%3B%20X%20%3D%20f%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2012%5D%2C%20w%2C%202368359562%29%3B%20Y%20%3D%20D%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%205%5D%2C%20o%2C%204294588738%29%3B%20V%20%3D%20D%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%208%5D%2C%20m%2C%202272392833%29%3B%20W%20%3D%20D%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2011%5D%2C%20l%2C%201839030562%29%3B%20X%20%3D%20D%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2014%5D%2C%20j%2C%204259657740%29%3B%20Y%20%3D%20D%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%201%5D%2C%20o%2C%202763975236%29%3B%20V%20%3D%20D%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%204%5D%2C%20m%2C%201272893353%29%3B%20W%20%3D%20D%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%207%5D%2C%20l%2C%204139469664%29%3B%20X%20%3D%20D%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2010%5D%2C%20j%2C%203200236656%29%3B%20Y%20%3D%20D%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%2013%5D%2C%20o%2C%20681279174%29%3B%20V%20%3D%20D%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%200%5D%2C%20m%2C%203936430074%29%3B%20W%20%3D%20D%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%203%5D%2C%20l%2C%203572445317%29%3B%20X%20%3D%20D%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%206%5D%2C%20j%2C%2076029189%29%3B%20Y%20%3D%20D%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%209%5D%2C%20o%2C%203654602809%29%3B%20V%20%3D%20D%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2012%5D%2C%20m%2C%203873151461%29%3B%20W%20%3D%20D%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2015%5D%2C%20l%2C%20530742520%29%3B%20X%20%3D%20D%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%202%5D%2C%20j%2C%203299628645%29%3B%20Y%20%3D%20t%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%200%5D%2C%20U%2C%204096336452%29%3B%20V%20%3D%20t%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%207%5D%2C%20T%2C%201126891415%29%3B%20W%20%3D%20t%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2014%5D%2C%20R%2C%202878612391%29%3B%20X%20%3D%20t%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%205%5D%2C%20O%2C%204237533241%29%3B%20Y%20%3D%20t%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%2012%5D%2C%20U%2C%201700485571%29%3B%20V%20%3D%20t%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%203%5D%2C%20T%2C%202399980690%29%3B%20W%20%3D%20t%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%2010%5D%2C%20R%2C%204293915773%29%3B%20X%20%3D%20t%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%201%5D%2C%20O%2C%202240044497%29%3B%20Y%20%3D%20t%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%208%5D%2C%20U%2C%201873313359%29%3B%20V%20%3D%20t%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2015%5D%2C%20T%2C%204264355552%29%3B%20W%20%3D%20t%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%206%5D%2C%20R%2C%202734768916%29%3B%20X%20%3D%20t%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%2013%5D%2C%20O%2C%201309151649%29%3B%20Y%20%3D%20t%28Y%2C%20X%2C%20W%2C%20V%2C%20C%5BP%20+%204%5D%2C%20U%2C%204149444226%29%3B%20V%20%3D%20t%28V%2C%20Y%2C%20X%2C%20W%2C%20C%5BP%20+%2011%5D%2C%20T%2C%203174756917%29%3B%20W%20%3D%20t%28W%2C%20V%2C%20Y%2C%20X%2C%20C%5BP%20+%202%5D%2C%20R%2C%20718787259%29%3B%20X%20%3D%20t%28X%2C%20W%2C%20V%2C%20Y%2C%20C%5BP%20+%209%5D%2C%20O%2C%203951481745%29%3B%20Y%20%3D%20K%28Y%2C%20h%29%3B%20X%20%3D%20K%28X%2C%20E%29%3B%20W%20%3D%20K%28W%2C%20v%29%3B%20V%20%3D%20K%28V%2C%20g%29%20%7D%20var%20i%20%3D%20B%28Y%29%20+%20B%28X%29%20+%20B%28W%29%20+%20B%28V%29%3B%20return%20i.toLowerCase%28%29%20%7D%3B%0D%0A%0D%0A%09%09%09%09return%20%27http%3A//www.gravatar.com/avatar/%27%20+%20MD5%28email%29%20+%20%22.jpg%3Fs%3D200%26r%3Dg%22%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.directive%28%27eventThumb%27%2C%20function%20%28%29%20%7B%0D%0A%09return%20%7B%0D%0A%09%09restrict%3A%20%27E%27%2C%0D%0A%09%09replace%3A%20true%2C%0D%0A%09%09templateUrl%3A%20%27/templates/directives/eventThumb.html%27%2C%0D%0A%09%09scope%3A%20%7B%0D%0A%09%09%09event%3A%20%27%3Devent%27%0D%0A%09%09%7D%0D%0A%09%7D%3B%0D%0A%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.directive%28%27mySample%27%2C%20function%20%28%29%20%7B%0D%0A%09return%20%7B%0D%0A%09%09restrict%3A%20%27E%27%2C%0D%0A%09%09template%3A%20%22%3Cinput%20type%3D%27text%27%20data-ng-model%3D%27sampleData%27%20/%3E%3Cbr/%3E%7B%7BsampleData%7D%7D%3Cbr%20/%3E%22%2C%0D%0A%09%09scope%3A%20%7B%7D%0D%0A%09%7D%3B%0D%0A%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.directive%28%27upVote%27%2C%20function%20%28%29%20%7B%0D%0A%09return%20%7B%0D%0A%09%09restrict%3A%20%27E%27%2C%0D%0A%09%09templateUrl%3A%20%27/templates/directives/upVote.html%27%2C%0D%0A%09%09scope%3A%20%7B%0D%0A%09%09%09upvote%3A%20%27%26%27%2C%0D%0A%09%09%09downvote%3A%20%27%26%27%2C%0D%0A%09%09%09count%3A%20%27%3D%27%2C%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%29%3B%0A/*%20global%20eventsApp%20*/%0D%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27EditEventController%27%2C%0D%0A%09function%20EditEventController%28%24scope%2C%20eventData%29%20%7B%0D%0A%09%09%24scope.saveEvent%20%3D%20function%20saveEvent%28event%2C%20newEventForm%29%20%7B%0D%0A%09%09%09if%20%28newEventForm.%24valid%29%20%7B%0D%0A%09%09%09%09eventData.save%28event%29%0D%0A%09%09%09%09%09.%24promise%0D%0A%09%09%09%09%09.then%28function%20%28response%29%20%7B%20console.log%28response%29%3B%20%7D%29%0D%0A%09%09%09%09%09.catch%28function%20%28response%29%20%7B%20console.log%28response%29%3B%20%7D%29%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%3B%0D%0A%09%09%24scope.cancelEvent%20%3D%20function%20cancelEvent%28%29%20%7B%0D%0A%09%09%09window.location%20%3D%20%27/EventDetails.html%27%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%29%3B%0D%0A%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27EditProfileController%27%2C%0D%0A%20%20%20%20function%20EditProfileController%28%24scope%2C%20gravatarUrlBuilder%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%24scope.user%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%24scope.getGravatarUrl%20%3D%20function%20%28email%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20gravatarUrlBuilder.buildGravatarUrl%28email%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%29%3B%0A/*%20global%20eventsApp%20*/%0D%0A///%20%3Creference%20path%3D%22../services/EventData.js%22%20/%3E%0D%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27EventController%27%2C%0D%0A%09function%20EventController%28%24scope%2C%20eventData%2C%20%24log%2C%20%24routeParams%29%20%7B%0D%0A%0D%0A%09%09%24scope.orderProp%20%3D%20%27-upVoteCount%27%3B%0D%0A%0D%0A%09%09eventData.getEvent%28%24routeParams.eventId%29%0D%0A%09%09%09.%24promise%0D%0A%09%09%09.then%28function%20%28event%29%20%7B%20%24scope.event%20%3D%20event%3B%20%7D%29%0D%0A%09%09%09.catch%28function%20%28data%29%20%7B%20%24log.warn%28data%29%3B%20%7D%29%3B%0D%0A%0D%0A%09%09%24scope.upVoteSession%20%3D%20function%20%28session%29%20%7B%0D%0A%09%09%09console.log%28%27hue%27%29%3B%0D%0A%09%09%09session.upVoteCount++%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%24scope.downVoteSession%20%3D%20function%20%28session%29%20%7B%0D%0A%09%09%09console.log%28%27hue%27%29%3B%0D%0A%09%09%09session.upVoteCount--%3B%0D%0A%09%09%7D%3B%0D%0A%09%09%24scope.changeValue%20%3D%20function%20%28%29%20%7B%0D%0A%09%09%09%24scope.show%20%3D%20%21%24scope.show%3B%0D%0A%09%09%7D%3B%0D%0A%09%7D%29%3B%0D%0A%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27EventListController%27%2C%0D%0A%09function%20EventListController%28%24scope%2C%20%24location%2C%20eventData%29%20%7B%0D%0A%09%09%24scope.events%20%3D%20eventData.getAllEvents%28%29%3B%0D%0A%09%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27MainMenuController%27%2C%0D%0A%09function%20MainMenuController%28%24scope%2C%20%24location%29%20%7B%0D%0A%09%09%24scope.createEvent%3Dfunction%28%29%7B%0D%0A%09%09%09%24location.url%28%27/newEvent%27%29%3B%0D%0A%09%09%7D%0D%0A%09%7D%29%3B%0A%27use%20strict%27%3B%0D%0A%0D%0AeventsApp.controller%28%27SampleDirectiveController%27%2C%0D%0A%09function%20SampleDirectiveController%28%24scope%29%20%7B%0D%0A%0D%0A%09%7D%29%3B